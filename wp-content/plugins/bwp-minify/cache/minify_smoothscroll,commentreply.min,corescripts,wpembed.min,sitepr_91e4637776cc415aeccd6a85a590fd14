!function(){function initTest(){options.keyboardSupport&&addEvent("keydown",keydown)}function init(){if(!initDone&&document.body){initDone=!0;var body=document.body,html=document.documentElement,windowHeight=window.innerHeight,scrollHeight=body.scrollHeight;if(root=document.compatMode.indexOf("CSS")>=0?html:body,activeElement=body,initTest(),top!=self)isFrame=!0;else if(scrollHeight>windowHeight&&(body.offsetHeight<=windowHeight||html.offsetHeight<=windowHeight)){var fullPageElem=document.createElement("div");fullPageElem.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+root.scrollHeight+"px",document.body.appendChild(fullPageElem);var pendingRefresh;refreshSize=function(){pendingRefresh||(pendingRefresh=setTimeout(function(){isExcluded||(fullPageElem.style.height="0",fullPageElem.style.height=root.scrollHeight+"px",pendingRefresh=null)},500))},setTimeout(refreshSize,10),addEvent("resize",refreshSize),window.addResizeListener(document.getElementById("mk-theme-container"),refreshSize);var config={attributes:!0,childList:!0,characterData:!1};if(observer=new MutationObserver(refreshSize),observer.observe(body,config),root.offsetHeight<=windowHeight){var clearfix=document.createElement("div");clearfix.style.clear="both",body.appendChild(clearfix)}}options.fixedBackground||isExcluded||(body.style.backgroundAttachment="scroll",html.style.backgroundAttachment="scroll")}}function cleanup(){observer&&observer.disconnect(),removeEvent(wheelEvent,wheel),removeEvent("mousedown",mousedown),removeEvent("keydown",keydown),removeEvent("resize",refreshSize),removeEvent("load",init)}function scrollArray(elem,left,top){if(directionCheck(left,top),1!=options.accelerationMax){var now=Date.now(),elapsed=now-lastScroll;if(elapsed<options.accelerationDelta){var factor=(1+50/elapsed)/2;factor>1&&(factor=Math.min(factor,options.accelerationMax),left*=factor,top*=factor)}lastScroll=Date.now()}if(que.push({x:left,y:top,lastX:left<0?.99:-.99,lastY:top<0?.99:-.99,start:Date.now()}),!pending){var scrollWindow=elem===document.body,step=function(time){for(var now=Date.now(),scrollX=0,scrollY=0,i=0;i<que.length;i++){var item=que[i],elapsed=now-item.start,finished=elapsed>=options.animationTime,position=finished?1:elapsed/options.animationTime;options.pulseAlgorithm&&(position=pulse(position));var x=item.x*position-item.lastX>>0,y=item.y*position-item.lastY>>0;scrollX+=x,scrollY+=y,item.lastX+=x,item.lastY+=y,finished&&(que.splice(i,1),i--)}scrollWindow?window.scrollBy(scrollX,scrollY):(scrollX&&(elem.scrollLeft+=scrollX),scrollY&&(elem.scrollTop+=scrollY)),left||top||(que=[]),que.length?requestFrame(step,elem,1e3/options.frameRate+1):pending=!1};requestFrame(step,elem,0),pending=!0}}function wheel(event){initDone||init();var target=event.target,overflowing=overflowingAncestor(target);if(!overflowing||event.defaultPrevented||event.ctrlKey)return!0;if(isNodeName(activeElement,"embed")||isNodeName(target,"embed")&&/\.pdf/i.test(target.src)||isNodeName(activeElement,"object"))return!0;var deltaX=-event.wheelDeltaX||event.deltaX||0,deltaY=-event.wheelDeltaY||event.deltaY||0;if(isMac&&(options.touchpadSupport=!1,event.wheelDeltaX&&isDivisible(event.wheelDeltaX,120)&&(deltaX=event.wheelDeltaX/Math.abs(event.wheelDeltaX)*-120),event.wheelDeltaY&&isDivisible(event.wheelDeltaY,120)&&(deltaY=event.wheelDeltaY/Math.abs(event.wheelDeltaY)*-120)),deltaX||deltaY||(deltaY=-event.wheelDelta||0),1===event.deltaMode&&(deltaX*=40,deltaY*=40),!options.touchpadSupport&&isTouchpad(deltaY))return!0;Math.abs(deltaX)>1.2&&(deltaX*=options.stepSize/120),Math.abs(deltaY)>1.2&&(deltaY*=options.stepSize/120),scrollArray(overflowing,deltaX,deltaY),event.preventDefault(),scheduleClearCache()}function keydown(event){var target=event.target,modifier=event.ctrlKey||event.altKey||event.metaKey||event.shiftKey&&event.keyCode!==key.spacebar;document.body.contains(activeElement)||(activeElement=document.activeElement);var inputNodeNames=/^(textarea|select|embed|object)$/i,buttonTypes=/^(button|submit|radio|checkbox|file|color|image)$/i;if(inputNodeNames.test(target.nodeName)||isNodeName(target,"input")&&!buttonTypes.test(target.type)||isNodeName(activeElement,"video")||isInsideYoutubeVideo(event)||target.isContentEditable||event.defaultPrevented||modifier)return!0;if((isNodeName(target,"button")||isNodeName(target,"input")&&buttonTypes.test(target.type))&&event.keyCode===key.spacebar)return!0;var shift,x=0,y=0,elem=overflowingAncestor(activeElement),clientHeight=elem.clientHeight;switch(elem==document.body&&(clientHeight=window.innerHeight),event.keyCode){case key.up:y=-options.arrowScroll;break;case key.down:y=options.arrowScroll;break;case key.spacebar:shift=event.shiftKey?1:-1,y=-shift*clientHeight*.9;break;case key.pageup:y=.9*-clientHeight;break;case key.pagedown:y=.9*clientHeight;break;case key.home:y=-elem.scrollTop;break;case key.end:var damt=elem.scrollHeight-elem.scrollTop-clientHeight;y=damt>0?damt+10:0;break;case key.left:x=-options.arrowScroll;break;case key.right:x=options.arrowScroll;break;default:return!0}scrollArray(elem,x,y),event.preventDefault(),scheduleClearCache()}function mousedown(event){activeElement=event.target}function scheduleClearCache(){clearTimeout(clearCacheTimer),clearCacheTimer=setInterval(function(){cache={}},1e3)}function setCache(elems,overflowing){for(var i=elems.length;i--;)cache[uniqueID(elems[i])]=overflowing;return overflowing}function overflowingAncestor(el){var elems=[],body=document.body,rootScrollHeight=root.scrollHeight;do{var cached=cache[uniqueID(el)];if(cached)return setCache(elems,cached);if(elems.push(el),rootScrollHeight===el.scrollHeight){var topOverflowsNotHidden=overflowNotHidden(root)&&overflowNotHidden(body),isOverflowCSS=topOverflowsNotHidden||overflowAutoOrScroll(root);if(isFrame&&isContentOverflowing(root)||!isFrame&&isOverflowCSS)return setCache(elems,getScrollRoot())}else if(isContentOverflowing(el)&&overflowAutoOrScroll(el))return setCache(elems,el)}while(el=el.parentElement)}function isContentOverflowing(el){return el.clientHeight+10<el.scrollHeight}function overflowNotHidden(el){return"hidden"!==getComputedStyle(el,"").getPropertyValue("overflow-y")}function overflowAutoOrScroll(el){var overflow=getComputedStyle(el,"").getPropertyValue("overflow-y");return"scroll"===overflow||"auto"===overflow}function addEvent(type,fn){window.addEventListener(type,fn,!1)}function removeEvent(type,fn){window.removeEventListener(type,fn,!1)}function isNodeName(el,tag){return(el.nodeName||"").toLowerCase()===tag.toLowerCase()}function directionCheck(x,y){x=x>0?1:-1,y=y>0?1:-1,direction.x===x&&direction.y===y||(direction.x=x,direction.y=y,que=[],lastScroll=0)}function isTouchpad(deltaY){if(deltaY)return deltaBuffer.length||(deltaBuffer=[deltaY,deltaY,deltaY]),deltaY=Math.abs(deltaY),deltaBuffer.push(deltaY),deltaBuffer.shift(),clearTimeout(deltaBufferTimer),deltaBufferTimer=setTimeout(function(){window.localStorage&&(localStorage.SS_deltaBuffer=deltaBuffer.join(","))},1e3),!allDeltasDivisableBy(120)&&!allDeltasDivisableBy(100)}function isDivisible(n,divisor){return Math.floor(n/divisor)==n/divisor}function allDeltasDivisableBy(divisor){return isDivisible(deltaBuffer[0],divisor)&&isDivisible(deltaBuffer[1],divisor)&&isDivisible(deltaBuffer[2],divisor)}function isInsideYoutubeVideo(event){var elem=event.target,isControl=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(isControl=elem.classList&&elem.classList.contains("html5-video-controls"))break}while(elem=elem.parentNode);return isControl}function pulse_(x){var val,start,expx;return x*=options.pulseScale,x<1?val=x-(1-Math.exp(-x)):(start=Math.exp(-1),x-=1,expx=1-Math.exp(-x),val=start+expx*(1-start)),val*options.pulseNormalize}function pulse(x){return x>=1?1:x<=0?0:(1==options.pulseNormalize&&(options.pulseNormalize/=pulse_(1)),pulse_(x))}function SmoothScroll(optionsToSet){for(var key in optionsToSet)defaultOptions.hasOwnProperty(key)&&(options[key]=optionsToSet[key])}var activeElement,observer,refreshSize,clearCacheTimer,deltaBufferTimer,defaultOptions={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},options=defaultOptions,isExcluded=!1,isFrame=!1,direction={x:0,y:0},initDone=!1,root=document.documentElement,deltaBuffer=[],isMac=/^Mac/.test(navigator.platform),key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},que=[],pending=!1,lastScroll=Date.now(),uniqueID=function(){var i=0;return function(el){return el.uniqueID||(el.uniqueID=i++)}}(),cache={};window.localStorage&&localStorage.SS_deltaBuffer&&(deltaBuffer=localStorage.SS_deltaBuffer.split(","));var wheelEvent,requestFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback,element,delay){window.setTimeout(callback,delay||1e3/60)}}(),MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,getScrollRoot=function(){var SCROLL_ROOT;return function(){if(!SCROLL_ROOT){var dummy=document.createElement("div");dummy.style.cssText="height:10000px;width:1px;",document.body.appendChild(dummy);var bodyScrollTop=document.body.scrollTop;document.documentElement.scrollTop;window.scrollBy(0,3),SCROLL_ROOT=document.body.scrollTop!=bodyScrollTop?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(dummy)}return SCROLL_ROOT}}(),userAgent=window.navigator.userAgent,isIE=/Trident/.test(userAgent),isEdge=/Edge/.test(userAgent),isChrome=/chrome/i.test(userAgent)&&!isEdge,isMobile=(/safari/i.test(userAgent),/mobile/i.test(userAgent)),isIEWin7=/Windows NT 6.1/i.test(userAgent)&&/rv:11/i.test(userAgent),isEnabledForBrowser=(isChrome||isIEWin7||isIE||isEdge)&&!isMobile;"onwheel"in document.createElement("div")?wheelEvent="wheel":"onmousewheel"in document.createElement("div")&&(wheelEvent="mousewheel"),wheelEvent&&isEnabledForBrowser&&(addEvent(wheelEvent,wheel),addEvent("mousedown",mousedown),addEvent("load",init)),SmoothScroll.destroy=cleanup,window.SmoothScrollOptions&&SmoothScroll(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return SmoothScroll}):"object"==typeof exports?module.exports=SmoothScroll:window.SmoothScroll=SmoothScroll}();
;var addComment={moveForm:function(a,b,c,d){var e,f,g,h,i=this,j=i.I(a),k=i.I(c),l=i.I("cancel-comment-reply-link"),m=i.I("comment_parent"),n=i.I("comment_post_ID"),o=k.getElementsByTagName("form")[0];if(j&&k&&l&&m&&o){i.respondId=c,d=d||!1,i.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",k.parentNode.insertBefore(e,k)),j.parentNode.insertBefore(k,j.nextSibling),n&&d&&(n.value=d),m.value=b,l.style.display="",l.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{for(var p=0;p<o.elements.length;p++)if(f=o.elements[p],h=!1,"getComputedStyle"in window?g=window.getComputedStyle(f):document.documentElement.currentStyle&&(g=f.currentStyle),(f.offsetWidth<=0&&f.offsetHeight<=0||"hidden"===g.visibility)&&(h=!0),"hidden"!==f.type&&!f.disabled&&!h){f.focus();break}}catch(q){}return!1}},I:function(a){return document.getElementById(a)}};
;!function($){function mk_text_typer(){"use strict";$("[data-typer-targets]").each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+"jquery.typed.js"],function(){var $this=$(that),$first_string=[$this.text()],$rest_strings=$this.attr("data-typer-targets").split(","),$strings=$first_string.concat($rest_strings);$this.text(""),$this.typed({strings:$strings,typeSpeed:30,backDelay:1200,loop:!0,loopCount:!1})})})}function mk_tab_slider_func(){"use strict";$(".mk-tab-slider").each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+"jquery.swiper.js"],function(){function repaintFirefox(){$content.css("display","block"),setTimeout(function(){mk_tab_slider.reInit(),$content.css("display","table")},100)}var $this=$(that),id=$this.data("id"),$autoplayTime=$this.data("autoplay"),$content=$(".mk-slider-content"),mk_tab_slider=$this.swiper({wrapperClass:"mk-tab-slider-wrapper",slideClass:"mk-tab-slider-item",calculateHeight:!0,speed:500,autoplay:!isTest&&$autoplayTime,onSlideChangeStart:function(){$('.mk-tab-slider-nav[data-id="'+id+'"]').find(".active").removeClass("active"),$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").eq(mk_tab_slider.activeIndex).addClass("active")}});$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").first().addClass("active"),$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").on("touchstart mousedown",function(e){e.preventDefault(),$('.mk-tab-slider-nav[data-id="'+id+'"]').find(".active").removeClass("active"),$(this).addClass("active"),mk_tab_slider.swipeTo($(this).index())}),$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").click(function(e){e.preventDefault()}),repaintFirefox(),$(window).on("resize",repaintFirefox)})})}function mk_one_page_scroller(){"use strict";$(".mk-edge-one-pager").each(function(){var self=this;MK.core.loadDependencies([MK.core.path.plugins+"jquery.fullpage.js"],function(){function swipeTo(href,e){if(href="_"+href,~href.indexOf("#")){var section=href.split("#")[1];~anchorArr.indexOf(section)&&(void 0!==e&&e.preventDefault(),scrollable?$.fn.fullpage.moveTo(section):MK.utils.scrollToAnchor('[data-title="'+section+'"]'))}}var $this=$(self),anchorArr=[];$this.find(".section").each(function(){anchorArr.push($(this).attr("data-title"))});var scrollable=!0;$this.find(".section").each(function(){var $section=$(this),$content=$section.find(".edge-slide-content");$section.height();$content.innerHeight()+30>$(window).height()&&(scrollable=!1)}),scrollable||$this.find(".section").each(function(){$(this).addClass("active").css({"padding-bottom":"50px"})}),scrollable&&$this.fullpage({verticalCentered:!1,resize:!0,slidesColor:["#ccc","#fff"],anchors:anchorArr,scrollingSpeed:600,easing:"easeInQuart",menu:!1,navigation:!0,navigationPosition:"right",navigationTooltips:!1,slidesNavigation:!0,slidesNavPosition:"bottom",loopBottom:!1,loopTop:!1,loopHorizontal:!0,autoScrolling:!0,scrollOverflow:!1,css3:!0,paddingTop:0,paddingBottom:0,normalScrollElements:".mk-header, .mk-responsive-wrap",normalScrollElementTouchThreshold:5,keyboardScrolling:!0,touchSensitivity:15,continuousVertical:!1,animateAnchor:!0,onLeave:function(index,nextIndex,direction){var currentSkin=$this.find(".one-pager-slide").eq(nextIndex-1).attr("data-header-skin");MK.utils.eventManager.publish("firstElSkinChange",currentSkin),$("#fullPage-nav").removeClass("light-skin dark-skin").addClass(currentSkin+"-skin")},afterRender:function(){var $nav=$("#fullPage-nav");setTimeout(function(){var currentSkin=$this.find(".one-pager-slide").eq(0).attr("data-header-skin");MK.utils.eventManager.publish("firstElSkinChange",currentSkin),$nav.length&&$nav.removeClass("light-skin dark-skin").addClass(currentSkin+"-skin")},300);var $slide=$this.find(".section"),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height();if($slide.height(windowHeight-headerHeight),$nav.length){$nav.css({top:"calc(50% + "+headerHeight/2+"px)",marginTop:0});var style=$this.attr("data-pagination");$nav.addClass("pagination-"+style)}setTimeout(mk_one_pager_resposnive,1e3)},afterResize:function(){var $slide=$this.find(".section"),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height();$slide.height(windowHeight-headerHeight),$("#fullPage-nav").css({top:"calc(50% + "+headerHeight/2+"px)",marginTop:0}),setTimeout(mk_one_pager_resposnive,1e3),console.log("Reposition pager content.")}});var loc=window.location;loc.hash&&swipeTo(loc.hash),$(document).on("click","a",function(e){swipeTo($(e.currentTarget).attr("href"),e)})})})}function mk_one_pager_resposnive(){"use strict";$(".mk-edge-one-pager").each(function(){var $pager=$(this),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height()-headerHeight;$pager.find(".one-pager-slide").each(function(){var $slide=$(this),$content=$slide.find(".edge-slide-content");if($slide.hasClass("left_center")||$slide.hasClass("center_center")||$slide.hasClass("right_center")){var contentHeight=$content.height(),distanceFromTop=(windowHeight-contentHeight)/2;distanceFromTop=distanceFromTop<50?50+headerHeight:distanceFromTop,$content.css("marginTop",distanceFromTop)}if($slide.hasClass("left_bottom")||$slide.hasClass("center_bottom")||$slide.hasClass("right_bottom")){var distanceFromTop=windowHeight-$content.height()-90;$content.css("marginTop",distanceFromTop)}})})}function mk_gallery(){"use strict";$(".mk-gallery .mk-gallery-item.hover-overlay_layer .item-holder").each(function(){function updatePosition(){var parentHeight=itemHolder.outerHeight(),contentHeight=galleryDesc.innerHeight(),paddingVal=(parentHeight-contentHeight)/2;galleryDesc.css({top:paddingVal})}var itemHolder=$(this),galleryDesc=itemHolder.find(".gallery-desc");updatePosition(),$(window).on("resize",function(){setTimeout(function(){updatePosition()},1e3)})}),$(window).width()<=1024&&$(".mk-gallery .mk-gallery-item").on("click",function(e){var clicks=$(this).data("clicks");$(this).toggleClass("hover-state"),$(this).data("clicks",!clicks)})}function mk_theatre_responsive_calculator(){var $laptopContainer=$(".laptop-theatre-slider"),$computerContainer=$(".desktop-theatre-slider");$laptopContainer.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$width=($window.outerHeight(),$this.outerWidth()),$height=$this.outerHeight(),$player=$this.find(".player-container");$windowWidth>$width&&$player.css({"padding-left":parseInt(143*$width/1200),"padding-right":parseInt(143*$width/1200),"padding-top":parseInt(38*$height/690),"padding-bottom":parseInt(78*$height/690)})}),$computerContainer.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$width=($window.outerHeight(),$this.outerWidth()),$height=$this.outerHeight(),$player=$this.find(".player-container");$windowWidth>$width&&$player.css({"padding-left":parseInt(49*$width/1200),"padding-right":parseInt(52*$width/1200),"padding-top":parseInt(60*$height/969),"padding-bottom":parseInt(290*$height/969)})})}function mk_mobile_tablet_responsive_calculator(){var $laptopSlideshow=$(".mk-laptop-slideshow-shortcode"),$lcdSlideshow=$(".mk-lcd-slideshow");$.exists(".mk-laptop-slideshow-shortcode")&&$laptopSlideshow.each(function(){var $this=$(this),$window=$(window),$width=($window.outerWidth(),$window.outerHeight(),$this.outerWidth()),$height=$this.outerHeight();$this.find(".slideshow-container").css({"padding-left":parseInt(102*$width/836),"padding-right":parseInt(102*$width/836),"padding-top":parseInt(28*$height/481),"padding-bottom":parseInt(52*$height/481)})}),$.exists(".mk-lcd-slideshow")&&$lcdSlideshow.each(function(){var $this=$(this),$window=$(window),$width=($window.outerWidth(),$window.outerHeight(),$this.outerWidth()),$height=$this.outerHeight();$this.find(".slideshow-container").css({"padding-left":parseInt(36*$width/886),"padding-right":parseInt(39*$width/886),"padding-top":parseInt(35*$height/713),"padding-bottom":parseInt(213*$height/713)})})}function mk_start_tour_resize(){$(".mk-header-start-tour").each(function(){function updateStartTour(){$windowWidth<mk_responsive_nav_width?($this.removeClass("hidden"),$this.addClass("show")):$padding<$linkWidth?($this.removeClass("show"),$this.addClass("hidden")):($this.removeClass("hidden"),$this.addClass("show"))}var $windowWidth=$(document).width(),$this=$(this),$linkWidth=$this.width()+15,$padding=($windowWidth-mk_responsive_nav_width)/2;setTimeout(function(){updateStartTour()},300)})}function mk_header_social_resize(){$(".mk-header-social.header-section").each(function(){function updateStartTour(){$windowWidth<mk_responsive_nav_width?($this.removeClass("hidden"),$this.addClass("show")):$padding<$linkWidth?($this.removeClass("show"),$this.addClass("hidden")):($this.removeClass("hidden"),$this.addClass("show"))}var $windowWidth=$(document).width(),$this=$(this),$linkWidth=$this.width()+15,$padding=($windowWidth-mk_responsive_nav_width)/2;setTimeout(function(){updateStartTour()},300)})}function mk_page_section_social_video_bg(){$(".mk-page-section.social-hosted").each(function(){var player,$container=$(this),$sound=$container.data("sound"),$source=$container.data("source");if("youtube"==$source){var youtube=$container.find("iframe")[0];player=new YT.Player(youtube),setTimeout(function(){player.playVideo(),0==$sound&&player.mute()},1e3)}if("vimeo"==$source){var vimeo=$container.find("iframe")[0];player=$f(vimeo),setTimeout(function(){player.api("play"),!1===$sound&&player.api("setVolume",0)},1e3)}})}function mk_accordion_toggles_tooltip(){"use strict";$(".box-close-btn").on("click",function(){return $(this).parent().fadeOut(300),!1})}function mk_portfolio_ajax(){"use strict";function init(){var $portfolio=$(".portfolio-grid.portfolio-ajax-enabled");$portfolio.length&&MK.core.loadDependencies([MK.core.path.plugins+"jquery.ajax.portfolio.js"],function(){setTimeout(function(){$portfolio.each(function(){$(this).ajaxPortfolio({extraOffset:headerHeight})})},100)})}var headerHeight=0;$.exists("#wpadminbar")&&(headerHeight+=$("#wpadminbar").height()),$.exists(".mk-vm-menuwrapper")||(headerHeight+=parseInt($(".mk-header").attr("data-sticky-height"))),init(),MK.utils.eventManager.subscribe("ajaxLoaded",init)}function mk_ajax_search(){"use strict";function onSearchBoxInput(e){var target=e.target||e.srcElement,newValue=target.value;searchTerm!==newValue&&(searchTerm=newValue,ul.innerHTML="",searchTerm.length>=minimumLengthToSearch&&($mkAjaxSearchInput.addClass("ajax-searching"),requestCounter++,$.getJSON(ajaxurl+querySpliter+"callback=?&action=mk_ajax_search&security="+security+"&_wp_http_referer="+wpHttpReferer+"&term="+searchTerm).done(showSearchResult).fail(showErrorMessage)))}function showSearchResult(data){if(responseCounter++,isCorrectResponse()){if(data.length>0)for(var i=0;i<data.length;i++){var item=data[i];$("<li>").append('<a href="'+item.link+'">'+item.image+'<span class="search-title">'+item.label+'</span><span class="search-date">'+item.date+"</span></a>").appendTo(ul)}else ul.innerHTML='<li class="mk-nav-search-result-zero">No Result.</li>';$mkAjaxSearchInput.parent("form").removeClass("ajax-searching").addClass("ajax-search-complete")}}function showErrorMessage(){responseCounter++,isCorrectResponse()&&(ul.innerHTML='<li class="mk-nav-search-error-message">Can not search! Please try again.</li>')}function isCorrectResponse(){return requestCounter===responseCounter}if("beside_nav"===mk_ajax_search_option){var searchTerm,minimumLengthToSearch=3,$mkAjaxSearchInput=$("#mk-ajax-search-input"),security=$mkAjaxSearchInput.siblings('input[name="security"]').val(),wpHttpReferer=$mkAjaxSearchInput.siblings('input[name="_wp_http_referer"]').val(),querySpliter=ajaxurl.indexOf("?")>-1?"&":"?",ul=document.getElementById("mk-nav-search-result"),requestCounter=0,responseCounter=0;$mkAjaxSearchInput.on("paste input propertychange",onSearchBoxInput)}}function mk_backgrounds_parallax(){"use strict";1==mk_header_parallax&&$(".mk-header-bg").addClass("mk-parallax-enabled"),1==mk_body_parallax&&$("body").addClass("mk-parallax-enabled"),1==mk_banner_parallax&&$(".mk-header").addClass("mk-parallax-enabled"),1==mk_footer_parallax&&$("#mk-footer").addClass("mk-parallax-enabled"),$(".mk-parallax-enabled").each(function(){var $this=$(this);MK.utils.isMobile()||MK.core.loadDependencies([MK.core.path.plugins+"jquery.parallax.js"],function(){$this.parallax("49%",.3)})}),$(".mk-fullwidth-slideshow.parallax-slideshow").each(function(){var $this=$(this);MK.utils.isMobile()||MK.core.loadDependencies([MK.core.path.plugins+"jquery.parallax.js"],function(){var speed_factor=$this.attr("data-speedFactor");$this.parallax("49%",speed_factor)})})}function loop_audio_init(){$.exists(".jp-jplayer")&&$(".jp-jplayer.mk-blog-audio").each(function(){var $this=$(this);MK.core.loadDependencies([MK.core.path.plugins+"jquery.jplayer.js"],function(){var ogg_file,mp3_file,css_selector_ancestor="#"+$this.siblings(".jp-audio").attr("id");ogg_file=$this.attr("data-ogg"),mp3_file=$this.attr("data-mp3"),$this.jPlayer({ready:function(){$this.jPlayer("setMedia",{mp3:mp3_file,ogg:ogg_file})},play:function(){$this.jPlayer("pauseOthers")},swfPath:void 0,supplied:"mp3, ogg",cssSelectorAncestor:css_selector_ancestor,wmode:"window"})})})}function mk_blog_carousel(){"use strict";$.exists(".mk-blog-showcase")&&$(".mk-blog-showcase ul li").each(function(){$(this).on("hover",function(){$(this).siblings("li").removeClass("mk-blog-first-el").end().addClass("mk-blog-first-el")})})}function mk_contact_form(){"use strict";function validateForm(e,invalidClassName){e.preventDefault();for(var form=e.target||e.srcElement,inputs=getFormInputs(form),isValidForm=!0,hasCaptchaField=!1,i=0;i<inputs.length;i++){var input=inputs[i];switch(input.value=String(input.value).trim(),input.type){case"hidden":break;case"email":isValidForm=validateEmail(input,invalidClassName)&&isValidForm;break;case"textarea":isValidForm=validateText(input,invalidClassName)&&isValidForm;break;case"text":"captcha"===input.dataset.type?(isValidForm=validateText(input,invalidClassName)&&isValidForm,hasCaptchaField=!0):isValidForm="email"===input.dataset.type?validateEmail(input,invalidClassName)&&isValidForm:validateText(input,invalidClassName)&&isValidForm;break;default:console.warn("Implement validation for "+input.name+":"+input.type)}}isValidForm&&(hasCaptchaField?validateCaptcha(form,invalidClassName,sendForm):sendForm(form))}function validateCaptcha(form,invalidClassName,captchaIsValidCallback){var input=form.querySelectorAll('[data-type="captcha"]')[0];if(0===input.value.length)return addClass(input,invalidClassName),!1;window.get.captcha(input.value).done(function(data){loadCaptcha(),input.value="","ok"!==data?(addClass(input,invalidClassName),addClass(input,"contact-captcha-invalid"),removeClass(input,"contact-captcha-valid"),input.placeholder=mk_captcha_invalid_txt):(removeClass(input,invalidClassName),removeClass(input,"contact-captcha-invalid"),addClass(input,"contact-captcha-valid"),input.placeholder=mk_captcha_correct_txt,captchaIsValidCallback(form))})}function sendForm(form){var $form=$(form),data=getFormData(form);progressButton.loader($form),$.post(ajaxurl,data,function(response){var res=JSON.parse(response);res.action_Status?(progressButton.success($form),$form.find(".text-input").val(""),$form.find("textarea").val(""),$form.find(".contact-form-message").addClass("state-success").html(res.message)):(progressButton.error($form),$form.find(".contact-form-message").removeClass("state-success").html(res.message))})}function loadCaptcha(e){function appendImage(captchaImageURL){0===captchaImageHolder.find(".captcha-image").length?captchaImageHolder.append('<img src="'+captchaImageURL+'" class="captcha-image" alt="captcha txt">'):captchaImageHolder.find(".captcha-image").attr("src",captchaImageURL+"?"+(new Date).getTime())}e&&e.preventDefault(),$.post(ajaxurl,{action:"mk_create_captcha_image"},appendImage)}function getFormInputs(form){return form.querySelectorAll("input,textarea")}function getFormData(form){for(var data={action:"mk_contact_form"},inputs=getFormInputs(form),i=0;i<inputs.length;i++)data[inputs[i].name]=inputs[i].value;return data}var mkContactForms=document.getElementsByClassName("mk-contact-form");if(0!==mkContactForms.length){for(var captchaImageHolder=$(".captcha-image-holder"),i=0;i<mkContactForms.length;i++)!function(form,activeClassName,invalidClassName){function setActiveClass(){addClass(this.parentNode,activeClassName)}function unsetActiveClass(){""===this.value&&removeClass(this.parentNode,activeClassName)}for(var inputs=getFormInputs(form),i=0;i<inputs.length;i++)!function(input){input.addEventListener("focus",setActiveClass),input.addEventListener("blur",unsetActiveClass)}(inputs[i]);form.addEventListener("submit",function(e){validateForm(e,invalidClassName)})}(mkContactForms[i],"is-active","mk-invalid");!function(){loadCaptcha();for(var captchaChangeImageButtons=document.getElementsByClassName("captcha-change-image"),i=0;i<captchaChangeImageButtons.length;i++)captchaChangeImageButtons[i].addEventListener("click",loadCaptcha)}()}}function mk_login_form(){$("form.mk-login-form").each(function(){var $this=$(this);$this.on("submit",function(e){$("p.mk-login-status",$this).show().text(ajax_login_object.loadingmessage),$.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajaxlogin",username:$("#username",$this).val(),password:$("#password",$this).val(),security:$("#security",$this).val()},success:function(data){$("p.mk-login-status",$this).text(data.message),!0===data.loggedin&&(document.location.href=ajax_login_object.redirecturl)}}),e.preventDefault()})})}function mk_click_events(){"use strict";$(".mk-header-login, .mk-header-signup, .mk-side-dashboard, .mk-quick-contact-wrapper, .mk-dashboard-trigger, .blog-share-container, .news-share-buttons, .main-nav-side-search, #mk-fullscreen-search-wrapper, #fullscreen-navigation").on("click",function(event){event.stopPropagation?event.stopPropagation():window.event&&(window.event.cancelBubble=!0)}),$("html").on("click",function(){$(".mk-login-register, .mk-header-subscribe, #mk-quick-contact, .single-share-buttons, .single-share-box, .blog-social-share, .news-share-buttons, #mk-nav-search-wrapper").fadeOut(300),$(".mk-quick-contact-link").removeClass("quick-contact-active")}),$(".mk-fullscreen-search-overlay").on("click",function(){$(this).removeClass("mk-fullscreen-search-overlay-show")}),$(".mk-forget-password").on("click",function(){$(".mk-forget-panel").siblings().hide().end().show()}),$(".mk-create-account").on("click",function(){$("#mk-register-panel").siblings().hide().end().show()}),$(".mk-return-login").on("click",function(){$("#mk-login-panel").siblings().hide().end().show()}),$(".mk-quick-contact-link").on("click",function(){var $this=$(this),$quickContact=$("#mk-quick-contact");return $this.hasClass("quick-contact-active")?($quickContact.removeClass("quick-contact-anim").fadeOut(100),$this.removeClass("quick-contact-active")):($quickContact.addClass("quick-contact-anim").fadeIn(250),$this.addClass("quick-contact-active")),!1})}function mk_social_share_global(){"use strict";$(".twitter-share").on("click",function(){var $this=$(this),$url=$this.attr("data-url"),$title=$this.attr("data-title");return window.open("http://twitter.com/intent/tweet?text="+$title+" "+$url,"twitterWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1}),$(".pinterest-share").on("click",function(){var $this=$(this),$url=$this.attr("data-url"),$title=$this.attr("data-title"),$image=$this.attr("data-image");return window.open("http://pinterest.com/pin/create/button/?url="+$url+"&media="+$image+"&description="+$title,"twitterWindow","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1}),$(".facebook-share").on("click",function(){var $url=$(this).attr("data-url");return window.open("https://www.facebook.com/sharer/sharer.php?u="+$url,"facebookWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1}),$(".googleplus-share").on("click",function(){var $url=$(this).attr("data-url");return window.open("https://plus.google.com/share?url="+$url,"googlePlusWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1}),$(".linkedin-share").on("click",function(){var $this=$(this),$url=$this.attr("data-url"),$title=$this.attr("data-title"),$desc=$this.attr("data-desc");return window.open("http://www.linkedin.com/shareArticle?mini=true&url="+$url+"&title="+$title+"&summary="+$desc,"linkedInWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1})}function mk_event_countdown(){$.exists(".mk-event-countdown")&&MK.core.loadDependencies([MK.core.path.plugins+"jquery.countdown.js"],function(){$(".mk-event-countdown").each(function(){if(!isTest){var $this=$(this),$date=$this.attr("data-date"),$offset=$this.attr("data-offset");$this.downCount({date:$date,offset:$offset})}})})}function mk_flexslider_init(){var $lcd=$(".mk-lcd-slideshow"),$laptop=$(".mk-laptop-slideshow-shortcode");$lcd.length&&$lcd.find(".mk-lcd-image").fadeIn(),$laptop.length&&$laptop.find(".mk-laptop-image").fadeIn(),$(".js-flexslider").each(function(){($(this).parents(".mk-tabs").length||$(this).parents(".mk-accordion").length)&&$(this).removeData("flexslider");var $this=$(this),$selector=$this.attr("data-selector"),$animation=$this.attr("data-animation"),$easing=$this.attr("data-easing"),$direction=$this.attr("data-direction"),$smoothHeight="true"==$this.attr("data-smoothHeight"),$slideshowSpeed=$this.attr("data-slideshowSpeed"),$animationSpeed=$this.attr("data-animationSpeed"),$controlNav="true"==$this.attr("data-controlNav"),$directionNav="true"==$this.attr("data-directionNav"),$pauseOnHover="true"==$this.attr("data-pauseOnHover"),$isCarousel="true"==$this.attr("data-isCarousel");if(void 0!==$selector)var $selector_class=$selector;else var $selector_class=".mk-flex-slides > li";if(!0===$isCarousel)var $itemWidth=parseInt($this.attr("data-itemWidth")),$itemMargin=parseInt($this.attr("data-itemMargin")),$minItems=parseInt($this.attr("data-minItems")),$maxItems=parseInt($this.attr("data-maxItems")),$move=parseInt($this.attr("data-move"));else var $itemWidth=$itemMargin=$minItems=$maxItems=$move=0;MK.core.loadDependencies([MK.core.path.plugins+"jquery.flexslider.js"],function(){$this.flexslider({selector:$selector_class,animation:$animation,easing:$easing,direction:$direction,smoothHeight:$smoothHeight,slideshow:!isTest,slideshowSpeed:$slideshowSpeed,animationSpeed:$animationSpeed,controlNav:$controlNav,directionNav:$directionNav,pauseOnHover:$pauseOnHover,prevText:"",nextText:"",itemWidth:$itemWidth,itemMargin:$itemMargin,minItems:$minItems,maxItems:$maxItems,move:$move})})})}function mk_header_searchform(){$(".mk-search-trigger").click(function(){setTimeout(function(){$("#mk-ajax-search-input").focus()},500)}),$(".mk-header-toolbar .mk-header-searchform .text-input").on("focus",function(){if($(".mk-header-toolbar .mk-header-searchform .text-input").hasClass("on-close-state"))return $(".mk-header-toolbar .mk-header-searchform .text-input").removeClass("on-close-state").animate({width:"200px"},200),!1}),$(".mk-header-toolbar .mk-header-searchform").click(function(event){event.stopPropagation?event.stopPropagation():window.event&&(window.event.cancelBubble=!0)}),$("html").click(function(){$(this).find(".mk-header-toolbar .mk-header-searchform .text-input").addClass("on-close-state").animate({width:90},300)}),"Edge"===MK.utils.browser.name&&$("#mk-fullscreen-search-input").on("keydown",function(e){13==e.which&&(e.preventDefault(),$("#mk-fullscreen-searchform").submit())})}function mk_hover_events(){"use strict";$(".shopping-cart-header").hover(function(){$(this).find(".mk-shopping-cart-box").stop(!0,!0).fadeIn(250)},function(){$(this).find(".mk-shopping-cart-box").stop(!0,!0).fadeOut(250)}),$(".widget-sub-navigation > ul > li, .widget_nav_menu ul.menu > li, .widget_product_categories ul > .cat-item").each(function(){var $this=$(this),$subLevel=$this.find("ul").first();($this.hasClass("page_item_has_children")||$this.hasClass("menu-item-has-children")||$this.hasClass("cat-parent"))&&($this.on("click",function(){$this.hasClass("toggle-active")?($subLevel.stop(!0,!0).slideUp(700),$this.removeClass("toggle-active")):($subLevel.stop(!0,!0).slideDown(700),$this.addClass("toggle-active"))}),$subLevel.on("click",function(e){e.stopPropagation()}))});$(".mk-fullscreen-trigger").on("click",function(e){$(".mk-fullscreen-search-overlay").addClass("mk-fullscreen-search-overlay-show"),setTimeout(function(){$("#mk-fullscreen-search-input").focus()},300),e.preventDefault()}),$(".mk-fullscreen-close").on("click",function(e){$(".mk-fullscreen-search-overlay").removeClass("mk-fullscreen-search-overlay-show"),e.preventDefault()})}function mk_unfold_footer(){var $this=$("#mk-footer"),$spacer=$("#mk-footer-unfold-spacer"),$footerHeight=$this.outerHeight();window.matchMedia("(max-width: 767px)").matches?$spacer.css("height",0):$this.hasClass("mk-footer-unfold")&&$spacer.css("height",$footerHeight)}function mk_lightbox_init(){$(".mk-lightbox").fancybox({padding:15,margin:15,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,openEffect:"fade",openSpeed:200,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:200,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"none",nextSpeed:350,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"none",prevSpeed:350,prevEasing:"swing",prevMethod:"changeOut",helpers:{media:{},overlay:{locked:!0}},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"><i><svg class="mk-svg-icon" svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M390.628 345.372l-45.256 45.256-89.372-89.373-89.373 89.372-45.255-45.255 89.373-89.372-89.372-89.373 45.254-45.254 89.373 89.372 89.372-89.373 45.256 45.255-89.373 89.373 89.373 89.372z"/></svg></i></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span><i><svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M144 505.6c8 0 16-3.2 22.4-8l240-225.6c6.4-6.4 9.6-14.4 9.6-22.4s-3.2-16-9.6-22.4l-240-224c-12.8-12.8-32-12.8-44.8 0s-11.2 32 1.6 44.8l214.4 201.6-216 203.2c-12.8 11.2-12.8 32 0 44.8 6.4 4.8 14.4 8 22.4 8z"/></svg></i></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span><i><svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M368 505.6c-8 0-16-3.2-22.4-8l-240-225.6c-6.4-6.4-9.6-14.4-9.6-24 0-8 3.2-16 9.6-22.4l240-224c12.8-11.2 33.6-11.2 44.8 1.6 12.8 12.8 11.2 32-1.6 44.8l-214.4 201.6 216 203.2c12.8 11.2 12.8 32 0 44.8-4.8 4.8-14.4 8-22.4 8z"/></svg></i></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},afterLoad:function(){$("html").addClass("fancybox-lock"),$(".fancybox-wrap").appendTo(".fancybox-overlay")}})}function mk_love_post(){"use strict";$("body").on("click",".mk-love-this",function(){var $this=$(this),$id=$this.attr("id");if($this.hasClass("item-loved"))return!1;if($this.hasClass("item-inactive"))return!1;var $sentdata={action:"mk_love_post",post_id:$id};return $.post(ajaxurl,$sentdata,function(data){$this.find(".mk-love-count").html(data),$this.addClass("item-loved")}),$this.addClass("item-inactive"),!1})}function mk_milestone(){"use strict";!isTest&&$.exists(".mk-milestone")&&$(".mk-milestone").each(function(){var $this=$(this),stop_number=$this.find(".milestone-number").attr("data-stop"),animation_speed=parseInt($this.find(".milestone-number").attr("data-speed")),build=function(){$this.hasClass("scroll-animated")||($this.addClass("scroll-animated"),$({countNum:$this.find(".milestone-number").text()}).animate({countNum:stop_number},{duration:animation_speed,easing:"linear",step:function(){$this.find(".milestone-number").text(Math.floor(this.countNum))},complete:function(){$this.find(".milestone-number").text(this.countNum)}}))};MK.utils.isMobile()?build():MK.utils.scrollSpy(this,{position:"bottom",after:build})})}function mk_portfolio_widget(){"use strict";$(".widget_recent_portfolio li").each(function(){$(this).find(".portfolio-widget-thumb").hover(function(){$(this).siblings(".portfolio-widget-info").animate({opacity:1},200)},function(){$(this).siblings(".portfolio-widget-info").animate({opacity:0},200)})})}function mk_skill_meter(){"use strict";$.exists(".mk-skill-meter")&&(MK.utils.isMobile()?$(".mk-skill-meter .progress-outer").each(function(){var $this=$(this);$this.hasClass("scroll-animated")||($this.addClass("scroll-animated"),$this.css({width:$(this).attr("data-width")+"%"}))}):$(".mk-skill-meter .progress-outer").each(function(){var $this=$(this),build=function(){$this.hasClass("scroll-animated")||($this.addClass("scroll-animated"),$this.animate({width:$this.attr("data-width")+"%"},2e3))};MK.utils.scrollSpy(this,{position:"bottom",after:build})}))}function addClass(tag,className){tag.className+=" "+className}function removeClass(tag,className){tag.className=tag.className.replace(new RegExp(className,"g"),"")}function validateEmail(input,invalidClassName){var value=input.value.trim();return(input.required||value.length>0)&&!/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,63})$/i.test(value)?(invalidClassName&&addClass(input,invalidClassName),!1):(invalidClassName&&removeClass(input,invalidClassName),!0)}function validateText(input,invalidClassName){var value=input.value.trim();return input.required&&0===value.length?(invalidClassName&&addClass(input,invalidClassName),!1):(invalidClassName&&removeClass(input,invalidClassName),!0)}function product_loop_add_cart(){var $body=$("body");$body.on("click",".add_to_cart_button",function(){var $holder=$(this).parents(".product:eq(0)"),$i=$holder.find(".product-loading-icon");$holder.addClass("adding-to-cart").removeClass("added-to-cart"),$i.html('<svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M437.011 74.99c-46.326-46.328-110.318-74.99-181.011-74.99-109.744 0-203.345 69.064-239.749 166.094l59.938 22.477c27.302-72.773 97.503-124.571 179.811-124.571 53.02 0 101.01 21.5 135.753 56.247l-71.753 71.753h192v-192l-74.989 74.99zm-181.011 373.01c-53.02 0-101.013-21.496-135.756-56.244l71.756-71.756h-192v192l74.997-74.997c46.323 46.331 110.309 74.997 181.003 74.997 109.745 0 203.346-69.064 239.75-166.094l-59.938-22.477c-27.302 72.773-97.503 124.571-179.812 124.571z"/></svg>')}),$body.bind("added_to_cart",function(){var $holder=$(".adding-to-cart"),$i=$holder.find(".product-loading-icon");$holder.removeClass("adding-to-cart").addClass("added-to-cart"),$i.html('<svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M432 64l-240 240-112-112-80 80 192 192 320-320z"/></svg>')})}var MK={api:{},ui:{},component:{}};window.MK=MK,window.elementQuery=function(){var queryMatchers={"min-width":function(element,value,units){var el=element,px=convertToPx(el,value,units);return value&&el&&el.offsetWidth>=px},"max-width":function(element,value,units){var el=element,px=convertToPx(el,value,units);return value&&el&&el.offsetWidth<px}},classNameForRules=function(rules){for(var name="query",i=0,len=rules.length;i<len;i++)name+="_"+rules[i].property+"_"+rules[i].value+rules[i].units;return name},convertToPx=function(element,value,units){switch(units){case"px":return value;case"em":return value*getEmSize(element);case"rem":return value*getEmSize();case"vw":return value*document.documentElement.clientWidth/100;case"vh":return value*document.documentElement.clientHeight/100;case"vmin":case"vmax":var vw=document.documentElement.clientWidth/100,vh=document.documentElement.clientHeight/100;return value*(0,Math["vmin"===units?"min":"max"])(vw,vh);default:return value}},getEmSize=function(element){return element||(element=document.documentElement),window.getComputedStyle?parseFloat(getComputedStyle(element).fontSize)||16:16},elementMatchesRules=function(element,rules){for(var i=rules.length-1;i>-1;i--){var rule=rules[i],matcher=queryMatchers[rule.property];if(matcher&&!matcher(element,rule.value,rule.units))return!1}return!0},loader={loadStyleSheets:function(sheets,callback){for(var completed=0,i=0,len=sheets.length;i<len;i++)this.loadStyleSheet(sheets[i],function(){(completed+=1)===len&&callback&&callback()})},loadStyleSheet:function(sheet,callback){if("STYLE"===sheet.ownerNode.nodeName&&"js-media-query-css"===sheet.ownerNode.id){var result=elementQuery.parser.parseStyleText(sheet.ownerNode.innerHTML);sheet.ownerNode.innerHTML+=result.newCss,elementQuery.queries=elementQuery.queries.concat(result.queries),callback&&callback()}}},elementQuery={autoInit:!0,init:function(){var evaluated=!1;this.loader.loadStyleSheets(document.styleSheets,function(){evaluated=!0,elementQuery.evaluateQueries()}),evaluated||elementQuery.evaluateQueries()},evaluateQueries:function(context){context=context||document;for(var queries=this.queries,i=0,len=queries.length;i<len;i++)for(var elements=context.querySelectorAll(queries[i].selector),j=0;j<elements.length;j++){var element=elements[j];elementMatchesRules(element,queries[i].rules)?element.classList.add(queries[i].className):element.classList.remove(queries[i].className)}},queryMatchers:queryMatchers,queries:[],classNameForRules:classNameForRules,loader:loader};return window.addEventListener("resize",function(){elementQuery.evaluateQueries()},!1),window.addEventListener("load",function(){elementQuery.autoInit&&(elementQuery.init(),setTimeout(function(){elementQuery.evaluateQueries()},1e3))}),elementQuery}(),function(elementQuery){var STATEMENT_END_OR_START_PATTERN=/\s*(?:(\})|(@\S+\s+[^;{]+;)|(?:([^{}]+)\{))/g,QUERY_PATTERN=/:media\s*\(([^)]*)\)/g,QUERY_RULES_PATTERN=/\(?([^\s:]+):\s*(\d+(?:\.\d+)?)(px|em|rem|vw|vh|vmin|vmax)\)?/g,WHITESPACE_PATTERN=/^\s*$/;elementQuery.parser={parseStyleText:function(styleText){var newText="",queries=[];return this.parseText(styleText,{mediaQuery:function(selector){newText+="\n"+selector+"{"},endMediaQuery:function(){newText+="\n}"},rule:function(selector,properties){for(var i=0,len=selector.length;i<len;i++){for(var single=selector[i],selectorSoFar="",j=0,lenj=single.length;j<lenj;j+=2){selectorSoFar+=single[j];var rules=single[j+1];if(rules){var queryClass=elementQuery.classNameForRules(rules);queries.push({selector:selectorSoFar,rules:rules,className:queryClass}),selectorSoFar+="."+queryClass}}newText+=selectorSoFar+(i<len-1?",":"")}newText+=" {"+properties+"}"}}),{queries:queries,newCss:newText}},parseText:function(styleText,callbacks){callbacks=callbacks||{};for(var text=styleText.replace(/(\/\*)[\s\S]*?(\*\/)/g,"");match=STATEMENT_END_OR_START_PATTERN.exec(text);)if(match[1])callbacks.endMediaQuery&&callbacks.endMediaQuery();else{var selector=match[3];if(selector)if("@media"===selector.slice(0,6))callbacks.mediaQuery&&callbacks.mediaQuery(selector);else{var closingIndex=text.indexOf("}",match.index);if("@"!==selector[0]){var content=text.slice(match.index+match[0].length,closingIndex);this.parseRule(selector,content,callbacks.rule)}STATEMENT_END_OR_START_PATTERN.lastIndex=closingIndex+1}}},parseRule:function(selector,content,callback){var parsedSelector=this.parseSelector(selector);parsedSelector&&callback&&callback(parsedSelector,content)},parseSelector:function(selector){for(var parsed=[],parts=selector.split(","),i=0,len=parts.length;i<len;i++){var result=this.parseSingleSelector(parts[i]);result.length>1&&parsed.push(result)}return parsed.length?parsed:null},parseSingleSelector:function(selector){for(var parsed=[],lastIndex=0;queryMatch=QUERY_PATTERN.exec(selector);){var selectorChunk=selector.slice(lastIndex,queryMatch.index);lastIndex=QUERY_PATTERN.lastIndex;var queryData=this.parseQuery(queryMatch[1]);parsed.push(selectorChunk),parsed.push(queryData)}var remaining=selector.slice(lastIndex);return WHITESPACE_PATTERN.test(remaining)||parsed.push(remaining),QUERY_PATTERN.lastIndex=0,parsed},parseQuery:function(queryString){for(var ruleMatch,rules=[];ruleMatch=QUERY_RULES_PATTERN.exec(queryString);)rules.push({property:ruleMatch[1],value:parseFloat(ruleMatch[2]),units:ruleMatch[3]});return rules}}}(elementQuery),function($){"use strict";$.exists=function(selector){return $(selector).length>0},$.getCachedScript=function(url){var options={dataType:"script",cache:!0,url:url};return $.ajax(options)},$.fn.mk_imagesLoaded=function(){var $imgs=this.find('img[src!=""]');if(!$imgs.length)return $.Deferred().resolve().promise();var dfds=[];return $imgs.each(function(){var dfd=$.Deferred();dfds.push(dfd);var img=new Image;img.onload=function(){dfd.resolve()},img.onerror=function(){dfd.resolve()},img.src=this.src}),$.when.apply($,dfds)}}(jQuery),function(){function resetTriggers(element){var triggers=element.__resizeTriggers__,expand=triggers.firstElementChild,contract=triggers.lastElementChild,expandChild=expand.firstElementChild;contract.scrollLeft=contract.scrollWidth,contract.scrollTop=contract.scrollHeight,expandChild.style.width=expand.offsetWidth+1+"px",expandChild.style.height=expand.offsetHeight+1+"px",expand.scrollLeft=expand.scrollWidth,expand.scrollTop=expand.scrollHeight}function checkTriggers(element){return element.offsetWidth!=element.__resizeLast__.width||element.offsetHeight!=element.__resizeLast__.height}function scrollListener(e){var element=this;resetTriggers(this),this.__resizeRAF__&&cancelFrame(this.__resizeRAF__),this.__resizeRAF__=requestFrame(function(){checkTriggers(element)&&(element.__resizeLast__.width=element.offsetWidth,element.__resizeLast__.height=element.offsetHeight,element.__resizeListeners__.forEach(function(fn){fn.call(element,e)}))})}function createStyles(){if(!stylesCreated){var css=(animationKeyframes||"")+".resize-triggers { "+(animationStyle||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style),stylesCreated=!0}}var attachEvent=document.attachEvent,stylesCreated=!1;if(!attachEvent){var requestFrame=function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20)};return function(fn){return raf(fn)}}(),cancelFrame=function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id)}}(),animation=!1,keyframeprefix="",animationstartevent="animationstart",domPrefixes="Webkit Moz O ms".split(" "),startEvents="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),pfx="",elm=document.createElement("fakeelement");if(void 0!==elm.style.animationName&&(animation=!0),!1===animation)for(var i=0;i<domPrefixes.length;i++)if(void 0!==elm.style[domPrefixes[i]+"AnimationName"]){pfx=domPrefixes[i],pfx+"Animation",keyframeprefix="-"+pfx.toLowerCase()+"-",animationstartevent=startEvents[i],animation=!0;break}var animationName="resizeanim",animationKeyframes="@"+keyframeprefix+"keyframes "+animationName+" { from { opacity: 0; } to { opacity: 0; } } ",animationStyle=keyframeprefix+"animation: 1ms "+animationName+"; "}window.addResizeListener=function(element,fn){attachEvent?element.attachEvent("onresize",fn):(element.__resizeTriggers__||("static"==getComputedStyle(element).position&&(element.style.position="relative"),createStyles(),element.__resizeLast__={},element.__resizeListeners__=[],(element.__resizeTriggers__=document.createElement("div")).className="resize-triggers",element.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',element.appendChild(element.__resizeTriggers__),resetTriggers(element),element.addEventListener("scroll",scrollListener,!0),animationstartevent&&element.__resizeTriggers__.addEventListener(animationstartevent,function(e){e.animationName==animationName&&resetTriggers(element)})),element.__resizeListeners__.push(fn))},window.removeResizeListener=function(element,fn){attachEvent?element.detachEvent("onresize",fn):(element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1),element.__resizeListeners__.length||(element.removeEventListener("scroll",scrollListener),element.__resizeTriggers__=!element.removeChild(element.__resizeTriggers__)))}}(),function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function addElements(newElements,ownerDocument){var elements=html5.elements;"string"!=typeof elements&&(elements=elements.join(" ")),"string"!=typeof newElements&&(newElements=newElements.join(" ")),html5.elements=elements+" "+newElements,shivDocument(ownerDocument)}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-:]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return void 0===frag.cloneNode||void 0===frag.createDocumentFragment||void 0===frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==options.shivCSS,supportsUnknownElements:supportsUnknownElements,shivMethods:!1!==options.shivMethods,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5,shivDocument(document),"object"==typeof module&&module.exports&&(module.exports=html5)}("undefined"!=typeof window?window:this,document),window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css",style.id="matchmediajs-test",script.parentNode.insertBefore(style,script),info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle,styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";return style.styleSheet?style.styleSheet.cssText=text:style.textContent=text,"1px"===info.width}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}()),function(global){"use strict";function noop(){}function safeActiveElement(){try{return document.activeElement}catch(err){}}function inArray(arr,item){for(var i=0,len=arr.length;i<len;i++)if(arr[i]===item)return!0;return!1}function addEventListener(elem,event,fn){return elem.addEventListener?elem.addEventListener(event,fn,!1):elem.attachEvent?elem.attachEvent("on"+event,fn):void 0}function moveCaret(elem,index){var range;elem.createTextRange?(range=elem.createTextRange(),range.move("character",index),range.select()):elem.selectionStart&&(elem.focus(),elem.setSelectionRange(index,index))}function changeType(elem,type){try{return elem.type=type,!0}catch(e){return!1}}function handleElem(node,callback){if(node&&node.getAttribute(ATTR_CURRENT_VAL))callback(node);else for(var elem,handleInputs=node?node.getElementsByTagName("input"):inputs,handleTextareas=node?node.getElementsByTagName("textarea"):textareas,handleInputsLength=handleInputs?handleInputs.length:0,handleTextareasLength=handleTextareas?handleTextareas.length:0,len=handleInputsLength+handleTextareasLength,i=0;i<len;i++)elem=i<handleInputsLength?handleInputs[i]:handleTextareas[i-handleInputsLength],callback(elem)}function disablePlaceholders(node){handleElem(node,hidePlaceholder)}function enablePlaceholders(node){handleElem(node,showPlaceholder)}function hidePlaceholder(elem,keydownValue){var valueChanged=!!keydownValue&&elem.value!==keydownValue,isPlaceholderValue=elem.value===elem.getAttribute(ATTR_CURRENT_VAL);if((valueChanged||isPlaceholderValue)&&"true"===elem.getAttribute(ATTR_ACTIVE)){elem.removeAttribute(ATTR_ACTIVE),elem.value=elem.value.replace(elem.getAttribute(ATTR_CURRENT_VAL),""),elem.className=elem.className.replace(classNameRegExp,"");var maxLength=elem.getAttribute(ATTR_MAXLENGTH);parseInt(maxLength,10)>=0&&(elem.setAttribute("maxLength",maxLength),elem.removeAttribute(ATTR_MAXLENGTH));var type=elem.getAttribute(ATTR_INPUT_TYPE);return type&&(elem.type=type),!0}return!1}function showPlaceholder(elem){var val=elem.getAttribute(ATTR_CURRENT_VAL);if(""===elem.value&&val){elem.setAttribute(ATTR_ACTIVE,"true"),elem.value=val,elem.className+=" "+placeholderClassName;elem.getAttribute(ATTR_MAXLENGTH)||(elem.setAttribute(ATTR_MAXLENGTH,elem.maxLength),elem.removeAttribute("maxLength"));return elem.getAttribute(ATTR_INPUT_TYPE)?elem.type="text":"password"===elem.type&&changeType(elem,"text")&&elem.setAttribute(ATTR_INPUT_TYPE,"password"),!0}return!1}function makeFocusHandler(elem){return function(){hideOnInput&&elem.value===elem.getAttribute(ATTR_CURRENT_VAL)&&"true"===elem.getAttribute(ATTR_ACTIVE)?moveCaret(elem,0):hidePlaceholder(elem)}}function makeBlurHandler(elem){return function(){showPlaceholder(elem)}}function makeSubmitHandler(form){return function(){disablePlaceholders(form)}}function makeKeydownHandler(elem){return function(e){if(keydownVal=elem.value,"true"===elem.getAttribute(ATTR_ACTIVE)&&keydownVal===elem.getAttribute(ATTR_CURRENT_VAL)&&inArray(badKeys,e.keyCode))return e.preventDefault&&e.preventDefault(),!1}}function makeKeyupHandler(elem){return function(){hidePlaceholder(elem,keydownVal),""===elem.value&&(elem.blur(),moveCaret(elem,0))}}function makeClickHandler(elem){return function(){elem===safeActiveElement()&&elem.value===elem.getAttribute(ATTR_CURRENT_VAL)&&"true"===elem.getAttribute(ATTR_ACTIVE)&&moveCaret(elem,0)}}function newElement(elem){var form=elem.form;form&&"string"==typeof form&&(form=document.getElementById(form),form.getAttribute(ATTR_FORM_HANDLED)||(addEventListener(form,"submit",makeSubmitHandler(form)),form.setAttribute(ATTR_FORM_HANDLED,"true"))),addEventListener(elem,"focus",makeFocusHandler(elem)),addEventListener(elem,"blur",makeBlurHandler(elem)),hideOnInput&&(addEventListener(elem,"keydown",makeKeydownHandler(elem)),addEventListener(elem,"keyup",makeKeyupHandler(elem)),addEventListener(elem,"click",makeClickHandler(elem))),elem.setAttribute(ATTR_EVENTS_BOUND,"true"),elem.setAttribute(ATTR_CURRENT_VAL,placeholder),(hideOnInput||elem!==safeActiveElement())&&showPlaceholder(elem)}var test=document.createElement("input"),nativeSupport=void 0!==test.placeholder;if(global.Placeholders={nativeSupport:nativeSupport,disable:nativeSupport?noop:disablePlaceholders,enable:nativeSupport?noop:enablePlaceholders},!nativeSupport){var keydownVal,validTypes=["text","search","url","tel","email","password","number","textarea"],badKeys=[27,33,34,35,36,37,38,39,40,8,46],placeholderClassName="placeholdersjs",classNameRegExp=new RegExp("(?:^|\\s)"+placeholderClassName+"(?!\\S)"),ATTR_CURRENT_VAL="data-placeholder-value",ATTR_ACTIVE="data-placeholder-active",ATTR_INPUT_TYPE="data-placeholder-type",ATTR_FORM_HANDLED="data-placeholder-submit",ATTR_EVENTS_BOUND="data-placeholder-bound",ATTR_MAXLENGTH="data-placeholder-maxlength",head=document.getElementsByTagName("head")[0],root=document.documentElement,Placeholders=global.Placeholders,inputs=document.getElementsByTagName("input"),textareas=document.getElementsByTagName("textarea"),hideOnInput="false"===root.getAttribute("data-placeholder-focus"),liveUpdates="false"!==root.getAttribute("data-placeholder-live"),styleElem=document.createElement("style");styleElem.type="text/css";var styleRules=document.createTextNode("."+placeholderClassName+" {color:#ccc;}");styleElem.styleSheet?styleElem.styleSheet.cssText=styleRules.nodeValue:styleElem.appendChild(styleRules),head.insertBefore(styleElem,head.firstChild);for(var placeholder,elem,i=0,len=inputs.length+textareas.length;i<len;i++)elem=i<inputs.length?inputs[i]:textareas[i-inputs.length],(placeholder=elem.attributes.placeholder)&&(placeholder=placeholder.nodeValue)&&inArray(validTypes,elem.type)&&newElement(elem);var timer=setInterval(function(){for(var i=0,len=inputs.length+textareas.length;i<len;i++)elem=i<inputs.length?inputs[i]:textareas[i-inputs.length],placeholder=elem.attributes.placeholder,placeholder?(placeholder=placeholder.nodeValue)&&inArray(validTypes,elem.type)&&(elem.getAttribute(ATTR_EVENTS_BOUND)||newElement(elem),(placeholder!==elem.getAttribute(ATTR_CURRENT_VAL)||"password"===elem.type&&!elem.getAttribute(ATTR_INPUT_TYPE))&&("password"===elem.type&&!elem.getAttribute(ATTR_INPUT_TYPE)&&changeType(elem,"text")&&elem.setAttribute(ATTR_INPUT_TYPE,"password"),elem.value===elem.getAttribute(ATTR_CURRENT_VAL)&&(elem.value=placeholder),elem.setAttribute(ATTR_CURRENT_VAL,placeholder))):elem.getAttribute(ATTR_ACTIVE)&&(hidePlaceholder(elem),elem.removeAttribute(ATTR_CURRENT_VAL));liveUpdates||clearInterval(timer)},100);addEventListener(global,"beforeunload",function(){Placeholders.disable()})}}(this),function(){var lastTime,vendors,x;for(lastTime=0,vendors=["webkit","moz"],x=0;x<vendors.length&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"],++x;window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime,id,timeToCall;return currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall),lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),function($){"use strict";var MK=window.MK||{};MK.core={};var _loadedDependencies=[],_inQueue={};MK.core.initAll=function(scope){var $el=$(scope).find(".js-el"),$components=$el.filter("[data-mk-component]"),component=null,init=function(name,el){var $el=$(el);$el.data("init-"+name)||("function"!=typeof MK.component[name]?console.log("Component init error: ",name):(component=new MK.component[name](el),component.init(),$el.data("init-"+name,!0),MK.utils.eventManager.publish("component-inited")))};$components.each(function(){var self=this,$this=$(this),names=$this.data("mk-component");if("string"==typeof names){init(names,self)}else names.forEach(function(name){init(name,self)})})},MK.core.loadDependencies=function(dependencies,callback){var _callback=callback||function(){};if(!dependencies)return void _callback();var newDeps=dependencies.map(function(dep){return-1===_loadedDependencies.indexOf(dep)&&(void 0===_inQueue[dep]?dep:(_inQueue[dep].push(_callback),!0))});if(!0!==newDeps[0]){if(!1===newDeps[0])return void _callback();var queue=newDeps.map(function(script){return _inQueue[script]=[_callback],$.getCachedScript(script)}),onLoad=function(){newDeps.map(function(loaded){_inQueue[loaded].forEach(function(callback){callback()}),delete _inQueue[loaded],_loadedDependencies.push(loaded)})};$.when.apply(null,queue).done(onLoad)}},MK.core.path={theme:mk_theme_dir,plugins:mk_theme_js_path+"/plugins/async/min/",ajaxUrl:window.PHP.ajax}}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.actions={},MK.utils.actions.activate=function(el){$(el).addClass("is-active")},MK.utils.actions.deactivate=function(el){$(el).removeClass("is-active")}}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.browser=function(){var dataBrowser=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}],versionSearchString=null,searchVersion=function(dataString){var index=dataString.indexOf(versionSearchString);if(-1!==index){var rv=dataString.indexOf("rv:");return"Trident"===versionSearchString&&-1!==rv?parseFloat(dataString.substring(rv+3)):parseFloat(dataString.substring(index+versionSearchString.length+1))}},name=function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;if(versionSearchString=data[i].subString,-1!==dataString.indexOf(data[i].subString))return data[i].identity}}(dataBrowser)||"Other",version=searchVersion(navigator.userAgent)||searchVersion(navigator.appVersion)||"Unknown";return $("html").addClass(name).addClass(name+version),{name:name,version:version}}(),MK.utils.OS=function(){return-1!=navigator.appVersion.indexOf("Win")?"Windows":-1!=navigator.appVersion.indexOf("Mac")?"OSX":-1!=navigator.appVersion.indexOf("X11")?"UNIX":-1!=navigator.appVersion.indexOf("Linux")?"Linux":void 0}(),MK.utils.isMobile=function(){return function(){return navigator.userAgent.match(/Android/i)}()||function(){return navigator.userAgent.match(/BlackBerry/i)}()||function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}()||function(){return navigator.userAgent.match(/Opera Mini/i)}()||function(){return navigator.userAgent.match(/IEMobile/i)}()||matchMedia("(max-width: 1024px)").matches},MK.utils.isResponsiveMenuState=function(){return window.matchMedia("(max-width: "+mk_responsive_nav_width+"px)").matches},MK.utils.getUrlParameter=function(sParam){var sParameterName,i,sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split("&");for(i=0;i<sURLVariables.length;i++)if(sParameterName=sURLVariables[i].split("="),sParameterName[0]===sParam)return void 0===sParameterName[1]||sParameterName[1]},MK.utils.isSmoothScroll=function(){return"true"===mk_smooth_scroll}()}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.eventManager={},MK.utils.eventManager.subscribe=function(evt,func){$(this).on(evt,func)},MK.utils.eventManager.unsubscribe=function(evt,func){$(this).off(evt,func)},MK.utils.eventManager.publish=function(evt,params){$(this).trigger(evt,[params])}}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.fullscreen={},MK.utils.launchIntoFullscreen=function(element){element.requestFullscreen?element.requestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.webkitRequestFullscreen?element.webkitRequestFullscreen():element.msRequestFullscreen&&element.msRequestFullscreen()},MK.utils.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.misc={},MK.utils.offsets=function($els){return $.map($els,function(el){return $(el).offset().top})},MK.utils.nextHigherVal=function(val,arr){var i=0,higher=null,check=function(){val>arr[i]?(i+=1,check()):higher=arr[i]};return check(),higher},MK.utils.throttle=function(delay,fn){var last,deferTimer;return function(){var context=this,args=arguments,now=+new Date;last&&now<last+delay?(clearTimeout(deferTimer),deferTimer=setTimeout(function(){last=now,fn.apply(context,args)},delay)):(last=now,fn.apply(context,args))}}}(jQuery),function($){"use strict";var MK=window.MK||{};MK.utils=window.MK.utils||{},MK.utils.scrollTo=function(offset){$("html, body").stop().animate({scrollTop:offset},{duration:1200,easing:"easeInOutExpo"})},MK.utils.scrollToAnchor=function(hash){var $target=$(hash);if($target.length){var offset=$target.offset().top;offset-=MK.val.offsetHeaderHeight(offset),"#top-of-page"===hash?window.history.replaceState(void 0,void 0," "):window.history.replaceState(void 0,void 0,hash),MK.utils.scrollTo(offset)}},MK.utils.scroll=function(){function preventDefault(e){e=e||window.event,e.preventDefault(),e.returnValue=!1}function wheel(e){preventDefault(e)}function keydown(e){for(var i=keys.length;i--;)if(e.keyCode===keys[i])return void preventDefault(e)}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=wheel,document.onkeydown=keydown}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var keys=[38,40];return{disable:disableScroll,enable:enableScroll}}(),MK.utils.detectAnchor=function(el){var $this=$(el),loc=window.location,href=(loc.origin,loc.pathname,$this.attr("href")),linkSplit=href?href.split("#"):"",hrefHash=(linkSplit[0]&&linkSplit[0],linkSplit[1]?linkSplit[1]:"");return void 0!==hrefHash&&""!==hrefHash&&"#"+hrefHash},MK.utils.scrollToURLHash=function(){var loc=window.location,hash=loc.hash;hash.length&&hash.substring(1).length&&(hash=hash.replace("!loading",""),setTimeout(function(){MK.utils.scrollToAnchor(hash)},1e3),setTimeout(function(){window.history.replaceState(void 0,void 0,hash)},1001))},MK.utils.scrollSpy=function(toSpy,config){var $window=$(window),container=document.getElementById("mk-theme-container"),isObj="object"==typeof toSpy,offset=isObj?MK.val.dynamicOffset(toSpy,config.position,config.threshold):function(){return toSpy},height=isObj?MK.val.dynamicHeight(toSpy):function(){return 0},cacheVals={},_p="before",checkPosition=function(){var s=MK.val.scroll(),o=offset(),h=height();s<o&&"before"!==_p?(config.before&&config.before(),_p="before"):s>=o&&s<=o+h&&"active"!==_p?(config.active&&config.active(o),_p="active"):s>o+h&&"after"!==_p&&(config.after&&config.after(o+h),_p="after")},rAF=function(){window.requestAnimationFrame(checkPosition)},exportVals=function(){return cacheVals},updateCache=function(){var o=offset(),h=height();cacheVals={before:o-$window.height(),active:o,after:o+h}};config.cache&&config.cache(exportVals),checkPosition(),$window.on("load",checkPosition),$window.on("resize",checkPosition),$window.on("mouseup",checkPosition),window.addResizeListener(container,checkPosition),$window.on("scroll",rAF),updateCache(),$window.on("load",updateCache),$window.on("resize",updateCache),window.addResizeListener(container,updateCache)}}(jQuery),function($){"use strict";$("body").on("click",".js-taphover",function(e){var $link=$(e.currentTarget),$target=$(e.target);if($link.hasClass("hover"))return!0;MK.utils.isMobile()&&(!$target.hasClass("hover-icon")&&!$target.closest(".hover-icon").length||$target.closest(".js-taphover").hasClass("hover")||e.preventDefault(),$link.addClass("hover"),$(".js-taphover").not(e.currentTarget).removeClass("hover"),e.stopPropagation())}),$(document).on("click",function(e){$(".js-taphover").removeClass("hover")})}(jQuery),function($){"use strict";function calc(){wrapperHeight=$wrapper.height(),wrapperWidth=$wrapper.width(),wrapperAspectRatio=wrapperHeight/wrapperWidth*100}function apply(){var width=wrapperAspectRatio/baseAspectRatio*100,widthOverflow=width-100;$videoHolder.css({"padding-top":wrapperAspectRatio+"%",width:width+"%",left:-widthOverflow/2+"%"})}function reset(){$videoHolder.css({"padding-top":baseAspectRatio+"%",width:"100%",left:0})}function setCover(){reset(),calc(),wrapperAspectRatio>baseAspectRatio&&apply()}var wrapperHeight,wrapperWidth,wrapperAspectRatio,$videoHolder=$(".mk-center-video"),$wrapper=$videoHolder.parent(),baseAspectRatio=56.25;$(window).on("load",setCover),$(window).on("resize",setCover)}(jQuery),function($){"use strict";var MK=window.MK||{};MK.val={},MK.val.scroll=function(){var offset=0,$window=$(window),hasPageYOffset=void 0!==window.pageYOffset,body=document.documentElement||document.body.parentNode||document.body,update=function(){offset=hasPageYOffset?window.pageYOffset:body.scrollTop},rAF=function(){window.requestAnimationFrame(update)};return update(),$window.on("load",update),$window.on("resize",update),$window.on("scroll",rAF),function(){return offset}}(),MK.val.viewportPercentHeight=function(percent){return $(window).height()*(percent/100)},MK.val.adminbarHeight=function(){return php.hasAdminbar?window.matchMedia("( max-width: 782px )").matches?46:32:0},MK.val.stickyOffset=function(){var $header=$(".mk-header").not(".js-header-shortcode").first();if(!$header.length)return function(){return 0};var $toolbar=$header.find(".mk-header-toolbar"),config=$header.data(),hasToolbar=$toolbar.length,toolbarHeight=hasToolbar?$toolbar.height():0,isVertical=4===config.headerStyle,headerHeight=isVertical?0:config.height,type="number"==typeof config.stickyOffset&&"number"||"header"===config.stickyOffset&&"header"||"percent",stickyOffset=0,setOffset=function(){toolbarHeight=hasToolbar?$toolbar.height():0,MK.utils.isResponsiveMenuState()&&(headerHeight=config.responsiveHeight,hasToolbar&&$toolbar.is(":hidden")&&(toolbarHeight=0)),"number"===type?stickyOffset=config.stickyOffset:"header"===type?stickyOffset=headerHeight+toolbarHeight+MK.val.adminbarHeight():"percent"===type&&(stickyOffset=MK.val.viewportPercentHeight(parseInt(config.stickyOffset)))};return setOffset(),$(window).on("resize",setOffset),function(){return stickyOffset}}(),MK.val.offsetHeaderHeight=function(){var $header=$(".mk-header").not(".js-header-shortcode").first();if(!$header.length)return function(){return 0};var $toolbar=$header.find(".mk-header-toolbar"),config=$header.data(),stickyHeight=config.stickyHeight,desktopHeight=config.height,mobileHeight=config.responsiveHeight,isTransparent=$header.hasClass("transparent-header"),isSticky=config.stickyStyle.length,isStickyLazy="lazy"===config.stickyStyle,isVertical=4===config.headerStyle,hasToolbar=$toolbar.length,toolbarHeight=hasToolbar?$toolbar.height():0,$innerHeader=$header.find(".mk-header-inner"),headerHeight=($innerHeader.length,function(offset){toolbarHeight=hasToolbar?$toolbar.height():0;var stickyOffset=MK.val.stickyOffset();if(MK.utils.isResponsiveMenuState()){hasToolbar&&$toolbar.is(":hidden")&&(toolbarHeight=0);var headerBorder=0;headerBorder=parseInt($innerHeader.css("border-bottom-width"));var totalHeight=mobileHeight+MK.val.adminbarHeight()+toolbarHeight+headerBorder;return offset<=totalHeight?totalHeight:MK.val.adminbarHeight()}if(offset<=stickyOffset)return isVertical?hasToolbar?toolbarHeight+MK.val.adminbarHeight():MK.val.adminbarHeight():isTransparent?MK.val.adminbarHeight():desktopHeight+toolbarHeight+MK.val.adminbarHeight();if(offset>stickyOffset){if(isVertical)return MK.val.adminbarHeight();if(!isSticky)return MK.val.adminbarHeight();if(isStickyLazy)return MK.val.adminbarHeight();if(isSticky)return stickyHeight+MK.val.adminbarHeight()}return 0});return function(offset){return headerHeight(offset-MK.val.adminbarHeight())}}(),MK.val.dynamicOffset=function(el,position,threshold){var $window=$(window),$el=$(el),pos=position||"top",thr=threshold||0,container=document.getElementById("mk-theme-container"),currentPos=0,offset=0,winH=0,rect=0,x=0,update=function(){winH=$window.height(),rect=$el[0].getBoundingClientRect(),offset=rect.top+MK.val.scroll(),x="top"===pos?MK.val.offsetHeaderHeight(offset):winH+(rect.height-thr),currentPos=offset-x-1};return update(),$window.on("load",update),$window.on("resize",update),window.addResizeListener(container,update),function(){return currentPos}},MK.val.dynamicHeight=function(el){var $window=$(window),$el=$(el),container=document.getElementById("mk-theme-container"),currentHeight=0,update=function(){currentHeight=$el.outerHeight()};return update(),$window.on("load",update),$window.on("resize",update),window.addResizeListener(container,update),function(){return currentHeight}}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(1-Math.pow(2,-10*b/e))+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(2-Math.pow(2,-10*--b))+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*((1+(f*=1.525))*b-f)+c:d/2*((b-=2)*b*((1+(f*=1.525))*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(s,H,f,w){var K=f("html"),q=f(s),p=f(H),b=f.fancybox=function(){b.open.apply(this,arguments)},J=navigator.userAgent.match(/msie/i),C=null,t=H.createTouch!==w,u=function(a){return a&&a.hasOwnProperty&&a instanceof f},r=function(a){return a&&"string"===f.type(a)},F=function(a){return r(a)&&0<a.indexOf("%")},m=function(a,d){var e=parseInt(a,10)||0;return d&&F(a)&&(e*=b.getViewport()[d]/100),Math.ceil(e)},x=function(a,b){return m(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!t,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(J?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=u(a)?f(a).get():[a]),f.each(a,function(e,c){var g,h,k,n,m,l={};"object"===f.type(c)&&(c.nodeType&&(c=f(c)),u(c)?(l={href:c.data("fancybox-href")||c.attr("href"),title:f("<div/>").text(c.data("fancybox-title")||c.attr("title")).html(),isDom:!0,element:c},f.metadata&&f.extend(!0,l,c.metadata())):l=c),g=d.href||l.href||(r(c)?c:null),h=d.title!==w?d.title:l.title||"",n=(k=d.content||l.content)?"html":d.type||l.type,!n&&l.isDom&&((n=c.data("fancybox-type"))||(n=(n=c.prop("class").match(/fancybox\.(\w+)/))?n[1]:null)),r(g)&&(n||(b.isImage(g)?n="image":b.isSWF(g)?n="swf":"#"===g.charAt(0)?n="inline":r(c)&&(n="html",k=c)),"ajax"===n&&(m=g.split(/\s+/,2),g=m.shift(),m=m.shift())),k||("inline"===n?g?k=f(r(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):l.isDom&&(k=c):"html"===n?k=g:n||g||!l.isDom||(n="inline",k=c)),f.extend(l,{href:g,type:n,content:k,title:h,selector:m}),a[e]=l}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==w&&(b.opts.keys=!!d.keys&&f.extend({},b.defaults.keys,d.keys)),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1===b.trigger("onCancel")||(b.hideLoading(),a&&(b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a)))},close:function(a){b.cancel(),!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(b.isOpen&&!0!==a?(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]()):(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d(),b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d(),p.unbind(".player"),b.player.isActive=!1,b.trigger("onPlayEnd")};!0===a||!b.player.isActive&&!1!==a?b.current&&(b.current.loop||b.current.index<b.group.length-1)&&(b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")):c()},next:function(a){var d=b.current;d&&(r(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(r(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=m(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==w&&(b.cancel(),b._start(a)))},reposition:function(a,d){var l,e=b.current,c=e?e.wrap:null;c&&(l=b._getPosition(d),a&&"scroll"===a.type?(delete l.position,c.stop(!0,!0).animate(l,200)):(c.css(l),e.pos=f.extend({},e.dim,l)))},update:function(a){var d=a&&a.originalEvent&&a.originalEvent.type,e=!d||"orientationchange"===d;e&&(clearTimeout(C),C=null),b.isOpen&&!C&&(C=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),C=null)},e&&!t?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,t&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading"),f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading(),a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body"),p.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),b.cancel())}),b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:.5*d.h+d.y,left:.5*d.w+d.x})),b.trigger("onLoading")},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:q.scrollLeft(),y:q.scrollTop()};return a&&a.length?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=t&&s.innerWidth?s.innerWidth:q.width(),d.h=t&&s.innerHeight?s.innerHeight:q.height()),d},unbindEvents:function(){b.wrap&&u(b.wrap)&&b.wrap.unbind(".fb"),p.unbind(".fb"),q.unbind(".fb")},bindEvents:function(){var d,a=b.current;a&&(q.bind("orientationchange.fb"+(t?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,l=e.target||e.srcElement;if(27===c&&b.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||l&&(l.type||f(l).is("[contenteditable]"))||f.each(d,function(d,l){return 1<a.group.length&&l[c]!==w?(b[d](l[c]),e.preventDefault(),!1):-1<f.inArray(c,l)?(b[d](),e.preventDefault(),!1):void 0})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,l,g){for(var h=f(d.target||null),k=!1;h.length&&!(k||h.is(".fancybox-skin")||h.is(".fancybox-wrap"));)k=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();0!==c&&!k&&1<b.group.length&&!a.canShrink&&(0<g||0<l?b.prev(0<g?"down":"left"):(0>g||0>l)&&b.next(0>g?"up":"right"),d.preventDefault())}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){if(f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1))),!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){e&&b.helpers[d]&&f.isFunction(b.helpers[d][a])&&b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)})}p.trigger(a)},isImage:function(a){return r(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return r(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var e,c,d={};if(a=m(a),!(e=b.group[a]||null))return!1;if(d=f.extend(!0,{},b.opts,e),e=d.margin,c=d.padding,"number"===f.type(e)&&(d.margin=[e,e,e,e]),"number"===f.type(c)&&(d.padding=[c,c,c,c]),d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),d.autoSize&&(d.autoWidth=d.autoHeight=!0),"auto"===d.width&&(d.autoWidth=!0),"auto"===d.height&&(d.autoHeight=!0),d.group=b.group,d.index=a,b.coming=d,!1===b.trigger("beforeLoad"))b.coming=null;else{if(c=d.type,e=d.href,!c)return b.coming=null,!(!b.current||!b.router||"jumpto"===b.router)&&(b.current.index=a,b[b.router](b.direction));if(b.isActive=!0,"image"!==c&&"swf"!==c||(d.autoHeight=d.autoWidth=!1,d.scrolling="visible"),"image"===c&&(d.aspectRatio=!0),"iframe"===c&&t&&(d.scrolling="scroll"),d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(t?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body"),f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)}),f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))}),b.trigger("onReady"),"inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error}),b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,b.coming.width=this.width/b.opts.pixelRatio,b.coming.height=this.height/b.opts.pixelRatio,b._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,b._error("image")},a.src=b.coming.href,!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading(),b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",t?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}}),a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1),t||f(this).bind("load.fb",b.update),f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),b._afterLoad()})),a.content=d.appendTo(a.inner),a.iframe.preload||b._afterLoad()},_preloadImages:function(){var f,g,a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var e,c,l,g,h,a=b.coming,d=b.current;if(b.hideLoading(),a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{switch(d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),b.unbindEvents(),e=a.content,c=a.type,l=a.scrolling,f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d}),g=a.href,c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace(/\{href\}/g,g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>',h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}u(e)&&e.parent().is(a.inner)||a.inner.append(e),b.trigger("beforeShow"),a.inner.css("overflow","yes"===l?"scroll":"no"===l?"hidden":l),b._setDimension(),b.reposition(),b.isOpen=!1,b.coming=null,b.bindEvents(),b.isOpened?d.prevMethod&&b.transitions[d.prevMethod]():f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),b.transitions[b.isOpened?a.nextMethod:a.openMethod](),b._preloadImages()}},_setDimension:function(){var w,A,u,D,B,G,C,E,I,a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,l=b.skin,g=b.inner,h=b.current,c=h.width,k=h.height,n=h.minWidth,v=h.minHeight,p=h.maxWidth,q=h.maxHeight,t=h.scrolling,r=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,z=m(y[1]+y[3]),s=m(y[0]+y[2]);if(e.add(l).add(g).width("auto").height("auto").removeClass("fancybox-tmp"),y=m(l.outerWidth(!0)-l.width()),w=m(l.outerHeight(!0)-l.height()),A=z+y,u=s+w,D=F(c)?(a.w-A)*m(c)/100:c,B=F(k)?(a.h-u)*m(k)/100:k,"iframe"===h.type){if(I=h.content,h.autoHeight&&1===I.data("ready"))try{I[0].contentWindow.document.location&&(g.width(D).height(9999),G=I.contents().find("body"),r&&G.css("overflow-x","hidden"),B=G.outerHeight(!0))}catch(H){}}else(h.autoWidth||h.autoHeight)&&(g.addClass("fancybox-tmp"),h.autoWidth||g.width(D),h.autoHeight||g.height(B),h.autoWidth&&(D=g.width()),h.autoHeight&&(B=g.height()),g.removeClass("fancybox-tmp"));if(c=m(D),k=m(B),E=D/B,n=m(F(n)?m(n,"w")-A:n),p=m(F(p)?m(p,"w")-A:p),v=m(F(v)?m(v,"h")-u:v),q=m(F(q)?m(q,"h")-u:q),G=p,C=q,h.fitToView&&(p=Math.min(a.w-A,p),q=Math.min(a.h-u,q)),A=a.w-z,s=a.h-s,h.aspectRatio?(c>p&&(c=p,k=m(c/E)),k>q&&(k=q,c=m(k*E)),c<n&&(c=n,k=m(c/E)),k<v&&(k=v,c=m(k*E))):(c=Math.max(n,Math.min(c,p)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),k=g.height()),k=Math.max(v,Math.min(k,q))),h.fitToView)if(g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height(),h.aspectRatio)for(;(a>A||z>s)&&c>n&&k>v&&!(19<d++);)k=Math.max(v,Math.min(q,k-10)),c=m(k*E),c<n&&(c=n,k=m(c/E)),c>p&&(c=p,k=m(c/E)),g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height();else c=Math.max(n,Math.min(c,c-(a-A))),k=Math.max(v,Math.min(k,k-(z-s)));r&&"auto"===t&&k<B&&c+y+r<A&&(c+=r),g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height(),e=(a>A||z>s)&&c>n&&k>v,c=h.aspectRatio?c<G&&k<C&&c<D&&k<B:(c<G||k<C)&&(c<D||k<B),f.extend(h,{dim:{width:x(a),height:x(z)},origWidth:D,origHeight:B,canShrink:e,canExpand:c,wPadding:y,hPadding:w,wrapSpace:z-l.outerHeight(!0),skinSpace:l.height()-k}),!I&&h.autoHeight&&k>v&&k<q&&!c&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};return d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x),c.top=x(Math.max(c.top,c.top+(e.h-g)*d.topRatio)),c.left=x(Math.max(c.left,c.left+(e.w-f)*d.leftRatio)),c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){f(d.target).is("a")||f(d.target).parent().is("a")||(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault(),b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),a.loop||a.index!==a.group.length-1?b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play(!0)):b.play(!1))},_afterZoomOut:function(a){a=a||b.current,f(".fancybox-wrap").trigger("onReset").remove(),f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),b.trigger("afterClose",a)}}),b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,k=a.wPadding,n=b.getViewport();return!e&&a.isDom&&d.is(":visible")&&(e=d.find("img:first"),e.length||(e=d)),u(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=n.y+(n.h-g)*a.topRatio,c.left=n.x+(n.w-f)*a.leftRatio),("fixed"===b.wrap.css("position")||a.locked)&&(c.top-=n.y,c.left-=n.x),c={top:x(c.top-h*a.topRatio),left:x(c.left-k*a.leftRatio),width:x(f+k),height:x(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;"width"!==f&&"height"!==f||(e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](m("width"===f?c:c-g*e)),b.inner[f](m("width"===f?c:c-g*e-h*e)))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,l=f.extend({opacity:1},d);delete l.position,c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=.1)):"fade"===e&&(d.opacity=.1),b.wrap.css(d).animate(l,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=.1)),b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var g,a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction;e.opacity=.1,"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=x(m(e[g])-200),c[g]="+=200px"):(e[g]=x(m(e[g])+200),c[g]="-=200px")),"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px"),a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}},b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!t,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){var d;a=f.extend({},this.defaults,a),this.overlay&&this.close(),d=b.coming?b.coming.parent:a.parent,this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(d&&d.lenth?d:"body"),this.fixed=!1,a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a),this.fixed||(q.bind("resize.overlay",f.proxy(this.update,this)),this.update()),a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1}),this.overlay.css(a.css).show()},close:function(){q.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH)),f(".fancybox-overlay").remove().hide(),f.extend(this,{overlay:null,fixed:!1})},update:function(){var b,a="100%";this.overlay.width(a).height("100%"),J?(b=Math.max(H.documentElement.offsetWidth,H.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>q.width()&&(a=p.width()),this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0),e||this.create(a),a.locked&&this.fixed&&b.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1),!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=q.scrollTop(),this.scrollH=q.scrollLeft(),this.el.addClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}},b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;if(f.isFunction(e)&&(e=e.call(d.element,d)),r(e)&&""!==f.trim(e)){switch(d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>"),c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),J&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}},f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",l=function(g){var l,m,h=f(this).blur(),k=d;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||h.is(".fancybox-wrap")||(l=a.groupAttr||"data-fancybox-group",m=h.attr(l),m||(l="rel",m=h.get(0)[l]),m&&""!==m&&"nofollow"!==m&&(h=c.length?f(c):e,h=h.filter("["+l+'="'+m+'"]'),k=h.index(this)),a.index=k,!1!==b.open(h,a)&&g.preventDefault())};return a=a||{},d=a.index||0,c&&!1!==a.live?p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",l):e.unbind("click.fb-start").bind("click.fb-start",l),this.filter("[data-fancybox-start=1]").trigger("click"),this},p.ready(function(){var a,d;f.scrollbarWidth===w&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();return a.remove(),b}),f.support.fixedPosition===w&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;return a.remove(),b}()),f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")}),a=f(s).width(),K.addClass("fancybox-lock-test"),d=f(s).width(),K.removeClass("fancybox-lock-test"),f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function($){"use strict";var format=function(url,rez,params){return params=params||"","object"===$.type(params)&&(params=$.param(params,!0)),$.each(rez,function(key,value){url=url.replace("$"+key,value||"")}),params.length&&(url+=(url.indexOf("?")>0?"&":"?")+params),url};$.fancybox.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(rez,params,obj){return obj.swf.flashVars="playerVars="+$.param(params,!0),"//www.metacafe.com/fplayer/"+rez[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(rez){return"//maps.google."+rez[1]+"/"+rez[3]+rez[4]+"&output="+(rez[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(opts,obj){var what,item,rez,params,url=obj.href||"",type=!1;for(what in opts)if(opts.hasOwnProperty(what)&&(item=opts[what],rez=url.match(item.matcher))){type=item.type,params=$.extend(!0,{},item.params,obj[what]||($.isPlainObject(opts[what])?opts[what].params:null)),url="function"===$.type(item.url)?item.url.call(this,rez,params,obj):format(item.url,rez,params);break}type&&(obj.href=url,obj.type=type,obj.autoHeight=!1)}}}(jQuery),function($,window,document,undefined){function CustomMenu(element,options){this.element=element,this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="MegaMenu",defaults={propertyName:"value"},menus=[];CustomMenu.prototype={isOpen:!1,timeout:null,init:function(){var that=this;$(this).each(function(index,menu){that.node=menu.element,that.addListeners(menu.element);var $menu=$(menu.element);$menu.addClass("dropdownJavascript"),menus.push(menu.element),$menu.find("ul > li").each(function(index,submenu){$(submenu).find("ul").length>0&&$(submenu).addClass("with-menu")})})},addListeners:function(menu){var that=this;$(menu).mouseover(function(e){that.handleMouseOver.call(that,e)}).mouseout(function(e){that.handleMouseOut.call(that,e)})},handleMouseOver:function(e){var that=this;this.clearTimeout();for(var item=e.target||e.srcElement;"LI"!=item.nodeName&&item!=this.node;)item=item.parentNode;"LI"==item.nodeName&&(this.toOpen=item,this.timeout=setTimeout(function(){that.open.call(that)},this.options.delay))},handleMouseOut:function(){var that=this;this.clearTimeout();var _delayOut=this.options.delay;_delayOut=400,this.timeout=setTimeout(function(){that.close.call(that)},_delayOut)},clearTimeout:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},open:function(){var that=this;this.isOpen=!0;var items=$(this.toOpen).parent().children("li");$(items).each(function(index,item){$(item).find("ul").each(function(index,submenu){if(item!=that.toOpen)$(item).removeClass("dropdownOpen"),that.close(item);else if(!$(item).hasClass("dropdownOpen")){$(item).addClass("dropdownOpen");for(var left=0,node=submenu;node;)left+=Math.abs(node.offsetLeft),node=node.offsetParent;var right=left+submenu.offsetWidth;$(submenu).outerHeight(),$(submenu).offset().top,$(window).scrollTop(),window.innerHeight;$(item).removeClass("dropdownRightToLeft"),left<0&&$(item).addClass("dropdownLeftToRight"),right>document.body.clientWidth&&$(item).addClass("dropdownRightToLeft")}})})},close:function(node){node||(this.isOpen=!1,node=this.node),$(node).find("li").each(function(index,item){$(item).removeClass("dropdownOpen")})}},$.fn[pluginName]=function(options){return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new CustomMenu(this,options))})}}(jQuery,window,document),function(window,document,undefined){function is(obj,type){return typeof obj===type}function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase()}).replace(/^-/,"")}function contains(str,substr){return!!~(""+str).indexOf(substr)}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function getBody(){var body=document.body;return body||(body=createElement(isSVG?"svg":"body"),body.fake=!0),body}function injectElementWithStyles(rule,callback,nodes,testnames){var style,ret,node,docOverflow,mod="modernizr",div=createElement("div"),body=getBody();if(parseInt(nodes,10))for(;nodes--;)node=createElement("div"),node.id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=createElement("style"),style.type="text/css",style.id="s"+mod,(body.fake?body:div).appendChild(style),body.appendChild(div),style.styleSheet?style.styleSheet.cssText=rule:style.appendChild(document.createTextNode(rule)),div.id=mod,body.fake&&(body.style.background="",body.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(body)),ret=callback(div,rule),body.fake?(body.parentNode.removeChild(body),docElement.style.overflow=docOverflow,docElement.offsetHeight):div.parentNode.removeChild(div),!!ret}function fnBind(fn,that){return function(){return fn.apply(that,arguments)}}function testDOMProps(props,obj,elem){var item;for(var i in props)if(props[i]in obj)return!1===elem?props[i]:(item=obj[props[i]],is(item,"function")?fnBind(item,elem||obj):item);return!1}function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return"-"+m1.toLowerCase()}).replace(/^ms-/,"-ms-")}function nativeTestProps(props,value){var i=props.length;if("CSS"in window&&"supports"in window.CSS){for(;i--;)if(window.CSS.supports(domToCSS(props[i]),value))return!0;return!1}if("CSSSupportsRule"in window){for(var conditionText=[];i--;)conditionText.push("("+domToCSS(props[i])+":"+value+")");return conditionText=conditionText.join(" or "),injectElementWithStyles("@supports ("+conditionText+") { #modernizr { position: absolute; } }",function(node){return"absolute"==getComputedStyle(node,null).position})}return undefined}function testProps(props,prefixed,value,skipValueTest){function cleanElems(){afterInit&&(delete mStyle.style,delete mStyle.modElem)}if(skipValueTest=!is(skipValueTest,"undefined")&&skipValueTest,!is(value,"undefined")){var result=nativeTestProps(props,value);if(!is(result,"undefined"))return result}for(var afterInit,i,propsLength,prop,before,elems=["modernizr","tspan","samp"];!mStyle.style&&elems.length;)afterInit=!0,mStyle.modElem=createElement(elems.shift()),mStyle.style=mStyle.modElem.style;for(propsLength=props.length,i=0;i<propsLength;i++)if(prop=props[i],before=mStyle.style[prop],contains(prop,"-")&&(prop=cssToDOM(prop)),mStyle.style[prop]!==undefined){if(skipValueTest||is(value,"undefined"))return cleanElems(),"pfx"!=prefixed||prop;try{mStyle.style[prop]=value}catch(e){}if(mStyle.style[prop]!=before)return cleanElems(),"pfx"!=prefixed||prop}return cleanElems(),!1}function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed,value,skipValueTest):(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),testDOMProps(props,prefixed,elem))}function testAllProps(prop,value,skipValueTest){return testPropsAll(prop,undefined,undefined,value,skipValueTest)}var classes=[],tests=[],ModernizrProto={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test])},0)},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options})},addAsyncTest:function(fn){tests.push({name:null,fn:fn})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes;var docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase();isSVG||function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function addElements(newElements,ownerDocument){var elements=html5.elements;"string"!=typeof elements&&(elements=elements.join(" ")),"string"!=typeof newElements&&(newElements=newElements.join(" ")),html5.elements=elements+" "+newElements,shivDocument(ownerDocument)}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName),!node.canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();data=data||getExpandoData(ownerDocument);for(var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-:]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return void 0===frag.cloneNode||void 0===frag.createDocumentFragment||void 0===frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==options.shivCSS,supportsUnknownElements:supportsUnknownElements,shivMethods:!1!==options.shivMethods,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5,shivDocument(document),"object"==typeof module&&module.exports&&(module.exports=html5)}(void 0!==window?window:this,document);var omPrefixes="Moz O ms Webkit",domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes;var cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var atRule=function(prop){var rule,length=prefixes.length,cssrule=window.CSSRule;if(void 0===cssrule)return undefined;if(!prop)return!1;if(prop=prop.replace(/^@/,""),(rule=prop.replace(/-/g,"_").toUpperCase()+"_RULE")in cssrule)return"@"+prop;for(var i=0;i<length;i++){var prefix=prefixes[i];if(prefix.toUpperCase()+"_"+rule in cssrule)return"@-"+prefix.toLowerCase()+"-"+prop}return!1};ModernizrProto.atRule=atRule;var testStyles=ModernizrProto.testStyles=injectElementWithStyles,modElem={elem:createElement("modernizr")};Modernizr._q.push(function(){delete modElem.elem});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style});ModernizrProto.testProp=function(prop,value,useValue){return testProps([prop],undefined,value,useValue)};ModernizrProto.testAllProps=testPropsAll;ModernizrProto.prefixed=function(prop,obj,elem){return 0===prop.indexOf("@")?atRule(prop):(-1!=prop.indexOf("-")&&(prop=cssToDOM(prop)),obj?testPropsAll(prop,obj,elem):testPropsAll(prop,"pfx"))};ModernizrProto.testAllProps=testAllProps,Modernizr.addTest("cssanimations",testAllProps("animationName","a",!0)),Modernizr.addTest("csstransitions",testAllProps("transition","all",!0)),Modernizr.addTest("touchevents",function(){var bool;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)bool=!0;else{var query=["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");testStyles(query,function(node){bool=9===node.offsetTop})}return bool}),function(){var featureNames,feature,aliasIdx,result,nameIdx,featureName,featureNameSplit;for(var featureIdx in tests)if(tests.hasOwnProperty(featureIdx)){if(featureNames=[],feature=tests[featureIdx],feature.name&&(featureNames.push(feature.name.toLowerCase()),feature.options&&feature.options.aliases&&feature.options.aliases.length))for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++)featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());for(result=is(feature.fn,"function")?feature.fn():feature.fn,nameIdx=0;nameIdx<featureNames.length;nameIdx++)featureName=featureNames[nameIdx],featureNameSplit=featureName.split("."),1===featureNameSplit.length?Modernizr[featureNameSplit[0]]=result:(!Modernizr[featureNameSplit[0]]||Modernizr[featureNameSplit[0]]instanceof Boolean||(Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]])),Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result),classes.push((result?"":"no-")+featureNameSplit.join("-"))}}(),function(classes){var className=docElement.className,classPrefix=Modernizr._config.classPrefix||"";if(isSVG&&(className=className.baseVal),Modernizr._config.enableJSClass){var reJS=new RegExp("(^|\\s)"+classPrefix+"no-js(\\s|$)");className=className.replace(reJS,"$1"+classPrefix+"js$2")}Modernizr._config.enableClasses&&(className+=" "+classPrefix+classes.join(" "+classPrefix),isSVG?docElement.className.baseVal=className:docElement.className=className)}(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document),function($,window,undefined){"use strict";var Modernizr=window.Modernizr,$body=$("body");$.DLMenu=function(options,element){this.$el=$(element),this._init(options)},$.DLMenu.defaults={animationClasses:{classin:"mk-vm-animate-in-"+mk_vertical_header_anim,classout:"mk-vm-animate-out-"+mk_vertical_header_anim},onLevelClick:function(el,name){return!1},onLinkClick:function(el,ev){return!1}},$.DLMenu.prototype={_init:function(options){this.options=$.extend(!0,{},$.DLMenu.defaults,options),this._config();var animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.animEndEventName=animEndEventNames[Modernizr.prefixed("animation")]+".dlmenu",this.transEndEventName=transEndEventNames[Modernizr.prefixed("transition")]+".dlmenu",this.animEndEventNameUnsufixed=animEndEventNames[Modernizr.prefixed("animation")],this.transEndEventNameUnsufixed=transEndEventNames[Modernizr.prefixed("transition")],this.supportAnimations=Modernizr.cssanimations,this.supportTransitions=Modernizr.csstransitions,this._initEvents()},_config:function(){this.open=!1,this.$trigger=this.$el.children(".mk-vm-trigger"),this.$menu=this.$el.children("ul.mk-vm-menu"),this.$menuitems=this.$menu.find("li:not(.mk-vm-back)"),this.$back=this.$menu.find("li.mk-vm-back")},_initEvents:function(){var self=this;$(".mk-vm-menuwrapper a").on("transitionend",function(event){event.stopPropagation()}),this.$menuitems.on("click.dlmenu","a",function(event){var $item=$(event.delegateTarget),$submenu=$(event.currentTarget).siblings("ul.sub-menu");if($submenu.length>0){var $flyin=$submenu.clone().css("opacity",0).insertAfter(self.$menu),onAnimationEndFn=function(){var $parent=$item.parents(".mk-vm-subviewopen:first");self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classout).addClass("mk-vm-subview"),$item.addClass("mk-vm-subviewopen"),$parent.removeClass("mk-vm-subviewopen").addClass("mk-vm-subview"),$flyin.remove();var $txt=$item.find(".meni-item-text");$txt.css("opacity",.99),setTimeout(function(){$txt.css("opacity",1)},0)};return setTimeout(function(){$flyin.addClass(self.options.animationClasses.classin),self.$menu.addClass(self.options.animationClasses.classout),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call(),self.options.onLevelClick($item,$item.children("a:first").text())}),!1}self.options.onLinkClick($item,event)}),this.$back.on("click.dlmenu",function(event){var $this=$(this),$submenu=$this.parents("ul.sub-menu:first"),$item=$submenu.parent(),$flyin=$submenu.clone().insertAfter(self.$menu),onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classin),$flyin.remove()};return setTimeout(function(){$flyin.addClass(self.options.animationClasses.classout),self.$menu.addClass(self.options.animationClasses.classin),self.supportAnimations?self.$menu.on(self.animEndEventName,onAnimationEndFn):onAnimationEndFn.call(),$item.removeClass("mk-vm-subviewopen");var $subview=$this.parents(".mk-vm-subview:first");$subview.is("li")&&$subview.addClass("mk-vm-subviewopen"),$subview.removeClass("mk-vm-subview")}),!1})},closeMenu:function(){this.open&&this._closeMenu()},_closeMenu:function(){var self=this,onTransitionEndFn=function(){self.$menu.off(self.transEndEventName),self._resetMenu()};this.$menu.removeClass("mk-vm-menuopen"),this.$menu.addClass("mk-vm-menu-toggle"),this.$trigger.removeClass("mk-vm-active"),this.supportTransitions?this.$menu.on(this.transEndEventName,onTransitionEndFn):onTransitionEndFn.call(),this.open=!1},openMenu:function(){this.open||this._openMenu()},_openMenu:function(){var self=this;$body.off("click").on("click.dlmenu",function(){self._closeMenu()}),this.$menu.addClass("mk-vm-menuopen mk-vm-menu-toggle").on(this.transEndEventName,function(){$(this).removeClass("mk-vm-menu-toggle")}),this.$trigger.addClass("mk-vm-active"),this.open=!0},_resetMenu:function(){this.$menu.removeClass("mk-vm-subview"),this.$menuitems.removeClass("mk-vm-subview mk-vm-subviewopen")}};var logError=function(message){window.console&&window.console.error(message)};$.fn.dlmenu=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"dlmenu");return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?void instance[options].apply(instance,args):void logError("no such method '"+options+"' for dlmenu instance"):void logError("cannot call methods on dlmenu prior to initialization; attempted to call method '"+options+"'")})}else this.each(function(){var instance=$.data(this,"dlmenu");instance?instance._init():instance=$.data(this,"dlmenu",new $.DLMenu(options,this))});return this}}(jQuery,window),function($){"use strict";$(".mk-main-navigation .menu-item-has-children").children("a").attr("aria-haspopup","true"),$(".animated-column-item").attr("aria-haspopup","true")}(jQuery),function($){"use strict";var Accordion=function(el){var timeout,that=this,$el=$(el),initial=$el.data("initialindex");this.$el=$el,this.$single=$("."+this.dom.single,$el),this.isExpendable="toggle-action"===$el.data("style"),this.bindClicks(),$(window).on("load",function(){-1!==initial&&that.show(that.$single.eq(initial))}),$(window).on("resize",function(){clearTimeout(timeout),timeout=setTimeout(that.bindClicks.bind(that),500)})};Accordion.prototype.dom={single:"mk-accordion-single",tab:"mk-accordion-tab",pane:"mk-accordion-pane",current:"current",mobileToggle:"mobile-false",mobileBreakPoint:767},Accordion.prototype.bindClicks=function(){if(this.$single.off("click","."+this.dom.tab),!window.matchMedia("(max-width: "+this.dom.mobileBreakPoint+"px)").matches||!this.$el.hasClass(this.dom.mobileToggle)){this.$single.on("click","."+this.dom.tab,this.handleEvent.bind(this));var $current=$("."+this.dom.current,this.$el);"none"===$("."+this.dom.pane,$current).css("display")&&this.show($current)}},Accordion.prototype.handleEvent=function(e){e.preventDefault(),e.stopPropagation();var $single=$(e.delegateTarget);$single.hasClass(this.dom.current)?this.isExpendable&&this.hide($single):this.show($single)},Accordion.prototype.hide=function($single){$single.removeClass(this.dom.current),$("."+this.dom.pane,$single).slideUp()},Accordion.prototype.show=function($single){if(!this.isExpendable){var that=this;this.hide($("."+this.dom.current,that.$el))}$single.addClass(this.dom.current),$("."+this.dom.pane,$single).slideDown()},$(".mk-accordion").each(function(){new Accordion(this)})}(jQuery),function($){"use strict";if("undefined"!=typeof Raphael){var SkillDiagram=function(el){this.el=el};SkillDiagram.prototype={init:function(){this.cacheElements(),this.createDiagram(),this.$skills.each(this.createSkill.bind(this))},cacheElements:function(){this.$el=$(this.el),this.$skills=this.$el.find(".mk-meter-arch"),this.config=this.$el.data(),this.config.radius=this.config.dimension/2},random:function(l,u){return Math.floor(Math.random()*(u-l+1)+l)},createDiagram:function(){var self=this;this.diagram=Raphael(this.el,this.config.dimension,this.config.dimension),this.diagram.setViewBox(0,0,this.config.dimension,this.config.dimension,!0),this.diagram.setSize("90%","90%"),this.diagram.circle(this.config.radius,this.config.radius,80).attr({stroke:"none",fill:this.config.circleColor}),this.title=this.diagram.text(this.config.radius,this.config.radius,this.config.defaultText).attr({font:"22px helvetica",fill:this.config.defaultTextColor}).toFront(),this.diagram.customAttributes.arc=function(value,color,rad){var v=3.6*value,alpha=360==v?359.99:v,r=self.random(91,240),a=(r-alpha)*Math.PI/180,b=r*Math.PI/180;return{path:[["M",self.config.radius+rad*Math.cos(b),self.config.radius-rad*Math.sin(b)],["A",rad,rad,0,+(alpha>180),1,self.config.radius+rad*Math.cos(a),self.config.radius-rad*Math.sin(a)]],stroke:color}}},createSkill:function(id,el){var self=this,$this=$(el),config=$this.data(),newRad=72+27*(id+1);this.diagram.path().attr({"stroke-width":28,arc:[config.percent,config.color,newRad]}).mouseover(function(){self.showSkill(this,config.name,config.percent)}).mouseout(function(){self.hideSkill(this)})},showSkill:function(self,name,percent){var $this=self;"VML"!=Raphael.type&&$this.toFront(),$this.animate({"stroke-width":50,opacity:.9},800,"elastic"),this.title.stop().animate({opacity:0},250,">",function(){this.attr({text:name+"\n"+percent+"%"}).animate({opacity:1},250,"<")}).toFront()},hideSkill:function(self){var $this=self,self=this;$this.stop().animate({"stroke-width":28,opacity:1},1e3,"elastic"),self.title.stop().animate({opacity:0},250,">",function(){self.title.attr({text:self.config.defaultText}).animate({opacity:1},250,"<")})}},$(".mk-skill-diagram").each(function(){new SkillDiagram(this).init()})}}(jQuery),function($){"use strict";function tabDelegation(){var $this=$(this);$this.data().tab&&$this.on("click","a",openInTab)}function openInTab(e){e.preventDefault();var $this=$(this),url=$this.attr("href");window.open(url,"_blank")}$('[data-js="tab-delegation"]').each(tabDelegation)}(jQuery),function($){"use strict";var Toggle=function(el){var that=this,$el=$(el);this.$el=$el,$(window).on("load",function(){$el.toggle(that.open.bind(that),that.close.bind(that))})};Toggle.prototype.dom={pane:"mk-toggle-pane",active:"active-toggle"},Toggle.prototype.open=function(){var $this=this.$el;$this.addClass(this.dom.active),$this.siblings("."+this.dom.pane).slideDown(200)},Toggle.prototype.close=function(){var $this=this.$el;$this.removeClass(this.dom.active),$this.siblings("."+this.dom.pane).slideUp(200)};var $toggle=$(".mk-toggle-title");$toggle.length&&$toggle.each(function(){new Toggle(this)})}(jQuery),window.ajaxInit=function(){mk_lightbox_init(),mk_click_events(),mk_social_share_global(),mk_gallery(),loop_audio_init()},window.ajaxDelayedInit=function(){mk_flexslider_init()},$(document).ready(function(){mk_lightbox_init(),mk_login_form(),mk_backgrounds_parallax(),mk_flexslider_init(),mk_event_countdown(),mk_skill_meter(),mk_milestone(),mk_ajax_search(),mk_hover_events(),mk_portfolio_ajax(),mk_love_post(),product_loop_add_cart(),mk_portfolio_widget(),mk_contact_form(),mk_blog_carousel(),mk_header_searchform(),mk_click_events(),mk_text_typer(),mk_tab_slider_func(),$(window).on("load",function(){mk_unfold_footer(),mk_accordion_toggles_tooltip(),mk_gallery(),mk_theatre_responsive_calculator(),mk_start_tour_resize(),mk_header_social_resize(),mk_page_section_social_video_bg(),loop_audio_init(),mk_one_page_scroller(),setTimeout(function(){mk_mobile_tablet_responsive_calculator()},300),console.log("ready for rock")});var onDebouncedResize=function(){mk_theatre_responsive_calculator(),mk_mobile_tablet_responsive_calculator(),mk_accordion_toggles_tooltip(),mk_start_tour_resize(),mk_header_social_resize(),setTimeout(function(){mk_unfold_footer()},300)},debounceResize=null;$(window).on("resize",function(){null!==debounceResize&&clearTimeout(debounceResize),debounceResize=setTimeout(onDebouncedResize,300)});var onDebouncedScroll=function(){mk_skill_meter(),mk_milestone()},debounceScroll=null;$(window).on("scroll",function(){null!==debounceScroll&&clearTimeout(debounceScroll),debounceScroll=setTimeout(onDebouncedScroll,100)}),MK.utils.isMobile()&&$("body").addClass("no-transform")}),function(){$(".mk-section-video video").each(function(){var mkVideo=this;this.onload=function(){setTimeout(function(){$(mkVideo).animate({opacity:1},300)},1e3)}()})}(),function($){function initialize(){var $gmap=$(".gmap_widget");$gmap.length&&"undefined"!=typeof google&&$gmap.each(run)}function run(){var $mapHolder=$(this),myLatlng=new google.maps.LatLng($mapHolder.data("latitude"),$mapHolder.data("longitude")),mapOptions=$mapHolder.data("options");mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP,mapOptions.center=myLatlng;var map=new google.maps.Map(this,mapOptions);new google.maps.Marker({position:myLatlng,map:map})}$(window).on("load",initialize)}(jQuery),function($){function run(){var options=$(this).data("options");options.template='<a class="featured-image '+options.tmp_col+'-columns" href="{{link}}" target="_'+options.tmp_target+'"><div class="item-holder"><img src="{{image}}" /><div class="image-hover-overlay"></div></div></a>',new Instafeed(options).run()}$(window).on("load",function(){var $feeds=$(".mk-instagram-feeds");$feeds.length&&$feeds.each(run)})}(jQuery),function($){$(window).on("load",function(){setTimeout(function(){$(".chrome-flipbox-backface-fix").removeClass("chrome-flipbox-backface-fix")},300)})}(jQuery),function($){$(window).on("load",function(){$(".vc_tta-tab a").on("click",function(){setTimeout(function(){$(window).trigger("resize")},100)})})}(jQuery),function($){$(window).on("load",function(){$("#mk-vm-menu .menu-item-has-children, #mk-vm-menu .mk-vm-back").on("mouseenter",function(){var $header_inner=$(this).closest(".mk-header-inner"),$header_inner_height=$header_inner.outerHeight(),$header_bg=$header_inner.find(".mk-header-bg"),total_height=0;$header_bg.css("height","100%"),setTimeout(function(){$header_inner.children(":visible").each(function(){total_height+=$(this).outerHeight(!0)}),total_height-=$header_bg.height(),total_height<$header_inner_height?$header_bg.css("height","100%"):$header_bg.css("height",total_height+"px")},600)})})}(jQuery),function($){function set_lightbox_href(){var $product_img=$(this).find("img"),$lightbox=$(this).find(".mk-lightbox");setTimeout(function(){var image_url=$product_img.attr("src"),image_suffix=image_url.substr(image_url.lastIndexOf(".")-image_url.length),image_url=image_url.slice(0,image_url.lastIndexOf("-"));$lightbox.attr("href",image_url+image_suffix)},300)}$(window).on("load",function(){var $variations_form=$(".variations_form");if($variations_form.length){var $varitions_selects=$variations_form.find(".variations").find(".value").find("select");$varitions_selects.on("change",function(){var $all_img_container=$(".mk-product-image .mk-woocommerce-main-image");$all_img_container.length&&$($all_img_container).each(set_lightbox_href)}),$varitions_selects.trigger("change")}})}(jQuery),function($){MK.utils.isMobile()&&$(".mk-section-video video").remove()}(jQuery),function($){$(window).on("load",function(){$(document).on("yith-wcan-ajax-filtered yith_infs_added_elem yith-wcan-ajax-reset-filtered",function(){setTimeout(function(){MK.utils.eventManager.publish("ajaxLoaded"),MK.core.initAll(document)},1e3)}),$(document).on("yith-wcan-ajax-filtered yith-wcan-ajax-reset-filtered",function(){setTimeout(function(){$(".woocommerce-ordering").on("change","select.orderby",function(){$(this).closest("form").submit()})},1e3)})})}(jQuery);var progressButton={loader:function(form){MK.core.loadDependencies([MK.core.path.plugins+"tweenmax.js"],function(){var $form=form,progressBar=$form.find(".mk-progress-button .mk-progress-inner"),buttonText=$form.find(".mk-progress-button .mk-progress-button-content");(new TimelineLite).to(progressBar,0,{width:"100%",scaleX:0,scaleY:1}).to(buttonText,.3,{y:-5}).to(progressBar,1.5,{scaleX:1,ease:Power2.easeInOut},"-=.1").to(buttonText,.3,{y:0}).to(progressBar,.3,{scaleY:0})})},success:function(form){MK.core.loadDependencies([MK.core.path.plugins+"tweenmax.js"],function(){function hideSuccessMessage(){progressButtonSuccess.reverse()}var $form=form,buttonText=$form.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),successIcon=$form.find(".mk-progress-button .state-success"),progressButtonSuccess=new TimelineLite({onComplete:hideSuccessMessage});progressButtonSuccess.to(buttonText,.3,{paddingRight:20,ease:Power2.easeInOut},"+=1").to(successIcon,.3,{opacity:1}).to(successIcon,2,{opacity:1})})},error:function(form){MK.core.loadDependencies([MK.core.path.plugins+"tweenmax.js"],function(){function hideErrorMessage(){progressButtonError.reverse()}var $form=form,buttonText=$form.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),errorIcon=$form.find(".mk-progress-button .state-error"),progressButtonError=new TimelineLite({onComplete:hideErrorMessage});progressButtonError.to(buttonText,.3,{paddingRight:20},"+=1").to(errorIcon,.3,{opacity:1}).to(errorIcon,2,{opacity:1})})}};$("#mc-embedded-subscribe-form").submit(function(e){var $this=$(this);e.preventDefault(),$.ajax({url:MK.core.path.ajaxUrl,type:"POST",data:{action:"mk_ajax_subscribe",email:$this.find(".mk-subscribe--email").val(),list_id:$this.find(".mk-subscribe--list-id").val(),optin:$this.find(".mk-subscribe--optin").val()},success:function(res){$this.parent().find(".mk-subscribe--message").html($.parseJSON(res).message)}})}),"undefined"!=typeof exports&&(exports.addClass=addClass,exports.removeClass=removeClass),"undefined"!=typeof exports&&(exports.validateEmail=validateEmail,exports.validateText=validateText),function($){"use strict";function deactivate(){$contactBtn.removeClass("is-active"),$backBtn.removeClass("is-active")}function activate(){$contactBtn.addClass("is-active"),$backBtn.addClass("is-active")}
var $wrapper=$(".js-bottom-corner-btns"),$contactBtn=$wrapper.find(".js-bottom-corner-btn--contact"),$backBtn=$wrapper.find(".js-bottom-corner-btn--back");$contactBtn.length;$backBtn.length&&MK.utils.scrollSpy(400,{before:deactivate,after:activate})}(jQuery),function($){"use strict";$(".mk-fullscreen-nav-close, .mk-fullscreen-nav-wrapper, #fullscreen-navigation a").on("click",function(e){$(".mk-fullscreen-nav").removeClass("opened"),$(".mk-dashboard-trigger").removeClass("fullscreen-active"),$("body").removeClass("fullscreen-nav-opened");var anchor=MK.utils.detectAnchor(this),$this=$(this);anchor.length?(e.preventDefault(),MK.utils.scrollToAnchor(anchor)):"#"===$this.attr("href")&&e.preventDefault()}),$(".fullscreen-navigation-ul .menu-sub-level-arrow").on("click",function(){$(this).siblings(".sub-menu").slideToggle()})}(jQuery),function($){"use strict";var $navList=$(".main-navigation-ul"),megaMenu=function(){$navList.MegaMenu({type:"vertical",delay:200})};$(window).on("load",megaMenu)}(jQuery),function($){"use strict";var onePageNavItem=function(){var $this=$(this),link=$this.find("a"),anchor=MK.utils.detectAnchor(link);if(anchor.length){$this.removeClass("current-menu-item current-menu-ancestor current-menu-parent");var activeNav=function(state){return function(){$this[state?"addClass":"removeClass"]("current-menu-item"),window.history.replaceState(void 0,void 0,[state?anchor:" "])}};MK.utils.scrollSpy($(anchor)[0],{before:activeNav(!1),active:activeNav(!0),after:activeNav(!1)})}},$navItems=$(".js-main-nav").find("li");$(window).on("load",function(){setTimeout(function(){$navItems.each(onePageNavItem)},1e3)})}(jQuery),function($){"use strict";function toggleResMenu(e){e.preventDefault();var $this=$(this),$headerInner=$this.parents("header"),$resMenu=$headerInner.find(".mk-responsive-wrap"),searchBox=$(".responsive-searchform .text-input"),adminBarHeight=$("#wpadminbar").height();if($body.hasClass("mk-opened-nav"))$this.removeClass("is-active"),$body.removeClass("mk-opened-nav").addClass("mk-closed-nav").trigger("mk-closed-nav"),$resMenu.hide(),$post_nav.removeClass("post-nav-backward");else{$this.addClass("is-active"),$body.removeClass("mk-closed-nav").addClass("mk-opened-nav").trigger("mk-opened-nav"),$resMenu.show(),$post_nav.addClass("post-nav-backward");var offset=$headerInner.offset().top,headerHeight=MK.val.offsetHeaderHeight(offset);MK.utils.scrollTo(offset-headerHeight-adminBarHeight+5)}searchBox.hasClass("input-focused")&&searchBox.removeClass("input-focused")}var $window=$(window),$body=$("body"),$resMenuWrap=$(".mk-responsive-wrap"),$post_nav=$(".mk-post-nav"),$toolbar=$(".mk-header-toolbar"),$resMenuLink=$(".mk-nav-responsive-link"),hasResMenu=$resMenuWrap.length>0,windowHeight=$window.height(),screenHeight=screen.height;if($(".mk-toolbar-resposnive-icon").on("click",function(e){e.preventDefault(),console.log("clicked"),$body.hasClass("toolbar-opened")?($body.removeClass("toolbar-opened").addClass("toolbar-closed"),$toolbar.hide()):($body.removeClass("toolbar-closed").addClass("toolbar-opened"),$toolbar.show())}),hasResMenu){$resMenuLink.each(function(){$(this).on("click",toggleResMenu)});var setResMenuHeight=function(){var height=$window.height()-MK.val.offsetHeaderHeight(0);$resMenuWrap.css("max-height",height)};setResMenuHeight(),$window.on("resize",setResMenuHeight);var isVirtualKeyboard=function(){var currentWindowHeight=$window.height(),currentScreenHeight=screen.height,searchBox=$(".responsive-searchform .text-input"),searchBoxIsFocused=!1;return searchBox.on("touchstart touchend",function(e){searchBox.addClass("input-focused")}),searchBoxIsFocused=searchBox.is(":focus")||searchBox.hasClass("input-focused"),!(!$body.hasClass("mk-opened-nav")||!searchBoxIsFocused||currentScreenHeight!=screenHeight||currentWindowHeight==windowHeight)},hideResMenu=function(){MK.utils.isResponsiveMenuState()&&(isVirtualKeyboard()||($body.hasClass("mk-opened-nav")&&$resMenuLink.filter(".is-active").trigger("click"),$resMenuWrap.hide()))};$window.on("resize",hideResMenu),$resMenuWrap.on("click","a",hideResMenu)}}(jQuery),function($){"use strict";var $header=$(".mk-header");$header.length>0&&($header.attr("data-header-style"),$(".sidedash-navigation-ul > li").each(function(){$(this).children("ul").siblings("a").after('<span class="mk-nav-arrow mk-nav-sub-closed"><svg class="mk-svg-icon" data-name="mk-moon-arrow-down" data-cacheid="2" style=" height:14px; width: 14px; " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M512 192l-96-96-160 160-160-160-96 96 256 255.999z"></path></svg></span>')}),$(".mk-nav-arrow").stop(!0).on("click",function(e){e.preventDefault();var $this=$(this);$this.hasClass("mk-nav-sub-closed")?$this.siblings("ul").slideDown(450).end().removeClass("mk-nav-sub-closed").addClass("mk-nav-sub-opened"):$this.siblings("ul").slideUp(450).end().removeClass("mk-nav-sub-opened").addClass("mk-nav-sub-closed")}),$(".mk-dashboard-trigger").on("click",function(e){var $this=$(this),$body=$("body"),$fullscreen_box=$(".mk-fullscreen-nav");$this.hasClass("dashboard-style")?$this.hasClass("dashboard-active")?($this.removeClass("dashboard-active"),$body.removeClass("dashboard-opened")):($this.addClass("dashboard-active"),$body.addClass("dashboard-opened")):$this.hasClass("fullscreen-style")&&($this.hasClass("fullscreen-active")?($this.removeClass("fullscreen-active"),$body.removeClass("fullscreen-nav-opened"),$fullscreen_box.removeClass("opened")):($this.addClass("fullscreen-active"),$body.addClass("fullscreen-nav-opened"),$fullscreen_box.addClass("opened"))),e.preventDefault()}),$("html").on("click",function(){$("body").removeClass("dashboard-opened"),$(".mk-dashboard-trigger").removeClass("dashboard-active")}))}(jQuery),function($){"use strict";var $verticalMenu=$("#mk-vm-menu"),verticalMenu=function(){$verticalMenu.data("vertical-menu")||MK.utils.isResponsiveMenuState()||($verticalMenu.dlmenu(),$verticalMenu.data("vertical-menu",!0))};verticalMenu(),$(window).on("resize",verticalMenu)}(jQuery),function($){"use strict";$(".mk-main-navigation > .main-navigation-ul > .menu-item-language").addClass("no-mega-menu").css("visibility","visible"),$(".mk-main-navigation .menu-item-language > a").addClass("menu-item-link")}(jQuery),function($){"use strict";function changeSkin(e,skin){$header.attr("data-transparent-skin",skin);var contrast="light"===skin?"dark":"light";$header.addClass(skin+"-skin"),$header.removeClass(contrast+"-skin")}var $header=$(".mk-header").first();if($header.length>0){var $window=$(window),$document=$(document),$headerHolder=$header.find(".mk-header-holder"),$paddingWrapper=$header.find(".mk-header-padding-wrapper"),config=$header.data(),isStickyLazy="lazy"===config.stickyStyle,isStickyFixed="fixed"===config.stickyStyle,isStickySlide="slide"===config.stickyStyle;(function(){return 4!==config.headerStyle})()&&MK.utils.eventManager.subscribe("firstElSkinChange",changeSkin),isStickyLazy?2!==config.headerStyle&&function(){var wScrollCurrent=0,wScrollBefore=0,wScrollDiff=0,wHeight=0,dHeight=0,setSizes=function(){dHeight=$document.height(),wHeight=$window.height()},onScroll=function(){wScrollCurrent=MK.val.scroll(),wScrollDiff=wScrollBefore-wScrollCurrent,wScrollCurrent<=0?($headerHolder.removeClass("header--hidden"),$header.removeClass("a-sticky")):wScrollDiff>0&&$headerHolder.hasClass("header--hidden")?($headerHolder.removeClass("header--hidden"),$header.addClass("a-sticky")):wScrollDiff<0&&(wScrollCurrent+wHeight>=dHeight&&$headerHolder.hasClass("header--hidden")?($headerHolder.removeClass("header--hidden"),$header.addClass("a-sticky")):($headerHolder.addClass("header--hidden"),$header.removeClass("a-sticky"))),wScrollBefore=wScrollCurrent};setSizes(),onScroll(),$window.on("resize",MK.utils.throttle(100,setSizes)),$window.on("scroll",MK.utils.throttle(500,onScroll))}():isStickyFixed?function(){var scrollPos,sticked=!1,toggleState=function(){if((scrollPos=MK.val.scroll()+MK.val.adminbarHeight())>MK.val.stickyOffset()&&!MK.utils.isResponsiveMenuState()){if(sticked)return;$header.addClass("a-sticky"),sticked=!0}else{if(!sticked)return;$header.removeClass("a-sticky"),sticked=!1}};toggleState(),$window.on("scroll",MK.utils.throttle(100,toggleState)),$window.on("resize",MK.utils.throttle(100,toggleState))}():isStickySlide&&function(){var sticked=!1,onScroll=function(){if(MK.val.scroll()>MK.val.stickyOffset()){if(sticked)return;$header.addClass("pre-sticky"),$paddingWrapper.addClass("enable-padding"),setTimeout(function(){$header.addClass("a-sticky")},1),sticked=!0}else{if(!sticked)return;$header.removeClass("a-sticky"),$header.removeClass("pre-sticky"),$paddingWrapper.removeClass("enable-padding"),sticked=!1}};onScroll(),$window.on("scroll",MK.utils.throttle(100,onScroll))}()}}(jQuery),function($){"use strict";function normalizeClick(){$(this).on("click",handleClick)}function handleClick(e){"none"!==$(e.currentTarget).find("> ul").css("display")||(e.preventDefault(),e.stopPropagation())}"ontouchstart"in document.documentElement&&$(".mk-main-navigation .menu-item-has-children").each(normalizeClick)}(jQuery),function($){"use strict";MK.ui.preloader={dom:{overlay:".mk-body-loader-overlay"},hide:function(){$(this.dom.overlay).fadeOut(600,"easeInOutExpo",function(){$("body").removeClass("loading")})}}}(jQuery),function($){"use strict";var _ajaxUrl=MK.core.path.ajaxUrl,_instances={};MK.utils.ajaxLoader=function(el){var id="#"+$(el).attr("id");if(void 0!==_instances[id])return _instances[id];this.id=id,this.el=el,this.isLoading=!1,this.xhrCounter=0},MK.utils.ajaxLoader.prototype={init:function(){this.initialized||(this.createInstance(),this.cacheElements(),this.initialized=!0)},cacheElements:function(){this.$container=$(this.el),this.id="#"+this.$container.attr("id"),this.categories=this.$container.data("loop-categories"),this.data={},this.data.action="mk_load_more",this.data.query=this.$container.data("query"),this.data.atts=this.$container.data("loop-atts"),this.data.loop_iterator=this.$container.data("loop-iterator"),this.data.author=this.$container.data("loop-author"),this.data.posts=this.$container.data("loop-posts"),this.data.safe_load_more=this.$container.siblings("#safe_load_more").val(),this.data._wp_http_referer=this.$container.siblings('input[name="_wp_http_referer"]').val(),this.data.paged=1,this.data.maxPages=this.$container.data("max-pages"),this.data.term=this.categories},createInstance:function(){_instances[this.id]=this},load:function(unique){var self=this,seq=++this.xhrCounter;if(this.isLoading=!0,this.$container.siblings(".mk-ajax-loaded-posts").length){var loaded_posts=this.$container.siblings(".mk-ajax-loaded-posts").attr("data-loop-loaded-posts");1!=this.$container.attr("data-pagination-style")&&(self.data.loaded_posts=loaded_posts.split(","))}return $.when($.ajax({url:_ajaxUrl,type:"POST",data:self.data})).done(function(response){self.onDone(response,unique,seq)})},onDone:function(response,unique,seq){if(seq===this.xhrCounter){var self=this;response=$.parseJSON(response),response.unique=parseInt(unique,10),response.id=this.id,this.$container.siblings(".mk-ajax-loaded-posts").length&&this.$container.siblings(".mk-ajax-loaded-posts").attr("data-loop-loaded-posts",response.loaded_posts),this.setData({maxPages:response.maxPages,found_posts:response.found_posts,loop_iterator:response.i}),$(response.content).mk_imagesLoaded().then(function(){MK.utils.eventManager.publish("ajaxLoaded",response),self.isLoading=!1,self.initNewComponents()})}else console.log("XHR request nr "+seq+" aborted")},setData:function(atts){for(var att in atts)"term"===att&&"*"===atts[att]?this.data.term="":this.data[att]=atts[att]},getData:function(att){return this.data[att]},initNewComponents:function(){window.ajaxInit(),setTimeout(window.ajaxDelayedInit,1e3),MK.core.initAll(this.el)}}}(jQuery),function($){"use strict";function run(){$layers.each(applyBg)}function applyBg(){var $this=$(this),imgs=$this.data("mk-img-set");$this.css("background-image","url("+getImage(imgs)+")"),$this.find(".mk-adaptive-image").attr("src",getImage(imgs))}function handleResize(){updateScreenSize(),hasSwitched()&&(updateDevice(),run())}function getScreenSize(){return{w:$win.width(),h:$win.height()}}function getDevice(){return screen.w>1024?{class:"desktop",id:2}:screen.w>736?{class:"tablet",id:1}:{class:"mobile",id:0}}function getOrientation(){return screen.w>screen.h?"landscape":"portrait"}function getImage(imgs){if("false"===imgs.responsive)return imgs.landscape.desktop?imgs.landscape.desktop:imgs.landscape.external?imgs.landscape.external:"";var hasOrientation=!!imgs[orientation],imgOriented=imgs[hasOrientation?orientation:Object.keys(imgs)[0]];return imgOriented[device.class]?imgOriented[device.class]:imgOriented.external?imgOriented.external:""}function updateScreenSize(){screen=getScreenSize()}function updateDevice(){lastOrientation!==orientation&&(orientation=lastOrientation),lastDevice.id>device.id&&(device=lastDevice)}function hasSwitched(){return lastOrientation=getOrientation(),lastDevice=getDevice(),lastOrientation!==orientation||lastDevice.class!==device.class}var $win=$(window),$layers=$("[data-mk-img-set]"),screen=getScreenSize(),orientation=getOrientation(),device=getDevice(),lastOrientation=orientation,lastDevice=device;run(),$win.on("resize",MK.utils.throttle(500,handleResize))}(jQuery),function($){"use strict";var val=MK.val;MK.component.FullHeight=function(el){var $window=$(window),$this=$(el),config=$this.data("fullheight-config"),container=document.getElementById("mk-theme-container"),minH=config&&config.min?config.min:0,winH=null,height=null,update_count=0,testing=MK.utils.getUrlParameter("testing"),offset=null;"IE"===MK.utils.browser.name&&$this.css("height","1px");var update=function(){0===update_count&&(winH=$window.height(),offset=$this.offset().top-1,height=Math.max(minH,winH-val.offsetHeaderHeight(offset)),$this.css("min-height",height),void 0!==testing&&update_count++)};return{init:function(){update(),$window.on("resize",update),$window.on("scroll",update),window.addResizeListener(container,update)}}}}(jQuery),function($){"use strict";var utils=(MK.core,MK.utils);MK.core.path;MK.ui.FullScreenGallery=function(element,settings){this.element=element,this.config=settings,this.isFullScreen=!1},MK.ui.FullScreenGallery.prototype={dom:{fullScrBtn:".slick-full-screen",exitFullScrBtn:".slick-minimize",playBtn:".slick-play",pauseBtn:".slick-pause",shareBtn:".slick-share",socialShare:".slick-social-share",wrapper:".slick-slider-wrapper",slider:".slick-slides",slides:".slick-slide",dots:".slick-dot",active:".slick-active",hiddenClass:"is-hidden",dataId:"slick-index"},tpl:{dot:'<div class="slick-dot"></div>',next:'<a href="javascript:;" class="slick-next"> <svg width="33px" height="65px"> <polyline fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points=" 0.5,0.5 32.5,32.5 0.5,64.5"/> </svg> </a>',prev:'<a href="javascript:;" class="slick-prev"> <svg  width="33px" height="65px"> <polyline fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points=" 32.5,64.5 0.5,32.5 32.5,0.5"/> </svg> </a>'},init:function(){var self=this;self.cacheElements(),self.getViewportSizes(),self.updateSizes("window"),self.create(),self.updateCacheElements(),self.createPagination(),self.bindEvents()},create:function(){var self=this;this.slick=this.$gallery.slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,centerPadding:"0px",variableWidth:!0,autoplay:!1,autoplaySpeed:3e3,useTransform:!0,prevArrow:self.tpl.prev,nextArrow:self.tpl.next,customPaging:function(slider,i){return self.tpl.dot}})},cacheElements:function(){this.$window=$(window),this.$gallery=$(this.element),this.$fullScrBtn=$(this.dom.fullScrBtn),this.$exitFullScrBtn=$(this.dom.exitFullScrBtn),this.$playBtn=$(this.dom.playBtn),this.$pauseBtn=$(this.dom.pauseBtn),this.$shareBtn=$(this.dom.shareBtn),this.$socialShare=$(this.dom.socialShare),this.$wrapper=$(this.dom.wrapper),this.$slider=$(this.dom.slider),this.$slides=$(this.dom.slides),this.$imgs=this.$slides.find("img"),this.$originalImgs=this.$imgs},updateCacheElements:function(){this.$slides=$(this.dom.slides),this.$imgs=this.$slides.find("img"),this.$dots=$(this.dom.dots)},bindEvents:function(){var self=this;this.$fullScrBtn.on("click",this.toFullScreen.bind(this)),this.$exitFullScrBtn.on("click",this.exitFullScreen.bind(this)),this.$playBtn.on("click",this.play.bind(this)),this.$pauseBtn.on("click",this.pause.bind(this)),this.$shareBtn.on("click",this.toggleShare.bind(this)),this.$socialShare.on("click","a",this.socialShare.bind(this)),this.$window.on("resize",this.onResize.bind(this)),this.$window.on("keydown",function(e){39===e.keyCode&&self.$gallery.slick("slickNext"),37===e.keyCode&&self.$gallery.slick("slickPrev")}),$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullcreenchange",this.exitFullScreen.bind(this))},getViewportSizes:function(){this.screen={w:screen.width,h:screen.height},this.window={w:this.$window.width(),h:this.$window.height()}},updateSizes:function(viewport){this.$wrapper.width(this[viewport].w),this.$wrapper.height("100%"),this.$imgs.height("100%")},createPagination:function(){var self=this;this.$dots.each(function(i){var img=self.$originalImgs.eq(i).attr("src");$(this).css({"background-image":"url("+img+")"})})},play:function(e){e.preventDefault(),this.$playBtn.addClass(this.dom.hiddenClass),this.$pauseBtn.removeClass(this.dom.hiddenClass),$(this.element).slick("slickPlay")},pause:function(e){e.preventDefault(),this.$pauseBtn.addClass(this.dom.hiddenClass),this.$playBtn.removeClass(this.dom.hiddenClass),$(this.element).slick("slickPause")},toggleShare:function(e){e.preventDefault(),this.$socialShare.toggleClass(this.dom.hiddenClass)},getCurentId:function(){return this.$slides.filter(this.dom.active).data(this.dom.dataId)},toFullScreen:function(){var self=this;this.$fullScrBtn.addClass(this.dom.hiddenClass),this.$exitFullScrBtn.removeClass(this.dom.hiddenClass),this.$slider.hide().fadeIn(500),utils.launchIntoFullscreen(document.documentElement),this.updateSizes("screen"),$(this.element).slick("slickGoTo",this.getCurentId(),!0),setTimeout(function(){self.isFullScreen=!0},1e3)},exitFullScreen:function(){this.isFullScreen&&(this.$exitFullScrBtn.addClass(this.dom.hiddenClass),this.$fullScrBtn.removeClass(this.dom.hiddenClass),utils.exitFullscreen(),this.updateSizes("window"),$(this.element).slick("slickGoTo",this.getCurentId(),!0),this.isFullScreen=!1)},onResize:function(){this.getViewportSizes(),this.updateSizes(this.isFullScreen?"screen":"window"),$(this.element).slick("refresh"),$(this.element).slick("slickGoTo",this.getCurentId(),!0),this.updateCacheElements(),this.createPagination()},socialShare:function(e){e.preventDefault();var name,$this=$(e.currentTarget),network=$this.data("network"),id=this.config.id,url=this.config.url,title=this.$wrapper.find(".slick-title").text(),picture=this.$slides.filter(this.dom.active).children().first().attr("src");switch(network){case"facebook":url="https://www.facebook.com/sharer/sharer.php?picture="+picture+"&u="+url+"#id="+id,name="Facebook Share";break;case"twitter":url="http://twitter.com/intent/tweet?text="+url+"#id="+id,name="Twitter Share";break;case"pinterest":url="http://pinterest.com/pin/create/bookmarklet/?media="+picture+"&url="+url+"&is_video=false&description="+title,name="Pinterest Share"}window.open(url,name,"height=380 ,width=660, resizable=0, toolbar=0, menubar=0, status=0, location=0, scrollbars=0")}}}(jQuery),function($){"use strict";MK.component.Grid=function(el){var $container=$(el),config=$container.data("grid-config"),isSlideshow=$container.closest('[data-mk-component="SwipeSlideshow"]').length,miniGridConfig={container:el,item:config.item+":not(.is-hidden)",gutter:0},prepareForGrid=function(){var $item=$(this);"none"===$item.css("display")?$item.addClass("is-hidden"):$item.removeClass("is-hidden")},create=function(){function draw(){$container.find(config.item).each(prepareForGrid),minigrid(miniGridConfig)}function redraw(){timer&&clearTimeout(timer),timer=setTimeout(draw,100)}var timer=null;draw(),$(window).off("resize",redraw),$(window).on("resize",redraw),MK.utils.eventManager.subscribe("item-expanded",redraw),MK.utils.eventManager.subscribe("ajaxLoaded",redraw),MK.utils.eventManager.subscribe("staticFilter",redraw)};return{init:function(){isSlideshow||MK.core.loadDependencies([MK.core.path.plugins+"minigrid.js"],create)}}}}(jQuery),function($){"use strict";function createAll(scope){for(var i=0,l=families.length;i<l;i++){var family=families[i][0],prefix=families[i][1],$icons=getIcons(family,prefix,scope);$icons.length&&(_roundCount++,setTimeout(createIcons,0,$icons,family,prefix))}}function getIcons(family,prefix,scope){var $scope=$(scope),$icons=$scope.find("[class*="+prefix+"]"),extraClassNames=extend[family];return extraClassNames?(extraClassNames.forEach(function(className){var $icon=$scope.find(className);$icons=$icons.add($icon)}),$icons):$icons}function createIcons($icons,family,prefix,i,unicode){var id=i||0,icon=$icons[id];if(!icon)return _roundCount--,void getIconsSprite(insertIcons,$icons,_roundCount,_config);var css=getComputedStyle(icon,":before"),classAttr=icon.getAttribute("class"),name=!!classAttr&&matchClass(classAttr.split(" "),prefix),h=getComputedStyle(icon).fontSize,config=createConfig(css,name,family,unicode,h),cache=JSON.stringify(config);config&&(_cache[cache]?void 0===_iconMap[cache]?_iconMap[cache]=[$icons.eq(id)]:_iconMap[cache].push($icons.eq(id)):(void 0===_iconMap[cache]?_iconMap[cache]=[$icons.eq(id)]:_iconMap[cache].push($icons.eq(id)),_cache[cache]=_cacheId.toString(),config.id=_cacheId,_config.push(config),_cacheId++)),createIcons($icons,family,prefix,++id)}function insertIcons(sprite,$icons){var $sprite=$(sprite),idMap=($sprite.find("svg"),invert(_cache));$sprite.each(function(){var $svg=$(this),id=$svg.attr("data-cacheid"),configKey=idMap[id];_cache[configKey]=this}),Object.keys(_iconMap).forEach(function(cacheKey){_iconMap[cacheKey].forEach(function($icons){$icons.each(function(){var $svg=$(_cache[cacheKey]).clone(),$icon=$(this);$svg.length&&function(){$icon.parents(".pricing-features")||$icon.not(".mk-jupiter-icon-xing").not(".mk-jupiter-icon-square-xing").not(".mk-jupiter-icon-simple-xing").find(".mk-svg-icon").not('[data-name="mk-moon-zoom-in"]').remove()}(),$icon.find("svg").length||($icon.parents(".widget ul").length?$icon.prepend($svg):$icon.append($svg))})})}),MK.utils.eventManager.publish("iconsInsert")}function createConfig(css,name,family,unicode,height){var hasGradient=checkGradient(css),hasDirection=extractGradient("direction",css.background),config={family:family,unicode:unicode||decodeUnicode(css.content),name:name,gradient_type:!!hasGradient&&extractGradient("type",css.background),gradient_start:!!hasGradient&&extractGradient("start",css.background),gradient_stop:!!hasGradient&&extractGradient("stop",css.background),gradient_direction:!!hasDirection&&extractGradient("direction",css.background).replace(" ","-"),height:height};return!(!config.name&&!config.unicode)&&config}function matchClass(classes,prefix){for(var i=0,l=classes.length;i<l;i++)if(-1!==classes[i].indexOf(prefix))return classes[i]}function checkGradient(css){var bg=css.background;return(-1!==bg.indexOf("radial")||-1!==bg.indexOf("linear"))&&bg}function extractGradient(attr,grad){if(!grad)return!1;var f,t,isRadial=-1!==grad.indexOf("radial"),isLinear=-1!==grad.indexOf("linear"),hasDirection=-1!==grad.indexOf("(to");if("type"===attr){if(isRadial)return"radial";if(isLinear)return"linear"}else if("start"===attr)f=getStrPosition(grad,"rgb(",1),t=getStrPosition(grad,"0%",1);else if("stop"===attr)f=getStrPosition(grad,"rgb(",2),t=getStrPosition(grad,"100%",1);else{if("direction"!==attr)return!1;if(!hasDirection)return!1;f=getStrPosition(grad,"(to",1)+4,t=getStrPosition(grad,", rgb(",1)}return grad.slice(f,t)}function getStrPosition(str,m,i){return str.split(m,i).join(m).length}function decodeUnicode(content){return!(!content||"none"===content)&&escape(content).replace(/%22/g,"").replace("%u","").toLowerCase()}function invert(obj){var new_obj={};for(var prop in obj)obj.hasOwnProperty(prop)&&(new_obj[obj[prop]]=prop);return new_obj}var families=[["awesome-icons","mk-icon"],["icomoon","mk-moon"],["pe-line-icons","mk-li"],["theme-icons","mk-jupiter-icon"]],extend={"awesome-icons":[".mk-accordion-tab",".mk-toggle-title",".mk-blockquote.quote-style","blockquote",".mk-main-navigation ul",".sf-sub-indicator",".widget_archive li a",".widget_categories li a",".widget_nav_menu li a",".widget_links li a",".widget_pages li a",".widget_meta li a",".widget_authors li a",".widget_popular_tags li a",".widget_recent_comments li",".widget_rss li a",".widget_recent_entries li a",".tw_list .tweet_list li a","#wp-calendar #prev","#wp-calendar #next",".mk-jupiter-icon-simple-xing",".widget_product_categories li a",".widget-sub-navigation li a",".main-navigation-ul li.with-menu > a",".blog-blockquote-content",".ls-nav-prev",".ls-nav-next"],icomoon:[".mk-woocommerce-pagination .next",".mk-woocommerce-pagination .prev",".product-loading-icon",".mk-jupiter-icon-xing",".mk-jupiter-icon-square-xing"],"pe-line-icons":[],"theme-icons":[]},_cache={},_cacheId=0,_config=[],_roundCount=0,_iconMap={},getIconsSprite=function(){function run(callback){var config=encodeURIComponent(JSON.stringify(_config));$.ajax({url:MK.core.path.ajaxUrl,method:"POST",data:{action:"mk_get_icon",iterator:iterator++,config:config},success:function(sprite){callback(sprite,$icons),_config=[],_iconMap={},$icons=null},error:function(err){console.log("Icon load problem")}})}var $icons=null,iterator=0;return function(callback,$els,count){$icons?$icons.add($els):$icons=$els,count||run(callback)}}();$(window).on("load",function(){setTimeout(function(){createAll(document),$(".mk-header").length&&createAll(".mk-header"),$(".js-flexslider, .mk-flexslider").length&&createAll(".js-flexslider, .mk-flexslider"),$(".mk-accordion").length&&createAll(".mk-accordion")},1e3)}),MK.utils.eventManager.subscribe("ajaxLoaded",function(){setTimeout(createAll,100,".js-loop")}),MK.utils.eventManager.subscribe("ajax-preview",function(){setTimeout(createAll,100,".ajax-container")}),MK.utils.eventManager.subscribe("photoAlbum-open",function(){setTimeout(createAll,100,".gallery-share")}),MK.utils.eventManager.subscribe("quickViewOpen",function(){setTimeout(createAll,300,".mk-modal-content")})}(jQuery),function($,window){"use strict";function pagination(){function bindHandlers(){isLoadBtn&&$loadBtn.on("click",handleClick),isInfiniteScroll&&$window.on("scroll",handleScroll),isHandlerBinded=!0}function unbindHandlers(){isLoadBtn&&$loadBtn.off("click",handleClick),isInfiniteScroll&&$window.off("scroll",handleScroll),isHandlerBinded=!1}function handleClick(e){e.preventDefault(),ajaxLoader.isLoading||loadMore()}function handleScroll(){scrollY()>scrollCheckPoint()&&!ajaxLoader.isLoading&&loadMore()}function loadMore(){loadingIndicatorStart();var page=ajaxLoader.getData("paged");ajaxLoader.setData({paged:++page}),ajaxLoader.load(unique)}function onLoad(e,response){void 0!==response&&response.id===id&&(ajaxLoader.getData("found_posts")<=0&&ajaxLoader.getData("paged")>=ajaxLoader.getData("maxPages")?loadingIndicatorHide():loadingIndicatorShow(),response.unique===unique&&$container.append(response.content),loadingIndicatorStop())}function loadingIndicatorStart(){isLoadBtn?$loadBtn.addClass("is-active"):isInfiniteScroll&&MK.ui.loader.add(".js-load-more-scroll")}function loadingIndicatorStop(){isLoadBtn?$loadBtn.removeClass("is-active"):isInfiniteScroll&&MK.ui.loader.remove(".js-load-more-scroll")}function loadingIndicatorShow(){isHandlerBinded||(isLoadBtn?$loadBtn.show():isInfiniteScroll&&$loadScroll.show(),bindHandlers())}function loadingIndicatorHide(){isHandlerBinded&&(isLoadBtn?$loadBtn.hide():isInfiniteScroll&&$loadScroll.hide(),unbindHandlers())}function spyScrollCheckPoint(){var containerO=0,containerH=dynamicHeight($superContainer),winH=dynamicHeight(window),setVals=function(){containerO=$superContainer.offset().top};return setVals(),$window.on("resize",function(){requestAnimationFrame(setVals)}),function(){return containerH()+containerO-2*winH()}}var unique=Date.now(),$container=$(this),$superContainer=$container.parent(),$loadBtn=$container.siblings(".js-loadmore-holder").find(".js-loadmore-button"),$loadScroll=$(".js-load-more-scroll"),style=$container.data("pagination-style"),id=($container.data("max-pages"),"#"+$container.attr("id")),ajaxLoader=new MK.utils.ajaxLoader(id),isLoadBtn=2===style,isInfiniteScroll=3===style,scrollCheckPoint=null,isHandlerBinded=!1;ajaxLoader.init(),function(){MK.utils.eventManager.subscribe("ajaxLoaded",onLoad),bindHandlers(),isInfiniteScroll&&(scrollCheckPoint=spyScrollCheckPoint())}()}var scrollY=MK.val.scroll,dynamicHeight=MK.val.dynamicHeight,$window=$(window);$(".js-loop").each(pagination)}(jQuery,window),function($){"use strict";function isHidden(el){return null===el.offsetParent}MK.component.Masonry=function(el){var $window=$(window),$container=$(el),config=$container.data("masonry-config"),$masonryItems=$container.find(config.item),cols=config.cols||8,wall=null,init=function(){MK.core.loadDependencies([MK.core.path.plugins+"freewall.js"],onDepLoad)},onDepLoad=function(){masonry(),$window.on("resize",onResize),MK.utils.eventManager.subscribe("ajaxLoaded",onPostAddition),MK.utils.eventManager.subscribe("staticFilter",resize)},masonry=function(){if(!isHidden(el)){var newCols;newCols=window.matchMedia("(max-width:600px)").matches?2:window.matchMedia("(max-width:850px)").matches?4:cols;var colW=$container.width()/newCols;wall=new Freewall(config.container),wall.reset({selector:config.item+":not(.is-hidden)",gutterX:0,gutterY:0,cellW:colW,cellH:colW}),wall.fillHoles(),wall.fitWidth(),$masonryItems.each(function(){$(this).data("loaded",!0)})}},destroyContainer=function(){$container.removeAttr("style").removeData("wall-height").removeData("wall-width").removeData("min-width").removeData("total-col").removeData("total-row").removeAttr("data-wall-height").removeAttr("data-wall-width").removeAttr("data-min-width").removeAttr("data-total-col").removeAttr("data-total-row")},destroyItem=function(){$(this).removeAttr("style").removeData("delay").removeData("height").removeData("width").removeData("state").removeAttr("data-delay").removeAttr("data-height").removeAttr("data-width").removeAttr("data-state")},destroyAll=function(){wall&&(wall.destroy(),destroyContainer(),$masonryItems.each(destroyItem))},onResize=function(){requestAnimationFrame(resize)},resize=function(){destroyAll(),masonry()},onPostAddition=function(){$masonryItems=$container.find(config.item),$masonryItems.each(function(){var $item=$(this);$item.data("loaded")||$item.css("visibility","hidden")}),$container.mk_imagesLoaded().then(function(){destroyAll(),masonry()})};return{init:init}}}(jQuery),function($){"use strict";MK.component.Pagination=function(el){this.el=el},MK.component.Pagination.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.lastId=1,this.unique=Date.now(),this.$pagination=$(this.el),this.$container=this.$pagination.prev(".js-loop"),this.$pageLinks=this.$pagination.find(".js-pagination-page"),this.$nextLink=this.$pagination.find(".js-pagination-next"),this.$prevLink=this.$pagination.find(".js-pagination-prev"),this.$current=this.$pagination.find(".js-current-page"),this.$maxPages=this.$pagination.find(".pagination-max-pages"),this.containerId="#"+this.$container.attr("id"),this.ajaxLoader=new MK.utils.ajaxLoader("#"+this.$container.attr("id")),this.ajaxLoader.init()},bindEvents:function(){this.$pageLinks.on("click",this.pageClick.bind(this)),this.$nextLink.on("click",this.nextClick.bind(this)),this.$prevLink.on("click",this.prevClick.bind(this)),MK.utils.eventManager.subscribe("ajaxLoaded",this.onLoad.bind(this))},pageClick:function(e){e.preventDefault();var $this=$(e.currentTarget),id=parseFloat($this.attr("data-page-id"));id>this.ajaxLoader.getData("maxPages")||id<1||this.load(id,$this)},nextClick:function(e){e.preventDefault(),this.ajaxLoader.getData("paged")!==this.ajaxLoader.getData("maxPages")&&this.load(++this.lastId,$(e.currentTarget))},prevClick:function(e){e.preventDefault(),1!==this.ajaxLoader.getData("paged")&&this.load(--this.lastId,$(e.currentTarget))},load:function(id,$el){this.lastId=id,this.ajaxLoader.setData({paged:id}),this.ajaxLoader.load(this.unique),this.removeIndicator(),MK.ui.loader.add($el)},onLoad:function(e,response){void 0!==response&&response.id===this.containerId&&(this.updatePagination(),this.lastId=this.ajaxLoader.getData("paged"),response.unique===this.unique&&(this.removeIndicator(),this.scrollPage(),this.$container.html(response.content)))},updatePagination:function(){var self=this,isFirst=1===this.ajaxLoader.getData("paged"),isLast=this.ajaxLoader.getData("paged")===this.ajaxLoader.getData("maxPages");isFirst?this.$prevLink.addClass("is-vis-hidden"):this.$prevLink.removeClass("is-vis-hidden"),isLast?this.$nextLink.addClass("is-vis-hidden"):this.$nextLink.removeClass("is-vis-hidden"),this.$current.html(this.ajaxLoader.getData("paged")),this.$maxPages.html(this.ajaxLoader.getData("maxPages"));this.ajaxLoader.getData("maxPages")>10?this.$pageLinks.each(function(i){var id=self.lastId-5;id=Math.max(id,1),id=Math.min(id,self.ajaxLoader.getData("maxPages")-10+1),id+=i,$(this).html(id).attr("data-page-id",id).show(),0===i&&id>1&&$(this).html("..."),9===i&&id<self.ajaxLoader.getData("maxPages")&&$(this).html("...")}):this.$pageLinks.each(function(i){var $link=$(this),id=i+1;$link.html(id).attr("data-page-id",id),1===self.ajaxLoader.getData("maxPages")?self.$pageLinks.hide():i>self.ajaxLoader.getData("maxPages")-1?$link.hide():$link.show()}),this.$pageLinks.filter('[data-page-id="'+this.ajaxLoader.getData("paged")+'"]').addClass("current-page").siblings().removeClass("current-page")},scrollPage:function(){var containerOffset=this.$container.offset().top,offset=containerOffset-MK.val.offsetHeaderHeight(containerOffset)-20;MK.utils.scrollTo(offset)},removeIndicator:function(){MK.ui.loader.remove(".js-pagination-page, .js-pagination-next, .js-pagination-prev")}}}(jQuery),function($){"use strict";var val=MK.val;MK.utils;MK.component.Parallax=function(el){var $this=$(el),obj=$this[0],$window=$(window),container=document.getElementById("mk-theme-container"),config=$this.data("parallax-config"),headerHeight=($(config.holder),null),offset=null,elHeight=null,ticking=!1,isMobile=null,clientRect=null,update=function(){if(obj.style.transform=null,obj.style.top=null,obj.style.bottom=null,isMobile=MK.utils.isMobile())return void $this.css("height","");clientRect=$this[0].getBoundingClientRect(),offset=clientRect.top,elHeight=clientRect.height,headerHeight=val.offsetHeaderHeight(offset),offset=offset-headerHeight+val.scroll(),setPosition(),setSize()},h=0,winH=0,proportion=0,height=0,setSize=function(){if($this.css("height",""),winH=$window.height()-headerHeight,h=obj.getBoundingClientRect().height,config.speed<=1&&config.speed>0)0===offset?$this.css({backgroundAttachment:"scroll","will-change":"transform"}):$this.css({height:h+(winH-h)*config.speed,backgroundAttachment:"scroll","will-change":"transform"});else if(config.speed>1&&h<=winH)$this.css({height:winH+2*(winH*config.speed-winH),top:-(winH*config.speed-winH),backgroundAttachment:"scroll","will-change":"transform"});else if(config.speed>1&&h>winH)proportion=h/winH,height=winH+(winH*config.speed-winH)*(1+proportion),$this.css({height:height,top:-(height-winH*config.speed),backgroundAttachment:"scroll","will-change":"transform"});else if(config.speed<0&&h>=winH)height=h*(1-config.speed),$this.css({height:height+(height-h),top:h-height,backgroundAttachment:"scroll","will-change":"transform"});else if(config.speed<0&&h<winH){var display=(winH+h)/winH;height=h*-config.speed*display,$this.css({height:h+2*height,top:-height,backgroundAttachment:"scroll","will-change":"transform"})}},currentPoint=null,startPoint=null,endPoint=null,scrollY=(config.opacity&&$this.find(config.opacity),null),setPosition=function(){if(startPoint=offset-winH,endPoint=offset+elHeight+winH-headerHeight,(scrollY=val.scroll())<startPoint||scrollY>endPoint)return void(ticking=!1);currentPoint=(-offset+scrollY)*config.speed,$this.css({"-webkit-transform":"translateY("+currentPoint+"px) translateZ(0)","-moz-transform":"translateY("+currentPoint+"px) translateZ(0)","-ms-transform":"translateY("+currentPoint+"px) translateZ(0)","-o-transform":"translateY("+currentPoint+"px) translateZ(0)",transform:"translateY("+currentPoint+"px) translateZ(0)"}),ticking=!1},requestTick=function(){ticking||isMobile||(ticking=!0,window.requestAnimationFrame(setPosition))};return{init:function(){MK.utils.isSmoothScroll&&(update(),setTimeout(update,100),$window.on("load",update),$window.on("resize",update),window.addResizeListener(container,update),$window.on("scroll",requestTick))}}}}(jQuery),function($){"use strict";MK.component.Preloader=function(el){this.el=el},MK.component.Preloader.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.$preloader=$(this.el)},bindEvents:function(){this.onLoad()},onLoad:function(){setTimeout(this.hidePreloader.bind(this),300)},hidePreloader:function(){this.$preloader.hide()}}}(jQuery),function($){"use strict";MK.ui.loader={tpl:function(){return'<div class="mk-loading-indicator"><div class="mk-loading-indicator__inner"><div class="mk-loading-indicator__icon"></div><img style="height:100%; width:auto;" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></div></div>'},add:function(item){$(item).append(this.tpl)},remove:function(item){item?$(item).find(".mk-loading-indicator").remove():$(".mk-loading-indicator").remove()}}}(jQuery),function($){if("Edge"===MK.utils.browser.name||"IE"===MK.utils.browser.name){var val=1,$edgeClipper=$(".mk-slider-slide"),$sectionClipper=$(".clipper-true"),$bgLayer=$(".background-layer"),onScroll=function(){val*=-1,$edgeClipper.length&&$edgeClipper.each(redraw),$sectionClipper.length&&$sectionClipper.each(redraw),$bgLayer.length&&$bgLayer.each(redraw)},redraw=function(){$(this).css("margin-top",val/100)};$(window).on("scroll",function(){window.requestAnimationFrame(onScroll)})}}(jQuery),function($){"use strict";function run($imgs){$imgs.length&&$imgs.each(setSrcAttr)}function setSrcAttr(){var $img=$(this),set=$img.data("mk-image-src-set");"false"===set.responsive&&isRetina&&set["2x"]?$img.attr("src",set["2x"]):"false"===set.responsive?$img.attr("src",set.default):1===viewportClass&&isRetina&&set["2x"]?$img.attr("src",set["2x"]):0===viewportClass&&set.mobile?$img.attr("src",set.mobile):$img.attr("src",set.default)}function getViewportClass(){return window.matchMedia("(max-width: 736px)").matches?0:1}function handleResize(){if($imgs.length){var currentViewportClass=getViewportClass();currentViewportClass>viewportClass&&(viewportClass=currentViewportClass,run($imgs))}}function handleAjax(){setTimeout(function(){var $newImgs=$("img[data-mk-image-src-set]").not($imgs);$imgs.add($newImgs),run($newImgs)},100)}var $imgs=$("img[data-mk-image-src-set]"),viewportClass=getViewportClass(),isRetina=window.devicePixelRatio>=2;run($imgs),$(window).on("resize",handleResize),MK.utils.eventManager.subscribe("ajaxLoaded",handleAjax),MK.utils.eventManager.subscribe("ajax-preview",handleAjax),MK.utils.eventManager.subscribe("quickViewOpen",handleAjax)}(jQuery),function($){"use strict";var utils=MK.utils,val=MK.val,$topLevelSections=$("#theme-page > .vc_row, #theme-page > .mk-main-wrapper-holder, #theme-page > .mk-page-section");$(document).on("click",".mk-skip-to-next",function(){var $this=$(this),offset=$this.offset().top,nextOffset=utils.nextHigherVal(offset,utils.offsets($topLevelSections));utils.scrollTo(nextOffset-val.offsetHeaderHeight(nextOffset))})}(jQuery),function($){"use strict";MK.ui.Slider=function(container,config){var defaults={slide:".mk-slider-slide",nav:".mk-slider-nav",effect:"roulete",ease:"easeOutQuart",slidesPerView:1,slidesToView:1,transitionTime:700,displayTime:3e3,autoplay:!0,hasNav:!0,hasPagination:!0,paginationTpl:"<span></span>",paginationEl:"#pagination",draggable:!0,fluidHeight:!1,pauseOnHover:!1,activeClass:"is-active",onInitialize:function(){},onAfterSlide:function(id){},onBeforeSlide:function(id){}};this.state={id:0,moveForward:!0,running:!1,zIFlow:null,stop:!1},this.config=$.extend(defaults,config),this.container=container,this.initPerView=this.config.slidesPerView,this.activeTimer=null,this.autoplay=null,this.timer=null,this.timerRemaining=parseInt(this.config.displayTime)},MK.ui.Slider.prototype={init:function(){this.setPerViewItems(),this.cacheElements(),this.getSlideSize(),this.bindEvents(),this.setSize(),this.setPos(),this.updateId(-1),this.updateId(1),this.val=this.dynamicVal(),this.timeline=this.prepareTimeline(this.config.transitionTime),this.timeline.build(),this.config.hasPagination&&this.buildPagination(),this.config.autoplay&&document.hasFocus()&&this.setTimer(),"function"==typeof this.config.onInitialize&&this.config.onInitialize(this.slides),!0===this.config.fluidHeight&&($(this.slides).height("auto"),$(this.container).css("transition","height 200ms ease-out"),this.setHeight(0)),"toHighest"===this.config.fluidHeight&&this.setHeightToHighest(),$(this.slides).each(this.createTimer)},cacheElements:function(){this.container=this.isNode(this.container)?this.container:document.querySelectorAll(this.container)[0],this.slides=this.container.querySelectorAll(this.config.slide),this.$slides=$(this.slides),this.config.hasNav&&(this.$nav=$(this.config.nav)),this.config.hasPagination&&(this.$pagination=$(this.config.paginationEl))},bindEvents:function(){var $window=$(window);this.config.slidesPerView>1&&$window.on("resize",this.setPerViewItems.bind(this)),this.config.hasNav&&this.eventsNav(),this.config.hasPagination&&this.eventsPag(),this.config.draggable&&this.dragHandler(),this.config.autoplay&&($window.on("focus",this.windowActive.bind(this)),$window.on("blur",this.windowInactive.bind(this))),this.config.pauseOnHover&&($(this.container).on("mouseleave",this.setTimer.bind(this)),$(this.container).on("mouseenter",this.unsetTimer.bind(this))),"toHighest"===this.config.fluidHeight&&$window.on("resize",this.setHeightToHighest.bind(this))},setPerViewItems:function(){window.matchMedia("(max-width: 500px)").matches?this.config.slidesPerView=1:window.matchMedia("(max-width: 767px)").matches&&this.initPerView>=2?this.config.slidesPerView=2:window.matchMedia("(max-width: 1024px)").matches&&this.initPerView>=3?this.config.slidesPerView=3:this.config.slidesPerView=this.initPerView,void 0!==this.slides&&(this.getSlideSize(),this.setSize(),this.setPos(),this.timeline=this.prepareTimeline(this.config.transitionTime),this.timeline.build())},eventsNav:function(){this.$nav.on("click","a",this.handleNav.bind(this))},eventsPag:function(){this.$pagination.on("click","a",this.handlePagination.bind(this))},handleNav:function(e){if(e.preventDefault(),!this.state.running){this.state.running=!0;var $this=$(e.currentTarget),moveForward="next"===$this.data("direction");this.config.autoplay&&(this.unsetTimer(),setTimeout(this.setTimer.bind(this),this.config.transitionTime)),this.state.moveForward=moveForward,this.timeline.build(),this.timeline.play(),this.setActive(this.nextId(moveForward?1:-1)),this.config.fluidHeight&&this.setHeight(this.nextId(moveForward?1:-1))}},handlePagination:function(e){e.preventDefault();var $this=$(e.currentTarget),id=$this.index();this.goTo(id)},reset:function(){this.state.stop=!0,this.state.id=0,this.setPos(),this.unsetTimer(),this.setTimer()},goTo:function(id){if(!this.state.running){this.state.running=!0;var lastId=this.state.id;lastId!==id&&(this.state.moveForward=lastId<id,this.config.autoplay&&(this.unsetTimer(),setTimeout(this.setTimer.bind(this),this.config.transitionTime)),this.timeline.build(Math.abs(lastId-id)),this.timeline.play(),this.setActive(id),this.config.fluidHeight&&this.setHeight(id))}},windowActive:function(){this.setTimer(!1,!0),$(this.container).removeClass("is-paused")},windowInactive:function(){this.unsetTimer(),$(this.container).addClass("is-paused")},updateId:function(val){this.state.id=this.nextId(val)},nextId:function(val){var len=this.slides.length,insertVal=this.state.id+val;return insertVal=insertVal>=0?insertVal:len+val,insertVal=insertVal>=len?0:insertVal},setStyle:function(obj,style){var hasT=style.transform,t={x:hasT?style.transform.translateX:null,y:hasT?style.transform.translateY:null,scale:hasT?style.transform.scale:null,rotate:hasT?style.transform.rotate:null,rotateX:hasT?style.transform.rotateX:null,rotateY:hasT?style.transform.rotateY:null},x=t.x?"translateX("+t.x+"%)":"translateX(0)",y=t.y?"translateY("+t.y+"%)":"translateY(0)",s=t.scale?"scale("+t.scale+")":"scale(1)",r=t.rotate?"rotate("+t.rotate+"deg)":"rotate(0)",rX=t.rotateX?"rotateX("+t.rotateX+"deg)":"",rY=t.rotateY?"rotateY("+t.rotateY+"deg)":"",o=style.opacity,h=style.height,w=style.width,c="translateZ(0)"+x+y+s+r+rX+rY;c.length&&(obj.style.webkitTransform=c,obj.style.msTransform=c,obj.style.transform=c),"number"==typeof o&&(obj.style.opacity=o),h&&(obj.style.height=h+"%"),w&&(obj.style.width=w+"%")},setPos:function(){if(void 0!==this.slides){var id=this.state.id,i=0,len=this.slides.length,animation=this.animation[this.config.effect],axis=animation.axis,animNext=animation.next,animActi=animation.active,animPrev=animation.prev,perView=this.config.slidesPerView,slideId=null,style={};for(style.transform={};i<len;i+=1)i<perView?(style=animActi,style.transform["translate"+axis]=100*i):(style=this.state.moveForward?animNext:animPrev,style.transform["translate"+axis]=this.state.moveForward?100*perView:-100),this.slides[i].style.zIndex=0,slideId=(i+id)%len,this.setStyle(this.slides[slideId],style)}},setSize:function(){if(void 0!==this.slides){var i=0,len=this.slides.length,axis=this.animation[this.config.effect].axis,slideSize=this.slideSize,style={};for("Y"===axis?style.height=slideSize[axis]:style.width=slideSize[axis];i<len;i+=1)this.setStyle(this.slides[i],style)}},setHeight:function(id){var $slides=$(this.slides),$activeSlide=$slides.eq(id),currentHeight=$activeSlide.height();$(this.container).height(currentHeight)},setHeightToHighest:function(){var $slides=$(this.slides),height=0;$slides.each(function(){height=Math.max(height,$(this).find("> div").outerHeight())}),$(this.container).height(height)},prepareTimeline:function(time){var timeProg,build,move,add,play,reverse,progress,kill,self=this,iteration=0,totalIter=time/(1e3/60),animLoop=[],aL=0,loops=1,ease=this.config.ease,len=this.slides.length,perView=this.config.slidesPerView,animation=this.animation[this.config.effect],animAxis=animation.axis,animNext=animation.next,animActi=animation.active,animPrev=animation.prev,style={},slideId=null,zIFlow=null;return style.transform={},build=function(repeats){var currentEase=ease;if(loops=repeats||loops){loops>1&&(currentEase="linearEase"),kill(),self.setPos();for(var id=self.state.id,moveForward=self.state.moveForward,i=0,axisMove=moveForward?-100:100;i<=perView;i+=1)slideId=(moveForward?i+id:i+id-1)%len,slideId=slideId<0?len+slideId:slideId,style=0===i?moveForward?animPrev:animActi:i===perView?moveForward?animActi:animNext:animActi,zIFlow=self.state.moveForward?animNext.zIndex:animPrev.zIndex,zIFlow&&(self.slides[slideId].style.zIndex="+"===zIFlow?i+1:len-i),style.transform["translate"+animAxis]=axisMove,add(self.slides[slideId],style,currentEase)}},add=function(slide,toStyles,ease){if(void 0===slide)throw"Add at least one slide";var fromStyles=slide.style,style=self.refStyle(toStyles,fromStyles);animLoop.push([slide,style,ease]),aL+=1},move=function(startProg,mode){if(!isTest){var currentTotalIter=totalIter;if(loops>1&&(currentTotalIter=totalIter/5),self.state.running||(self.state.running=!0),startProg&&(iteration=Math.ceil(startProg*currentTotalIter)),timeProg=iteration/currentTotalIter,progress(timeProg),iteration>=currentTotalIter&&"play"===mode||iteration<=0&&"reverse"===mode)return self.state.running=!1,iteration=0,kill(),self.updateId(self.state.moveForward?1:-1),loops-=1,loops>0&&(build(),play()),void(loops||(loops=1,self.timerRemaining=parseInt(self.config.displayTime),self.config.onAfterSlide(self.state.id)));"play"===mode?iteration+=1:iteration-=1,requestAnimationFrame(function(){self.state.stop||move(0,mode)})}},play=function(startProg){self.config.onBeforeSlide(self.nextId(self.state.moveForward?1:-1));var start=startProg||0;iteration=0,self.state.stop=!1,move(start,"play")},reverse=function(startProg){move(startProg||1,"reverse")},progress=function(progVal){var currentStyle,aI=0;for(aI;aI<aL;aI++)1!==progVal&&0!==progVal?currentStyle=self.currentStyle(progVal,animLoop[aI][1],animLoop[aI][2]):1===progVal?currentStyle=self.currentStyle(progVal,animLoop[aI][1],"linearEase"):0===progVal&&(currentStyle=self.currentStyle(progVal,animLoop[aI][1],"linearEase")),self.setStyle(animLoop[aI][0],currentStyle)},kill=function(){animLoop=[],aL=0},{build:build,add:add,play:play,reverse:reverse,progress:progress}},refStyle:function(toStyles,fromStyles){var initVal,changeVal,endVal,dynamicEnd,styleProp,transProp,transform,axis=this.animation[this.config.effect].axis,style={};for(styleProp in toStyles)if("transform"===styleProp){transform=this.getTransforms(fromStyles),style.transform={};for(transProp in toStyles.transform)"translateZ"!==transProp&&(initVal=transform[transProp]||0,dynamicEnd=transProp==="translate"+axis?initVal:0,endVal=toStyles.transform[transProp]+dynamicEnd,changeVal=endVal-initVal,style.transform[transProp]=[initVal,changeVal])}else{if("zIndex"===styleProp)continue;initVal=parseFloat(fromStyles[styleProp])||0,endVal=toStyles[styleProp],changeVal=endVal-initVal,style[styleProp]=[initVal,changeVal]}return style},currentStyle:function(progress,style,ease){var currentVals,styleProp,transProp,self=this,currentStyle={};for(styleProp in style)if("transform"===styleProp){currentStyle.transform={};for(transProp in style.transform)"translateZ"!==transProp&&(currentVals=style.transform[transProp],currentStyle.transform[transProp]=self.ease[ease](progress,currentVals[0],currentVals[1],1))}else currentVals=style[styleProp],currentStyle[styleProp]=self.ease[ease](progress,currentVals[0],currentVals[1],1);return currentStyle},setActive:function(id){var $slides=$(this.slides),className=this.config.activeClass;if($slides.removeClass(className),this.config.hasPagination){var $pagination=this.$pagination.find("a");$pagination.removeClass(className),$pagination.eq(id).addClass(className)}this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=setTimeout(function(){$slides.eq(id).addClass(className)},this.config.transitionTime)},createTimer:function(){var $slide=$(this),video=$slide.find("video").get(0);video&&($slide.data("timer",1e3*video.duration),$slide.attr("data-timer",1e3*video.duration))},setTimer:function(isFirst,isPaused){var create,run,customTimer=this.$slides.eq(this.nextId(this.state.moveForward?1:-1)).data("timer"),trans=parseInt(this.config.transitionTime),interval=customTimer||parseInt(this.config.displayTime),timer=interval+trans,self=this,first=isFirst||!0;this.timer=!0,this.lastSetTimer=Date.now(),create=function(){self.autoplay&&clearTimeout(self.autoplay),self.timer&&(self.state.moveForward=!0,self.timeline.build(),self.timeline.play(),self.setActive(self.nextId(1)),self.config.fluidHeight&&self.setHeight(self.nextId(1)),first=!1,self.lastSetTimer=Date.now(),run())},run=function(newInterval){customTimer=self.$slides.eq(self.nextId(self.state.moveForward?1:-1)).data("timer"),interval=customTimer||parseInt(self.config.displayTime),timer=interval+trans;var time=newInterval||timer;self.autoplay=setTimeout(create,time)},isPaused?run(this.timerRemaining):run()},unsetTimer:function(){this.timer=!1,this.lastUnsetTimer=Date.now(),this.timerRemaining-=this.lastUnsetTimer-this.lastSetTimer,this.autoplay&&clearTimeout(this.autoplay)},buildPagination:function(){for(var i=0,len=this.slides.length,tpl="";i<len;i+=1)tpl+='<a href="javascript:;">'+this.config.paginationTpl+"</a>";this.$pagination.html(tpl),this.setActive(0)},getSlideSize:function(){this.slideSize={X:100/this.config.slidesPerView,Y:100/this.config.slidesPerView}},getTransforms:function(style){var match,transform=style.transform||style.webkitTransform||style.mozTransform,regex=/(\w+)\(([^)]*)\)/g,T={};if("string"!=typeof transform)throw"Transform prop is not a string.";if(transform){for(;match=regex.exec(transform);)T[match[1]]=parseFloat(match[2]);return T}},isNode:function(o){return"object"==typeof Node?o instanceof Node:o&&"object"==typeof o&&"number"==typeof o.nodeType&&"string"==typeof o.nodeName},dragHandler:function(){var dragStart,dragMove,dragEnd,progress,self=this,$container=$(this.container),prevBuild=!1,nextBuild=!1,dragging=!1;progress=function(moveX){return moveX/self.val.viewportW()},dragStart=function(moveX,startX){},dragMove=function(moveX){self.state.running||(moveX<-5?(nextBuild?self.timeline.progress(-progress(moveX)):(self.state.moveForward=!0,self.timeline.build(),nextBuild=!0,prevBuild=!1,self.unsetTimer()),dragging=!0):moveX>5&&(prevBuild?self.timeline.progress(progress(moveX)):(self.state.moveForward=!1,self.timeline.build(),prevBuild=!0,nextBuild=!1,self.unsetTimer()),dragging=!0))},dragEnd=function(moveX){if(dragging){var prog=progress(moveX),absProg=prog<0?-prog:prog;absProg>.1?(self.timeline.play(absProg),self.setActive(self.nextId(prog<0?1:-1)),self.config.fluidHeight&&self.setHeight(self.nextId(prog<0?1:-1))):(self.timeline.reverse(absProg),prog<0?self.updateId(-1):self.updateId(1)),prevBuild=!1,nextBuild=!1,dragging=!1,self.config.autoplay&&self.setTimer(!1)}},this.drag($container,dragStart,dragMove,dragEnd)},drag:function($el,startFn,moveFn,stopFn){var touchX,movX,evt,prevent,start,move,stop;prevent=function(e){e.preventDefault()},start=function(e){$el.on("mousemove",prevent),$el.on("touchmove",move),$el.on("mousemove",move),evt="touchstart"===e.type?e.originalEvent.touches[0]:e,touchX=evt.pageX,"function"==typeof startFn&&startFn(movX,touchX)},move=function(e){evt="touchmove"===e.type?e.originalEvent.touches[0]:e,movX=evt.pageX-touchX,"function"==typeof moveFn&&moveFn(movX)},stop=function(e){$el.off("mousemove",prevent),$el.off("touchmove",move),$el.off("mousemove",move),"function"==typeof stopFn&&stopFn(movX)},$el.on("touchstart",start),$el.on("mousedown",start),$el.on("touchend",stop),$el.on("touchleave",stop),$el.on("touchcancel",stop),$el.on("mouseup",stop),$el.on("mouseleave",stop)},dynamicVal:function(){var update,getViewportW,viewportW,$window=$(window);return update=function(){viewportW=$window.width()},getViewportW=function(){return viewportW},update(),$window.on("load",update),$window.on("resize",update),{viewportW:getViewportW}}},MK.ui.Slider.prototype.animation={slide:{axis:"X",next:{transform:{}},active:{transform:{}},prev:{transform:{}}},vertical_slide:{axis:"Y",next:{transform:{}},active:{transform:{}},prev:{transform:{}}},perspective_flip:{axis:"Y",next:{transform:{rotateX:80}},active:{transform:{rotateX:0}},prev:{transform:{rotateX:0}}},zoom:{axis:"Z",next:{opacity:0,transform:{scale:.9}},active:{opacity:1,transform:{scale:1}},prev:{opacity:0,transform:{scale:1.1}}},fade:{axis:"Z",next:{opacity:0,transform:{}},active:{opacity:1,transform:{}},prev:{opacity:0,transform:{}}},kenburned:{axis:"Z",next:{opacity:0,transform:{}},active:{opacity:1,transform:{}},prev:{opacity:0,transform:{}}},zoom_out:{axis:"Z",next:{zIndex:"+",opacity:1,transform:{translateY:100,scale:1}},active:{opacity:1,transform:{translateY:0,scale:1}},prev:{zIndex:"+",opacity:0,transform:{translateY:0,scale:.5}}},horizontal_curtain:{axis:"Z",next:{zIndex:"+",transform:{translateX:100}},active:{transform:{translateX:0}},prev:{zIndex:"+",transform:{translateX:-70}}},roulete:{axis:"X",next:{opacity:.5,transform:{scale:.5,rotate:10,translateY:20}},active:{opacity:1,transform:{scale:1,rotate:0,translateY:0}},prev:{opacity:.3,transform:{scale:.5,rotate:-10,translateY:20}}}},MK.ui.Slider.prototype.ease={linearEase:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*currentIteration/totalIterations+startValue},easeInQuad:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(currentIteration/=totalIterations)*currentIteration+startValue},easeOutQuad:function(currentIteration,startValue,changeInValue,totalIterations){return-changeInValue*(currentIteration/=totalIterations)*(currentIteration-2)+startValue},easeInOutQuad:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*currentIteration*currentIteration+startValue:-changeInValue/2*(--currentIteration*(currentIteration-2)-1)+startValue},easeInCubic:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,3)+startValue},easeOutCubic:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(Math.pow(currentIteration/totalIterations-1,3)+1)+startValue},easeInOutCubic:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*Math.pow(currentIteration,3)+startValue:changeInValue/2*(Math.pow(currentIteration-2,3)+2)+startValue},easeInQuart:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,4)+startValue},easeOutQuart:function(currentIteration,startValue,changeInValue,totalIterations){return-changeInValue*(Math.pow(currentIteration/totalIterations-1,4)-1)+startValue},easeInOutQuart:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*Math.pow(currentIteration,4)+startValue:-changeInValue/2*(Math.pow(currentIteration-2,4)-2)+startValue},easeInQuint:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,5)+startValue},easeOutQuint:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(Math.pow(currentIteration/totalIterations-1,5)+1)+startValue},easeInOutQuint:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*Math.pow(currentIteration,5)+startValue:changeInValue/2*(Math.pow(currentIteration-2,5)+2)+startValue},easeInSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(1-Math.cos(currentIteration/totalIterations*(Math.PI/2)))+startValue},easeOutSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.sin(currentIteration/totalIterations*(Math.PI/2))+startValue},easeInOutSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue/2*(1-Math.cos(Math.PI*currentIteration/totalIterations))+startValue},easeInExpo:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(2,10*(currentIteration/totalIterations-1))+startValue},easeOutExpo:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(1-Math.pow(2,-10*currentIteration/totalIterations))+startValue},easeInOutExpo:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*Math.pow(2,10*(currentIteration-1))+startValue:changeInValue/2*(2-Math.pow(2,-10*--currentIteration))+startValue},easeInCirc:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(1-Math.sqrt(1-(currentIteration/=totalIterations)*currentIteration))+startValue},easeOutCirc:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.sqrt(1-(currentIteration=currentIteration/totalIterations-1)*currentIteration)+startValue},easeInOutCirc:function(currentIteration,startValue,changeInValue,totalIterations){return(currentIteration/=totalIterations/2)<1?changeInValue/2*(1-Math.sqrt(1-currentIteration*currentIteration))+startValue:changeInValue/2*(Math.sqrt(1-(currentIteration-=2)*currentIteration)+1)+startValue}}}(jQuery),function($){"use strict";MK.component.SocialShare=function(el){var networks={twitter:"http://twitter.com/intent/tweet?text={title} {url}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={image}&description={title}",facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",googleplus:"https://plus.google.com/share?url={url}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={desc}"};this.networks=networks,this.el=el},MK.component.SocialShare.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.$this=$(this.el)},bindEvents:function(){var thisObject=this;$.each(this.networks,function(key,value){thisObject.$tempClass=$("."+key+"-share"),thisObject.$tempClass.click(thisObject.openSharingDialog.bind(self,this,key))})},openSharingDialog:function(url,site,args){var urlWrapper=url,rx=new RegExp("{[a-z]*}","g");for(match=rx.exec(url);null!=match;){var pureAttr=match[0].replace("{","").replace("}",""),attValue=$(args.currentTarget).attr("data-"+pureAttr);void 0!==attValue&&null!==attValue||(attValue=""),attValue=attValue.replace("#","%23"),urlWrapper=urlWrapper.replace(match,attValue),match=rx.exec(url)}window.open(urlWrapper,site+"Window","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0")}};var $body=$("body");$body.length&&$body.each(function(){new MK.component.SocialShare(this).init()})}(jQuery),function($){"use strict";MK.component.Sortable=function(el){this.el=el},MK.component.Sortable.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.unique=Date.now(),this.$filter=$(this.el),this.config=this.$filter.data("sortable-config"),this.ajaxLoader=new MK.utils.ajaxLoader(this.config.container),this.ajaxLoader.init(),this.$container=$(this.config.container),this.$navItems=this.$filter.find("a"),this.$filterItems=this.$container.find(this.config.item)},bindEvents:function(){this.$navItems.on("click",this.handleClick.bind(this)),MK.utils.eventManager.subscribe("ajaxLoaded",this.onLoad.bind(this))},handleClick:function(e){e.preventDefault();var $item=$(e.currentTarget),term=$item.data("filter");this.$navItems.removeClass("current"),$item.addClass("current"),"ajax"===this.config.mode?this.inDB(term,$item):this.inPage(term)},inDB:function(term,$item){MK.ui.loader.remove(this.$filter),MK.ui.loader.add($item),this.$container.siblings(".mk-ajax-loaded-posts").length&&this.$container.siblings(".mk-ajax-loaded-posts").attr("data-loop-loaded-posts",""),this.ajaxLoader.setData({paged:1,term:term}),this.ajaxLoader.load(this.unique)},inPage:function(term){var $filterItems=this.$container.find(this.config.item);$filterItems.removeClass("is-hidden"),"*"!==term&&$filterItems.not("."+term).addClass("is-hidden"),MK.utils.eventManager.publish("staticFilter")},onLoad:function(e,response){"static"===this.config.mode&&this.$navItems.removeClass("current").first().addClass("current"),void 0!==response&&response.id===this.config.container&&(MK.ui.loader.remove(this.$filter),response.unique===this.unique&&(this.$container.html(response.content),this.ajaxLoader.setData({paged:1})))}}}(jQuery),function($){"use strict";MK.component.Tabs=function(el){var defaults={activeClass:"is-active"};this.config=defaults,this.el=el},MK.component.Tabs.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.$this=$(this.el),this.$tabs=this.$this.find(".mk-tabs-tab"),this.$panes=this.$this.find(".mk-tabs-pane"),this.currentId=0},bindEvents:function(){this.$tabs.on("click",this.switchPane.bind(this))},switchPane:function(evt){evt.preventDefault();var clickedId=$(evt.currentTarget).index();this.hide(this.currentId),this.show(clickedId),this.currentId=clickedId,MK.utils.eventManager.publish("item-expanded")},show:function(id){this.$tabs.eq(id).addClass(this.config.activeClass),this.$panes.eq(id).addClass(this.config.activeClass)},hide:function(id){this.$tabs.eq(id).removeClass(this.config.activeClass),this.$panes.eq(id).removeClass(this.config.activeClass)}}}(jQuery),function($){"use strict";function toggle(e){e.preventDefault(),e.stopPropagation();var $this=$(e.currentTarget);$this.hasClass("mk-toggle-active")?($(".mk-box-to-trigger").fadeOut(200),$this.removeClass("mk-toggle-active")):($(".mk-box-to-trigger").fadeOut(200),$this.parent().find(".mk-box-to-trigger").fadeIn(250),$(".mk-toggle-trigger").removeClass("mk-toggle-active"),$this.addClass("mk-toggle-active"))}function assignToggle(){setTimeout(function(){$(".mk-toggle-trigger").off("click",toggle),$(".mk-toggle-trigger").on("click",toggle)},100)}$(document).on("click",function(e){$(".mk-toggle-trigger").removeClass("mk-toggle-active")}),assignToggle(),MK.utils.eventManager.subscribe("ajaxLoaded",assignToggle),MK.utils.eventManager.subscribe("ajax-preview",assignToggle)}(jQuery),function($){"use strict";$("iframe").each(function(){var $iframe=$(this);"P"===$iframe.parent().get(0).tagName&&$iframe.wrap('<div class="mk-video-container"></div>')})}(jQuery),function($){"use strict";if(MK.utils.isMobile())return void $(".mk-animate-element").removeClass("mk-animate-element");var $rootLevelEls=$(".js-master-row, .widget"),init=function(){$rootLevelEls.each(spyViewport),$rootLevelEls.each(function(){$(this).find(".mk-animate-element").each(spyViewport)})},spyViewport=function(i){var self=this;MK.utils.scrollSpy(this,{position:"bottom",threshold:200,after:function(){animate.call(self,i)}})},animate=function(i){var $this=$(this);setTimeout(function(){$this.addClass("mk-in-viewport")},100*i)};$(window).on("load",init)}(jQuery),function($){"use strict";function smoothScrollToAnchor(evt){var anchor=MK.utils.detectAnchor(this),$this=$(evt.currentTarget),loc=window.location,currentPage=loc.origin+loc.pathname,href=$this.attr("href"),linkSplit=href?href.split("#"):"",hrefPage=linkSplit[0]?linkSplit[0]:"";linkSplit[1]&&linkSplit[1];anchor.length?(hrefPage!==currentPage&&""!==hrefPage||evt.preventDefault(),MK.utils.scrollToAnchor(anchor)):"#"===$this.attr("href")&&evt.preventDefault()}$(window).on("load",function(){MK.core.initAll(document),MK.utils.scrollToURLHash(),setTimeout(function(){MK.ui.preloader.hide(),$(".mk-preloader").hide(),$("body").removeClass("loading")},150)}),$(document).on("click",".js-smooth-scroll, .js-main-nav a",smoothScrollToAnchor),$(".side_dashboard_menu a").on("click",smoothScrollToAnchor)}(jQuery)}(jQuery);
;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;"use strict";var icl_lang=icl_vars.current_language;var icl_home=icl_vars.icl_home;function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){if(oldonload){oldonload();}
func();}}}
;function vc_js(){vc_toggleBehaviour(),vc_tabsBehaviour(),vc_accordionBehaviour(),vc_teaserGrid(),vc_carouselBehaviour(),vc_slidersBehaviour(),vc_prettyPhoto(),vc_googleplus(),vc_pinterest(),vc_progress_bar(),vc_plugin_flexslider(),vc_google_fonts(),vc_gridBehaviour(),vc_rowBehaviour(),vc_googleMapsPointer(),vc_ttaActivation(),jQuery(document).trigger("vc_js"),window.setTimeout(vc_waypoints,500)}function getSizeName(){var screen_w=jQuery(window).width();return 1170<screen_w?"desktop_wide":960<screen_w&&1169>screen_w?"desktop":768<screen_w&&959>screen_w?"tablet":300<screen_w&&767>screen_w?"mobile":300>screen_w?"mobile_portrait":""}function loadScript(url,$obj,callback){var script=document.createElement("script");script.type="text/javascript",script.readyState&&(script.onreadystatechange=function(){"loaded"!==script.readyState&&"complete"!==script.readyState||(script.onreadystatechange=null,callback())}),script.src=url,$obj.get(0).appendChild(script)}function vc_ttaActivation(){jQuery("[data-vc-accordion]").on("show.vc.accordion",function(e){var $=window.jQuery,ui={};ui.newPanel=$(this).data("vc.accordion").getTarget(),window.wpb_prepare_tab_content(e,ui)})}function vc_accordionActivate(event,ui){if(ui.newPanel.length&&ui.newHeader.length){var $pie_charts=ui.newPanel.find(".vc_pie_chart:not(.vc_ready)"),$round_charts=ui.newPanel.find(".vc_round-chart"),$line_charts=ui.newPanel.find(".vc_line-chart"),$carousel=ui.newPanel.find('[data-ride="vc_carousel"]');"undefined"!=typeof jQuery.fn.isotope&&ui.newPanel.find(".isotope, .wpb_image_grid_ul").isotope("layout"),ui.newPanel.find(".vc_masonry_media_grid, .vc_masonry_grid").length&&ui.newPanel.find(".vc_masonry_media_grid, .vc_masonry_grid").each(function(){var grid=jQuery(this).data("vcGrid");grid&&grid.gridBuilder&&grid.gridBuilder.setMasonry&&grid.gridBuilder.setMasonry()}),vc_carouselBehaviour(ui.newPanel),vc_plugin_flexslider(ui.newPanel),$pie_charts.length&&jQuery.fn.vcChat&&$pie_charts.vcChat(),$round_charts.length&&jQuery.fn.vcRoundChart&&$round_charts.vcRoundChart({reload:!1}),$line_charts.length&&jQuery.fn.vcLineChart&&$line_charts.vcLineChart({reload:!1}),$carousel.length&&jQuery.fn.carousel&&$carousel.carousel("resizeAction"),ui.newPanel.parents(".isotope").length&&ui.newPanel.parents(".isotope").each(function(){jQuery(this).isotope("layout")})}}function initVideoBackgrounds(){return window.console&&window.console.warn&&window.console.warn("this function is deprecated use vc_initVideoBackgrounds"),vc_initVideoBackgrounds()}function vc_initVideoBackgrounds(){jQuery("[data-vc-video-bg]").each(function(){var youtubeUrl,youtubeId,$element=jQuery(this);$element.data("vcVideoBg")?(youtubeUrl=$element.data("vcVideoBg"),youtubeId=vcExtractYoutubeId(youtubeUrl),youtubeId&&($element.find(".vc_video-bg").remove(),insertYoutubeVideoAsBackground($element,youtubeId)),jQuery(window).on("grid:items:added",function(event,$grid){$element.has($grid).length&&vcResizeVideoBackground($element)})):$element.find(".vc_video-bg").remove()})}function insertYoutubeVideoAsBackground($element,youtubeId,counter){if("undefined"==typeof YT||"undefined"==typeof YT.Player)return counter="undefined"==typeof counter?0:counter,100<counter?void console.warn("Too many attempts to load YouTube api"):void setTimeout(function(){insertYoutubeVideoAsBackground($element,youtubeId,counter++)},100);var $container=$element.prepend('<div class="vc_video-bg vc_hidden-xs"><div class="inner"></div></div>').find(".inner");new YT.Player($container[0],{width:"100%",height:"100%",videoId:youtubeId,playerVars:{playlist:youtubeId,iv_load_policy:3,enablejsapi:1,disablekb:1,autoplay:1,controls:0,showinfo:0,rel:0,loop:1,wmode:"transparent"},events:{onReady:function(event){event.target.mute().setLoop(!0)}}}),vcResizeVideoBackground($element),jQuery(window).bind("resize",function(){vcResizeVideoBackground($element)})}function vcResizeVideoBackground($element){var iframeW,iframeH,marginLeft,marginTop,containerW=$element.innerWidth(),containerH=$element.innerHeight(),ratio1=16,ratio2=9;containerW/containerH<ratio1/ratio2?(iframeW=containerH*(ratio1/ratio2),iframeH=containerH,marginLeft=-Math.round((iframeW-containerW)/2)+"px",marginTop=-Math.round((iframeH-containerH)/2)+"px",iframeW+="px",iframeH+="px"):(iframeW=containerW,iframeH=containerW*(ratio2/ratio1),marginTop=-Math.round((iframeH-containerH)/2)+"px",marginLeft=-Math.round((iframeW-containerW)/2)+"px",iframeW+="px",iframeH+="px"),$element.find(".vc_video-bg iframe").css({maxWidth:"1000%",marginLeft:marginLeft,marginTop:marginTop,width:iframeW,height:iframeH})}function vcExtractYoutubeId(url){if("undefined"==typeof url)return!1;var id=url.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!==id&&id[1]}function vc_googleMapsPointer(){var $=window.jQuery,$wpbGmapsWidget=$(".wpb_gmaps_widget");$wpbGmapsWidget.click(function(){$("iframe",this).css("pointer-events","auto")}),$wpbGmapsWidget.mouseleave(function(){$("iframe",this).css("pointer-events","none")}),$(".wpb_gmaps_widget iframe").css("pointer-events","none")}document.documentElement.className+=" js_active ",document.documentElement.className+="ontouchstart"in document.documentElement?" vc_mobile ":" vc_desktop ",function(){for(var prefix=["-webkit-","-moz-","-ms-","-o-",""],i=0;i<prefix.length;i++)prefix[i]+"transform"in document.documentElement.style&&(document.documentElement.className+=" vc_transform ")}(),"function"!=typeof window.vc_plugin_flexslider&&(window.vc_plugin_flexslider=function($parent){var $slider=$parent?$parent.find(".wpb_flexslider"):jQuery(".wpb_flexslider");$slider.each(function(){var this_element=jQuery(this),sliderSpeed=800,sliderTimeout=1e3*parseInt(this_element.attr("data-interval")),sliderFx=this_element.attr("data-flex_fx"),slideshow=!0;0===sliderTimeout&&(slideshow=!1),this_element.is(":visible")&&this_element.flexslider({animation:sliderFx,slideshow:slideshow,slideshowSpeed:sliderTimeout,sliderSpeed:sliderSpeed,smoothHeight:!0})})}),"function"!=typeof window.vc_googleplus&&(window.vc_googleplus=function(){0<jQuery(".wpb_googleplus").length&&!function(){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.src="//apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}()}),"function"!=typeof window.vc_pinterest&&(window.vc_pinterest=function(){0<jQuery(".wpb_pinterest").length&&!function(){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.src="//assets.pinterest.com/js/pinit.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}()}),"function"!=typeof window.vc_progress_bar&&(window.vc_progress_bar=function(){"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".vc_progress_bar").waypoint(function(){jQuery(this).find(".vc_single_bar").each(function(index){var $this=jQuery(this),bar=$this.find(".vc_bar"),val=bar.data("percentage-value");setTimeout(function(){bar.css({width:val+"%"})},200*index)})},{offset:"85%"})}),"function"!=typeof window.vc_waypoints&&(window.vc_waypoints=function(){"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".wpb_animate_when_almost_visible:not(.wpb_start_animation)").waypoint(function(){jQuery(this).addClass("wpb_start_animation animated")},{offset:"85%"})}),"function"!=typeof window.vc_toggleBehaviour&&(window.vc_toggleBehaviour=function($el){function event(e){e&&e.preventDefault&&e.preventDefault();var title=jQuery(this),element=title.closest(".vc_toggle"),content=element.find(".vc_toggle_content");element.hasClass("vc_toggle_active")?content.slideUp({duration:300,complete:function(){element.removeClass("vc_toggle_active")}}):content.slideDown({duration:300,complete:function(){element.addClass("vc_toggle_active")}})}$el?$el.hasClass("vc_toggle_title")?$el.unbind("click").click(event):$el.find(".vc_toggle_title").unbind("click").click(event):jQuery(".vc_toggle_title").unbind("click").on("click",event)}),"function"!=typeof window.vc_tabsBehaviour&&(window.vc_tabsBehaviour=function($tab){if(jQuery.ui){var $call=$tab||jQuery(".wpb_tabs, .wpb_tour"),ver=jQuery.ui&&jQuery.ui.version?jQuery.ui.version.split("."):"1.10",old_version=1===parseInt(ver[0])&&9>parseInt(ver[1]);$call.each(function(index){var $tabs,interval=jQuery(this).attr("data-interval"),tabs_array=[];if($tabs=jQuery(this).find(".wpb_tour_tabs_wrapper").tabs({show:function(event,ui){wpb_prepare_tab_content(event,ui)},beforeActivate:function(event,ui){1!==ui.newPanel.index()&&ui.newPanel.find(".vc_pie_chart:not(.vc_ready)")},activate:function(event,ui){wpb_prepare_tab_content(event,ui)}}),interval&&0<interval)try{$tabs.tabs("rotate",1e3*interval)}catch(e){window.console&&window.console.log&&console.log(e)}jQuery(this).find(".wpb_tab").each(function(){tabs_array.push(this.id)}),jQuery(this).find(".wpb_tabs_nav li").click(function(e){return e.preventDefault(),old_version?$tabs.tabs("select",jQuery("a",this).attr("href")):$tabs.tabs("option","active",jQuery(this).index()),!1}),jQuery(this).find(".wpb_prev_slide a, .wpb_next_slide a").click(function(e){if(e.preventDefault(),old_version){var index=$tabs.tabs("option","selected");jQuery(this).parent().hasClass("wpb_next_slide")?index++:index--,0>index?index=$tabs.tabs("length")-1:index>=$tabs.tabs("length")&&(index=0),$tabs.tabs("select",index)}else{var index=$tabs.tabs("option","active"),length=$tabs.find(".wpb_tab").length;index=jQuery(this).parent().hasClass("wpb_next_slide")?index+1>=length?0:index+1:0>index-1?length-1:index-1,$tabs.tabs("option","active",index)}})})}}),"function"!=typeof window.vc_accordionBehaviour&&(window.vc_accordionBehaviour=function(){jQuery(".wpb_accordion").each(function(index){var $tabs,$this=jQuery(this),active_tab=($this.attr("data-interval"),!isNaN(jQuery(this).data("active-tab"))&&0<parseInt($this.data("active-tab"))&&parseInt($this.data("active-tab"))-1),collapsible=!1===active_tab||"yes"===$this.data("collapsible");$tabs=$this.find(".wpb_accordion_wrapper").accordion({header:"> div > h3",autoHeight:!1,heightStyle:"content",active:active_tab,collapsible:collapsible,navigation:!0,activate:vc_accordionActivate,change:function(event,ui){"undefined"!=typeof jQuery.fn.isotope&&ui.newContent.find(".isotope").isotope("layout"),vc_carouselBehaviour(ui.newPanel)}}),!0===$this.data("vcDisableKeydown")&&($tabs.data("uiAccordion")._keydown=function(){})})}),"function"!=typeof window.vc_teaserGrid&&(window.vc_teaserGrid=function(){var layout_modes={fitrows:"fitRows",masonry:"masonry"};jQuery(".wpb_grid .teaser_grid_container:not(.wpb_carousel), .wpb_filtered_grid .teaser_grid_container:not(.wpb_carousel)").each(function(){var $container=jQuery(this),$thumbs=$container.find(".wpb_thumbnails"),layout_mode=$thumbs.attr("data-layout-mode");$thumbs.isotope({itemSelector:".isotope-item",layoutMode:"undefined"==typeof layout_modes[layout_mode]?"fitRows":layout_modes[layout_mode]}),$container.find(".categories_filter a").data("isotope",$thumbs).click(function(e){e.preventDefault();var $thumbs=jQuery(this).data("isotope");jQuery(this).parent().parent().find(".active").removeClass("active"),jQuery(this).parent().addClass("active"),$thumbs.isotope({filter:jQuery(this).attr("data-filter")})}),jQuery(window).bind("load resize",function(){$thumbs.isotope("layout")})})}),"function"!=typeof window.vc_carouselBehaviour&&(window.vc_carouselBehaviour=function($parent){var $carousel=$parent?$parent.find(".wpb_carousel"):jQuery(".wpb_carousel");$carousel.each(function(){var $this=jQuery(this);if(!0!==$this.data("carousel_enabled")&&$this.is(":visible")){$this.data("carousel_enabled",!0);var carousel_speed=(getColumnsCount(jQuery(this)),500);jQuery(this).hasClass("columns_count_1")&&(carousel_speed=900);var carousele_li=jQuery(this).find(".wpb_thumbnails-fluid li");carousele_li.css({"margin-right":carousele_li.css("margin-left"),"margin-left":0});var fluid_ul=jQuery(this).find("ul.wpb_thumbnails-fluid");fluid_ul.width(fluid_ul.width()+300),jQuery(window).resize(function(){var before_resize=screen_size;screen_size=getSizeName(),before_resize!=screen_size&&window.setTimeout("location.reload()",20)})}})}),"function"!=typeof window.vc_slidersBehaviour&&(window.vc_slidersBehaviour=function(){jQuery(".wpb_gallery_slides").each(function(index){var $imagesGrid,this_element=jQuery(this);if(this_element.hasClass("wpb_slider_nivo")){var sliderSpeed=800,sliderTimeout=1e3*this_element.attr("data-interval");0===sliderTimeout&&(sliderTimeout=9999999999),this_element.find(".nivoSlider").nivoSlider({effect:"boxRainGrow,boxRain,boxRainReverse,boxRainGrowReverse",slices:15,boxCols:8,boxRows:4,animSpeed:sliderSpeed,pauseTime:sliderTimeout,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,keyboardNav:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next"})}else this_element.hasClass("wpb_image_grid")&&(jQuery.fn.imagesLoaded?$imagesGrid=this_element.find(".wpb_image_grid_ul").imagesLoaded(function(){$imagesGrid.isotope({itemSelector:".isotope-item",layoutMode:"fitRows"})}):this_element.find(".wpb_image_grid_ul").isotope({itemSelector:".isotope-item",layoutMode:"fitRows"}))})}),"function"!=typeof window.vc_prettyPhoto&&(window.vc_prettyPhoto=function(){try{jQuery&&jQuery.fn&&jQuery.fn.prettyPhoto&&jQuery('a.prettyphoto, .gallery-icon a[href*=".jpg"]').prettyPhoto({animationSpeed:"normal",hook:"data-rel",padding:15,opacity:.7,showTitle:!0,allowresize:!0,counter_separator_label:"/",hideflash:!1,deeplinking:!1,modal:!1,callback:function(){var url=location.href;url.indexOf("#!prettyPhoto")>-1&&(location.hash="")},social_tools:""})}catch(err){window.console&&window.console.log&&console.log(err)}}),"function"!=typeof window.vc_google_fonts&&(window.vc_google_fonts=function(){return!1}),window.vcParallaxSkroll=!1,"function"!=typeof window.vc_rowBehaviour&&(window.vc_rowBehaviour=function(){function fullWidthRow(){var $elements=$('[data-vc-full-width="true"]');$.each($elements,function(key,item){var $el=$(this);$el.addClass("vc_hidden");var $el_full=$el.next(".vc_row-full-width");if($el_full.length||($el_full=$el.parent().next(".vc_row-full-width")),$el_full.length){var el_margin_left=parseInt($el.css("margin-left"),10),el_margin_right=parseInt($el.css("margin-right"),10),offset=0-$el_full.offset().left-el_margin_left,width=$(window).width();if($el.css({position:"relative",left:offset,"box-sizing":"border-box",width:$(window).width()}),!$el.data("vcStretchContent")){var padding=-1*offset;0>padding&&(padding=0);var paddingRight=width-padding-$el_full.width()+el_margin_left+el_margin_right;0>paddingRight&&(paddingRight=0),$el.css({"padding-left":padding+"px","padding-right":paddingRight+"px"})}$el.attr("data-vc-full-width-init","true"),$el.removeClass("vc_hidden"),$(document).trigger("vc-full-width-row-single",{el:$el,offset:offset,marginLeft:el_margin_left,marginRight:el_margin_right,elFull:$el_full,width:width})}}),$(document).trigger("vc-full-width-row",$elements)}function parallaxRow(){var vcSkrollrOptions,callSkrollInit=!1;return window.vcParallaxSkroll&&window.vcParallaxSkroll.destroy(),$(".vc_parallax-inner").remove(),$("[data-5p-top-bottom]").removeAttr("data-5p-top-bottom data-30p-top-bottom"),$("[data-vc-parallax]").each(function(){var skrollrSpeed,skrollrSize,skrollrStart,skrollrEnd,$parallaxElement,parallaxImage,youtubeId;callSkrollInit=!0,"on"===$(this).data("vcParallaxOFade")&&$(this).children().attr("data-5p-top-bottom","opacity:0;").attr("data-30p-top-bottom","opacity:1;"),skrollrSize=100*$(this).data("vcParallax"),$parallaxElement=$("<div />").addClass("vc_parallax-inner").appendTo($(this)),$parallaxElement.height(skrollrSize+"%"),parallaxImage=$(this).data("vcParallaxImage"),youtubeId=vcExtractYoutubeId(parallaxImage),youtubeId?insertYoutubeVideoAsBackground($parallaxElement,youtubeId):"undefined"!=typeof parallaxImage&&$parallaxElement.css("background-image","url("+parallaxImage+")"),skrollrSpeed=skrollrSize-100,skrollrStart=-skrollrSpeed,skrollrEnd=0,$parallaxElement.attr("data-bottom-top","top: "+skrollrStart+"%;").attr("data-top-bottom","top: "+skrollrEnd+"%;")}),!(!callSkrollInit||!window.skrollr)&&(vcSkrollrOptions={forceHeight:!1,smoothScrolling:!1,mobileCheck:function(){return!1}},window.vcParallaxSkroll=skrollr.init(vcSkrollrOptions),window.vcParallaxSkroll)}function fullHeightRow(){var $element=$(".vc_row-o-full-height:first");if($element.length){var $window,windowHeight,offsetTop,fullHeight;$window=$(window),windowHeight=$window.height(),offsetTop=$element.offset().top,offsetTop<windowHeight&&(fullHeight=100-offsetTop/(windowHeight/100),$element.css("min-height",fullHeight+"vh"))}$(document).trigger("vc-full-height-row",$element)}function fixIeFlexbox(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");(msie>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$(".vc_row-o-full-height").each(function(){"flex"===$(this).css("display")&&$(this).wrap('<div class="vc_ie-flexbox-fixer"></div>')})}var $=window.jQuery;$(window).off("resize.vcRowBehaviour").on("resize.vcRowBehaviour",fullWidthRow).on("resize.vcRowBehaviour",fullHeightRow),fullWidthRow(),fullHeightRow(),fixIeFlexbox(),vc_initVideoBackgrounds(),parallaxRow()}),"function"!=typeof window.vc_gridBehaviour&&(window.vc_gridBehaviour=function(){jQuery.fn.vcGrid&&jQuery("[data-vc-grid]").vcGrid()}),"function"!=typeof window.getColumnsCount&&(window.getColumnsCount=function(el){for(var find=!1,i=1;!1===find;){if(el.hasClass("columns_count_"+i))return find=!0,i;i++}});var screen_size=getSizeName();"function"!=typeof window.wpb_prepare_tab_content&&(window.wpb_prepare_tab_content=function(event,ui){var $ui_panel,$google_maps,panel=ui.panel||ui.newPanel,$pie_charts=panel.find(".vc_pie_chart:not(.vc_ready)"),$round_charts=panel.find(".vc_round-chart"),$line_charts=panel.find(".vc_line-chart"),$carousel=panel.find('[data-ride="vc_carousel"]');if(vc_carouselBehaviour(),vc_plugin_flexslider(panel),ui.newPanel.find(".vc_masonry_media_grid, .vc_masonry_grid").length&&ui.newPanel.find(".vc_masonry_media_grid, .vc_masonry_grid").each(function(){var grid=jQuery(this).data("vcGrid");grid&&grid.gridBuilder&&grid.gridBuilder.setMasonry&&grid.gridBuilder.setMasonry()}),panel.find(".vc_masonry_media_grid, .vc_masonry_grid").length&&panel.find(".vc_masonry_media_grid, .vc_masonry_grid").each(function(){var grid=jQuery(this).data("vcGrid");grid&&grid.gridBuilder&&grid.gridBuilder.setMasonry&&grid.gridBuilder.setMasonry()}),$pie_charts.length&&jQuery.fn.vcChat&&$pie_charts.vcChat(),$round_charts.length&&jQuery.fn.vcRoundChart&&$round_charts.vcRoundChart({reload:!1}),$line_charts.length&&jQuery.fn.vcLineChart&&$line_charts.vcLineChart({reload:!1}),$carousel.length&&jQuery.fn.carousel&&$carousel.carousel("resizeAction"),$ui_panel=panel.find(".isotope, .wpb_image_grid_ul"),$google_maps=panel.find(".wpb_gmaps_widget"),0<$ui_panel.length&&$ui_panel.isotope("layout"),$google_maps.length&&!$google_maps.is(".map_ready")){var $frame=$google_maps.find("iframe");$frame.attr("src",$frame.attr("src")),$google_maps.addClass("map_ready")}panel.parents(".isotope").length&&panel.parents(".isotope").each(function(){jQuery(this).isotope("layout")})}),"function"!=typeof window.vc_googleMapsPointer,jQuery(document).ready(function($){window.vc_js()});
;/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});

;/*! 
 * Master Slider  Responsive Touch Swipe Slider
 * Copyright  2016 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.50.0
 * @date Aug 2016
 */
window.averta={},function($){function getVendorPrefix(){if("result"in arguments.callee)return arguments.callee.result;var regex=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,someScript=document.getElementsByTagName("script")[0];for(var prop in someScript.style)if(regex.test(prop))return arguments.callee.result=prop.match(regex)[0];return arguments.callee.result="WebkitOpacity"in someScript.style?"Webkit":"KhtmlOpacity"in someScript.style?"Khtml":""}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if("string"==typeof s[p])return!0;v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof s[v[i]+p])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;var has3d,el=document.createElement("i"),transforms={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};el.style.display="block",document.body.insertBefore(el,null);for(var t in transforms)void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),null!=has3d&&has3d.length>0&&"none"!==has3d}window["package"]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object)target[key]=object[key]};Function.prototype.extend=function(superclass){"function"==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in this&&this[from]===elt)return from;return-1}),window.isMSIE=function(version){if(!$.browser.msie)return!1;if(!version)return!0;var ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen>i;i++)attrName=dataAttrs[i].name,"data-"===attrName.substring(0,5)&&-1===exclude.indexOf(attrName)&&dataAttrsToDelete.push(dataAttrs[i].name);$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&&(event={}),$this.attr("src",src),event.width=img.width,event.height=img.height,$this.data("width",img.width),$this.data("height",img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(_proto){var instance=new averta.EventDispatcher;for(var key in instance)"constructor"!=key&&(_proto[key]=averta.EventDispatcher.prototype[key])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(event,listener,ref){this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push({listener:listener,ref:ref})},removeEventListener:function(event,listener,ref){if(this.listeners[event]){for(var i=0;i<this.listeners[event].length;++i)listener===this.listeners[event][i].listener&&ref===this.listeners[event][i].ref&&this.listeners[event].splice(i--,1);0===this.listeners[event].length&&(this.listeners[event]=null)}},dispatchEvent:function(event){if(event.target=this,this.listeners[event.type])for(var i=0,l=this.listeners[event.type].length;l>i;++i)this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref,event)}}}(),function($){"use strict";var isTouch="ontouchstart"in document,isPointer=window.navigator.pointerEnabled,isMSPoiner=!isPointer&&window.navigator.msPointerEnabled,usePointer=isPointer||isMSPoiner,ev_start=(isPointer?"pointerdown ":"")+(isMSPoiner?"MSPointerDown ":"")+(isTouch?"touchstart ":"")+"mousedown",ev_move=(isPointer?"pointermove ":"")+(isMSPoiner?"MSPointerMove ":"")+(isTouch?"touchmove ":"")+"mousemove",ev_end=(isPointer?"pointerup ":"")+(isMSPoiner?"MSPointerUp ":"")+(isTouch?"touchend ":"")+"mouseup",ev_cancel=(isPointer?"pointercancel ":"")+(isMSPoiner?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function($element){this.$element=$element,this.enabled=!0,$element.bind(ev_start,{target:this},this.__touchStart),$element[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var p=averta.TouchSwipe.prototype;p.getDirection=function(new_x,new_y){switch(this.swipeType){case"horizontal":return new_x<=this.start_x?"left":"right";case"vertical":return new_y<=this.start_y?"up":"down";case"all":return Math.abs(new_x-this.start_x)>Math.abs(new_y-this.start_y)?new_x<=this.start_x?"left":"right":new_y<=this.start_y?"up":"down"}},p.priventDefultEvent=function(new_x,new_y){var dx=Math.abs(new_x-this.start_x),dy=Math.abs(new_y-this.start_y),horiz=dx>dy;return"horizontal"===this.swipeType&&horiz||"vertical"===this.swipeType&&!horiz},p.createStatusObject=function(evt){var temp_x,temp_y,status_data={};return temp_x=this.lastStatus.distanceX||0,temp_y=this.lastStatus.distanceY||0,status_data.distanceX=evt.pageX-this.start_x,status_data.distanceY=evt.pageY-this.start_y,status_data.moveX=status_data.distanceX-temp_x,status_data.moveY=status_data.distanceY-temp_y,status_data.distance=parseInt(Math.sqrt(Math.pow(status_data.distanceX,2)+Math.pow(status_data.distanceY,2))),status_data.duration=(new Date).getTime()-this.start_time,status_data.direction=this.getDirection(evt.pageX,evt.pageY),status_data},p.__reset=function(event,jqevt){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime();var point=this.__getPoint(event,jqevt);this.start_x=point.pageX,this.start_y=point.pageY},p.__touchStart=function(event){var swipe=event.data.target,jqevt=event;if(swipe.enabled&&!($(event.target).closest(swipe.noSwipeSelector,swipe.$element).length>0)){if(event=event.originalEvent,usePointer&&$(this).css("-ms-touch-action","horizontal"===swipe.swipeType?"pan-y":"pan-x"),!swipe.onSwipe)return void $.error("Swipe listener is undefined");if(!(swipe.touchStarted||isTouch&&swipe.start_time&&"mousedown"===event.type&&(new Date).getTime()-swipe.start_time<600)){var point=swipe.__getPoint(event,jqevt);swipe.start_x=point.pageX,swipe.start_y=point.pageY,swipe.start_time=(new Date).getTime(),$(document).bind(ev_end,{target:swipe},swipe.__touchEnd).bind(ev_move,{target:swipe},swipe.__touchMove).bind(ev_cancel,{target:swipe},swipe.__touchCancel);var status=swipe.createStatusObject(point);status.phase="start",swipe.onSwipe.call(null,status),isTouch||jqevt.preventDefault(),swipe.lastStatus=status,swipe.touchStarted=!0}}},p.__touchMove=function(event){var swipe=event.data.target,jqevt=event;if(event=event.originalEvent,swipe.touchStarted){clearTimeout(swipe.timo),swipe.timo=setTimeout(function(){swipe.__reset(event,jqevt)},60);var point=swipe.__getPoint(event,jqevt),status=swipe.createStatusObject(point);swipe.priventDefultEvent(point.pageX,point.pageY)&&jqevt.preventDefault(),status.phase="move",swipe.lastStatus=status,swipe.onSwipe.call(null,status)}},p.__touchEnd=function(event){var swipe=event.data.target,jqevt=event;event=event.originalEvent,clearTimeout(swipe.timo);var status=swipe.lastStatus;isTouch||jqevt.preventDefault(),status.phase="end",swipe.touchStarted=!1,swipe.priventEvt=null,$(document).unbind(ev_end,swipe.__touchEnd).unbind(ev_move,swipe.__touchMove).unbind(ev_cancel,swipe.__touchCancel),status.speed=status.distance/status.duration,swipe.onSwipe.call(null,status)},p.__touchCancel=function(event){var swipe=event.data.target;swipe.__touchEnd(event)},p.__getPoint=function(event,jqEvent){return isTouch&&-1===event.type.indexOf("mouse")?event.touches[0]:usePointer?event:jqEvent},p.enable=function(){this.enabled||(this.enabled=!0)},p.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var st=averta.Ticker,list=[],len=0,__stopped=!0;st.add=function(listener,ref){return list.push([listener,ref]),1===list.length&&st.start(),len=list.length},st.remove=function(listener,ref){for(var i=0,l=list.length;l>i;++i)list[i]&&list[i][0]===listener&&list[i][1]===ref&&list.splice(i,1);len=list.length,0===len&&st.stop()},st.start=function(){__stopped&&(__stopped=!1,__tick())},st.stop=function(){__stopped=!0};var __tick=function(){if(!st.__stopped){for(var item,i=0;i!==len;i++)item=list[i],item[0].call(item[1]);requestAnimationFrame(__tick)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(delay,autoStart){this.delay=delay,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,autoStart&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(element,duration,delay,ease){this.$element=element,this.duration=duration||1e3,this.delay=delay||0,this.ease=ease||"linear"};var p=CSSTween.prototype;p.to=function(callback,target){return this.to_cb=callback,this.to_cb_target=target,this},p.from=function(callback,target){return this.fr_cb=callback,this.fr_cb_target=target,this},p.onComplete=function(callback,target){return this.oc_fb=callback,this.oc_fb_target=target,this},p.chain=function(csstween){return this.chained_tween=csstween,this},p.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},p.start=function(){var element=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(element.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var that=this;return this.onTransComplete=function(){that.fresh&&(that.reset(),element.style[window._jcsspfx+"TransitionDuration"]="",element.style[window._jcsspfx+"TransitionProperty"]="",element.style[window._jcsspfx+"TransitionTimingFunction"]="",element.style[window._jcsspfx+"TransitionDelay"]="",that.fresh=!1,that.chained_tween&&that.chained_tween.start(),that.oc_fb&&that.oc_fb.call(that.oc_fb_target))},this.start_to=setTimeout(function(){that.$element&&(element.style[window._jcsspfx+"TransitionDuration"]=that.duration+"ms",element.style[window._jcsspfx+"TransitionProperty"]=that.transProperty||"all",element.style[window._jcsspfx+"TransitionDelay"]=that.delay>0?that.delay+"ms":"",element.style[window._jcsspfx+"TransitionTimingFunction"]=that.ease,that.to_cb&&that.to_cb.call(that.to_cb_target),that.end_to=setTimeout(function(){that.onTransComplete()},that.duration+(that.delay||0)))},1),this}}(),function(){"use strict";function transPos(element,properties){if(void 0!==properties.x||void 0!==properties.y)if(_cssanim){var trans=window._jcsspfx+"Transform";void 0!==properties.x&&(properties[trans]=(properties[trans]||"")+" translateX("+properties.x+"px)",delete properties.x),void 0!==properties.y&&(properties[trans]=(properties[trans]||"")+" translateY("+properties.y+"px)",delete properties.y)}else{if(void 0!==properties.x){var posx="auto"!==element.css("right")?"right":"left";properties[posx]=properties.x+"px",delete properties.x}if(void 0!==properties.y){var posy="auto"!==element.css("bottom")?"bottom":"top";properties[posy]=properties.y+"px",delete properties.y}}return properties}var _cssanim=null;window.CTween={},CTween.setPos=function(element,pos){element.css(transPos(element,pos))},CTween.animate=function(element,duration,properties,options){if(null==_cssanim&&(_cssanim=window._cssanim),options=options||{},transPos(element,properties),_cssanim){var tween=new CSSTween(element,duration,options.delay,EaseDic[options.ease]);return options.transProperty&&(tween.transProperty=options.transProperty),tween.to(function(){element.css(properties)}),options.complete&&tween.onComplete(options.complete,options.target),tween.start(),tween.stop=tween.reset,tween}var onCl;return options.delay&&element.delay(options.delay),options.complete&&(onCl=function(){options.complete.call(options.target)}),element.stop(!0).animate(properties,duration,options.ease||"linear",onCl),element},CTween.fadeOut=function(target,duration,remove){var options={};remove===!0?options.complete=function(){target.remove()}:2===remove&&(options.complete=function(){target.css("display","none")}),CTween.animate(target,duration||1e3,{opacity:0},options)},CTween.fadeIn=function(target,duration,reset){reset!==!1&&target.css("opacity",0).css("display",""),CTween.animate(target,duration||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(type,$container,$img){this.$container=$container,this.$img=$img,this.type=type||"stretch",this.widthOnly=!1,this.heightOnly=!1};var p=MSAligner.prototype;p.init=function(w,h){switch(this.baseWidth=w,this.baseHeight=h,this.imgRatio=w/h,this.imgRatio2=h/w,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},p.align=function(){if(this.needAlign){var cont_w=this.$container.width(),cont_h=this.$container.height(),contRatio=cont_w/cont_h;"fill"==this.type?this.imgRatio<contRatio?(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2)):(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):"fit"==this.type&&(this.imgRatio<contRatio?(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2))),this.setMargin()}},p.setMargin=function(){var cont_w=this.$container.width(),cont_h=this.$container.height();this.$img.css("margin-top",(cont_h-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(cont_w-this.$img[0].offsetWidth)/2+"px")}}(),/**
 * CSS pointer-events polyfill
 * Adds support for `pointer-events: none;` for browsers not supporting this property
 * Requires jQuery@~1.9
 *
 * @copyright Sebastian Langer 2016
 * @license MIT
 * @author Sebastian Langer <sl@scn.cx>
 */
function($){var Polyfill=function(userOptions){this.options=$.extend({},Polyfill.defaultOptions,userOptions),this.isEnabled=!1,(this.options.forcePolyfill||!this.supportsPointerEvents())&&(this.registerEvents(),this.isEnabled=!0)};Polyfill.defaultOptions={forcePolyfill:!1,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"},Polyfill.prototype.registerEvents=function(){$(document).on(this.getEventNames(),this.options.selector,$.proxy(this.onElementClick,this))},Polyfill.prototype.getEventNames=function(){var eventNamespace=this.options.eventNamespace?"."+this.options.eventNamespace:"";return this.options.listenOn.join(eventNamespace+" ")+eventNamespace},Polyfill.prototype.supportsPointerEvents=function(){var style=document.createElement("a").style;return style.cssText="pointer-events:auto","auto"===style.pointerEvents},Polyfill.prototype.isClickThrough=function($el){var elPointerEventsCss=$el.css("pointer-events");return 0===$el.length||"all"===elPointerEventsCss||$el.is(":root")||$el.hasClass(this.options.pointerEventsAllClass)?!1:"none"===elPointerEventsCss||$el.hasClass(this.options.pointerEventsNoneClass)||this.isClickThrough($el.parent())?!0:!1},Polyfill.prototype.onElementClick=function(e){var $elOrg=$(e.target);if(!this.isClickThrough($elOrg))return!0;$elOrg.hide();var elBelow=document.elementFromPoint(e.clientX,e.clientY);return e.target=elBelow,$(elBelow).trigger(e),"A"===elBelow.tagName&&(2===e.which?window.open(elBelow.getAttribute("href"),"_blank"):elBelow.click()),$elOrg.show(),!1},Polyfill.prototype.destroy=function(){$(document).off(this.getEventNames()),this.isEnabled=!1},window.pointerEventsPolyfill=function(userOptions){return new Polyfill(userOptions)}}(jQuery),function(){"use strict";var _options={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},Controller=function(min,max,options){if(null===max||null===min)throw new Error("Max and Min values are required.");this.options=options||{};for(var key in _options)key in this.options||(this.options[key]=_options[key]);this._max_value=max,this._min_value=min,this.value=min,this.end_loc=min,this.current_snap=this.getSnapNum(min),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},p=Controller.prototype;p.changeTo=function(value,animate,speed,snap_num,dispatch){if(this.stopped=!1,this._internalStop(),value=this._checkLimits(value),speed=Math.abs(speed||0),this.options.snapping&&(snap_num=snap_num||this.getSnapNum(value),dispatch!==!1&&this._callsnapChange(snap_num),this.current_snap=snap_num),animate){this.animating=!0;var self=this,active_id=++self.__animID,amplitude=value-self.value,timeStep=0,targetPosition=value,animFrict=1-self.options.friction,timeconst=animFrict+(speed-20)*animFrict*1.3/self.options.maxSpeed,tick=function(){if(active_id===self.__animID){var dis=value-self.value;if(!(Math.abs(dis)>self.options.minValidDist&&self.animating))return self.animating&&(self.value=value,self._callrenderer()),self.animating=!1,active_id!==self.__animID&&(self.__animID=-1),void self._callonComplete("anim");window.requestAnimationFrame(tick),self.value=targetPosition-amplitude*Math.exp(-++timeStep*timeconst),self._callrenderer()}};return void tick()}this.value=value,this._callrenderer()},p.drag=function(move){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=move,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*move):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},p.push=function(speed){if(this.stopped=!1,this.options.snapping&&Math.abs(speed)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this.options.snapping){var snap_loc=this.getSnapNum(this.value),end_snap=this.getSnapNum(this.end_loc);if(this.options.paging)return snap_loc=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(speed>0?this.gotoSnap(snap_loc+1,!0,speed):this.gotoSnap(snap_loc-1,!0,speed));if(snap_loc===end_snap)return void this.cancel();this._callsnapChange(end_snap),this.current_snap=end_snap}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},p.bounce=function(speed){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this._startDecelaration())},p.stop=function(){this.stopped=!0,this._internalStop()},p.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},p.renderCallback=function(listener,ref){this.__renderHook={fun:listener,ref:ref}},p.snappingCallback=function(listener,ref){this.__snapHook={fun:listener,ref:ref}},p.snapCompleteCallback=function(listener,ref){this.__compHook={fun:listener,ref:ref}},p.getSnapNum=function(value){return Math.floor((value+this.options.snapsize/2)/this.options.snapsize)},p.nextSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap+1,!0)},p.prevSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap-1,!0)},p.gotoSnap=function(snap_num,animate,speed){this.changeTo(snap_num*this.options.snapsize,animate,speed,snap_num)},p.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},p._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},p._calculateExtraMove=function(value){var m=value%this.options.snapsize;return m<this.options.snapsize/2?-m:this.options.snapsize-m},p._calculateEnd=function(step){for(var temp_speed=this.__speed,temp_value=this.value,i=0;Math.abs(temp_speed)>this.options.minValidDist;)temp_value+=temp_speed,temp_speed*=this.options.friction,i++;return step?i:temp_value},p._checkLimits=function(value){return this.options.endless?value:value<this._min_value?this._min_value:value>this._max_value?this._max_value:value},p._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},p._callsnapChange=function(targetSnap){this.__snapHook&&targetSnap!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,targetSnap,targetSnap-this.current_snap)},p._callonComplete=function(type){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,type)},p._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var xtr_move=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+xtr_move-this.__extrStep,this.__extrStep=xtr_move}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var out_value=0;this.value<this._min_value?out_value=this._min_value-this.value:this.value>this._max_value&&(out_value=this._max_value-this.value),this.__isout=Math.abs(out_value)>=this.options.minValidDist,this.__isout&&(this.__speed*out_value<=0?this.__speed+=out_value*this.options.outFriction:this.__speed=out_value*this.options.outAcceleration)}},p._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var self=this,tick=function(){self._deceleration&&(self._computeDeceleration(),Math.abs(self.__speed)>self.options.minValidDist||self.__isout?window.requestAnimationFrame(tick):(self._deceleration=!1,self.__isout=!1,self.value=self.__needsSnap&&self.options.snapping&&!self.options.paging?self._checkLimits(self.end_loc+self.__extraMove):Math.round(self.value),self._callrenderer(),self._callonComplete("decel")))};tick()}},window.Controller=Controller}(),function(window,document,$){window.MSLayerController=function(slide){this.slide=slide,this.slider=slide.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=$("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=$("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=$("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=$("<div></div>").addClass("ms-anim-layers")};var p=MSLayerController.prototype;p.addLayer=function(layer){switch(layer.slide=this.slide,layer.controller=this,layer.$element.data("position")){case"static":this.hasStaticLayer=!0,layer.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,layer.$element.appendTo(this.$fixedLayers);break;default:layer.$element.appendTo(this.$animLayers)}layer.create(),this.layers.push(layer),this.layersCount++,layer.parallax&&(this.hasParallaxLayer=!0),layer.needPreload&&this.preloadCount++},p.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},p.loadLayers=function(callback){if(this._onReadyCallback=callback,0===this.preloadCount)return void this._onlayersReady();for(var i=0;i!==this.layersCount;++i)this.layers[i].needPreload&&this.layers[i].loadImage()},p.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},p.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},p.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var that=this;that.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){that._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){that.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},p.animHideLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i)this.layers[i].hide()},p.setSize=function(width,height,hard){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(hard&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var left=Math.max(0,(width-this.slider.options.width)/2)+"px";this.$layers[0].style.left=left,this.$fixedLayers[0].style.left=left}},p.updateHeight=function(){},p._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},p.onSlideSleep=function(){},p.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},p.getLayerById=function(layerId){if(!layerId)return null;for(var i=0;i<this.layersCount;++i)if(this.layers[i].id===layerId)return this.layers[i];return null},p.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var i=0;i<this.layersCount;++i)this.layers[i].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];layer.waitForAction||layer.start()}},p._initLayers=function(force,onlyStatics){if(!(this.init&&!force||this.slider.init_safemode)){this.init=onlyStatics!==!0;var i=0;if(onlyStatics&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!force)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},p._locateLayers=function(onlyStatics){var i=0;if(onlyStatics)for(;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].locate();else for(;i!==this.layersCount;++i)this.layers[i].locate()},p._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var i=0;i!==this.layersCount;++i)this.layers[i].reset()},p._applyParallax=function(x,y,fast){for(var i=0;i!==this.layersCount;++i)null!=this.layers[i].parallax&&this.layers[i].moveParallax(x,y,fast)},p._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._resetParalax=function(e){var that=e.data.that;that._applyParallax(0,0)},p._mouseParallaxMove=function(e){var that=e.data.that,os=that.slide.$element.offset(),slider=that.slider;if("mouse:y-only"!==slider.options.parallaxMode)var x=e.pageX-os.left-that.slide.__width/2;else var x=0;if("mouse:x-only"!==slider.options.parallaxMode)var y=e.pageY-os.top-that.slide.__height/2;else var y=0;that._applyParallax(-x,-y)},p._swipeParallaxMove=function(){var value=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,value,!0):this._applyParallax(value,0,!0)}}(window,document,jQuery),function($,window){"use strict";window.MSOverlayLayerController=function(){MSLayerController.apply(this,arguments)},MSOverlayLayerController.extend(MSLayerController);var p=MSOverlayLayerController.prototype,_super=MSLayerController.prototype;p.addLayer=function(layer){var showOnSlides=layer.$element.data("show-on"),hideOnSlides=layer.$element.data("hide-on");hideOnSlides&&(layer.hideOnSlides=hideOnSlides.replace(/\s+/g,"").split(",")),showOnSlides&&(layer.showOnSlides=showOnSlides.replace(/\s+/g,"").split(",")),_super.addLayer.apply(this,arguments)},p.create=function(){_super.create.apply(this,arguments),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.bind(this))},p.checkLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];layer.waitForAction||(this._checkForShow(layer)?layer.start():layer.hide())}},p._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];this._checkForShow(layer)&&!layer.waitForAction&&layer.start()}},p._checkForShow=function(layer){var slideId=this.slider.api.currentSlide.id,layerHideOn=layer.hideOnSlides,layerShowOn=layer.showOnSlides;return layerShowOn?!!slideId&&-1!==layerShowOn.indexOf(slideId):!slideId||!layerHideOn||layerHideOn.length&&-1===layerHideOn.indexOf(slideId)}}(jQuery,window,document),function($,window){"use strict";window.MSOverlayLayers=function(slider){this.slider=slider};var p=MSOverlayLayers.prototype;p.setupLayerController=function(){this.layerController=new MSOverlayLayerController(this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this.setSize.bind(this)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.setSize.bind(this)),this.setSize()},p.setSize=function(){this.__width=this.$element.width(),this.__height=this.$element.height(),this.layerController.setSize(this.__width,this.__height)},p.create=function(){this.layerController.create(),this.layerController.loadLayers(this._onLayersLoad),this.layerController.prepareToShow(),window.pointerEventsPolyfill&&window.pointerEventsPolyfill({selector:"#"+this.slider.$element.attr("id")+" .ms-overlay-layers",forcePolyfill:!1})},p.getHeight=function(){return this.slider.api.currentSlide.getHeight()},p.destroy=function(){this.layerController.destroy()},p._onLayersLoad=function(){this.ready=!0,this.selected=!0,this.layersLoaded=!0,this.setSize(),this.layerController.showLayers()}}(jQuery,window,document),function($){window.MSLayerEffects={};var installed,_fade={opacity:0};MSLayerEffects.setup=function(){if(!installed){installed=!0;var st=MSLayerEffects,transform_css=window._jcsspfx+"Transform",transform_orig_css=window._jcsspfx+"TransformOrigin",o=$.browser.opera;_2d=window._css2d&&window._cssanim&&!o,st.defaultValues={left:0,top:0,opacity:isMSIE("<=9")?1:"",right:0,bottom:0},st.defaultValues[transform_css]="",st.rf=1,st.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},st.fade=function(){return _fade},st.left=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=-dist*st.rf+"px",r},st.right=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=dist*st.rf+"px",r},st.top=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=-dist*st.rf+"px",r},st.bottom=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=dist*st.rf+"px",r},st.from=_2d?function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+leftdis*st.rf+"px) translateY("+topdis*st.rf+"px)",r}:function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r.top=topdis*st.rf+"px",r.left=leftdis*st.rf+"px",r},st.rotate=_2d?function(deg,orig){var r={opacity:0};return r[transform_css]=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateleft=_2d?function(deg,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.left(dist,fade)},st.rotateright=_2d?function(deg,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.right(dist,fade)},st.rotatetop=_2d?function(deg,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.top(dist,fade)},st.rotatebottom=_2d?function(deg,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.bottom(dist,fade)},st.rotatefrom=_2d?function(deg,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.skewleft=_2d?function(deg,dist,fade){var r=st.left(dist,fade);return r[transform_css]+=" skewX("+deg+"deg)",r}:function(deg,dist,fade){return st.left(dist,fade)},st.skewright=_2d?function(deg,dist,fade){var r=st.right(dist,fade);return r[transform_css]+=" skewX("+-deg+"deg)",r}:function(deg,dist,fade){return st.right(dist,fade)},st.skewtop=_2d?function(deg,dist,fade){var r=st.top(dist,fade);return r[transform_css]+=" skewY("+deg+"deg)",r}:function(deg,dist,fade){return st.top(dist,fade)},st.skewbottom=_2d?function(deg,dist,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" skewY("+-deg+"deg)",r}:function(deg,dist,fade){return st.bottom(dist,fade)},st.scale=_2d?function(x,y,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,orig,fade){return fade===!1?{}:{opacity:0}},st.scaleleft=_2d?function(x,y,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.left(dist,fade)},st.scaleright=_2d?function(x,y,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.right(dist,fade)},st.scaletop=_2d?function(x,y,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.top(dist,fade)},st.scalebottom=_2d?function(x,y,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.bottom(dist,fade)},st.scalefrom=_2d?function(x,y,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.rotatescale=_2d?function(deg,x,y,orig,fade){var r=st.scale(x,y,orig,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,x,y,orig,fade){return st.scale(x,y,orig,fade)},st.front=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.back=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.rotatefront=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateback=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotate3dleft=window._css3d?function(x,y,z,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.left(dist,fade)},st.rotate3dright=window._css3d?function(x,y,z,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.right(dist,fade)},st.rotate3dtop=window._css3d?function(x,y,z,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.top(dist,fade)},st.rotate3dbottom=window._css3d?function(x,y,z,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.bottom(dist,fade)},st.rotate3dfront=window._css3d?function(x,y,z,dist,orig,fade){var r=st.front(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.front(dist,fade)},st.rotate3dback=window._css3d?function(x,y,z,dist,orig,fade){var r=st.back(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.back(dist,fade)},st.t=window._css3d?function(fade,tx,ty,tz,r,rx,ry,rz,scx,scy,skx,sky,ox,oy,oz){var _r=fade===!1?{}:{opacity:0},transform="perspective(2000px) ";"n"!==tx&&(transform+="translateX("+tx*st.rf+"px) "),"n"!==ty&&(transform+="translateY("+ty*st.rf+"px) "),"n"!==tz&&(transform+="translateZ("+tz*st.rf+"px) "),"n"!==r&&(transform+="rotate("+r+"deg) "),"n"!==rx&&(transform+="rotateX("+rx+"deg) "),"n"!==ry&&(transform+="rotateY("+ry+"deg) "),"n"!==rz&&(transform+="rotateZ("+rz+"deg) "),"n"!==skx&&(transform+="skewX("+skx+"deg) "),"n"!==sky&&(transform+="skewY("+sky+"deg) "),"n"!==scx&&(transform+="scaleX("+scx+") "),"n"!==scy&&(transform+="scaleY("+scy+")"),_r[transform_css]=transform;var trans_origin="";return trans_origin+="n"!==ox?ox+"% ":"50% ",trans_origin+="n"!==oy?oy+"% ":"50% ",trans_origin+="n"!==oz?oz+"px":"",_r[transform_orig_css]=trans_origin,_r}:function(fade,tx,ty,tz,r){var r=fade===!1?{}:{opacity:0};return"n"!==tx&&(r.left=tx*st.rf+"px"),"n"!==ty&&(r.top=ty*st.rf+"px"),r}}}}(jQuery),function($){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var p=MSLayerElement.prototype;p.setStartAnim=function(anim){$.extend(this.start_anim,anim),$.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},p.setEndAnim=function(anim){$.extend(this.end_anim,anim)},p.create=function(){if(this.$element.css("display","none"),this.resizable=this.$element.data("resize")!==!1,this.fixed=this.$element.data("fixed")===!0,void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var slideController=this.slide.slider.slideController;this.$element.on(this.$element.data("action-event")||"click",function(event){slideController.runAction($(this).data("action")),event.preventDefault()}).addClass("ms-action-layer")}$.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,this.masked&&(this.$mask=$("<div></div>").addClass("ms-layer-mask"),this.link?(this.link.wrap(this.$mask),this.$mask=this.link.parent()):(this.$element.wrap(this.$mask),this.$mask=this.$element.parent()),this.maskWidth&&this.$mask.width(this.maskWidth),this.maskHeight&&(this.$mask.height(this.maskHeight),-1===this.__cssConfig.indexOf("height")&&this.__cssConfig.push("height")));var layerOrigin=this.layerOrigin=this.$element.data("origin");if(layerOrigin){var vOrigin=layerOrigin.charAt(0),hOrigin=layerOrigin.charAt(1),offsetX=this.$element.data("offset-x"),offsetY=this.$element.data("offset-y"),layerEle=this.masked?this.$mask[0]:this.$element[0];switch(void 0===offsetY&&(offsetY=0),vOrigin){case"t":layerEle.style.top=offsetY+"px";break;case"b":layerEle.style.bottom=offsetY+"px";break;case"m":layerEle.style.top=offsetY+"px",this.middleAlign=!0}switch(void 0===offsetX&&(offsetX=0),hOrigin){case"l":layerEle.style.left=offsetX+"px";break;case"r":layerEle.style.right=offsetX+"px";break;case"c":layerEle.style.left=offsetX+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=$("<div></div>").addClass("ms-parallax-layer"),this.masked?(this.$mask.wrap(this.$parallaxElement),this.$parallaxElement=this.$mask.parent()):this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),$.removeDataAttrs(this.$element,["data-src"])},p.init=function(){this.initialized=!0;var value;this.$element.css("visibility","");for(var i=0,l=this.__cssConfig.length;l>i;i++){var key=this.__cssConfig[i];if(this._isPosition(key)&&this.masked)value=this.$mask.css(key);else if("text"!==this.type||"width"!==key||this.masked||this.maskWidth){value=this.$element.css(key);var isSize="width"===key||"height"===key;isSize&&this.masked&&(this.maskWidth&&"width"===key?value=this.maskWidth+"px":this.maskHeight&&"height"===key&&(value=this.maskHeight+"px")),isSize&&"0px"===value&&(value=this.$element.data(key)+"px")}else value=this.$element[0].style.width;this.layerOrigin&&("top"===key&&-1===this.layerOrigin.indexOf("t")&&-1===this.layerOrigin.indexOf("m")||"bottom"===key&&-1===this.layerOrigin.indexOf("b")||"left"===key&&-1===this.layerOrigin.indexOf("l")&&-1===this.layerOrigin.indexOf("c")||"right"===key&&-1===this.layerOrigin.indexOf("r"))||"auto"!=value&&""!=value&&"normal"!=value&&(this.baseStyle[key]=parseInt(value))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},p.locate=function(){if(this.slide.ready){var factor,isPosition,isSize,width=parseFloat(this.layersCont.css("width")),height=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),this.staticLayer&&this.$element.addClass("ms-hover-active"),factor=this.resizeFactor=width/this.slide.slider.options.width;var $layerEle=this.masked?this.$mask:this.$element;for(var key in this.baseStyle)isPosition=this._isPosition(key),isSize="width"===key||"height"===key,factor=this.fixed&&isPosition?1:this.resizeFactor,(this.resizable||isPosition)&&("top"===key&&this.middleAlign?($layerEle[0].style.top="0px",this.baseHeight=$layerEle.outerHeight(!1),$layerEle[0].style.top=this.baseStyle.top*factor+(height-this.baseHeight)/2+"px"):"left"===key&&this.centerAlign?($layerEle[0].style.left="0px",this.baseWidth=$layerEle.outerWidth(!1),$layerEle[0].style.left=this.baseStyle.left*factor+(width-this.baseWidth)/2+"px"):isPosition&&this.masked?$layerEle[0].style[key]=this.baseStyle[key]*factor+"px":isSize&&("width"===key&&this.maskWidth||"height"===key&&this.maskHeight)?$layerEle[0].style[key]=this.baseStyle[key]*factor+"px":this.$element.css(key,this.baseStyle[key]*factor+"px"));
this.visible(this.minWidth<width)}},p.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0,this.$element.removeClass("ms-hover-active");var key,base;MSLayerEffects.rf=this.resizeFactor;var effect_css=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),start_css_eff={};for(key in effect_css)this._checkPosKey(key,effect_css)||(null!=MSLayerEffects.defaultValues[key]&&(start_css_eff[key]=MSLayerEffects.defaultValues[key]),key in this.baseStyle&&(base=this.baseStyle[key],this.middleAlign&&"top"===key&&(base+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===key&&(base+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),effect_css[key]=base+parseFloat(effect_css[key])+"px",start_css_eff[key]=base+"px"),this.$element.css(key,effect_css[key]));var that=this;clearTimeout(this.to),clearTimeout(this.clHide),this.to=setTimeout(function(){that.$element.css("visibility",""),that._playAnimation(that.start_anim,start_css_eff)},that.start_anim.delay||.01),this.clTo=setTimeout(function(){that.show_cl=!0,that.$element.addClass("ms-hover-active")},(this.start_anim.delay||.01)+this.start_anim.duration+1),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide()},that.end_anim.time))}},p.hide=function(){if(!this.staticLayer){this.$element.removeClass("ms-hover-active"),this.isShowing=!1;var effect_css=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in effect_css)this._checkPosKey(key,effect_css)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,effect_css[key]),key in this.baseStyle&&(effect_css[key]=this.baseStyle[key]+parseFloat(effect_css[key])+"px"));this._playAnimation(this.end_anim,effect_css),clearTimeout(this.clHide),0===effect_css.opacity&&(this.clHide=setTimeout(function(){this.$element.css("visibility","hidden")}.bind(this),this.end_anim.duration+1)),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},p.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},p.destroy=function(){this.reset(),this.$element.remove()},p.visible=function(value){this.isVisible!=value&&(this.isVisible=value,this.$element.css("display",value?"":"none"))},p.moveParallax=function(x,y,fast){this._paraX=x,this._paraY=y,fast&&(this._lastParaX=x,this._lastParaY=y,this.parallaxRender())},p._playAnimation=function(animation,css){var options={};animation.ease&&(options.ease=animation.ease),options.transProperty=window._csspfx+"transform,opacity",this.show_tween&&this.show_tween.stop(!0),this.show_tween=CTween.animate(this.$element,animation.duration,css,options)},p._randomParam=function(value){var min=Number(value.slice(0,value.indexOf("|"))),max=Number(value.slice(value.indexOf("|")+1));return min+Math.random()*(max-min)},p._parseEff=function(eff_name){var eff_params=[];if(-1!==eff_name.indexOf("(")){var value,temp=eff_name.slice(0,eff_name.indexOf("(")).toLowerCase();eff_params=eff_name.slice(eff_name.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),eff_name=temp;for(var i=0,l=eff_params.length;l>i;++i)value=eff_params[i],value in MSLayerEffects.presetEffParams&&(value=MSLayerEffects.presetEffParams[value]),eff_params[i]=value}return{eff_name:eff_name,eff_params:eff_params}},p._parseEffParams=function(params){for(var eff_params=[],i=0,l=params.length;l>i;++i){var value=params[i];"string"==typeof value&&-1!==value.indexOf("|")&&(value=this._randomParam(value)),eff_params[i]=value}return eff_params},p._checkPosKey=function(key,style){return"left"===key&&!(key in this.baseStyle)&&"right"in this.baseStyle?(style.right=-parseInt(style.left)+"px",delete style.left,!0):"top"===key&&!(key in this.baseStyle)&&"bottom"in this.baseStyle?(style.bottom=-parseInt(style.top)+"px",delete style.top,!0):!1},p._isPosition=function(key){return"top"===key||"left"===key||"bottom"===key||"right"===key},p._parallaxCalc=function(){var x_def=this._paraX-this._lastParaX,y_def=this._paraY-this._lastParaY;this._lastParaX+=x_def/12,this._lastParaY+=y_def/12,Math.abs(x_def)<.019&&(this._lastParaX=this._paraX),Math.abs(y_def)<.019&&(this._lastParaY=this._paraY)},p._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},p._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},p._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function($){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var p=MSImageLayerElement.prototype,_super=MSLayerElement.prototype;p.create=function(){if(this.link){var p=this.$element.parent();p.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),p=null}if(_super.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var that=this;this.$element.on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.$element.on("dragstart",function(event){event.preventDefault()})},p.loadImage=function(){var that=this;this.$element.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var p=MSVideoLayerElement.prototype,_super=MSLayerElement.prototype;p.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},p.start=function(){_super.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},p.reset=function(){return _super.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},p.create=function(){_super.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var has_img=0!=this.$element.has("img").length;if(has_img||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var that=this;if(this.video_btn=$("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){that.__playVideo()}),has_img){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var that=this;this.img.attr("src",this.img_src).on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.img.on("dragstart",function(event){event.preventDefault()})}}},p.loadImage=function(){var that=this;this.img.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var p=MSHotspotLayer.prototype,_super=MSLayerElement.prototype;p._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},p._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var that=this;clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide_start=!0,that._tween=CTween.animate(that.tt,900,that.from,{ease:"easeOut"+that.ease,complete:function(){that.tt.css("display","none")}})},200)}},p._updateClassName=function(name){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(name),this._lastClass=name},p._alignPolicy=function(){{var w=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),ww=window.innerWidth;window.innerHeight}switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+w>ww||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},p._locateTT=function(){var os=this.$element.offset(),os2=this.slide.slider.$element.offset(),dist=50,space=15;this.pos_x=os.left-os2.left-this.slide.slider.$element.scrollLeft(),this.pos_y=os.top-os2.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var arrow_w=15,arrow_h=15;switch(this.align){case"top":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-arrow_h-space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-dist+"px",this.to.top=this.base_t+"px");break;case"bottom":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+arrow_h+space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+dist+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+arrow_w+space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+dist+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-arrow_w-this.tt.outerWidth(!1)-space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-dist+"px",this.to.left=this.base_l+"px")}var policyAlign=this._alignPolicy();return null!==policyAlign?(this.align=policyAlign,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},p.start=function(){_super.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},p.reset=function(){_super.reset.call(this),this.tt.detach()},p.create=function(){var that=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){that._showTT()}).on("mouseleave",function(){that._hideTT()}),this.point=$('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var link=this.$element.data("link"),target=this.$element.data("target");link&&this.point.on("click",function(){window.open(link,target||"_self")}),this.tt=$("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=$("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=$("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){that.hide_start||(clearTimeout(that.hto),that._tween.stop(!0),that._showTT())}).on("mouseleave",function(){that._hideTT()}),_super.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var p=MSButtonLayer.prototype,_super=MSLayerElement.prototype,positionKies=["top","left","bottom","right"];p.create=function(){_super.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},p.locate=function(){_super.locate.call(this);for(var key,tempValue,i=0;4>i;i++)key=positionKies[i],key in this.baseStyle&&(tempValue=this.$element.css(key),this.$element.css(key,""),this.$container.css(key,tempValue));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(type){this.type=type},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(window,document,$){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=$("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=$.browser.mozilla};var p=MSSlide.prototype;p.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},p.onSwipeMove=function(e){var move=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=move>4},p.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},p.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},p.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},p.setBG=function(img){this.hasBG=!0;var that=this;this.$imgcont=$("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=$(img).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(that.fillMode,that.$imgcont,that.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,that.slider.options.autoHeight&&(that.pselected||that.selected)&&that.slider.setHeight(that.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(event){that._onBGLoad(event)}).each($.jqLoadFix)},p.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},p.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var that=this;this.$bg_img.preloadImg(this.bg_src,function(event){that._onBGLoad(event)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},p._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},p._onBGLoad=function(event){this.bgNatrualWidth=event.width,this.bgNatrualHeight=event.height,this.bgLoaded=!0,$.browser.msie&&this.$bg_img.on("dragstart",function(event){event.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},p.setBGVideo=function($video){if($video[0].play){if(window._mobile&&!this.slider.options.mobileBGVideo)return void $video.remove();this.bgvideo=$video[0];var that=this;$video.addClass("ms-slide-bgvideo"),$video.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){that.bgvideo.play()}),$video.data("mute")!==!1&&(this.bgvideo.muted=!0),$video.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=$video.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,$video),this.bgvideo.addEventListener("loadedmetadata",function(){that.vinit||(that.vinit=!0,that.video_aspect=that.bgVideoAligner.baseHeight/that.bgVideoAligner.baseWidth,that.bgVideoAligner.init(that.bgvideo.videoWidth,that.bgvideo.videoHeight),that._alignBGVideo(),CTween.fadeIn($(that.bgvideo),200),that.selected&&that.bgvideo.play())})),$video.css("opacity",0),this.$bgvideocont=$("<div></div>").addClass("ms-slide-bgvideocont").append($video),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},p._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},p.setSize=function(width,height,hard){this.__width=width,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,height=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(height)):(this.ratio=width/this.slider.options.width,height=this.slider.options.height*this.ratio)),this.__height=height,this.$element.width(width).height(height),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(width,height,hard)},p.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},p.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.moz&&this.view.$element.css("perspective","none"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},p.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var that=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){that.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){that.vframe.attr("src","about:blank").css("display","none")}}),this.moz&&this.view.$element.css("perspective",""),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},p.create=function(){var that=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(e){that.linkdis&&e.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=$("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=$("<div></div>").addClass("ms-slide-vpbtn").click(function(){that.__playVideo()}).appendTo(this.$element),this.vcbtn=$("<div></div>").addClass("ms-slide-vcbtn").click(function(){that.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},p.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},p.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},p.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},p.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},p.sleep=function(force){(!this.isSleeping||force)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},p.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function($){"use strict";var SliderViewList={};window.MSSlideController=function(slider){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=slider,this.so=slider.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(name,_class){if(name in SliderViewList)throw new Error(name+", is already registered.");SliderViewList[name]=_class},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(name,_class){if(name in MSSlideController.SliderControlList)throw new Error(name+", is already registered.");MSSlideController.SliderControlList[name]=_class};var p=MSSlideController.prototype;p.setupView=function(){var that=this;this.resize_listener=function(){that.__resize()};var viewOptions={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&$.extend(viewOptions,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var viewClass=SliderViewList[this.slider.options.view]||MSBasicView;if(!viewClass._3dreq||window._css3d&&!$.browser.msie||(viewClass=viewClass._fallback||MSBasicView),this.view=new viewClass(viewOptions),this.so.overPause){var that=this;this.slider.$element.mouseenter(function(){that.is_over=!0,that._stopTimer()}).mouseleave(function(){that.is_over=!1,that._startTimer()})}},p.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},p.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var loc,i,slide,l=this.so.preload-1;for(i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide&&slide.loadImages()}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide&&slide.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},p.onSwipeStart=function(){this.skipTimer()},p.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){var currentSlide=this.view.currentSlide;currentSlide.hasLayers&&currentSlide.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p._stopTimer=function(){this._timer&&this._timer.stop()},p._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},p.__appendSlides=function(){var slide,loc,i=0,l=this.view.slideList.length-1;for(i;l>i;++i)slide=this.view.slideList[i],slide.detached||(slide.$element.detach(),slide.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),l=3,i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}},p.__resize=function(hard){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,hard),this.view.setSize(this.width,this.currentSlide.getHeight(),hard)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),hard),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},p.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},p.__updateWindowHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",sep="path"===dlt?"/":"&",sliderHash=dl+eq+(this.view.index+1),regTest=new RegExp(dl+eq+"[0-9]+","g");window.location.hash=""===hash?sep+sliderHash:regTest.test(hash)?hash.replace(regTest,sliderHash):hash+sep+sliderHash},p.__curentSlideInHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",regTest=new RegExp(dl+eq+"[0-9]+","g");if(regTest.test(hash)){var index=Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());if(!isNaN(index))return index-1}return-1},p.__onHashChanged=function(){var index=this.__curentSlideInHash();-1!==index&&this.gotoSlide(index)},p.__findLayerById=function(layerId){if(!this.currentSlide)return null;var layer;return this.currentSlide.layerController&&(layer=this.currentSlide.layerController.getLayerById(layerId)),!layer&&this.slider.overlayLayers?this.slider.overlayLayers.layerController.getLayerById(layerId):layer},p.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var slideInHash=this.__curentSlideInHash(),startSlide=-1!==slideInHash?slideInHash:this.so.start-1;if(this.view.create(startSlide),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var that=this,last_time=(new Date).getTime();this.wheellistener=function(event){var e=window.event||event.orginalEvent||event;e.preventDefault();var current_time=(new Date).getTime();if(!(400>current_time-last_time)){last_time=current_time;var delta=Math.abs(e.detail||e.wheelDelta);$.browser.mozilla&&(delta*=100);var scrollThreshold=15;return e.detail<0||e.wheelDelta>0?delta>=scrollThreshold&&that.previous(!0):delta>=scrollThreshold&&that.next(!0),!1
}},$.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var that=this;this.so.deepLink&&$(window).on("hashchange",function(){that.__onHashChanged()})},p.index=function(){return this.view.index},p.count=function(){return this.view.slidesCount},p.next=function(checkLoop){this.skipTimer(),this.view.next(checkLoop)},p.previous=function(checkLoop){this.skipTimer(),this.view.previous(checkLoop)},p.gotoSlide=function(index){index=Math.min(index,this.count()-1),this.skipTimer(),this.view.gotoSlide(index)},p.destroy=function(reset){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(reset)},p._destroy=function(){this._timer.reset(),this._timer=null,$(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&($.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},p.runAction=function(action){var actionParams=[];if(-1!==action.indexOf("(")){var temp=action.slice(0,action.indexOf("("));actionParams=action.slice(action.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),action=temp}action in this?this[action].apply(this,actionParams):console},p.update=function(hard){this.slider.init_safemode&&hard&&(this.slider.init_safemode=!1),this.__resize(hard),hard&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},p.locate=function(){this.__resize()},p.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},p.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},p.currentTime=function(){return this._delayProgress},p.showLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.showLayer,delay,layerId,0)):layer.start())},p.hideLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.hideLayer,delay,layerId,0)):layer.hide())},p.toggleLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.toggleLayer,delay,layerId,0)):layer.isShowing?layer.hide():layer.start())},p.showLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.showLayer(layerId,delay)})},p.hideLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.hideLayer(layerId,delay)})},p.toggleLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.toggleLayer(layerId,delay)})},averta.EventDispatcher.extend(p)}(jQuery),function($){"use strict";var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:!1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()},$(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.50.0",MasterSlider.releaseDate="Aug 2016",MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){-1===MS._plugins.indexOf(plugin)&&MS._plugins.push(plugin)};var p=MasterSlider.prototype;p.__setupSlides=function(){var new_slide,that=this,ind=0;this.$element.children(".ms-slide").each(function(){var $slide_ele=$(this);new_slide=new MSSlide,new_slide.$element=$slide_ele,new_slide.slider=that,new_slide.delay=void 0!==$slide_ele.data("delay")?$slide_ele.data("delay"):3,new_slide.fillMode=void 0!==$slide_ele.data("fill-mode")?$slide_ele.data("fill-mode"):that.options.fillMode,new_slide.index=ind++,new_slide.id=$slide_ele.data("id");var slide_img=$slide_ele.children("img:not(.ms-layer)");slide_img.length>0&&new_slide.setBG(slide_img[0]);var slide_video=$slide_ele.children("video");if(slide_video.length>0&&new_slide.setBGVideo(slide_video),that.controls)for(var i=0,l=that.controls.length;l>i;++i)that.controls[i].slideAction(new_slide);$slide_ele.children("a").each(function(){var $this=$(this);"video"===this.getAttribute("data-type")?(new_slide.video=this.getAttribute("href"),new_slide.videoAutoPlay=$this.data("autoplay"),$this.remove()):$this.hasClass("ms-layer")||(new_slide.link=$(this))});that.__createSlideLayers(new_slide,$slide_ele.find(".ms-layer")),that.slides.push(new_slide),that.slideController.view.addSlide(new_slide)})},p._setupOverlayLayers=function(){var self=this,$ollayers=this.$element.children(".ms-overlay-layers").eq(0);if($ollayers.length){var overlayLayers=new MSOverlayLayers(this);overlayLayers.$element=$ollayers,self.__createSlideLayers(overlayLayers,$ollayers.find(".ms-layer")),this.view.$element.prepend($ollayers),this.overlayLayers=overlayLayers,overlayLayers.create()}},p.__createSlideLayers=function(slide,layers){0!=layers.length&&(slide.setupLayerController(),layers.each(function(index,domEle){var $parent_ele,$layer_element=$(this);"A"===domEle.nodeName&&"image"===$layer_element.find(">img").data("type")&&($parent_ele=$(this),$layer_element=$parent_ele.find("img"));var layer=new(LayerTypes[$layer_element.data("type")||"text"]);layer.$element=$layer_element,layer.link=$parent_ele,layer.id=layer.$element.data("id"),layer.waitForAction=layer.$element.data("wait"),layer.masked=layer.$element.data("masked"),layer.maskWidth=layer.$element.data("mask-width"),layer.maskHeight=layer.$element.data("mask-height");var eff_parameters={},end_eff_parameters={};void 0!==$layer_element.data("effect")&&(eff_parameters.name=$layer_element.data("effect")),void 0!==$layer_element.data("ease")&&(eff_parameters.ease=$layer_element.data("ease")),void 0!==$layer_element.data("duration")&&(eff_parameters.duration=$layer_element.data("duration")),void 0!==$layer_element.data("delay")&&(eff_parameters.delay=$layer_element.data("delay")),$layer_element.data("hide-effect")&&(end_eff_parameters.name=$layer_element.data("hide-effect")),$layer_element.data("hide-ease")&&(end_eff_parameters.ease=$layer_element.data("hide-ease")),void 0!==$layer_element.data("hide-duration")&&(end_eff_parameters.duration=$layer_element.data("hide-duration")),void 0!==$layer_element.data("hide-time")&&(end_eff_parameters.time=$layer_element.data("hide-time")),layer.setStartAnim(eff_parameters),layer.setEndAnim(end_eff_parameters),slide.layerController.addLayer(layer)}))},p._removeLoading=function(){$(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},p._resize=function(){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h,this.$loading.height(h),this.$element.height(h)}},p._shuffleSlides=function(){for(var r,slides=this.$element.children(".ms-slide"),i=0,l=slides.length;l>i;++i)r=Math.floor(Math.random()*(l-1)),i!=r&&(this.$element[0].insertBefore(slides[i],slides[r]),slides=this.$element.children(".ms-slide"))},p._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var lo=this.options.layout;"boxed"!==lo&&"partialview"!==lo&&(this.options.fullwidth=!0),("fullscreen"===lo||"autofill"===lo)&&(this.options.fullheight=!0,"autofill"===lo&&(this.$autofillTarget=$(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===lo&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===lo||"fullwidth"===lo||"autofill"===lo)&&($(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),$(window).bind("resize",this.slideController.resize_listener)},p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);if("fullscreen"===lo)document.body.style.overflow="hidden",$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace),document.body.style.overflow="";else if("autofill"===lo)return void $element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css("margin-left",margin),that.lastMargin=margin},p._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=$("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=$("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var i=0,l=this.controls.length;l>i;++i)this.controls[i].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this._setupOverlayLayers(),this.controls)for(i=0,l=this.controls.length;l>i;++i)this.controls[i].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass("ms-grab-cursor"),$view.addClass("ms-grabbing-cursor"),$.browser.msie&&window.ms_grabbing_curosr&&($view[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),$(document).mouseup(function(){$view.removeClass("ms-grabbing-cursor"),$view.addClass("ms-grab-cursor"),$.browser.msie&&window.ms_grab_curosr&&($view[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},p.setHeight=function(value){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:"easeOutQuart"})):this.slideController.view.$element.height(value)},p.reserveSpace=function(side,space){var sideSpace=side+"Space",pos=this[sideSpace];return this[sideSpace]+=space,this._updateSideMargins(),pos},p._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},p.control=function(control,options){if(control in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var ins=new MSSlideController.SliderControlList[control](options);return ins.slider=this,this.controls.push(ins),this}},p.holdOn=function(){this._holdOn++},p.release=function(){this._holdOn--,this._init()},p.setup=function(target,options){if(this.$element="string"==typeof target?$("#"+target):target.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),$.browser.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+$.browser.version.slice(0,$.browser.version.indexOf("."))):$.browser.webkit?this.$element.addClass("ms-wk"):$.browser.mozilla&&this.$element.addClass("ms-moz");var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;isAndroid&&this.$element.addClass("ms-android");var that=this;$.extend(this.options,options),this.aspect=this.options.width/this.options.height,this.$loading=$("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];-1===this.options.disablePlugins.indexOf(plugin.name)&&this.activePlugins.push(new plugin(this))}return this.options.forceInit&&MasterSlider.addJQReadyErrorCheck(this),$(document).ready(function(){that.initialized||(that._docReady=!0,that._init())}),this}},p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,l=this.controls.length;i!==l;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),insertMarkup?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var lo=this.options.layout;("fullscreen"===lo||"fullwidth"===lo)&&$(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function($,window,document,undefined){function MasterSliderPlugin(element,options){this.element=element,this.$element=$(element),this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="masterslider",defaults={controls:{}};$.extend(MasterSliderPlugin.prototype,{init:function(){var self=this;this._slider=new MasterSlider;for(var control in this.settings.controls)this._slider.control(control,this.settings.controls[control]);this._slider.setup(this.$element,this.settings);var _superDispatch=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(event){self.$element.trigger(event.type),_superDispatch.call(this,event)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),$.fn[pluginName]=function(options){var args=arguments,plugin="plugin_"+pluginName;if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,plugin)||$.data(this,plugin,new MasterSliderPlugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&"init"!==options){var returns;return this.each(function(){var instance=$.data(this,plugin);instance instanceof MasterSliderPlugin&&"function"==typeof instance[options]&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),instance instanceof MasterSliderPlugin&&"function"==typeof instance._slider.api[options]&&(returns=instance._slider.api[options].apply(instance._slider.api,Array.prototype.slice.call(args,1))),"destroy"===options&&$.data(this,plugin,null)}),returns!==undefined?returns:this}}}(jQuery,window,document),function($,window){"use strict";var sliderInstances=[];MasterSlider.addJQReadyErrorCheck=function(slider){sliderInstances.push(slider)};var _ready=$.fn.ready,_onerror=window.onerror;$.fn.ready=function(){return window.onerror=function(){if(0!==sliderInstances.length)for(var i=0,l=sliderInstances.length;i!==l;i++){var slider=sliderInstances[i];slider.initialized||(slider._docReady=!0,slider._init())}return _onerror?_onerror.apply(this,arguments):!1},_ready.apply(this,arguments)}}(jQuery,window,document),window.MSViewEvents=function(type,data){this.type=type,this.data=data},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function($){"use strict";window.MSBasicView=function(options){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},$.extend(this.options,options),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=$("<div></div>").addClass("ms-slide-container"),this.$element=$("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var p=MSBasicView.prototype;p.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.__snapUpdate=function(controller,snap,change){if(this.loop){var target_index=this.index+change;this.updateLoop(target_index),target_index>=this.slidesCount&&(target_index-=this.slidesCount),0>target_index&&(target_index=this.slidesCount+target_index),this.index=target_index}else{if(0>snap||snap>=this.slidesCount)return;this.index=snap}this._checkCritMargins(),$.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var new_slide=this.slideList[this.index];new_slide!==this.currentSlide&&(this.currentSlide=new_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},p._checkCritMargins=function(){if(!this.normalMode){var hlf=Math.floor(this.options.viewNum/2),inView=this.viewSlidesList.indexOf(this.slideList[this.index]),size=this[this.__dimension]+this.spacing,cm=this.options.critMargin;return this.loop?void((cm>=inView||inView>=this.viewSlidesList.length-cm)&&(size*=inView-hlf,this.__locateSlides(!1,size+this.start_buffer),this.start_buffer+=size)):void((cm>inView&&this.index>=cm||inView>=this.viewSlidesList.length-cm&&this.index<this.slidesCount-cm)&&this.__locateSlides(!1))}},p._vertiUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-value+"px")},p._horizUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-value+"px")},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&temp[i].sleep();temp=null,this.currentSlide&&this.__updateSlidesZindex()},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos,slide.$element[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__createLoopList=function(){var return_arr=[],i=0,count=this.slidesCount/2,before_count=this.slidesCount%2===0?count-1:Math.floor(count),after_count=this.slidesCount%2===0?count:Math.floor(count);for(this.currentSlideLoc=before_count,i=1;before_count>=i;++i)return_arr.unshift(this.slideList[this.index-i<0?this.slidesCount-i+this.index:this.index-i]);for(return_arr.push(this.slideList[this.index]),i=1;after_count>=i;++i)return_arr.push(this.slideList[this.index+i>=this.slidesCount?this.index+i-this.slidesCount:this.index+i]);return return_arr},p.__getSteps=function(index,target){var right=index>target?this.slidesCount-index+target:target-index,left=Math.abs(this.slidesCount-right);return left>right?right:-left},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$element[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$element[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$element[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$element[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateSlidesZindex=function(){{var slide,l=this.viewSlidesList.length;Math.floor(l/2)}if(this.loop)for(var loc=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",loc>=i?i+1:l-i);else{for(var beforeNum=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==l;i++)this.viewSlidesList[i].$element.css("z-index",beforeNum>=i?i+1:l-i);this.currentSlide.$element.css("z-index",l)}},p.addSlide=function(slide){slide.view=this,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.appendSlide=function(slide){this.$slideCont.append(slide.$element)},p.updateLoop=function(index){if(this.loop)for(var steps=this.__getSteps(this.index,index),i=0,l=Math.abs(steps);l>i;++i)0>steps?this.__pushStart():this.__pushEnd()},p.gotoSlide=function(index,fast){this.updateLoop(index),this.index=index;var target_slide=this.slideList[index];this._checkCritMargins(),this.controller.changeTo(target_slide.position,!fast,null,null,!1),target_slide!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=target_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),fast&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.next=function(checkLoop){return checkLoop&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},p.previous=function(checkLoop){return checkLoop&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveY)<this.cont_size/2))this.controller.drag(status.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceY/status.duration*50/3,speedh=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)>.1&&Math.abs(speed)>=speedh?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.horizSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveX)<this.cont_size/2))this.controller.drag(status.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceX/status.duration*50/3,speedv=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)>.1&&Math.abs(speed)>=speedv?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.setSize=function(width,height,hard){if(this.lastWidth!==width||height!==this.lastHeight||hard){this.$element.width(width).height(height);for(var i=0;i<this.slidesCount;++i)this.slides[i].setSize(width,height,hard);this.__width=width,this.__height=height,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=width,this.lastHeight=height)}},p.create=function(index){this.__created=!0,this.index=Math.min(index||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var i=0;i<this.slidesCount;++i)this.slides[i].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},p.destroy=function(){if(this.__created){for(var i=0;i<this.slidesCount;++i)this.slides[i].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(p),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var p=MSWaveView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesHoriz(slide,distance)},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesVertic(slide,distance)},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg)")},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);{var p=MSFadeBasicView.prototype;MSFadeBasicView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(.6*distance/this.__width);value=1-Math.min(value,.6),slide.$element.css("opacity",value)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var p=MSFadeWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=Math.min(value,100),slide.$element.css("opacity",1-value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-value/800)+") rotateY(0.01deg) "},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var p=MSFlowView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateY("+rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateX("+-rvalue+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var p=MSFadeFlowView.prototype;MSWaveView.prototype}p.__calculate=function(distance){var value=Math.min(Math.abs(100*distance/this.__width),100),rvalue=Math.min(.5*value,50)*(0>distance?-1:1);return{value:value,rvalue:rvalue}},p.__updateSlidesHoriz=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateY("+clc.rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateX("+-clc.rvalue+"deg) "
},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function($){"use strict";window.MSMaskView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var p=MSMaskView.prototype,_super=MSBasicView.prototype;p.addSlide=function(slide){slide.view=this,slide.$frame=$("<div></div>").addClass("ms-mask-frame").append(slide.$element),slide.$element[0].style.position="relative",slide.autoAppend=!1,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.setSize=function(width,height){for(var slider=this.slides[0].slider,i=0;i<this.slidesCount;++i)this.slides[i].$frame[0].style.width=width+"px",slider.options.autoHeight||(this.slides[i].$frame[0].style.height=height+"px");_super.setSize.call(this,width,height)},p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=value-this.slideList[i].position+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=value-this.slideList[i].position+"px"},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$frame[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$frame[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$frame[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$frame[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&(temp[i].sleep(),temp[i].$frame.detach());temp=null},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);if(slide=this.viewSlidesList[i],this.$slideCont.append(slide.$frame),slide.wakeup(!1),slide.position=pos,slide.selected&&slide.bgvideo)try{slide.bgvideo.play()}catch(e){}slide.$frame[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSParallaxMaskView=function(options){MSMaskView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var p=MSParallaxMaskView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var p=MSFadeView.prototype,_super=MSBasicView.prototype;p.__update=function(controller,value){for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlides(slide,distance)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]);0>=1-value?slide.$element.fadeTo(0,0).css("visibility","hidden"):slide.$element.fadeTo(0,1-value).css("visibility","")},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*this[this.__dimension];slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];this.slides.push(first_slide),first_slide.position=last_slide.position+this[this.__dimension]},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];this.slides.unshift(last_slide),last_slide.position=first_slide.position-this[this.__dimension]},p.create=function(index){_super.create.call(this,index),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var p=MSScaleView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=0,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.opacity=1-value,element.style.visibility="",element.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+value*(0>distance?-.5:.5)*300+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";window.MSStackView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var p=MSStackView.prototype,_super=MSFadeView.prototype;p.__updateSlidesZindex=function(){for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",l-i)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=1,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]=0>distance?"perspective(2000px) translateZ("+-300*value+"px)":this.__translate+"("+-value*this[this.__dimension]+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){"use strict";var perspective=2e3;window.MSFocusView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var p=MSFocusView.prototype;MSWaveView.prototype}p.__calcview=function(z,w){var a=w/2*z/(z+perspective);return a*(z+perspective)/perspective},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateX("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateY("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var p=MSPartialWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateX("+.75*distance+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateY("+.75*distance+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(){"use strict";window.MSBoxView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-box-view"),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;var p=MSBoxView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]="rotate"+this._rotateDir+"("+value*(0>distance?1:-1)*90*this._calcFactor+"deg)",element.style[window._jcsspfx+"TransformOrigin"]="50% 50% -"+slide[this.__dimension]/2+"px",element.style.zIndex=Math.ceil(2*(1-value)))},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this._rotateDir="h"===this.options.dir?"Y":"X",this._calcFactor="h"===this.options.dir?1:-1},MSSlideController.registerView("box",MSBoxView)}(jQuery),function($){"use strict";var BaseControl=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},p=BaseControl.prototype;p.slideAction=function(){},p.setup=function(){this.cont=this.options.insertTo?$(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},p.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1,$(window).bind("resize",{that:this},this.onResize),this.onResize())},p.onResize=function(event){var that=event&&event.data.that||this,w=window.innerWidth;w<=that.options.hideUnder&&!that.detached?(that.hide(!0),that.detached=!0,that.onDetach()):w>=that.options.hideUnder&&that.detached&&(that.detached=!1,that.visible(),that.onAppend())},p.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),$(document).mouseup($.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},p._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},p._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},p._onMouseDown=function(){this.mdown=!0},p._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},p.onAppend=function(){this.needsRealign&&this.slider._realignControls()},p.onDetach=function(){this.needsRealign&&this.slider._realignControls()},p._hideOnvideoStarts=function(){var that=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){that._disableAH=!0,that.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){that._disableAH=!1,that.visible()})},p.hide=function(fast){if(fast)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var $element=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut($element,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},p.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},p.destroy=function(){this.options&&this.options.hideUnder&&$(window).unbind("resize",this.onResize)},window.BaseControl=BaseControl}(jQuery),function($){"use strict";var MSArrows=function(options){BaseControl.call(this),$.extend(this.options,options)};MSArrows.extend(BaseControl);var p=MSArrows.prototype,_super=BaseControl.prototype;p.setup=function(){var that=this;this.$next=$("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){that.slider.api.next(!0)}),this.$prev=$("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){that.slider.api.previous(!0)}),_super.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},p.hide=function(fast){return fast?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},p.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},p.destroy=function(){_super.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=MSArrows,MSSlideController.registerControl("arrows",MSArrows)}(jQuery),function($){"use strict";var MSThumblist=function(options){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===options.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,$.extend(this.options,options),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};MSThumblist.extend(BaseControl);var p=MSThumblist.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=$("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var that=this;this.$fwd=$("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){that.controller.push(-15)}),this.$bwd=$("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){that.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(align,-pos-this.options[this.__alignsize]-this.options.margin)}},p.slideAction=function(slide){var thumb_ele=slide.$element.find(".ms-thumb"),that=this,thumb_frame=$("<div></div>").addClass("ms-thumb-frame").append(thumb_ele).append($('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){that.changeSlide(thumb_frame)});if(this.options.align&&thumb_frame.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),thumb_frame[0].index=this.index_count++,this.$thumbscont.append(thumb_frame),this.options.fillMode&&thumb_ele.is("img")){var aligner=new window.MSAligner(this.options.fillMode,thumb_frame,thumb_ele);thumb_ele[0].aligner=aligner,thumb_ele.one("load",function(){var $this=$(this);$this[0].aligner.init($this.width(),$this.height()),$this[0].aligner.align()}).each($.jqLoadFix)}$.browser.msie&&thumb_ele.on("dragstart",function(event){event.preventDefault()}),this.thumbs.push(thumb_frame)},p.create=function(){_super.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var that=this;this.resize_listener=function(){that.__resize()},$(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var that=this;this.options.wheel&&(this.wheellistener=function(event){var e=window.event||event.orginalEvent||event,delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return that.controller.push(10*-delta),!1},$.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},p._hMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-value+"px")},p._vMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-value+"px")},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.options.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop();else if("move"===phase)this.controller.drag(status.moveY);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceY/status.duration*50/3);speed>.1?this.controller.push(-status.distanceY/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.horizSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop(),this.click_enable=!1;else if("move"===phase)this.controller.drag(status.moveX);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceX/status.duration*50/3);speed>.1?this.controller.push(-status.distanceX/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=nindex,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},p.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(index,thumb){thumb.aligner&&thumb.aligner.align()})},p.updateThumbscroll=function(){var pos=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),pos-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(pos+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var first_snap=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(first_snap,!0)}},p.changeSlide=function(thumb){this.click_enable&&this.cindex!==thumb[0].index&&this.slider.api.gotoSlide(thumb[0].index)},p.unselect=function(ele){ele.removeClass("ms-thumb-frame-selected")},p.select=function(ele){ele.addClass("ms-thumb-frame-selected")},p.__resize=function(){var size=this.$element[this.__dimen]();if(this.ls!==size){this.ls=size,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var len=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=len+"px",size>=len?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(size-len)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=len-size,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},p.destroy=function(){_super.destroy(),this.options.wheel&&($.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),$(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=MSThumblist,MSSlideController.registerControl("thumblist",MSThumblist)}(jQuery),function($){"use strict";var MSBulltes=function(options){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,$.extend(this.options,options),this.bullets=[]};MSBulltes.extend(BaseControl);var p=MSBulltes.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=$("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset&&this.$element.css(align,this.options.margin)}this.checkHideUnder()},p.create=function(){_super.create.call(this);var that=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var bullet=$("<div></div>").addClass("ms-bullet");bullet[0].index=i,bullet.on("click",function(){that.changeSlide(this.index)}),this.$bullet_cont.append(bullet),this.bullets.push(bullet),"h"===this.options.dir?bullet.css("margin",this.options.space/2):bullet.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(bullet.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=nindex,this.select(this.bullets[this.cindex]))},p.changeSlide=function(index){this.cindex!==index&&this.slider.api.gotoSlide(index)},p.unselect=function(ele){ele.removeClass("ms-bullet-selected")},p.select=function(ele){ele.addClass("ms-bullet-selected")},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=MSBulltes,MSSlideController.registerControl("bullets",MSBulltes)}(jQuery),function($){"use strict";var MSScrollbar=function(options){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,$.extend(this.options,options),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};MSScrollbar.extend(BaseControl);var p=MSScrollbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},p._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},p._update=function(){var value=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==value){if(this.lvalue=value,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var that=this;this.hto=setTimeout(function(){that.$bar.css("opacity","0")},150)}return 0>value?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+value+"px"):(value>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-value+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+value+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=value+"px"))}},p.destroy=function(){_super.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=MSScrollbar,MSSlideController.registerControl("scrollbar",MSScrollbar)}(jQuery),function($){"use strict";var MSTimerbar=function(options){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,$.extend(this.options,options)};MSTimerbar.extend(BaseControl);var p=MSTimerbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"timerbar"),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},p._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=MSTimerbar,MSSlideController.registerControl("timebar",MSTimerbar)}(jQuery),function($){"use strict";var MSCircleTimer=function(options){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,$.extend(this.options,options)};MSCircleTimer.extend(BaseControl);var p=MSCircleTimer.prototype,_super=BaseControl.prototype;p.setup=function(){return _super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=$("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=$("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))
},p.create=function(){if(!this.disable){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var that=this;this.$element.click(function(){that.slider.api.paused?that.slider.api.resume():that.slider.api.pause()}),this._update()}},p._update=function(){var that=this;$(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){that._draw()}})},p._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},p.destroy=function(){_super.destroy(),this.disable||($(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=MSCircleTimer,MSSlideController.registerControl("circletimer",MSCircleTimer)}(jQuery),function($){"use strict";window.MSLightbox=function(options){BaseControl.call(this,options),this.options.autohide=!1,$.extend(this.options,options),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var p=MSLightbox.prototype,_super=BaseControl.prototype;p.setup=function(){_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},p.slideAction=function(slide){$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(slide.$element).append($(slide.$element.find(".ms-lightbox")))},p.create=function(){_super.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function($){"use strict";window.MSSlideInfo=function(options){BaseControl.call(this,options),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",$.extend(this.options,options),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var p=MSSlideInfo.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options.size+2*this.options.margin);this.$element.css(align,-pos-this.options.size-this.options.margin)}},p.slideAction=function(slide){var info_ele=$(slide.$element.find(".ms-info"));info_ele.detach(),this.data_list[slide.index]=info_ele},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.switchEle(this.data_list[nindex]),this.cindex=nindex},p.switchEle=function(ele){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,ele.css("position","relative")},target:this.current_ele}),ele.css("position","absolute")}this.__show(ele)},p.__show=function(ele){ele.appendTo(this.$element).css("opacity","0"),this.current_ele&&ele.height(Math.max(ele.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(ele,MSSlideInfo.fadeDuratation),ele.css("height","")},MSSlideInfo.fadeDuratation),ele[0].tween&&ele[0].tween.stop(!0),this.current_ele=ele},p.destroy=function(){_super.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function($){window.MSGallery=function(id,slider){this.id=id,this.slider=slider,this.telement=$("#"+id),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),slider.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),slider.control("slidenum",{insertTo:this.botcont,autohide:!1}),slider.control("slideinfo",{insertTo:this.botcont,autohide:!1}),slider.control("timebar",{insertTo:this.botcont,autohide:!1}),slider.control("bullets",{insertTo:this.botcont,autohide:!1})};var p=MSGallery.prototype;p._init=function(){var that=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){that.slider.api.paused?(that.slider.api.resume(),that.playbtn.addClass("btn-pause")):(that.slider.api.pause(),that.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){that.vthumbs?(that.thumbtoggle.removeClass("btn-hide"),that.vthumbs=!1,that.thumbcont.addClass("hide-thumbs")):(that.thumbtoggle.addClass("btn-hide"),that.thumbcont.removeClass("hide-thumbs"),that.vthumbs=!0)})},p.setup=function(){var that=this;$(document).ready(function(){that._init()})}}(jQuery),function($){var getPhotosetURL=function(key,id,count){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+key+"&photoset_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getUserPublicURL=function(key,id,count){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+key+"&user_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getImageSource=function(fid,server,id,secret,size,data){return"_o"===size&&data?data.url_o:"https://farm"+fid+".staticflickr.com/"+server+"/"+id+"_"+secret+size+".jpg"};window.MSFlickrV2=function(slider,options){var _options={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=slider,this.slider.holdOn(),!options.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");$.extend(_options,options),this.options=_options;var that=this;"photoset"===this.options.type?$.getJSON(getPhotosetURL(this.options.key,this.options.id,this.options.count),function(data){that._photosData(data)}):$.getJSON(getUserPublicURL(this.options.key,this.options.id,this.options.count),function(data){that.options.type="photos",that._photosData(data)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFlickrV2.prototype;p._photosData=function(data){if("fail"===data.stat)return void this.errMsg("Flickr API ERROR#"+data.code+": "+data.message);{var that=this;this.options.author||this.options.desc}$.each(data[this.options.type].photo,function(i,item){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](item,that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}),that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var shortCodes={image:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.imgSize,data)},thumb:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.thumbSize)},title:function(data){return data.title},"owner-name":function(data){return data.ownername},"date-taken":function(data){return data.datetaken},views:function(data){return data.views},description:function(data){return data.description._content}}}(jQuery),function($){window.MSFacebookGallery=function(slider,options){var _options={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1,token:""};this.slider=slider,this.slider.holdOn(),$.extend(_options,options),this.options=_options,this.graph="https://graph.facebook.com";var that=this;"photostream"===this.options.type?$.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(data){that._photosData(data)}):$.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(data){that._photosData(data)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFacebookGallery.prototype;p._photosData=function(content){if(content.error)return void this.errMsg("Facebook API ERROR#"+content.error.code+"("+content.error.type+"): "+content.error.message);for(var that=this,i=(this.options.author||this.options.desc,0),l=content.data.length;i!==l;i++){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](content.data[i],that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var getImageSource=function(images,size){if("orginal"===size)return images[0].source;for(var i=0,l=images.length;i!==l;i++)if(-1!==images[i].source.indexOf(size+"x"+size))return images[i].source;return images[0].source},shortCodes={image:function(data,that){return getImageSource(data.images,that.options.imgSize)},thumb:function(data,that){return getImageSource(data.images,that.options.thumbSize)},name:function(data){return data.name},"owner-name":function(data){return data.from.name},link:function(data){return data.link}}}(jQuery),function($){"use strict";window.MSScrollParallax=function(slider,parallax,bgparallax,fade){this.fade=fade,this.slider=slider,this.parallax=parallax/100,this.bgparallax=bgparallax/100,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this),slider.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(slider,parallax,bgparallax,fade){return window._mobile?void 0:(null==parallax&&(parallax=50),null==bgparallax&&(bgparallax=40),new MSScrollParallax(slider,parallax,bgparallax,fade))};var p=window.MSScrollParallax.prototype;p.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var slide,slides=this.slider.api.view.slideList,i=0,l=slides.length;i!==l;i++)slide=slides[i],slide.hasLayers&&(slide.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),slide.$scrollParallaxCont=slide.layerController.$layers.parent());$(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},p.resetLayers=function(){if(this.lastSlide){var layers=this.lastSlide.$scrollParallaxCont;window._css2d?(layers&&(layers[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(layers&&(layers[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},p.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},p.moveParallax=function(e){var that=e.data.that,slider=that.slider,offset=that.sliderOffset,scrollTop=$(window).scrollTop(),layers=that.currentSlide.$scrollParallaxCont,out=offset-scrollTop;0>=out?(layers&&(window._css3d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px) translateZ(0.4px)":window._css2d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px)":layers[0].style.top=-out*that.parallax+"px"),that.updateSlidesBG(-out*that.bgparallax+"px",!0),layers&&that.fade&&layers.css("opacity",1-Math.min(1,-out/slider.api.height))):(layers&&(window._css2d?layers[0].style[window._jcsspfx+"Transform"]="":layers[0].style.top=""),that.updateSlidesBG("0px",!1),layers&&that.fade&&layers.css("opacity",1))},p.updateSlidesBG=function(pos,fixed){for(var slides=this.slider.api.view.slideList,position=!fixed||$.browser.msie||$.browser.opera?"":"fixed",i=0,l=slides.length;i!==l;i++)slides[i].hasBG&&(slides[i].$imgcont[0].style.position=position,slides[i].$imgcont[0].style.top=pos),slides[i].$bgvideocont&&(slides[i].$bgvideocont[0].style.position=position,slides[i].$bgvideocont[0].style.top=pos)},p.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),$(window).off("scroll",this.moveParallax)}}(jQuery),function($,document,window){var PId=0;if(window.MasterSlider){var KeyboardNav=function(slider){this.slider=slider,this.PId=PId++,this.slider.options.keyboard&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};KeyboardNav.name="MSKeyboardNav";var p=KeyboardNav.prototype;p.init=function(){var api=this.slider.api;$(document).on("keydown.kbnav"+this.PId,function(event){var which=event.which;37===which||40===which?api.previous(!0):(38===which||39===which)&&api.next(!0)})},p.destroy=function(){$(document).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(KeyboardNav)}}(jQuery,document,window),function($,document,window){var PId=0,$window=$(window),$doc=$(document);if(window.MasterSlider){var StartOnAppear=function(slider){this.PId=PId++,this.slider=slider,this.$slider=slider.$element,this.slider.options.startOnAppear&&(slider.holdOn(),$doc.ready($.proxy(this.init,this)))};StartOnAppear.name="MSStartOnAppear";var p=StartOnAppear.prototype;p.init=function(){this.slider.api;$window.on("scroll.soa"+this.PId,$.proxy(this._onScroll,this)).trigger("scroll")},p._onScroll=function(){var vpBottom=$window.scrollTop()+$window.height(),top=this.$slider.offset().top;vpBottom>top&&($window.off("scroll.soa"+this.PId),this.slider.release())},p.destroy=function(){},MasterSlider.registerPlugin(StartOnAppear)}}(jQuery,document,window),function(document,window){var filterUnits={"hue-rotate":"deg",blur:"px"},initialValues={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(window.MasterSlider){var Filters=function(slider){this.slider=slider,this.slider.options.filters&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};Filters.name="MSFilters";var p=Filters.prototype;p.init=function(){var api=this.slider.api,view=api.view;this.filters=this.slider.options.filters,this.slideList=view.slideList,this.slidesCount=view.slidesCount,this.dimension=view[view.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";var superFun=view.controller.__renderHook.fun,superRef=view.controller.__renderHook.ref;view.controller.renderCallback(function(controller,value){superFun.call(superRef,controller,value),this.applyEffect(value)},this),this.applyEffect(view.controller.value)},p.applyEffect=function(value){for(var factor,slide,i=0;i<this.slidesCount;++i)slide=this.slideList[i],factor=Math.min(1,Math.abs(value-slide.position)/this.dimension),slide[this.target]&&($.browser.msie?null!=this.filters.opacity&&slide[this.target].opacity(1-this.filters.opacity*factor):slide[this.target][0].style[this.filterName]=this.generateStyle(factor))},p.generateStyle=function(factor){var unit,style="";for(var filter in this.filters)unit=filterUnits[filter]||"",style+=filter+"("+(initialValues[filter]+(this.filters[filter]-initialValues[filter])*factor)+") ";return style},p.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(Filters)}}(document,window,jQuery),function($,document,window){if(window.MasterSlider){var ScrollToAction=function(slider){this.slider=slider,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};ScrollToAction.name="MSScrollToAction";var p=ScrollToAction.prototype;p.init=function(){var api=this.slider.api;api.scrollToEnd=_scrollToEnd,api.scrollTo=_scrollTo},p.destroy=function(){};var _scrollTo=function(target,duration){var target=(this.slider.$element,$(target).eq(0));0!==target.length&&(null==duration&&(duration=1.4),$("html, body").animate({scrollTop:target.offset().top},1e3*duration,"easeInOutQuad"))},_scrollToEnd=function(duration){var sliderEle=this.slider.$element;null==duration&&(duration=1.4),$("html, body").animate({scrollTop:sliderEle.offset().top+sliderEle.outerHeight(!1)},1e3*duration,"easeInOutQuad")};MasterSlider.registerPlugin(ScrollToAction)}}(jQuery,document,window),function($,window){"use strict";if(window.MSReady)for(var i=0,l=MSReady.length;i!==l;i++)MSReady[i].call(null,$)}(jQuery,window,document),function(){window.msCli=function(f){f=f||"pause";var m=masterslider_instances;for(var i in m)m[i].api[f]()}}(jQuery);
;function mk_gmap_iterator($id){function openModal(e){e.preventDefault();var $modal=$(".gmap-marker-popup"),date=new Date;date.getTime();$modal.find("input").val(""),$modal.find(".show-upload-image").html(),$modal.fadeIn(200)}function cancelModal(e){e.preventDefault(),$(".gmap-marker-popup").fadeOut(200)}function submitModal(e){e.preventDefault();var $submitBtn=$(this),$popup=$submitBtn.parents(".gmap-marker-popup"),$inputs=$popup.find("input"),$inputUniq=$inputs.filter('[name="uniqid"]'),uniq=$inputUniq.val(),date=new Date,time=date.getTime(),data={};uniq||$inputUniq.val(time),$inputs.each(function(){var $input=$(this),val=$input.val();val&&(data[$input.attr("name")]=val)}),data&&!uniq?(appendData(data),appendRow(data)):data&&uniq&&(updateData(data),updateRow(data)),$popup.fadeOut(200)}function appendData(data){var currentData=getCurrentData();currentData.push(data),save(currentData)}function appendRow(data){var $list=$(".gmap-marker-locations"),$item=$list.find("li").eq(0).clone();$item.attr("style",""),$item.removeClass("temp"),$item.attr("data-id",data.uniqid),$item.find("span").html(data.title),$item.appendTo($list)}function updateData(data){var currentData=getCurrentData();currentData[getRowIndex(currentData,data.uniqid)]=data,save(currentData)}function updateRow(data){$item=$('.gmap-marker-locations li[data-id="'+data.uniqid+'"]'),$item.find("span").html(data.title)}function save(data){$(".gmap-marks-collector").val(window.btoa(encodeURIComponent(JSON.stringify(data))))}function remove(e){e.preventDefault();var id=getRowId(e),data=getCurrentData(),index=getRowIndex(data,id);null!=index&&($(".gmap-marker-locations li:not(.temp)").eq(index).remove(),data.splice(index,1),save(data))}function edit(e){e.preventDefault();var id=getRowId(e),data=getCurrentData(),index=getRowIndex(data,id),$modal=$(".gmap-marker-popup");$modal.find('input[name="uniqid"]').val(data[index].uniqid),$modal.find('input[name="title"]').val(data[index].title),$modal.find('input[name="latitude"]').val(data[index].latitude),$modal.find('input[name="longitude"]').val(data[index].longitude),$modal.find('input[name="address"]').val(data[index].address),$modal.find('input[name="marker_icon"]').val(data[index].marker_icon),$modal.find(".show-upload-image").html(data[index].marker_icon?'<img src="'+data[index].marker_icon+'">':""),$modal.fadeIn(200)}function getRowId(e){return $(e.currentTarget).parents("li").data("id")}function getRowIndex(data,id){var index=null;return data.forEach(function(location,i){parseFloat(location.uniqid)===parseFloat(id)&&(index=i)}),index}function getCurrentData(){var data=$(".gmap-marks-collector").val();return data=isBase64(data)?decodeURIComponent(window.atob(data)):unescape(data),data&&"false"!==data?JSON.parse(data):[]}function isBase64(str){try{return btoa(atob(str))==str}catch(err){return!1}}$=jQuery,$(".gmap-new-loaction-btn").on("click",openModal),$("#mk-popup-cancel-btn").on("click",cancelModal),$("#mk-popup-submit-btn").on("click",submitModal),$(document).on("click",".gmap-delete-btn",remove),$(document).on("click",".gmap-edit-btn",edit)}!function($){"use strict";var _toBuild=[];MK.component.AdvancedGMaps=function(el){var $this=$(el),container=document.getElementById("mk-theme-container"),data=$this.data("advancedgmaps-config"),apikey=!!data.options.apikey&&"key="+data.options.apikey+"&",map=null,bounds=null,infoWindow=null,position=null,build=function(){data.options.scrollwheel=!1,data.options.mapTypeId=google.maps.MapTypeId[data.options.mapTypeId],data.options.styles=data.style,bounds=new google.maps.LatLngBounds,map=new google.maps.Map(el,data.options),infoWindow=new google.maps.InfoWindow,map.setOptions({panControl:data.options.panControl,draggable:data.options.draggable,zoomControl:data.options.zoomControl,mapTypeControl:data.options.scaleControl,scaleControl:data.options.mapTypeControl});var marker,i;for(map.setTilt(45),i=0;i<data.places.length;i++)data.places[i].latitude&&data.places[i].longitude&&(position=new google.maps.LatLng(data.places[i].latitude,data.places[i].longitude),bounds.extend(position),marker=new google.maps.Marker({position:position,map:map,title:data.places[i].address,icon:data.places[i].marker?data.places[i].marker:data.icon}),google.maps.event.addListener(marker,"click",function(marker,i){return function(){data.places[i].address&&data.places[i].address.length>1?(infoWindow.setContent('<div class="info_content"><p>'+data.places[i].address+"</p></div>"),infoWindow.open(map,marker)):(infoWindow.setContent(""),infoWindow.close())}}(marker,i)),map.fitBounds(bounds));var boundsListener=google.maps.event.addListener(map,"bounds_changed",function(event){this.setZoom(data.options.zoom),google.maps.event.removeListener(boundsListener)}),update=function(){google.maps.event.trigger(map,"resize"),map.setCenter(position)};update();!function(){$(window).on("resize",update),window.addResizeListener(container,update)}()},initAll=function(){for(var i=0,l=_toBuild.length;i<l;i++)_toBuild[i]()};return MK.api.advancedgmaps=MK.api.advancedgmaps||function(){initAll()},{init:function(){_toBuild.push(build),MK.core.loadDependencies(["https://maps.googleapis.com/maps/api/js?"+apikey+"callback=MK.api.advancedgmaps"])}}}}(jQuery),function($){"use strict";function mk_animated_cols(){function equalheight(container){var $el,currentTallest=0,currentRowStart=0,rowDivs=new Array,topPosition=0;return $(container).each(function(){if($el=$(this),$($el).height("auto"),topPosition=$el.position().top,currentRowStart!=topPosition){for(var currentDiv=0;currentDiv<rowDivs.length;currentDiv++)rowDivs[currentDiv].height(currentTallest);rowDivs.length=0,currentRowStart=topPosition,currentTallest=$el.height(),rowDivs.push($el)}else rowDivs.push($el),currentTallest=currentTallest<$el.height()?$el.height():currentTallest;for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++)rowDivs[currentDiv].height(currentTallest)}),currentTallest}function prepareCols(el){var $this=el.parent().parent().find(".mk-animated-columns"),iconHeight=equalheight(".vc_row .animated-column-icon, .animated-column-holder .mk-svg-icon"),titleHeight=equalheight(".vc_row .animated-column-title"),descHeight=equalheight(".vc_row .animated-column-desc");$this.find(".animated-column-btn").innerHeight();$this.hasClass("full-style")?$this.find(".animated-column-item").each(function(){var $this=$(this),contentHeight=iconHeight+30+(titleHeight+10)+(descHeight+70)+34;$this.height(1.5*contentHeight+50);var $box_height=$this.outerHeight(!0),$icon_height=$this.find(".animated-column-icon, .animated-column-holder .mk-svg-icon").height();$this.find(".animated-column-holder").css({paddingTop:$box_height/2-$icon_height}),$this.animate({opacity:1},300)}):$this.find(".animated-column-item").each(function(){var $this=$(this),halfHeight=$this.height()/2,halfIconHeight=$this.find(".animated-column-icon, .animated-column-holder .mk-svg-icon").height()/2,halfTitleHeight=$this.find(".animated-column-simple-title").height()/2;$this.find(".animated-column-holder").css({paddingTop:halfHeight-halfIconHeight}),$this.find(".animated-column-title").css({paddingTop:halfHeight-halfTitleHeight}),$this.animate({opacity:1},300)})}$(".mk-animated-columns").each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+"tweenmax.js"],function(){var $this=$(that),$parent=$this.parent().parent(),$columns=$parent.find(".column_container"),index=$columns.index($this.parent());$this.hasClass("full-style")&&$this.find(".animated-column-item").hover(function(){TweenLite.to($(this).find(".animated-column-holder"),.5,{top:"-15%",ease:Back.easeOut}),TweenLite.to($(this).find(".animated-column-desc"),.5,{top:"50%",ease:Expo.easeOut},.4),TweenLite.to($(this).find(".animated-column-btn"),.3,{top:"50%",ease:Expo.easeOut},.6)},function(){TweenLite.to($(this).find(".animated-column-holder"),.5,{top:"0%",ease:Back.easeOut,easeParams:[3]}),TweenLite.to($(this).find(".animated-column-desc"),.5,{top:"100%",ease:Back.easeOut},.4),TweenLite.to($(this).find(".animated-column-btn"),.5,{top:"100%",ease:Back.easeOut},.2)}),$this.hasClass("simple-style")&&$this.find(".animated-column-item").hover(function(){TweenLite.to($(this).find(".animated-column-holder"),.7,{top:"100%",ease:Expo.easeOut}),TweenLite.to($(this).find(".animated-column-title"),.7,{top:"0%",ease:Back.easeOut},.2)},function(){TweenLite.to($(this).find(".animated-column-holder"),.7,{top:"0%",ease:Expo.easeOut}),TweenLite.to($(this).find(".animated-column-title"),.7,{top:"-100%",ease:Back.easeOut},.2)}),$columns.length===index+1&&(prepareCols($this),$(window).on("resize",function(){setTimeout(prepareCols($this),1e3)})),MK.utils.eventManager.subscribe("iconsInsert",function(){prepareCols($this)})})})}$(window).on("load",mk_animated_cols)}(jQuery),function($){"use strict";MK.core,MK.core.path;MK.component.BannerBuilder=function(el){return{init:function(){var $this=$(el),data=$this.data("bannerbuilder-config");MK.core.loadDependencies([MK.core.path.plugins+"jquery.flexslider.js"],function(){$this.flexslider({selector:".mk-banner-slides > .mk-banner-slide",animation:data.animation,smoothHeight:!1,direction:"horizontal",slideshow:!0,slideshowSpeed:data.slideshowSpeed,animationSpeed:data.animationSpeed,pauseOnHover:!0,directionNav:data.directionNav,controlNav:!1,initDelay:2e3,prevText:"",nextText:"",pauseText:"",playText:""})})}}}}(jQuery),function($){"use strict";var zIndex=0;$(".mk-newspaper-wrapper").on("click",".blog-loop-comments",function(event){event.preventDefault();var $this=$(event.currentTarget);$this.parents(".mk-blog-newspaper-item").css("z-index",++zIndex),$this.parents(".newspaper-item-footer").find(".newspaper-social-share").slideUp(200).end().find(".newspaper-comments-list").slideDown(200),setTimeout(function(){MK.utils.eventManager.publish("item-expanded")},300)}),$(".mk-newspaper-wrapper").on("click",".newspaper-item-share",function(event){event.preventDefault();var $this=$(event.currentTarget);$this.parents(".mk-blog-newspaper-item").css("z-index",++zIndex),$this.parents(".newspaper-item-footer").find(".newspaper-comments-list").slideUp(200).end().find(".newspaper-social-share").slideDown(200),setTimeout(function(){MK.utils.eventManager.publish("item-expanded")},300)})}(jQuery),function($){"use strict";var core=MK.core,path=MK.core.path;MK.component.Category=function(el){var blurImage=function($item){return $item.each(function(){var $_this=$(this),img=$_this.find(".item-thumbnail");img.clone().addClass("blur-effect item-blur-thumbnail").removeClass("item-thumbnail").prependTo(this);var blur_this=$(".blur-effect",this);blur_this.each(function(index,element){!0===img[index].complete?Pixastic.process(blur_this[index],"blurfast",{amount:.5}):blur_this.load(function(){Pixastic.process(blur_this[index],"blurfast",{amount:.5})})})})},masonry=function(){function grid(){minigrid({container:".js-masonry",item:".js-masonry-item",gutter:0})}$(".js-masonry").length&&(grid(),$(window).on("resize",grid))};return{init:function(){core.loadDependencies([path.plugins+"pixastic.js"],function(){blurImage($(".blur-image-effect .mk-loop-item .item-holder "))}),core.loadDependencies([path.plugins+"minigrid.js"],masonry)}}}}(jQuery),function($){"use strict";var core=MK.core;core.path;MK.component.Chart=function(el){return{init:function(){MK.core.loadDependencies([MK.core.path.plugins+"jquery.easyPieChart.js"],function(){$(".mk-chart__chart").each(function(){var $this=$(this),$parent_width=$(this).parent().width(),$chart_size=parseInt($this.attr("data-barSize"));$parent_width<$chart_size&&($chart_size=$parent_width,$this.css("line-height",$chart_size),$this.find("i").css({"line-height":$chart_size+"px"}),$this.css({"line-height":$chart_size+"px"}));var build=function(){$this.easyPieChart({animate:1300,lineCap:"butt",lineWidth:$this.attr("data-lineWidth"),size:$chart_size,barColor:$this.attr("data-barColor"),trackColor:$this.attr("data-trackColor"),scaleColor:"transparent",onStep:function(value){this.$el.find(".chart-percent span").text(Math.ceil(value))}})};MK.utils.scrollSpy(this,{position:"bottom",after:build})})})}}}}(jQuery),function($){"use strict";$(".mk-clients.column-style").each(function(){function recreateGrid(){var i;if($listItems.unwrap(),window.matchMedia("(max-width: 550px)").matches&&fullRowColumnsCount>=1)for(i=0;i<listItemsCount;i+=1)$listItems.slice(i,i+1).wrapAll('<ul class="mk-clients-fixed-list" style="'+listStyle+'"></ul>');else if(window.matchMedia("(max-width: 767px)").matches&&fullRowColumnsCount>=2)for(i=0;i<listItemsCount;i+=2)$listItems.slice(i,i+2).wrapAll('<ul class="mk-clients-fixed-list" style="'+listStyle+'"></ul>');else if(window.matchMedia("(max-width: 960px)").matches&&fullRowColumnsCount>=3)for(i=0;i<listItemsCount;i+=3)$listItems.slice(i,i+3).wrapAll('<ul class="mk-clients-fixed-list" style="'+listStyle+'"></ul>');else for(i=0;i<listItemsCount;i+=fullRowColumnsCount)$listItems.slice(i,i+fullRowColumnsCount).wrapAll('<ul style="'+listStyle+'"></ul>')}var $group=$(this),$listItems=$group.find("li"),listItemsCount=$listItems.length,listStyle=$group.find("ul").attr("style")||"",fullRowColumnsCount=$group.find("ul:first-of-type li").length;recreateGrid(),$(window).on("resize",recreateGrid)})}(jQuery),function($){"use strict";function handleDropshadowVisiblity(){var $toggleBtn=$(".drop_shadow").closest(".mk-toggle-button");"true"===$(".elevation_effect").val()?($toggleBtn.hasClass("mk-toggle-on")&&$toggleBtn.trigger("click"),$toggleBtn.hide()):$toggleBtn.show()}$(document).on("change",".background_style",function(e){$(".background_hov_color_style option[value='none'], .background_hov_color_style option[value='gradient_color'], .background_hov_color_style option[value='image']").remove(),$(".background_hov_color_style").append('<option class="none" value="none" selected="selected">None</option>'),$(".background_hov_color_style").append('<option class="image" value="image">Image & Single Color</option>'),$(".background_hov_color_style").append('<option class="gradient_color" value="gradient_color">Gradient Color</option>'),"gradient_color"==this.options[e.target.selectedIndex].value?($(".background_hov_color_style").val("gradient_color").change(),$(".background_hov_color_style option[value='image']").remove()):"image"==this.options[e.target.selectedIndex].value&&($(".background_hov_color_style").val("image").change(),$(".background_hov_color_style option[value='gradient_color']").remove())}),$(document).on("change",".elevation_effect",handleDropshadowVisiblity),$(document).on("click",".vc_edit-form-tab-control",handleDropshadowVisiblity)}(jQuery),function($){"use strict";$(".mk-edge-slider").find("video").each(function(){this.pause(),this.currentTime=0}),MK.component.EdgeSlider=function(el){var self=this,$this=$(el),$window=$(window),$wrapper=$this.parent(),config=$this.data("edgeslider-config"),$nav=$(config.nav),$prev=$nav.find(".mk-edge-prev"),$prevTitle=$prev.find(".nav-item-caption"),$prevBg=$prev.find(".edge-nav-bg"),$next=$nav.find(".mk-edge-next"),$nextTitle=$next.find(".nav-item-caption"),$nextBg=$next.find(".edge-nav-bg"),$navBtns=$nav.find("a"),$pagination=$(".swiper-pagination"),$skipBtn=$(".edge-skip-slider"),$opacityLayer=$this.find(".edge-slide-content"),$videos=$this.find("video"),currentSkin=null,currentPoint=null,winH=null,opacity=null,offset=null,callbacks={onInitialize:function(slides){self.$slides=$(slides),self.slideContents=$.map(self.$slides,function(slide){var $slide=$(slide),title=$slide.find(".edge-slide-content .edge-title").first().text();return{skin:$slide.attr("data-header-skin"),title:title,image:$slide.find(".mk-section-image").css("background-image")||$slide.find(".mk-video-section-touch").css("background-image"),bgColor:$slide.find(".mk-section-image").css("background-color")}}),MK.utils.isSmoothScroll&&$this.css("position","fixed"),setNavigationContent(1,self.$slides.length-1),setSkin(0),playVideo(0),setTimeout(function(){$(".edge-slider-loading").fadeOut("100")},1e3)},onBeforeSlide:function(id){},onAfterSlide:function(id){setNavigationContent(nextFrom(id),prevFrom(id)),setSkin(id),stopVideos(),playVideo(id)}},nextFrom=function(id){return id+1===self.$slides.length?0:id+1},prevFrom=function(id){return id-1==-1?self.$slides.length-1:id-1},setNavigationContent=function(nextId,prevId){self.slideContents[prevId]&&($prevTitle.text(self.slideContents[prevId].title),$prevBg.css("background","none"!==self.slideContents[prevId].image?self.slideContents[prevId].image:self.slideContents[prevId].bgColor)),self.slideContents[nextId]&&($nextTitle.text(self.slideContents[nextId].title),$nextBg.css("background","none"!==self.slideContents[nextId].image?self.slideContents[nextId].image:self.slideContents[nextId].bgColor))},setSkin=function(id){currentSkin=self.slideContents[id].skin,$navBtns.attr("data-skin",currentSkin),$pagination.attr("data-skin",currentSkin),$skipBtn.attr("data-skin",currentSkin),self.config.firstEl&&MK.utils.eventManager.publish("firstElSkinChange",currentSkin)},stopVideos=function(){$videos.each(function(){this.pause(),this.currentTime=0})},playVideo=function(id){var video=self.$slides.eq(id).find("video").get(0);video&&(video.play(),console.log("play video in slide nr "+id))},onResize=function(){var height=$wrapper.height();$this.height(height);var width=$wrapper.width();$this.width(width),winH=$window.height(),offset=$this.offset().top,MK.utils.isSmoothScroll&&(MK.utils.isResponsiveMenuState()?($this.css({"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)",position:"absolute"}),$opacityLayer.css({opacity:1})):onScroll())},onScroll=function(){currentPoint=-MK.val.scroll(),offset+currentPoint<=0&&(opacity=1+(offset+currentPoint)/winH*2,opacity=Math.min(opacity,1),opacity=Math.max(opacity,0),$opacityLayer.css({opacity:opacity})),$this.css({"-webkit-transform":"translateY("+currentPoint+"px) translateZ(0)","-moz-transform":"translateY("+currentPoint+"px) translateZ(0)","-ms-transform":"translateY("+currentPoint+"px) translateZ(0)","-o-transform":"translateY("+currentPoint+"px) translateZ(0)",transform:"translateY("+currentPoint+"px) translateZ(0)",position:"fixed"})};onResize(),$window.on("load",onResize),$window.on("resize",onResize),window.addResizeListener($wrapper.get(0),onResize),MK.utils.isSmoothScroll&&(onScroll(),$window.on("scroll",function(){MK.utils.isResponsiveMenuState()||window.requestAnimationFrame(onScroll)})),this.el=el,this.config=$.extend(config,callbacks),this.slideContents=null},MK.component.EdgeSlider.prototype={init:function(){new MK.ui.Slider(this.el,this.config).init()}}}(jQuery),function($){"use strict";$(".mk-faq-wrapper").each(function(){function filterItems(cat){if(""===cat)return void $faq.slideDown(200).removeClass("hidden");$faq.not("."+cat).slideUp(200).addClass("hidden"),$faq.filter("."+cat).slideDown(200).removeClass("hidden")}var $this=$(this),$filter=$this.find(".filter-faq"),$filterItem=$filter.find("a"),$faq=$this.find(".mk-faq-container > div"),currentFilter="";$filterItem.on("click",function(e){var $this=$(this);currentFilter=$this.data("filter"),$filterItem.removeClass("current"),$this.addClass("current"),filterItems(currentFilter),e.preventDefault()})})}(jQuery),function($){"use strict";$(".js-header-shortcode").each(function(){var $this=$(this),$parent_page_section=$this.parents(".mk-page-section");$parent_page_section.attr("id")&&$this.detach().appendTo($parent_page_section),$this.parent().css("z-index",99999)})}(jQuery),function($){"use strict";function mk_section_intro_effects(){if(MK.utils.isMobile())$(".mk-page-section.intro-true").each(function(){$(this).attr("data-intro-effect","")});else{if(!$.exists(".mk-page-section.intro-true"))return;$(".mk-page-section.intro-true").each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+"jquery.sectiontrans.js",MK.core.path.plugins+"tweenmax.js"],function(){var $this=$(that),$pageCnt=$this.parent().nextAll("div"),windowHeight=$(window).height(),effectName=$this.attr("data-intro-effect"),$header=$(".mk-header"),effect={fade:new TimelineLite({paused:!0}).set($pageCnt,{opacity:0,y:.3*windowHeight}).to($this,1,{opacity:0,ease:Power2.easeInOut}).to($pageCnt,1,{opacity:1,y:0,ease:Power2.easeInOut},"-=.7").set($this,{zIndex:"-1"}),zoom_out:new TimelineLite({paused:!0}).set($pageCnt,{opacity:0,y:.3*windowHeight}).to($this,1.5,{opacity:.8,scale:.8,y:-windowHeight-100,ease:Strong.easeInOut}).to($pageCnt,1.5,{opacity:1,y:0,ease:Strong.easeInOut},"-=1.3"),shuffle:new TimelineLite({paused:!0}).to($this,1.5,{y:-windowHeight/2,ease:Strong.easeInOut}).to($pageCnt.first(),1.5,{paddingTop:windowHeight/2,ease:Strong.easeInOut},"-=1.3")};console.log($pageCnt),$this.sectiontrans({effect:effectName}),$this.hasClass("shuffled")&&(TweenLite.set($this,{y:-windowHeight/2}),TweenLite.set($this.nextAll("div").first(),{paddingTop:windowHeight/2})),$("body").on("page_intro",function(){MK.utils.scroll.disable(),$(this).data("intro",!0),effect[effectName].play(),setTimeout(function(){$header.addClass("pre-sticky"),$header.addClass("a-sticky"),$(".mk-header-padding-wrapper").addClass("enable-padding"),$("body").data("intro",!1),"shuffle"===effectName&&$this.addClass("shuffled")},1e3),setTimeout(MK.utils.scroll.enable,1500)}),$("body").on("page_outro",function(){MK.utils.scroll.disable(),$(this).data("intro",!0),effect[effectName].reverse(),setTimeout(function(){$header.removeClass("pre-sticky"),$header.removeClass("a-sticky"),$(".mk-header-padding-wrapper").removeClass("enable-padding"),$("body").data("intro",!1),$this.hasClass("shuffled")&&$this.removeClass("shuffled")},1e3),setTimeout(MK.utils.scroll.enable,1500)})})})}}function mk_section_adaptive_height(){$(".mk-page-section.mk-adaptive-height").each(function(){var imageHeight=$(this).find(".mk-adaptive-image").height();$(this).css("height",imageHeight)})}mk_section_intro_effects();var debounceResize=null;$(window).on("resize",function(){null!==debounceResize&&clearTimeout(debounceResize),debounceResize=setTimeout(mk_section_intro_effects,300)}),$(window).on("load resize",mk_section_adaptive_height)}(jQuery),function($){"use strict";function mk_page_title_parallax(){MK.utils.isMobile()||"false"===mk_smooth_scroll||$(".mk-effect-wrapper").each(function(){var progressVal,currentPoint,$this=$(this),ticking=!1,scrollY=MK.val.scroll(),$window=$(window),parentHeight=($(window).height(),$this.outerHeight()),endPoint=$this.offset().top+parentHeight,effectLayer=$this.find(".mk-effect-bg-layer"),gradientLayer=effectLayer.find(".mk-effect-gradient-layer"),cntLayer=$this.find(".mk-page-title-box-content"),animation=effectLayer.attr("data-effect"),top=$this.offset().top,height=$this.outerHeight();"parallax"==animation&&function(){var gap=.7*top;effectLayer.css({height:height+gap+"px",top:-gap+"px"})}();var animationSet=function(){if(scrollY=MK.val.scroll(),"parallax"==animation&&(currentPoint=.7*(0+scrollY),effectLayer.get(0).style.transform="translateY("+currentPoint+"px)"),"parallaxZoomOut"==animation){console.log(effectLayer),currentPoint=.7*(0+scrollY),progressVal=1/(endPoint-0)*(scrollY-0);var zoomCalc=1.3-(1.3-1)*progressVal;effectLayer.get(0).style.transform="translateY("+currentPoint+"px) scale("+zoomCalc+")"}"gradient"==animation&&(progressVal=1/(endPoint-0)*(scrollY-0),gradientLayer.css({opacity:2*progressVal})),"gradient"!=animation&&(progressVal=1/(endPoint-0)*(scrollY-0),cntLayer.css({opacity:1-4*progressVal})),ticking=!1};animationSet();var requestTick=function(){ticking||(window.requestAnimationFrame(animationSet),ticking=!0)};$window.off("scroll",requestTick),$window.on("scroll",requestTick)})}var $window=$(window),debounceResize=null;$window.on("load",mk_page_title_parallax),$window.on("resize",function(){null!==debounceResize&&clearTimeout(debounceResize),debounceResize=setTimeout(mk_page_title_parallax,300)})}(jQuery),function($){"use strict";var utils=MK.utils,core=MK.core,path=MK.core.path;MK.component.PhotoAlbum=function(el){this.album=el,this.initialOpen=!1},MK.component.PhotoAlbum.prototype={dom:{gallery:".slick-slider-wrapper",title:".slick-title",galleryContainer:".slick-slides",closeBtn:".slick-close-icon",thumbList:".slick-dots",thumbs:".slick-dots li",imagesData:"photoalbum-images",titleData:"photoalbum-title",idData:"photoalbum-id",urlData:"photoalbum-url",activeClass:"is-active"},tpl:{gallery:"#tpl-photo-album",slide:'<div class="slick-slide"></div>'},init:function(){this.cacheElements(),this.bindEvents(),this.openByLink()},cacheElements:function(){this.$album=$(this.album),this.imagesSrc=this.$album.data(this.dom.imagesData),this.albumLength=this.imagesSrc.length,this.title=this.$album.data(this.dom.titleData),this.id=this.$album.data(this.dom.idData),this.url=this.$album.data(this.dom.urlData),this.images=[]},bindEvents:function(){this.$album.not('[data-photoalbum-images="[null]"]').on("click",this.albumClick.bind(this)),$(document).on("click",this.dom.closeBtn,this.closeClick.bind(this)),$(window).on("resize",this.thumbsVisibility.bind(this)),$(window).on("resize",this.makeArrows.bind(this))},albumClick:function(e){e.preventDefault(),this.open(),MK.ui.loader.add(this.album)},closeClick:function(e){e.preventDefault(),this.slider&&(this.removeGallery(),this.slider.exitFullScreen())},thumbsVisibility:function(){this.thumbsWidth&&(window.matchMedia("(max-width:"+(this.thumbsWidth+260)+"px)").matches?this.hideThumbs():this.showThumbs())},hideThumbs:function(){this.$thumbList&&this.$thumbList.hide()},showThumbs:function(){this.$thumbList&&this.$thumbList.show()},open:function(){var self=this;core.loadDependencies([path.plugins+"slick.js"],function(){self.createGallery(),self.loadImages()})},createGallery:function(){if(!$(this.dom.gallery).length){var tpl=$(this.tpl.gallery).eq(0).html();$("body").append(tpl)}this.$gallery=$(this.dom.gallery),this.$closeBtn=$(this.dom.closeBtn)},createSlideshow:function(){var self=this;this.slider=new MK.ui.FullScreenGallery(this.dom.galleryContainer,{id:this.id,url:this.url}),this.slider.init(),$(window).trigger("resize"),this.makeArrows(),this.$thumbList=$(this.dom.thumbList),this.$thumbs=$(this.dom.thumbs),this.thumbsWidth=95*this.$thumbs.length,this.thumbsVisibility(),setTimeout(function(){MK.ui.loader.remove(self.album)},100),MK.utils.eventManager.publish("photoAlbum-open")},makeArrows:function(){this.arrowsTimeout&&clearTimeout(this.arrowsTimeout),this.arrowsTimeout=setTimeout(function(){var $prev=$(".slick-prev").find("svg"),$next=$(".slick-next").find("svg");$prev.wrap('<div class="slick-nav-holder"></div>'),$next.wrap('<div class="slick-nav-holder"></div>'),matchMedia("(max-width: 1024px)").matches?($prev.attr({width:12,height:22}).find("polyline").attr("points","12,0 0,11 12,22"),$next.attr({width:12,height:22}).find("polyline").attr("points","0,0 12,11 0,22")):($prev.attr({width:33,height:65}).find("polyline").attr("points","0.5,0.5 32.5,32.5 0.5,64.5"),$next.attr({width:33,height:65}).find("polyline").attr("points","0.5,0.5 32.5,32.5 0.5,64.5"))},0)},loadImages:function(){var self=this,n=0;this.images.length?this.onLoad(this.albumLength):this.imagesSrc.forEach(function(src){if(null!==src){var img=new Image;img.onload=function(){self.onLoad(n+=1)},img.src=src,self.images.push(img)}})},onLoad:function(n){n===this.albumLength&&(this.insertImages(),this.showGallery(),this.createSlideshow())},insertImages:function(){var $galleryContainer=this.$gallery.find(this.dom.galleryContainer),$title=$(this.dom.title),slide=this.tpl.slide;$galleryContainer.html(""),$title.html(this.title),this.images.forEach(function(img){var $slide=$(slide);$slide.html(img),$galleryContainer.prepend($slide)})},showGallery:function(){this.$gallery.addClass(this.dom.activeClass),utils.scroll.disable()},removeGallery:function(){var self=this;this.$gallery.removeClass(this.dom.activeClass),setTimeout(function(){self.$gallery.remove()},300),utils.scroll.enable()},openByLink:function(){var id,loc=window.location,hash=loc.hash;hash.length&&hash.substring(1).length&&(id=hash.substring(1),(id=id.replace("!loading",""))!=this.id||this.initialOpen||(this.initialOpen=!0,this.open()))}},MK.component.PhotoAlbumBlur=function(el){var blurImage=function($item){return $item.each(function(){var $_this=$(this),img=$_this.find(".album-cover-image");img.clone().addClass("blur-effect item-blur-thumbnail").removeClass("album-cover-image").prependTo(this);var blur_this=$(".blur-effect",this);blur_this.each(function(index,element){!0===img[index].complete?Pixastic.process(blur_this[index],"blurfast",{amount:.5}):blur_this.load(function(){Pixastic.process(blur_this[index],"blurfast",{amount:.5})})})})};return{init:function(){core.loadDependencies([path.plugins+"pixastic.js"],function(){blurImage($(".mk-album-item figure"))})}}}}(jQuery),function($){"use strict";var AjaxModal=function(el){this.el=el;var $this=$(el),action=$this.data("action"),id=$this.data("id");this.load(action,id)};AjaxModal.prototype={init:function(html){var self=this;$("body").append(html),this.cacheElements(),this.bindEvents(),this.$modal.addClass("is-active"),MK.core.initAll(self.$modal.get(0)),$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").change()}),MK.utils.scroll.disable(),MK.ui.loader.remove(),MK.utils.eventManager.publish("quickViewOpen")},cacheElements:function(){this.$modal=$(".mk-modal"),this.$slider=this.$modal.find(".mk-slider-holder"),this.$container=this.$modal.find(".mk-modal-container"),this.$closeBtn=this.$modal.find(".js-modal-close")},bindEvents:function(){this.$container.on("click",function(e){e.stopPropagation()}),this.$closeBtn.on("click",this.handleClose.bind(this)),this.$modal.on("click",this.handleClose.bind(this))},handleClose:function(e){e.preventDefault(),MK.utils.scroll.enable(),this.close()},close:function(){this.$modal.remove()},load:function(action,id){$.ajax({url:MK.core.path.ajaxUrl,data:{action:action,id:id},success:this.init.bind(this),error:this.error.bind(this)})},error:function(response){console.log(response)}};var createModal=function(e){e.preventDefault();var el=e.currentTarget;MK.ui.loader.add($(el).parents(".product-loop-thumb")),new AjaxModal(el)};$(document).on("click",".js-ajax-modal",createModal)}(jQuery),function($){function handleLoad(){$(".mk-slideshow-box").each(run)}function run(){function autoScroll(){if(!isTest){var $i=$slider.find(".active").index();$slides.eq($i).removeClass("active").fadeOut($transition_time),$slides.length==$i+1&&($i=-1),$slides.eq($i+1).addClass("active").fadeIn($transition_time,function(){setTimeout(autoScroll,$time_between_slides)})}}var $slider=$(this),$slides=$slider.find(".mk-slideshow-box-item"),$transition_time=$slider.data("transitionspeed"),$time_between_slides=$slider.data("slideshowspeed");$slider.find(".mk-slideshow-box-content").children("p").filter(function(){if(""==$.trim($(this).text()))return!0}).remove(),$slides.first().addClass("active").fadeIn($transition_time,function(){setTimeout(autoScroll,$time_between_slides)})}window.addEventListener?window.addEventListener("load",handleLoad,!1):window.attachEvent&&window.attachEvent("onload",handleLoad)}(jQuery),function($){"use strict";$(".mk-subscribe").each(function(){var $this=$(this);$this.find(".mk-subscribe--form").submit(function(e){e.preventDefault(),$.ajax({url:MK.core.path.ajaxUrl,type:"POST",data:{action:"mk_ajax_subscribe",email:$this.find(".mk-subscribe--email").val(),list_id:$this.find(".mk-subscribe--list-id").val(),optin:$this.find(".mk-subscribe--optin").val()},success:function(res){$this.find(".mk-subscribe--message").html($.parseJSON(res).message),console.log($.parseJSON(res).message)}})})})}(jQuery),function($){"use strict";var _instancesCollection={};MK.component.SwipeSlideshow=function(el){var $this=$(el),id=$this.parent().attr("id");this.el=el,this.id=id,this.config=$this.data("swipeslideshow-config"),this.config&&(this.config.hasPagination=!1)},MK.component.SwipeSlideshow.prototype={init:function(){var slider=new MK.ui.Slider(this.el,this.config);slider.init(),_instancesCollection[this.id]=slider}},MK.component.SwipeSlideshowExtraNav=function(el){this.el=el},MK.component.SwipeSlideshowExtraNav.prototype={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){var $this=$(this.el);this.sliderId=$this.data("gallery"),this.slider=_instancesCollection[this.sliderId],this.$thumbs=$("#"+this.sliderId).find(".thumbnails a")},bindEvents:function(){this.$thumbs.on("click",this.clickThumb.bind(this))},clickThumb:function(e){e.preventDefault();var $this=$(e.currentTarget),id=$this.index();this.slider.goTo(id)}},MK.utils.eventManager.subscribe("gallery-update",function(e,config){void 0!==_instancesCollection[config.id]&&_instancesCollection[config.id].reset()})}(jQuery),function($){"use strict";var core=MK.core;core.path;MK.component.Tooltip=function(el){return{init:function(){$(".mk-tooltip").each(function(){$(this).find(".mk-tooltip--link").hover(function(){$(this).siblings(".mk-tooltip--text").stop(!0).animate({opacity:1},400)},function(){$(this).siblings(".mk-tooltip--text").stop(!0).animate({opacity:0},400)})})}}}}(jQuery),function($){"use strict";!function(){$(".mk-flickr-feeds").each(function(){var $this=$(this),apiKey=$this.attr("data-key"),userId=$this.attr("data-userid"),perPage=$this.attr("data-count");$this.attr("data-column"),jQuery.getJSON("https://api.flickr.com/services/rest/?format=json&method=flickr.photos.search&api_key="+apiKey+"&user_id="+userId+"&&per_page="+perPage+"&jsoncallback=?",function(data){jQuery.each(data.photos.photo,function(i,rPhoto){var basePhotoURL="http://farm"+rPhoto.farm+".static.flickr.com/"+rPhoto.server+"/"+rPhoto.id+"_"+rPhoto.secret,thumbPhotoURL=basePhotoURL+"_q.jpg",mediumPhotoURL=basePhotoURL+".jpg",photoStringEnd='title="'+rPhoto.title+'" rel="flickr-feeds" class="mk-lightbox flickr-item a_colitem" href="'+mediumPhotoURL+'"><img src="'+thumbPhotoURL+'" alt="'+rPhoto.title+'"/></a>;',photoString="<a "+photoStringEnd;jQuery(photoString).appendTo($this)})})})}()}(jQuery),function($){"use strict";function dynamicHeight(){var $this=$(this);$this.height("auto"),window.matchMedia("(max-width: 768px)").matches||$this.height($this.height())}var $window=$(window),container=document.getElementById("mk-theme-container");$(".equal-columns").each(function(){dynamicHeight.bind(this),$window.on("load",dynamicHeight.bind(this)),$window.on("resize",dynamicHeight.bind(this)),window.addResizeListener(container,dynamicHeight.bind(this))})}(jQuery);