(function(){var defaultOptions={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:true,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:true,arrowScroll:50,touchpadSupport:true,fixedBackground:true,excluded:''};var options=defaultOptions;var isExcluded=false;var isFrame=false;var direction={x:0,y:0};var initDone=false;var root=document.documentElement;var activeElement;var observer;var refreshSize;var deltaBuffer=[];var isMac=/^Mac/.test(navigator.platform);var key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};function initTest(){if(options.keyboardSupport){addEvent('keydown',keydown);}}
function init(){if(initDone||!document.body)return;initDone=true;var body=document.body;var html=document.documentElement;var windowHeight=window.innerHeight;var scrollHeight=body.scrollHeight;root=(document.compatMode.indexOf('CSS')>=0)?html:body;activeElement=body;initTest();if(top!=self){isFrame=true;}
else if(scrollHeight>windowHeight&&(body.offsetHeight<=windowHeight||html.offsetHeight<=windowHeight)){var fullPageElem=document.createElement('div');fullPageElem.style.cssText='position:absolute; z-index:-10000; '+'top:0; left:0; right:0; height:'+
root.scrollHeight+'px';document.body.appendChild(fullPageElem);var pendingRefresh;refreshSize=function(){if(pendingRefresh)return;pendingRefresh=setTimeout(function(){if(isExcluded)return;fullPageElem.style.height='0';fullPageElem.style.height=root.scrollHeight+'px';pendingRefresh=null;},500);};setTimeout(refreshSize,10);addEvent('resize',refreshSize);window.addResizeListener(document.getElementById('mk-theme-container'),refreshSize);var config={attributes:true,childList:true,characterData:false};observer=new MutationObserver(refreshSize);observer.observe(body,config);if(root.offsetHeight<=windowHeight){var clearfix=document.createElement('div');clearfix.style.clear='both';body.appendChild(clearfix);}}
if(!options.fixedBackground&&!isExcluded){body.style.backgroundAttachment='scroll';html.style.backgroundAttachment='scroll';}}
function cleanup(){observer&&observer.disconnect();removeEvent(wheelEvent,wheel);removeEvent('mousedown',mousedown);removeEvent('keydown',keydown);removeEvent('resize',refreshSize);removeEvent('load',init);}
var que=[];var pending=false;var lastScroll=Date.now();function scrollArray(elem,left,top){directionCheck(left,top);if(options.accelerationMax!=1){var now=Date.now();var elapsed=now-lastScroll;if(elapsed<options.accelerationDelta){var factor=(1+(50/elapsed))/2;if(factor>1){factor=Math.min(factor,options.accelerationMax);left*=factor;top*=factor;}}
lastScroll=Date.now();}
que.push({x:left,y:top,lastX:(left<0)?0.99:-0.99,lastY:(top<0)?0.99:-0.99,start:Date.now()});if(pending){return;}
var scrollWindow=(elem===document.body);var step=function(time){var now=Date.now();var scrollX=0;var scrollY=0;for(var i=0;i<que.length;i++){var item=que[i];var elapsed=now-item.start;var finished=(elapsed>=options.animationTime);var position=(finished)?1:elapsed/options.animationTime;if(options.pulseAlgorithm){position=pulse(position);}
var x=(item.x*position-item.lastX)>>0;var y=(item.y*position-item.lastY)>>0;scrollX+=x;scrollY+=y;item.lastX+=x;item.lastY+=y;if(finished){que.splice(i,1);i--;}}
if(scrollWindow){window.scrollBy(scrollX,scrollY);}
else{if(scrollX)elem.scrollLeft+=scrollX;if(scrollY)elem.scrollTop+=scrollY;}
if(!left&&!top){que=[];}
if(que.length){requestFrame(step,elem,(1000/options.frameRate+1));}else{pending=false;}};requestFrame(step,elem,0);pending=true;}
function wheel(event){if(!initDone){init();}
var target=event.target;var overflowing=overflowingAncestor(target);if(!overflowing||event.defaultPrevented||event.ctrlKey){return true;}
if(isNodeName(activeElement,'embed')||(isNodeName(target,'embed')&&/\.pdf/i.test(target.src))||isNodeName(activeElement,'object')){return true;}
var deltaX=-event.wheelDeltaX||event.deltaX||0;var deltaY=-event.wheelDeltaY||event.deltaY||0;if(isMac){options.touchpadSupport=false;if(event.wheelDeltaX&&isDivisible(event.wheelDeltaX,120)){deltaX=-120*(event.wheelDeltaX/Math.abs(event.wheelDeltaX));}
if(event.wheelDeltaY&&isDivisible(event.wheelDeltaY,120)){deltaY=-120*(event.wheelDeltaY/Math.abs(event.wheelDeltaY));}}
if(!deltaX&&!deltaY){deltaY=-event.wheelDelta||0;}
if(event.deltaMode===1){deltaX*=40;deltaY*=40;}
if(!options.touchpadSupport&&isTouchpad(deltaY)){return true;}
if(Math.abs(deltaX)>1.2){deltaX*=options.stepSize/120;}
if(Math.abs(deltaY)>1.2){deltaY*=options.stepSize/120;}
scrollArray(overflowing,deltaX,deltaY);event.preventDefault();scheduleClearCache();}
function keydown(event){var target=event.target;var modifier=event.ctrlKey||event.altKey||event.metaKey||(event.shiftKey&&event.keyCode!==key.spacebar);if(!document.body.contains(activeElement)){activeElement=document.activeElement;}
var inputNodeNames=/^(textarea|select|embed|object)$/i;var buttonTypes=/^(button|submit|radio|checkbox|file|color|image)$/i;if(inputNodeNames.test(target.nodeName)||isNodeName(target,'input')&&!buttonTypes.test(target.type)||isNodeName(activeElement,'video')||isInsideYoutubeVideo(event)||target.isContentEditable||event.defaultPrevented||modifier){return true;}
if((isNodeName(target,'button')||isNodeName(target,'input')&&buttonTypes.test(target.type))&&event.keyCode===key.spacebar){return true;}
var shift,x=0,y=0;var elem=overflowingAncestor(activeElement);var clientHeight=elem.clientHeight;if(elem==document.body){clientHeight=window.innerHeight;}
switch(event.keyCode){case key.up:y=-options.arrowScroll;break;case key.down:y=options.arrowScroll;break;case key.spacebar:shift=event.shiftKey?1:-1;y=-shift*clientHeight*0.9;break;case key.pageup:y=-clientHeight*0.9;break;case key.pagedown:y=clientHeight*0.9;break;case key.home:y=-elem.scrollTop;break;case key.end:var damt=elem.scrollHeight-elem.scrollTop-clientHeight;y=(damt>0)?damt+10:0;break;case key.left:x=-options.arrowScroll;break;case key.right:x=options.arrowScroll;break;default:return true;}
scrollArray(elem,x,y);event.preventDefault();scheduleClearCache();}
function mousedown(event){activeElement=event.target;}
var uniqueID=(function(){var i=0;return function(el){return el.uniqueID||(el.uniqueID=i++);};})();var cache={};var clearCacheTimer;function scheduleClearCache(){clearTimeout(clearCacheTimer);clearCacheTimer=setInterval(function(){cache={};},1*1000);}
function setCache(elems,overflowing){for(var i=elems.length;i--;)
cache[uniqueID(elems[i])]=overflowing;return overflowing;}
function overflowingAncestor(el){var elems=[];var body=document.body;var rootScrollHeight=root.scrollHeight;do{var cached=cache[uniqueID(el)];if(cached){return setCache(elems,cached);}
elems.push(el);if(rootScrollHeight===el.scrollHeight){var topOverflowsNotHidden=overflowNotHidden(root)&&overflowNotHidden(body);var isOverflowCSS=topOverflowsNotHidden||overflowAutoOrScroll(root);if(isFrame&&isContentOverflowing(root)||!isFrame&&isOverflowCSS){return setCache(elems,getScrollRoot());}}else if(isContentOverflowing(el)&&overflowAutoOrScroll(el)){return setCache(elems,el);}}while(el=el.parentElement);}
function isContentOverflowing(el){return(el.clientHeight+10<el.scrollHeight);}
function overflowNotHidden(el){var overflow=getComputedStyle(el,'').getPropertyValue('overflow-y');return(overflow!=='hidden');}
function overflowAutoOrScroll(el){var overflow=getComputedStyle(el,'').getPropertyValue('overflow-y');return(overflow==='scroll'||overflow==='auto');}
function addEvent(type,fn){window.addEventListener(type,fn,false);}
function removeEvent(type,fn){window.removeEventListener(type,fn,false);}
function isNodeName(el,tag){return(el.nodeName||'').toLowerCase()===tag.toLowerCase();}
function directionCheck(x,y){x=(x>0)?1:-1;y=(y>0)?1:-1;if(direction.x!==x||direction.y!==y){direction.x=x;direction.y=y;que=[];lastScroll=0;}}
var deltaBufferTimer;if(window.localStorage&&localStorage.SS_deltaBuffer){deltaBuffer=localStorage.SS_deltaBuffer.split(',');}
function isTouchpad(deltaY){if(!deltaY)return;if(!deltaBuffer.length){deltaBuffer=[deltaY,deltaY,deltaY];}
deltaY=Math.abs(deltaY);deltaBuffer.push(deltaY);deltaBuffer.shift();clearTimeout(deltaBufferTimer);deltaBufferTimer=setTimeout(function(){if(window.localStorage){localStorage.SS_deltaBuffer=deltaBuffer.join(',');}},1000);return!allDeltasDivisableBy(120)&&!allDeltasDivisableBy(100);}
function isDivisible(n,divisor){return(Math.floor(n/divisor)==n/divisor);}
function allDeltasDivisableBy(divisor){return(isDivisible(deltaBuffer[0],divisor)&&isDivisible(deltaBuffer[1],divisor)&&isDivisible(deltaBuffer[2],divisor));}
function isInsideYoutubeVideo(event){var elem=event.target;var isControl=false;if(document.URL.indexOf('www.youtube.com/watch')!=-1){do{isControl=(elem.classList&&elem.classList.contains('html5-video-controls'));if(isControl)break;}while(elem=elem.parentNode);}
return isControl;}
var requestFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback,element,delay){window.setTimeout(callback,delay||(1000/60));});})();var MutationObserver=(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);var getScrollRoot=(function(){var SCROLL_ROOT;return function(){if(!SCROLL_ROOT){var dummy=document.createElement('div');dummy.style.cssText='height:10000px;width:1px;';document.body.appendChild(dummy);var bodyScrollTop=document.body.scrollTop;var docElScrollTop=document.documentElement.scrollTop;window.scrollBy(0,3);if(document.body.scrollTop!=bodyScrollTop)
(SCROLL_ROOT=document.body);else
(SCROLL_ROOT=document.documentElement);window.scrollBy(0,-3);document.body.removeChild(dummy);}
return SCROLL_ROOT;};})();function pulse_(x){var val,start,expx;x=x*options.pulseScale;if(x<1){val=x-(1-Math.exp(-x));}else{start=Math.exp(-1);x-=1;expx=1-Math.exp(-x);val=start+(expx*(1-start));}
return val*options.pulseNormalize;}
function pulse(x){if(x>=1)return 1;if(x<=0)return 0;if(options.pulseNormalize==1){options.pulseNormalize/=pulse_(1);}
return pulse_(x);}
var userAgent=window.navigator.userAgent;var isIE=/Trident/.test(userAgent);var isEdge=/Edge/.test(userAgent);var isChrome=/chrome/i.test(userAgent)&&!isEdge;var isSafari=/safari/i.test(userAgent)&&!isEdge;var isMobile=/mobile/i.test(userAgent);var isIEWin7=/Windows NT 6.1/i.test(userAgent)&&/rv:11/i.test(userAgent);var isEnabledForBrowser=(isChrome||isIEWin7||isIE||isEdge)&&!isMobile;var wheelEvent;if('onwheel'in document.createElement('div'))
wheelEvent='wheel';else if('onmousewheel'in document.createElement('div'))
wheelEvent='mousewheel';if(wheelEvent&&isEnabledForBrowser){addEvent(wheelEvent,wheel);addEvent('mousedown',mousedown);addEvent('load',init);}
function SmoothScroll(optionsToSet){for(var key in optionsToSet)
if(defaultOptions.hasOwnProperty(key))
options[key]=optionsToSet[key];}
SmoothScroll.destroy=cleanup;if(window.SmoothScrollOptions)
SmoothScroll(window.SmoothScrollOptions)
if(typeof define==='function'&&define.amd)
define(function(){return SmoothScroll;});else if('object'==typeof exports)
module.exports=SmoothScroll;else
window.SmoothScroll=SmoothScroll;})();
;var addComment={moveForm:function(a,b,c,d){var e,f,g,h,i=this,j=i.I(a),k=i.I(c),l=i.I("cancel-comment-reply-link"),m=i.I("comment_parent"),n=i.I("comment_post_ID"),o=k.getElementsByTagName("form")[0];if(j&&k&&l&&m&&o){i.respondId=c,d=d||!1,i.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",k.parentNode.insertBefore(e,k)),j.parentNode.insertBefore(k,j.nextSibling),n&&d&&(n.value=d),m.value=b,l.style.display="",l.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{for(var p=0;p<o.elements.length;p++)if(f=o.elements[p],h=!1,"getComputedStyle"in window?g=window.getComputedStyle(f):document.documentElement.currentStyle&&(g=f.currentStyle),(f.offsetWidth<=0&&f.offsetHeight<=0||"hidden"===g.visibility)&&(h=!0),"hidden"!==f.type&&!f.disabled&&!h){f.focus();break}}catch(q){}return!1}},I:function(a){return document.getElementById(a)}};
;(function($){var MK={api:{},ui:{},component:{},};window.MK=MK;window.elementQuery=(function(){var queryMatchers={"min-width":function(element,value,units){var el=element;var px=convertToPx(el,value,units);return value&&el&&el.offsetWidth>=px;},"max-width":function(element,value,units){var el=element;var px=convertToPx(el,value,units);return value&&el&&el.offsetWidth<px;}};var classNameForRules=function(rules){var name="query";for(var i=0,len=rules.length;i<len;i++){name+="_"+rules[i].property+"_"+rules[i].value+rules[i].units;}
return name;};var convertToPx=function(element,value,units){switch(units){case"px":return value;case"em":return value*getEmSize(element);case"rem":return value*getEmSize();case"vw":return value*document.documentElement.clientWidth/100;case"vh":return value*document.documentElement.clientHeight/100;case"vmin":case"vmax":var vw=document.documentElement.clientWidth/100;var vh=document.documentElement.clientHeight/100;var chooser=Math[units==="vmin"?"min":"max"];return value*chooser(vw,vh);default:return value;}};var getEmSize=function(element){if(!element){element=document.documentElement;}
if(window.getComputedStyle){return parseFloat(getComputedStyle(element).fontSize)||16;}
return 16;};var elementMatchesRules=function(element,rules){for(var i=rules.length-1;i>-1;i--){var rule=rules[i];var matcher=queryMatchers[rule.property];if(matcher&&!matcher(element,rule.value,rule.units)){return false;}}
return true;};var loader={loadStyleSheets:function(sheets,callback){var completed=0;for(var i=0,len=sheets.length;i<len;i++){this.loadStyleSheet(sheets[i],function(){completed+=1;if(completed===len){callback&&callback();}});}},loadStyleSheet:function(sheet,callback){if(sheet.ownerNode.nodeName==="STYLE"&&sheet.ownerNode.id==='js-media-query-css'){var result=elementQuery.parser.parseStyleText(sheet.ownerNode.innerHTML);sheet.ownerNode.innerHTML+=result.newCss;elementQuery.queries=elementQuery.queries.concat(result.queries);callback&&callback();}},};var elementQuery={autoInit:true,init:function(){var evaluated=false;this.loader.loadStyleSheets(document.styleSheets,function(){evaluated=true;elementQuery.evaluateQueries();});if(!evaluated){elementQuery.evaluateQueries();}},evaluateQueries:function(context){context=context||document;var queries=this.queries;for(var i=0,len=queries.length;i<len;i++){var elements=context.querySelectorAll(queries[i].selector);for(var j=0;j<elements.length;j++){var element=elements[j];if(elementMatchesRules(element,queries[i].rules)){element.classList.add(queries[i].className);}
else{element.classList.remove(queries[i].className);}}}},queryMatchers:queryMatchers,queries:[],classNameForRules:classNameForRules,loader:loader};window.addEventListener("resize",function(){elementQuery.evaluateQueries();},false);window.addEventListener("load",function(){if(elementQuery.autoInit){elementQuery.init();setTimeout(function(){elementQuery.evaluateQueries();},1000);}});return elementQuery;}());(function(elementQuery){var COMMENT_PATTERN=/(\/\*)[\s\S]*?(\*\/)/g;var STATEMENT_END_OR_START_PATTERN=/\s*(?:(\})|(@\S+\s+[^;{]+;)|(?:([^{}]+)\{))/g;var QUERY_PATTERN=/:media\s*\(([^)]*)\)/g;var QUERY_RULES_PATTERN=/\(?([^\s:]+):\s*(\d+(?:\.\d+)?)(px|em|rem|vw|vh|vmin|vmax)\)?/g;var WHITESPACE_PATTERN=/^\s*$/;elementQuery.parser={parseStyleText:function(styleText){var newText="";var queries=[];this.parseText(styleText,{mediaQuery:function(selector){newText+="\n"+selector+"{";},endMediaQuery:function(){newText+="\n}";},rule:function(selector,properties){for(var i=0,len=selector.length;i<len;i++){var single=selector[i];var selectorSoFar="";for(var j=0,lenj=single.length;j<lenj;j+=2){selectorSoFar+=single[j];var rules=single[j+1];if(rules){var queryClass=elementQuery.classNameForRules(rules);queries.push({selector:selectorSoFar,rules:rules,className:queryClass});selectorSoFar+="."+queryClass;}}
newText+=selectorSoFar+(i<len-1?",":"");}
newText+=" {"+properties+"}";}});return{queries:queries,newCss:newText};},parseText:function(styleText,callbacks){callbacks=callbacks||{};var text=styleText.replace(COMMENT_PATTERN,"");while(match=STATEMENT_END_OR_START_PATTERN.exec(text)){if(match[1]){callbacks.endMediaQuery&&callbacks.endMediaQuery();continue;}
var selector=match[3];if(selector){if(selector.slice(0,6)==="@media"){callbacks.mediaQuery&&callbacks.mediaQuery(selector);}
else{var closingIndex=text.indexOf("}",match.index);if(selector[0]!=="@"){var content=text.slice(match.index+match[0].length,closingIndex);this.parseRule(selector,content,callbacks.rule);}
STATEMENT_END_OR_START_PATTERN.lastIndex=closingIndex+1;}}}},parseRule:function(selector,content,callback){var parsedSelector=this.parseSelector(selector);if(parsedSelector){callback&&callback(parsedSelector,content);}},parseSelector:function(selector){var parsed=[];var parts=selector.split(",");for(var i=0,len=parts.length;i<len;i++){var result=this.parseSingleSelector(parts[i]);if(result.length>1){parsed.push(result);}}
return parsed.length?parsed:null;},parseSingleSelector:function(selector){var parsed=[];var lastIndex=0;while(queryMatch=QUERY_PATTERN.exec(selector)){var selectorChunk=selector.slice(lastIndex,queryMatch.index);lastIndex=QUERY_PATTERN.lastIndex;var queryData=this.parseQuery(queryMatch[1]);parsed.push(selectorChunk);parsed.push(queryData);}
var remaining=selector.slice(lastIndex);if(!WHITESPACE_PATTERN.test(remaining)){parsed.push(remaining);}
QUERY_PATTERN.lastIndex=0;return parsed;},parseQuery:function(queryString){var rules=[];var ruleMatch;while(ruleMatch=QUERY_RULES_PATTERN.exec(queryString)){rules.push({property:ruleMatch[1],value:parseFloat(ruleMatch[2]),units:ruleMatch[3]});}
return rules;}};}(elementQuery));(function($){'use strict';$.exists=function(selector){return($(selector).length>0);};$.getCachedScript=function(url){var options={dataType:"script",cache:true,url:url};return $.ajax(options);};$.fn.mk_imagesLoaded=function(){var $imgs=this.find('img[src!=""]');if(!$imgs.length){return $.Deferred().resolve().promise();}
var dfds=[];$imgs.each(function(){var dfd=$.Deferred();dfds.push(dfd);var img=new Image();img.onload=function(){dfd.resolve();};img.onerror=function(){dfd.resolve();};img.src=this.src;});return $.when.apply($,dfds);};}(jQuery));(function(){var attachEvent=document.attachEvent,stylesCreated=false;if(!attachEvent){var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20);};return function(fn){return raf(fn);};})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id);};})();function resetTriggers(element){var triggers=element.__resizeTriggers__,expand=triggers.firstElementChild,contract=triggers.lastElementChild,expandChild=expand.firstElementChild;contract.scrollLeft=contract.scrollWidth;contract.scrollTop=contract.scrollHeight;expandChild.style.width=expand.offsetWidth+1+'px';expandChild.style.height=expand.offsetHeight+1+'px';expand.scrollLeft=expand.scrollWidth;expand.scrollTop=expand.scrollHeight;};function checkTriggers(element){return element.offsetWidth!=element.__resizeLast__.width||element.offsetHeight!=element.__resizeLast__.height;}
function scrollListener(e){var element=this;resetTriggers(this);if(this.__resizeRAF__)cancelFrame(this.__resizeRAF__);this.__resizeRAF__=requestFrame(function(){if(checkTriggers(element)){element.__resizeLast__.width=element.offsetWidth;element.__resizeLast__.height=element.offsetHeight;element.__resizeListeners__.forEach(function(fn){fn.call(element,e);});}});};var animation=false,animationstring='animation',keyframeprefix='',animationstartevent='animationstart',domPrefixes='Webkit Moz O ms'.split(' '),startEvents='webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),pfx='';{var elm=document.createElement('fakeelement');if(elm.style.animationName!==undefined){animation=true;}
if(animation===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+'AnimationName']!==undefined){pfx=domPrefixes[i];animationstring=pfx+'Animation';keyframeprefix='-'+pfx.toLowerCase()+'-';animationstartevent=startEvents[i];animation=true;break;}}}}
var animationName='resizeanim';var animationKeyframes='@'+keyframeprefix+'keyframes '+animationName+' { from { opacity: 0; } to { opacity: 0; } } ';var animationStyle=keyframeprefix+'animation: 1ms '+animationName+'; ';}
function createStyles(){if(!stylesCreated){var css=(animationKeyframes?animationKeyframes:'')+'.resize-triggers { '+(animationStyle?animationStyle:'')+'visibility: hidden; opacity: 0; } '+'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',head=document.head||document.getElementsByTagName('head')[0],style=document.createElement('style');style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=css;}else{style.appendChild(document.createTextNode(css));}
head.appendChild(style);stylesCreated=true;}}
window.addResizeListener=function(element,fn){if(attachEvent)element.attachEvent('onresize',fn);else{if(!element.__resizeTriggers__){if(getComputedStyle(element).position=='static')element.style.position='relative';createStyles();element.__resizeLast__={};element.__resizeListeners__=[];(element.__resizeTriggers__=document.createElement('div')).className='resize-triggers';element.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div>'+'<div class="contract-trigger"></div>';element.appendChild(element.__resizeTriggers__);resetTriggers(element);element.addEventListener('scroll',scrollListener,true);animationstartevent&&element.__resizeTriggers__.addEventListener(animationstartevent,function(e){if(e.animationName==animationName)
resetTriggers(element);});}
element.__resizeListeners__.push(fn);}};window.removeResizeListener=function(element,fn){if(attachEvent)element.detachEvent('onresize',fn);else{element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1);if(!element.__resizeListeners__.length){element.removeEventListener('scroll',scrollListener);element.__resizeTriggers__=!element.removeChild(element.__resizeTriggers__);}}}})();;(function(window,document){var version='3.7.3';var options=window.html5||{};var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var supportsHtml5Styles;var expando='_html5shiv';var expanID=0;var expandoData={};var supportsUnknownElements;(function(){try{var a=document.createElement('a');a.innerHTML='<xyz></xyz>';supportsHtml5Styles=('hidden'in a);supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)('a');var frag=document.createDocumentFragment();return(typeof frag.cloneNode=='undefined'||typeof frag.createDocumentFragment=='undefined'||typeof frag.createElement=='undefined');}());}catch(e){supportsHtml5Styles=true;supportsUnknownElements=true;}}());function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement('p'),parent=ownerDocument.getElementsByTagName('head')[0]||ownerDocument.documentElement;p.innerHTML='x<style>'+cssText+'</style>';return parent.insertBefore(p.lastChild,parent.firstChild);}
function getElements(){var elements=html5.elements;return typeof elements=='string'?elements.split(' '):elements;}
function addElements(newElements,ownerDocument){var elements=html5.elements;if(typeof elements!='string'){elements=elements.join(' ');}
if(typeof newElements!='string'){newElements=newElements.join(' ');}
html5.elements=elements+' '+newElements;shivDocument(ownerDocument);}
function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];if(!data){data={};expanID++;ownerDocument[expando]=expanID;expandoData[expanID]=data;}
return data;}
function createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createElement(nodeName);}
if(!data){data=getExpandoData(ownerDocument);}
var node;if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode();}else if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode();}else{node=data.createElem(nodeName);}
return node.canHaveChildren&&!reSkip.test(nodeName)&&!node.tagUrn?data.frag.appendChild(node):node;}
function createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createDocumentFragment();}
data=data||getExpandoData(ownerDocument);var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;for(;i<l;i++){clone.createElement(elems[i]);}
return clone;}
function shivMethods(ownerDocument,data){if(!data.cache){data.cache={};data.createElem=ownerDocument.createElement;data.createFrag=ownerDocument.createDocumentFragment;data.frag=data.createFrag();}
ownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName);}
return createElement(nodeName,ownerDocument,data);};ownerDocument.createDocumentFragment=Function('h,f','return function(){'+'var n=f.cloneNode(),c=n.createElement;'+'h.shivMethods&&('+
getElements().join().replace(/[\w\-:]+/g,function(nodeName){data.createElem(nodeName);data.frag.createElement(nodeName);return'c("'+nodeName+'")';})+');return n}')(html5,data.frag);}
function shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document;}
var data=getExpandoData(ownerDocument);if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}'+'mark{background:#FF0;color:#000}'+'template{display:none}');}
if(!supportsUnknownElements){shivMethods(ownerDocument,data);}
return ownerDocument;}
var html5={'elements':options.elements||'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video','version':version,'shivCSS':(options.shivCSS!==false),'supportsUnknownElements':supportsUnknownElements,'shivMethods':(options.shivMethods!==false),'type':'default','shivDocument':shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5;shivDocument(document);if(typeof module=='object'&&module.exports){module.exports=html5;}}(typeof window!=="undefined"?window:this,document));
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';script.parentNode.insertBefore(style,script);info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());
/*!
 * The MIT License
 *
 * Copyright (c) 2012 James Allardice
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
(function(global){'use strict';var test=document.createElement('input');var nativeSupport=test.placeholder!==void 0;global.Placeholders={nativeSupport:nativeSupport,disable:nativeSupport?noop:disablePlaceholders,enable:nativeSupport?noop:enablePlaceholders};if(nativeSupport){return;}
var validTypes=['text','search','url','tel','email','password','number','textarea'];var badKeys=[27,33,34,35,36,37,38,39,40,8,46];var placeholderStyleColor='#ccc';var placeholderClassName='placeholdersjs';var classNameRegExp=new RegExp('(?:^|\\s)'+placeholderClassName+'(?!\\S)');var ATTR_CURRENT_VAL='data-placeholder-value';var ATTR_ACTIVE='data-placeholder-active';var ATTR_INPUT_TYPE='data-placeholder-type';var ATTR_FORM_HANDLED='data-placeholder-submit';var ATTR_EVENTS_BOUND='data-placeholder-bound';var ATTR_OPTION_FOCUS='data-placeholder-focus';var ATTR_OPTION_LIVE='data-placeholder-live';var ATTR_MAXLENGTH='data-placeholder-maxlength';var UPDATE_INTERVAL=100;var head=document.getElementsByTagName('head')[0];var root=document.documentElement;var Placeholders=global.Placeholders;var keydownVal;var inputs=document.getElementsByTagName('input');var textareas=document.getElementsByTagName('textarea');var hideOnInput=root.getAttribute(ATTR_OPTION_FOCUS)==='false';var liveUpdates=root.getAttribute(ATTR_OPTION_LIVE)!=='false';var styleElem=document.createElement('style');styleElem.type='text/css';var styleRules=document.createTextNode('.'+placeholderClassName+' {'+'color:'+placeholderStyleColor+';'+'}');if(styleElem.styleSheet){styleElem.styleSheet.cssText=styleRules.nodeValue;}else{styleElem.appendChild(styleRules);}
head.insertBefore(styleElem,head.firstChild);var placeholder;var elem;for(var i=0,len=inputs.length+textareas.length;i<len;i++){elem=i<inputs.length?inputs[i]:textareas[i-inputs.length];placeholder=elem.attributes.placeholder;if(placeholder){placeholder=placeholder.nodeValue;if(placeholder&&inArray(validTypes,elem.type)){newElement(elem);}}}
var timer=setInterval(function(){for(var i=0,len=inputs.length+textareas.length;i<len;i++){elem=i<inputs.length?inputs[i]:textareas[i-inputs.length];placeholder=elem.attributes.placeholder;if(placeholder){placeholder=placeholder.nodeValue;if(placeholder&&inArray(validTypes,elem.type)){if(!elem.getAttribute(ATTR_EVENTS_BOUND)){newElement(elem);}
if(placeholder!==elem.getAttribute(ATTR_CURRENT_VAL)||(elem.type==='password'&&!elem.getAttribute(ATTR_INPUT_TYPE))){if(elem.type==='password'&&!elem.getAttribute(ATTR_INPUT_TYPE)&&changeType(elem,'text')){elem.setAttribute(ATTR_INPUT_TYPE,'password');}
if(elem.value===elem.getAttribute(ATTR_CURRENT_VAL)){elem.value=placeholder;}
elem.setAttribute(ATTR_CURRENT_VAL,placeholder);}}}else if(elem.getAttribute(ATTR_ACTIVE)){hidePlaceholder(elem);elem.removeAttribute(ATTR_CURRENT_VAL);}}
if(!liveUpdates){clearInterval(timer);}},UPDATE_INTERVAL);addEventListener(global,'beforeunload',function(){Placeholders.disable();});function noop(){}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}
function inArray(arr,item){for(var i=0,len=arr.length;i<len;i++){if(arr[i]===item){return true;}}
return false;}
function addEventListener(elem,event,fn){if(elem.addEventListener){return elem.addEventListener(event,fn,false);}
if(elem.attachEvent){return elem.attachEvent('on'+event,fn);}}
function moveCaret(elem,index){var range;if(elem.createTextRange){range=elem.createTextRange();range.move('character',index);range.select();}else if(elem.selectionStart){elem.focus();elem.setSelectionRange(index,index);}}
function changeType(elem,type){try{elem.type=type;return true;}catch(e){return false;}}
function handleElem(node,callback){if(node&&node.getAttribute(ATTR_CURRENT_VAL)){callback(node);}else{var handleInputs=node?node.getElementsByTagName('input'):inputs;var handleTextareas=node?node.getElementsByTagName('textarea'):textareas;var handleInputsLength=handleInputs?handleInputs.length:0;var handleTextareasLength=handleTextareas?handleTextareas.length:0;var len=handleInputsLength+handleTextareasLength;var elem;for(var i=0;i<len;i++){elem=i<handleInputsLength?handleInputs[i]:handleTextareas[i-handleInputsLength];callback(elem);}}}
function disablePlaceholders(node){handleElem(node,hidePlaceholder);}
function enablePlaceholders(node){handleElem(node,showPlaceholder);}
function hidePlaceholder(elem,keydownValue){var valueChanged=!!keydownValue&&elem.value!==keydownValue;var isPlaceholderValue=elem.value===elem.getAttribute(ATTR_CURRENT_VAL);if((valueChanged||isPlaceholderValue)&&elem.getAttribute(ATTR_ACTIVE)==='true'){elem.removeAttribute(ATTR_ACTIVE);elem.value=elem.value.replace(elem.getAttribute(ATTR_CURRENT_VAL),'');elem.className=elem.className.replace(classNameRegExp,'');var maxLength=elem.getAttribute(ATTR_MAXLENGTH);if(parseInt(maxLength,10)>=0){elem.setAttribute('maxLength',maxLength);elem.removeAttribute(ATTR_MAXLENGTH);}
var type=elem.getAttribute(ATTR_INPUT_TYPE);if(type){elem.type=type;}
return true;}
return false;}
function showPlaceholder(elem){var val=elem.getAttribute(ATTR_CURRENT_VAL);if(elem.value===''&&val){elem.setAttribute(ATTR_ACTIVE,'true');elem.value=val;elem.className+=' '+placeholderClassName;var maxLength=elem.getAttribute(ATTR_MAXLENGTH);if(!maxLength){elem.setAttribute(ATTR_MAXLENGTH,elem.maxLength);elem.removeAttribute('maxLength');}
var type=elem.getAttribute(ATTR_INPUT_TYPE);if(type){elem.type='text';}else if(elem.type==='password'&&changeType(elem,'text')){elem.setAttribute(ATTR_INPUT_TYPE,'password');}
return true;}
return false;}
function makeFocusHandler(elem){return function(){if(hideOnInput&&elem.value===elem.getAttribute(ATTR_CURRENT_VAL)&&elem.getAttribute(ATTR_ACTIVE)==='true'){moveCaret(elem,0);}else{hidePlaceholder(elem);}};}
function makeBlurHandler(elem){return function(){showPlaceholder(elem);};}
function makeSubmitHandler(form){return function(){disablePlaceholders(form);};}
function makeKeydownHandler(elem){return function(e){keydownVal=elem.value;if(elem.getAttribute(ATTR_ACTIVE)==='true'&&keydownVal===elem.getAttribute(ATTR_CURRENT_VAL)&&inArray(badKeys,e.keyCode)){if(e.preventDefault){e.preventDefault();}
return false;}};}
function makeKeyupHandler(elem){return function(){hidePlaceholder(elem,keydownVal);if(elem.value===''){elem.blur();moveCaret(elem,0);}};}
function makeClickHandler(elem){return function(){if(elem===safeActiveElement()&&elem.value===elem.getAttribute(ATTR_CURRENT_VAL)&&elem.getAttribute(ATTR_ACTIVE)==='true'){moveCaret(elem,0);}};}
function newElement(elem){var form=elem.form;if(form&&typeof form==='string'){form=document.getElementById(form);if(!form.getAttribute(ATTR_FORM_HANDLED)){addEventListener(form,'submit',makeSubmitHandler(form));form.setAttribute(ATTR_FORM_HANDLED,'true');}}
addEventListener(elem,'focus',makeFocusHandler(elem));addEventListener(elem,'blur',makeBlurHandler(elem));if(hideOnInput){addEventListener(elem,'keydown',makeKeydownHandler(elem));addEventListener(elem,'keyup',makeKeyupHandler(elem));addEventListener(elem,'click',makeClickHandler(elem));}
elem.setAttribute(ATTR_EVENTS_BOUND,'true');elem.setAttribute(ATTR_CURRENT_VAL,placeholder);if(hideOnInput||elem!==safeActiveElement()){showPlaceholder(elem);}}}(this));(function rAFPolyfill(){var lastTime,vendors,x;lastTime=0;vendors=["webkit","moz"];x=0;while(x<vendors.length&&!window.requestAnimationFrame){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];++x;}
if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime,id,timeToCall;currTime=new Date().getTime();timeToCall=Math.max(0,16-(currTime-lastTime));id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};}
if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id);};}})();(function($){'use strict';var MK=window.MK||{};MK.core={};var _loadedDependencies=[];var _inQueue={};MK.core.initAll=function(scope){var $el=$(scope).find('.js-el'),$components=$el.filter('[data-mk-component]'),component=null;var init=function init(name,el){var $el=$(el);if($el.data('init-'+name))return;if(typeof MK.component[name]!=='function')console.log('Component init error: ',name);else{component=new MK.component[name](el);component.init();$el.data('init-'+name,true);MK.utils.eventManager.publish('component-inited');}};$components.each(function(){var self=this,$this=$(this),names=$this.data('mk-component');if(typeof names==='string'){var name=names;init(name,self);}else{names.forEach(function(name){init(name,self);});}});};MK.core.loadDependencies=function(dependencies,callback){var _callback=callback||function(){};if(!dependencies){_callback();return;}
var newDeps=dependencies.map(function(dep){if(_loadedDependencies.indexOf(dep)===-1){if(typeof _inQueue[dep]==='undefined'){return dep;}else{_inQueue[dep].push(_callback);return true;}}else{return false;}});if(newDeps[0]===true){return;}
if(newDeps[0]===false){_callback();return;}
var queue=newDeps.map(function(script){_inQueue[script]=[_callback];return $.getCachedScript(script);});var onLoad=function onLoad(){var index;newDeps.map(function(loaded){_inQueue[loaded].forEach(function(callback){callback();});delete _inQueue[loaded];_loadedDependencies.push(loaded);});};$.when.apply(null,queue).done(onLoad);};MK.core.path={theme:mk_theme_dir,plugins:mk_theme_js_path+'/plugins/async/min/',ajaxUrl:window.PHP.ajax};})(jQuery);(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.actions={};MK.utils.actions.activate=function(el){$(el).addClass('is-active');};MK.utils.actions.deactivate=function(el){$(el).removeClass('is-active');};}(jQuery));(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.browser=(function(){var dataBrowser=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}];var versionSearchString=null;var searchString=function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;versionSearchString=data[i].subString;if(dataString.indexOf(data[i].subString)!==-1){return data[i].identity;}}};var searchVersion=function(dataString){var index=dataString.indexOf(versionSearchString);if(index===-1){return;}
var rv=dataString.indexOf("rv:");if(versionSearchString==="Trident"&&rv!==-1){return parseFloat(dataString.substring(rv+3));}else{return parseFloat(dataString.substring(index+versionSearchString.length+1));}};var name=searchString(dataBrowser)||"Other";var version=searchVersion(navigator.userAgent)||searchVersion(navigator.appVersion)||"Unknown";$('html').addClass(name).addClass(name+version);return{name:name,version:version};})();MK.utils.OS=(function(){if(navigator.appVersion.indexOf("Win")!=-1)return"Windows";if(navigator.appVersion.indexOf("Mac")!=-1)return"OSX";if(navigator.appVersion.indexOf("X11")!=-1)return"UNIX";if(navigator.appVersion.indexOf("Linux")!=-1)return"Linux";})();MK.utils.isMobile=function(){function android(){return navigator.userAgent.match(/Android/i);}
function blackBerry(){return navigator.userAgent.match(/BlackBerry/i);}
function iOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);}
function opera(){return navigator.userAgent.match(/Opera Mini/i);}
function windows(){return navigator.userAgent.match(/IEMobile/i);}
return(android()||blackBerry()||iOS()||opera()||windows()||matchMedia('(max-width: 1024px)').matches);};MK.utils.isResponsiveMenuState=function(){return window.matchMedia('(max-width: '+mk_responsive_nav_width+'px)').matches;};MK.utils.getUrlParameter=function getUrlParameter(sParam){var sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split('&'),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam){return sParameterName[1]===undefined?true:sParameterName[1];}}};MK.utils.isSmoothScroll=(function(){var isUserChoice=(mk_smooth_scroll==='true');return isUserChoice;}());}(jQuery));(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.eventManager={};MK.utils.eventManager.subscribe=function(evt,func){$(this).on(evt,func);};MK.utils.eventManager.unsubscribe=function(evt,func){$(this).off(evt,func);};MK.utils.eventManager.publish=function(evt,params){$(this).trigger(evt,[params]);};}(jQuery));(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.fullscreen={};MK.utils.launchIntoFullscreen=function(element){if(element.requestFullscreen){element.requestFullscreen();}else if(element.mozRequestFullScreen){element.mozRequestFullScreen();}else if(element.webkitRequestFullscreen){element.webkitRequestFullscreen();}else if(element.msRequestFullscreen){element.msRequestFullscreen();}};MK.utils.exitFullscreen=function(){if(document.exitFullscreen){document.exitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}};}(jQuery));(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.misc={};MK.utils.offsets=function($els){return $.map($els,function(el){return $(el).offset().top;});};MK.utils.nextHigherVal=function(val,arr){var i=0,higher=null;var check=function(){if(val>arr[i]){i+=1;check();}else{higher=arr[i];}};check();return higher;};MK.utils.throttle=function(delay,fn){var last;var deferTimer;return function(){var context=this;var args=arguments;var now=+new Date;if(last&&now<last+delay){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args);},delay);}else{last=now;fn.apply(context,args);}};};})(jQuery);(function($){'use strict';var MK=window.MK||{};MK.utils=window.MK.utils||{};MK.utils.scrollTo=function(offset){$('html, body').stop().animate({scrollTop:offset},{duration:1200,easing:"easeInOutExpo"});};MK.utils.scrollToAnchor=function(hash){var $target=$(hash);if(!$target.length)return;var offset=$target.offset().top;offset=offset-MK.val.offsetHeaderHeight(offset);if(hash==='#top-of-page')window.history.replaceState(undefined,undefined,' ');else window.history.replaceState(undefined,undefined,hash);MK.utils.scrollTo(offset);};MK.utils.scroll=(function(){var keys=[38,40];function preventDefault(e){e=e||window.event;e.preventDefault();e.returnValue=false;}
function wheel(e){preventDefault(e);}
function keydown(e){for(var i=keys.length;i--;){if(e.keyCode===keys[i]){preventDefault(e);return;}}}
function disableScroll(){if(window.addEventListener){window.addEventListener('DOMMouseScroll',wheel,false);}
window.onmousewheel=document.onmousewheel=wheel;document.onkeydown=keydown;}
function enableScroll(){if(window.removeEventListener){window.removeEventListener('DOMMouseScroll',wheel,false);}
window.onmousewheel=document.onmousewheel=document.onkeydown=null;}
return{disable:disableScroll,enable:enableScroll};})();MK.utils.detectAnchor=function(el){var $this=$(el),loc=window.location,currentPage=loc.origin+loc.pathname,href=$this.attr('href'),linkSplit=(href)?href.split('#'):'',hrefPage=linkSplit[0]?linkSplit[0]:'',hrefHash=linkSplit[1]?linkSplit[1]:'';if(typeof hrefHash!=='undefined'&&hrefHash!==''){return'#'+hrefHash;}else{return false;}};MK.utils.scrollToURLHash=function(){var loc=window.location,hash=loc.hash;if(hash.length&&hash.substring(1).length){hash=hash.replace('!loading','');setTimeout(function(){MK.utils.scrollToAnchor(hash);},1000);setTimeout(function(){window.history.replaceState(undefined,undefined,hash);},1001);}};MK.utils.scrollSpy=function(toSpy,config){var $window=$(window),container=document.getElementById('mk-theme-container'),isObj=(typeof toSpy==='object'),offset=(isObj)?MK.val.dynamicOffset(toSpy,config.position,config.threshold):function(){return toSpy;},height=(isObj)?MK.val.dynamicHeight(toSpy):function(){return 0;},cacheVals={},_p='before';var checkPosition=function(){var s=MK.val.scroll(),o=offset(),h=height();if(s<o&&_p!=='before'){if(config.before)config.before();_p='before';}
else if(s>=o&&s<=o+h&&_p!=='active'){if(config.active)config.active(o);_p='active';}
else if(s>o+h&&_p!=='after'){if(config.after)config.after(o+h);_p='after';}};var rAF=function(){window.requestAnimationFrame(checkPosition);};var exportVals=function(){return cacheVals;};var updateCache=function(){var o=offset(),h=height();cacheVals={before:o-$window.height(),active:o,after:o+h};};if(config.cache){config.cache(exportVals);}
checkPosition();$window.on('load',checkPosition);$window.on('resize',checkPosition);$window.on('mouseup',checkPosition);window.addResizeListener(container,checkPosition);$window.on('scroll',rAF);updateCache();$window.on('load',updateCache);$window.on('resize',updateCache);window.addResizeListener(container,updateCache);};}(jQuery));(function($){'use strict';$("body").on("click",'.js-taphover',function(e){var $link=$(e.currentTarget);var $target=$(e.target);if($link.hasClass('hover')){return true;}else if(MK.utils.isMobile()){if(($target.hasClass('hover-icon')||$target.closest('.hover-icon').length)&&!$target.closest('.js-taphover').hasClass('hover')){e.preventDefault();}
$link.addClass('hover');$('.js-taphover').not(e.currentTarget).removeClass('hover');e.stopPropagation();}});$(document).on("click",function(e){$('.js-taphover').removeClass('hover');});}(jQuery));(function($){'use strict';var $videoHolder=$('.mk-center-video'),$wrapper=$videoHolder.parent(),baseAspectRatio=56.25;var wrapperHeight,wrapperWidth,wrapperAspectRatio;function calc(){wrapperHeight=$wrapper.height();wrapperWidth=$wrapper.width();wrapperAspectRatio=(wrapperHeight/wrapperWidth)*100;}
function apply(){var width=(wrapperAspectRatio/baseAspectRatio)*100,widthOverflow=(width-100);$videoHolder.css({'padding-top':wrapperAspectRatio+'%','width':width+'%','left':-(widthOverflow/2)+'%'});}
function reset(){$videoHolder.css({'padding-top':baseAspectRatio+'%','width':100+'%','left':0});}
function setCover(){reset();calc();if(wrapperAspectRatio>baseAspectRatio)apply();}
$(window).on('load',setCover);$(window).on('resize',setCover);}(jQuery));(function($){'use strict';var MK=window.MK||{};MK.val={};MK.val.scroll=(function(){var offset=0,$window=$(window),hasPageYOffset=(window.pageYOffset!==undefined),body=(document.documentElement||document.body.parentNode||document.body);var update=function(){offset=hasPageYOffset?window.pageYOffset:body.scrollTop;};var rAF=function(){window.requestAnimationFrame(update);};update();$window.on('load',update);$window.on('resize',update);$window.on('scroll',rAF);return function(){return offset;};})();MK.val.viewportPercentHeight=function(percent){return $(window).height()*(percent/100);};MK.val.adminbarHeight=function(){if(php.hasAdminbar){return(window.matchMedia('( max-width: 782px )').matches)?46:32;}else{return 0;}};MK.val.stickyOffset=(function(){var $header=$('.mk-header').not('.js-header-shortcode').first();if(!$header.length){return function(){return 0;};}
var $toolbar=$header.find('.mk-header-toolbar'),config=$header.data(),hasToolbar=$toolbar.length,toolbarHeight=(hasToolbar)?$toolbar.height():0,isVertical=(config.headerStyle===4),headerHeight=(isVertical)?0:config.height;var type=((typeof config.stickyOffset==='number')?'number':false)||((config.stickyOffset==='header')?'header':false)||'percent';var stickyOffset=0;var setOffset=function(){toolbarHeight=(hasToolbar)?$toolbar.height():0;if(MK.utils.isResponsiveMenuState()){headerHeight=config.responsiveHeight;if(hasToolbar){if($toolbar.is(':hidden')){toolbarHeight=0;}}}
if(type==='number'){stickyOffset=config.stickyOffset;}else if(type==='header'){stickyOffset=headerHeight+toolbarHeight+MK.val.adminbarHeight();}else if(type==='percent'){stickyOffset=MK.val.viewportPercentHeight(parseInt(config.stickyOffset));}};setOffset();$(window).on('resize',setOffset);return function(){return stickyOffset;};}());MK.val.offsetHeaderHeight=(function(){var $header=$('.mk-header').not('.js-header-shortcode').first();if(!$header.length){return function(){return 0;};}
var $toolbar=$header.find('.mk-header-toolbar'),config=$header.data(),stickyHeight=config.stickyHeight,desktopHeight=config.height,mobileHeight=config.responsiveHeight,isTransparent=$header.hasClass('transparent-header'),isSticky=config.stickyStyle.length,isStickyLazy=config.stickyStyle==='lazy',isVertical=config.headerStyle===4,hasToolbar=$toolbar.length,toolbarHeight=hasToolbar?$toolbar.height():0,bufor=5;var $innerHeader=$header.find('.mk-header-inner');var hasInnerHeader=$innerHeader.length;var headerHeight=function(offset){toolbarHeight=hasToolbar?$toolbar.height():0
var stickyOffset=MK.val.stickyOffset();if(MK.utils.isResponsiveMenuState()){if(hasToolbar&&$toolbar.is(':hidden')){toolbarHeight=0;}
var headerBorder=0;headerBorder=parseInt($innerHeader.css('border-bottom-width'));var totalHeight=mobileHeight+MK.val.adminbarHeight()+toolbarHeight+headerBorder;if(offset<=totalHeight)return totalHeight;else return MK.val.adminbarHeight();}else{if(offset<=stickyOffset){if(isVertical){if(hasToolbar){return toolbarHeight+MK.val.adminbarHeight();}else{return MK.val.adminbarHeight();}}else if(isTransparent){return MK.val.adminbarHeight();}else{return desktopHeight+toolbarHeight+MK.val.adminbarHeight();}}else if(offset>stickyOffset){if(isVertical){return MK.val.adminbarHeight();}else if(!isSticky){return MK.val.adminbarHeight();}else if(isStickyLazy){return MK.val.adminbarHeight();}else if(isSticky){return stickyHeight+MK.val.adminbarHeight();}}}
return 0;};return function(offset){return headerHeight(offset-MK.val.adminbarHeight());};})();MK.val.dynamicOffset=function(el,position,threshold){var $window=$(window),$el=$(el),pos=position||'top',thr=threshold||0,container=document.getElementById('mk-theme-container'),currentPos=0;var offset=0,winH=0,rect=0,x=0;var update=function(){winH=$window.height();rect=$el[0].getBoundingClientRect();offset=(rect.top+MK.val.scroll());x=(pos==='top')?MK.val.offsetHeaderHeight(offset):winH+(rect.height-thr);currentPos=offset-x-1;};update();$window.on('load',update);$window.on('resize',update);window.addResizeListener(container,update);return function(){return currentPos;};};MK.val.dynamicHeight=function(el){var $window=$(window),$el=$(el),container=document.getElementById('mk-theme-container'),currentHeight=0;var update=function(){currentHeight=$el.outerHeight();};update();$window.on('load',update);$window.on('resize',update);window.addResizeListener(container,update);return function(){return currentHeight;};};})(jQuery);jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;if(!g)g=e*.3*1.5;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;if((b/=e/2)<1)return d/2*b*b*(((f*=1.525)+1)*b-f)+c;return d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){if((b/=e)<1/2.75){return d*7.5625*b*b+c}else if(b<2/2.75){return d*(7.5625*(b-=1.5/2.75)*b+.75)+c}else if(b<2.5/2.75){return d*(7.5625*(b-=2.25/2.75)*b+.9375)+c}else{return d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}},easeInOutBounce:function(a,b,c,d,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c;return jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}});
/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(s,H,f,w){var K=f("html"),q=f(s),p=f(H),b=f.fancybox=function(){b.open.apply(this,arguments)},J=navigator.userAgent.match(/msie/i),C=null,t=H.createTouch!==w,u=function(a){return a&&a.hasOwnProperty&&a instanceof f},r=function(a){return a&&"string"===f.type(a)},F=function(a){return r(a)&&0<a.indexOf("%")},m=function(a,d){var e=parseInt(a,10)||0;d&&F(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},x=function(a,b){return m(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!t,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(J?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=u(a)?f(a).get():[a]),f.each(a,function(e,c){var l={},g,h,k,n,m;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),u(c)?(l={href:c.data("fancybox-href")||c.attr("href"),title:f("<div/>").text(c.data("fancybox-title")||c.attr("title")).html(),isDom:!0,element:c},f.metadata&&f.extend(!0,l,c.metadata())):l=c);g=d.href||l.href||(r(c)?c:null);h=d.title!==w?d.title:l.title||"";n=(k=d.content||l.content)?"html":d.type||l.type;!n&&l.isDom&&(n=c.data("fancybox-type"),n||(n=(n=c.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));r(g)&&(n||(b.isImage(g)?n="image":b.isSWF(g)?n="swf":"#"===g.charAt(0)?n="inline":r(c)&&(n="html",k=c)),"ajax"===n&&(m=g.split(/\s+/,2),g=m.shift(),m=m.shift()));k||("inline"===n?g?k=f(r(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):l.isDom&&(k=c):"html"===n?k=g:n||g||!l.isDom||(n="inline",k=c));f.extend(l,{href:g,type:n,content:k,title:h,selector:m});a[e]=l}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==w&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1===b.trigger("onCancel")||(b.hideLoading(),a&&(b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a)))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(b.isOpen&&!0!==a?(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]()):(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};!0===a||!b.player.isActive&&!1!==a?b.current&&(b.current.loop||b.current.index<b.group.length-1)&&(b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")):c()},next:function(a){var d=b.current;d&&(r(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(r(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=m(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==w&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,l;c&&(l=b._getPosition(d),a&&"scroll"===a.type?(delete l.position,c.stop(!0,!0).animate(l,200)):(c.css(l),e.pos=f.extend({},e.dim,l)))},update:function(a){var d=a&&a.originalEvent&&a.originalEvent.type,e=!d||"orientationchange"===d;e&&(clearTimeout(C),C=null);b.isOpen&&!C&&(C=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),C=null)},e&&!t?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,t&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),b.cancel())});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}));b.trigger("onLoading")},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:q.scrollLeft(),y:q.scrollTop()};a&&a.length?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=t&&s.innerWidth?s.innerWidth:q.width(),d.h=t&&s.innerHeight?s.innerHeight:q.height());return d},unbindEvents:function(){b.wrap&&u(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");q.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(q.bind("orientationchange.fb"+(t?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,l=e.target||e.srcElement;if(27===c&&b.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||l&&(l.type||f(l).is("[contenteditable]"))||f.each(d,function(d,l){if(1<a.group.length&&l[c]!==w)return b[d](l[c]),e.preventDefault(),!1;if(-1<f.inArray(c,l))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,l,g){for(var h=f(d.target||null),k=!1;h.length&&!(k||h.is(".fancybox-skin")||h.is(".fancybox-wrap"));)k=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();0!==c&&!k&&1<b.group.length&&!a.canShrink&&(0<g||0<l?b.prev(0<g?"down":"left"):(0>g||0>l)&&b.next(0>g?"up":"right"),d.preventDefault())}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)})}
p.trigger(a)},isImage:function(a){return r(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return r(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=m(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&t&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(t?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",t?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);t||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,l,g,h;b.hideLoading();if(a&&!1!==b.isActive)
if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;l=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace(/\{href\}/g,g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}
u(e)&&e.parent().is(a.inner)||a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===l?"scroll":"no"===l?"hidden":l);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(!b.isOpened)f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();else if(d.prevMethod)b.transitions[d.prevMethod]();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,l=b.skin,g=b.inner,h=b.current,c=h.width,k=h.height,n=h.minWidth,v=h.minHeight,p=h.maxWidth,q=h.maxHeight,t=h.scrolling,r=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,z=m(y[1]+y[3]),s=m(y[0]+y[2]),w,A,u,D,B,G,C,E,I;e.add(l).add(g).width("auto").height("auto").removeClass("fancybox-tmp");y=m(l.outerWidth(!0)-l.width());w=m(l.outerHeight(!0)-l.height());A=z+y;u=s+w;D=F(c)?(a.w-A)*m(c)/100:c;B=F(k)?(a.h-u)*m(k)/100:k;if("iframe"===h.type){if(I=h.content,h.autoHeight&&1===I.data("ready"))try{I[0].contentWindow.document.location&&(g.width(D).height(9999),G=I.contents().find("body"),r&&G.css("overflow-x","hidden"),B=G.outerHeight(!0))}catch(H){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(D),h.autoHeight||g.height(B),h.autoWidth&&(D=g.width()),h.autoHeight&&(B=g.height()),g.removeClass("fancybox-tmp");c=m(D);k=m(B);E=D/B;n=m(F(n)?m(n,"w")-A:n);p=m(F(p)?m(p,"w")-A:p);v=m(F(v)?m(v,"h")-u:v);q=m(F(q)?m(q,"h")-u:q);G=p;C=q;h.fitToView&&(p=Math.min(a.w-A,p),q=Math.min(a.h-u,q));A=a.w-z;s=a.h-s;h.aspectRatio?(c>p&&(c=p,k=m(c/E)),k>q&&(k=q,c=m(k*E)),c<n&&(c=n,k=m(c/E)),k<v&&(k=v,c=m(k*E))):(c=Math.max(n,Math.min(c,p)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),k=g.height()),k=Math.max(v,Math.min(k,q)));if(h.fitToView)
if(g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height(),h.aspectRatio)
for(;(a>A||z>s)&&c>n&&k>v&&!(19<d++);)k=Math.max(v,Math.min(q,k-10)),c=m(k*E),c<n&&(c=n,k=m(c/E)),c>p&&(c=p,k=m(c/E)),g.width(c).height(k),e.width(c+y),a=e.width(),z=e.height();else c=Math.max(n,Math.min(c,c-(a-A))),k=Math.max(v,Math.min(k,k-(z-s)));r&&"auto"===t&&k<B&&c+y+r<A&&(c+=r);g.width(c).height(k);e.width(c+y);a=e.width();z=e.height();e=(a>A||z>s)&&c>n&&k>v;c=h.aspectRatio?c<G&&k<C&&c<D&&k<B:(c<G||k<C)&&(c<D||k<B);f.extend(h,{dim:{width:x(a),height:x(z)},origWidth:D,origHeight:B,canShrink:e,canExpand:c,wPadding:y,hPadding:w,wrapSpace:z-l.outerHeight(!0),skinSpace:l.height()-k});!I&&h.autoHeight&&k>v&&k<q&&!c&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=x(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=x(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&((b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){f(d.target).is("a")||f(d.target).parent().is("a")||(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),a.loop||a.index!==a.group.length-1)?b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play(!0)):b.play(!1))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,k=a.wPadding,n=b.getViewport();!e&&a.isDom&&d.is(":visible")&&(e=d.find("img:first"),e.length||(e=d));u(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=n.y+(n.h-g)*a.topRatio,c.left=n.x+(n.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=n.y,c.left-=n.x;return c={top:x(c.top-h*a.topRatio),left:x(c.left-k*a.leftRatio),width:x(f+k),height:x(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](m("width"===f?c:c-g*e)),b.inner[f](m("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,l=f.extend({opacity:1},d);delete l.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(l,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=x(m(e[g])-200),c[g]="+=200px"):(e[g]=x(m(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!t,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){var d;a=f.extend({},this.defaults,a);this.overlay&&this.close();d=b.coming?b.coming.parent:a.parent;this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(d&&d.lenth?d:"body");this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(q.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){q.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");J?(b=Math.max(H.documentElement.offsetWidth,H.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>q.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&this.fixed&&b.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=q.scrollTop(),this.scrollH=q.scrollLeft(),this.el.addClass("fancybox-lock"),q.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(r(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),J&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(d.css("margin-bottom")))}
d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",l=function(g){var h=f(this).blur(),k=d,l,m;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||h.is(".fancybox-wrap")||(l=a.groupAttr||"data-fancybox-group",m=h.attr(l),m||(l="rel",m=h.get(0)[l]),m&&""!==m&&"nofollow"!==m&&(h=c.length?f(c):e,h=h.filter("["+l+'="'+m+'"]'),k=h.index(this)),a.index=k,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;c&&!1!==a.live?p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",l):e.unbind("click.fb-start").bind("click.fb-start",l);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===w&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});f.support.fixedPosition===w&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(s).width();K.addClass("fancybox-lock-test");d=f(s).width();K.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
/*!
 * Media helper for fancyBox
 * version: 1.0.6 (Fri, 14 Jun 2013)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: true
 *         }
 *     });
 *
 * Set custom URL parameters:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: {
 *                 youtube : {
 *                     params : {
 *                         autoplay : 0
 *                     }
 *                 }
 *             }
 *         }
 *     });
 *
 * Or:
 *     $(".fancybox").fancybox({,
 *         helpers : {
 *             media: true
 *         },
 *         youtube : {
 *             autoplay: 0
 *         }
 *     });
 *
 *  Supports:
 *
 *      Youtube
 *          http://www.youtube.com/watch?v=opj24KnzrWo
 *          http://www.youtube.com/embed/opj24KnzrWo
 *          http://youtu.be/opj24KnzrWo
 *          http://www.youtube-nocookie.com/embed/opj24KnzrWo
 *      Vimeo
 *          http://vimeo.com/40648169
 *          http://vimeo.com/channels/staffpicks/38843628
 *          http://vimeo.com/groups/surrealism/videos/36516384
 *          http://player.vimeo.com/video/45074303
 *      Metacafe
 *          http://www.metacafe.com/watch/7635964/dr_seuss_the_lorax_movie_trailer/
 *          http://www.metacafe.com/watch/7635964/
 *      Dailymotion
 *          http://www.dailymotion.com/video/xoytqh_dr-seuss-the-lorax-premiere_people
 *      Twitvid
 *          http://twitvid.com/QY7MD
 *      Twitpic
 *          http://twitpic.com/7p93st
 *      Instagram
 *          http://instagr.am/p/IejkuUGxQn/
 *          http://instagram.com/p/IejkuUGxQn/
 *      Google maps
 *          http://maps.google.com/maps?q=Eiffel+Tower,+Avenue+Gustave+Eiffel,+Paris,+France&t=h&z=17
 *          http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16
 *          http://maps.google.com/?ll=48.859463,2.292626&spn=0.000965,0.002642&t=m&z=19&layer=c&cbll=48.859524,2.292532&panoid=YJ0lq28OOy3VT2IqIuVY0g&cbp=12,151.58,,0,-15.56
 */
(function($){"use strict";var F=$.fancybox,format=function(url,rez,params){params=params||'';if($.type(params)==="object"){params=$.param(params,true);}
$.each(rez,function(key,value){url=url.replace('$'+key,value||'');});if(params.length){url+=(url.indexOf('?')>0?'&':'?')+params;}
return url;};F.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:'opaque',enablejsapi:1},type:'iframe',url:'//www.youtube.com/embed/$3'},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:'iframe',url:'//player.vimeo.com/video/$1'},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:'yes'},type:'swf',url:function(rez,params,obj){obj.swf.flashVars='playerVars='+$.param(params,true);return'//www.metacafe.com/fplayer/'+rez[1]+'/.swf';}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:'swf',url:'//www.dailymotion.com/swf/video/$1'},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:'iframe',url:'//www.twitvid.com/embed.php?guid=$1'},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:'image',url:'//twitpic.com/show/full/$1/'},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:'image',url:'//$1/p/$2/media/?size=l'},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:'iframe',url:function(rez){return'//maps.google.'+rez[1]+'/'+rez[3]+''+rez[4]+'&output='+(rez[4].indexOf('layer=c')>0?'svembed':'embed');}}},beforeLoad:function(opts,obj){var url=obj.href||'',type=false,what,item,rez,params;for(what in opts){if(opts.hasOwnProperty(what)){item=opts[what];rez=url.match(item.matcher);if(rez){type=item.type;params=$.extend(true,{},item.params,obj[what]||($.isPlainObject(opts[what])?opts[what].params:null));url=$.type(item.url)==="function"?item.url.call(this,rez,params,obj):format(item.url,rez,params);break;}}}
if(type){obj.href=url;obj.type=type;obj.autoHeight=false;}}};}(jQuery));;(function($,window,document,undefined){var pluginName="MegaMenu",defaults={propertyName:"value"};var delayOut=400;var menus=[];function CustomMenu(element,options){this.element=element;this.options=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init();}
CustomMenu.prototype={isOpen:false,timeout:null,init:function(){var that=this;$(this).each(function(index,menu){that.node=menu.element;that.addListeners(menu.element);var $menu=$(menu.element);$menu.addClass("dropdownJavascript");menus.push(menu.element);$menu.find('ul > li').each(function(index,submenu){if($(submenu).find('ul').length>0){$(submenu).addClass('with-menu');}});});},addListeners:function(menu){var that=this;$(menu).mouseover(function(e){that.handleMouseOver.call(that,e);}).mouseout(function(e){that.handleMouseOut.call(that,e);});},handleMouseOver:function(e){var that=this;this.clearTimeout();var item=e.target||e.srcElement;while(item.nodeName!='LI'&&item!=this.node){item=item.parentNode;}
if(item.nodeName=='LI'){this.toOpen=item;this.timeout=setTimeout(function(){that.open.call(that);},this.options.delay);}},handleMouseOut:function(){var that=this;this.clearTimeout();var _delayOut=this.options.delay;if(delayOut){_delayOut=delayOut;}
this.timeout=setTimeout(function(){that.close.call(that);},_delayOut);},clearTimeout:function(){if(this.timeout){clearTimeout(this.timeout);this.timeout=null;}},open:function(){var that=this;this.isOpen=true;var items=$(this.toOpen).parent().children('li');$(items).each(function(index,item){$(item).find("ul").each(function(index,submenu){if(item!=that.toOpen){$(item).removeClass("dropdownOpen");that.close(item);}else if(!$(item).hasClass('dropdownOpen')){$(item).addClass("dropdownOpen");var left=0;var node=submenu;while(node){left+=Math.abs(node.offsetLeft);node=node.offsetParent;}
var right=left+submenu.offsetWidth;var menuHeight=$(submenu).outerHeight();var parentTop=$(submenu).offset().top-$(window).scrollTop();var totalHeight=menuHeight+parentTop;var windowHeight=window.innerHeight;$(item).removeClass('dropdownRightToLeft');if(left<0)$(item).addClass('dropdownLeftToRight');if(right>document.body.clientWidth){$(item).addClass('dropdownRightToLeft');}}});});},close:function(node){if(!node){this.isOpen=false;node=this.node;}
$(node).find('li').each(function(index,item){$(item).removeClass('dropdownOpen');});}};$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new CustomMenu(this,options));}});};})(jQuery,window,document);
/*!
 * modernizr v3.3.1
 * Build https://modernizr.com/download?-cssanimations-csstransitions-touchevents-domprefixes-prefixed-prefixes-setclasses-shiv-testallprops-testprop-teststyles-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
;(function(window,document,undefined){var classes=[];var tests=[];var ModernizrProto={_version:'3.3.1',_config:{'classPrefix':'','enableClasses':true,'enableJSClass':true,'usePrefixes':true},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test]);},0);},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options});},addAsyncTest:function(fn){tests.push({name:null,fn:fn});}};var Modernizr=function(){};Modernizr.prototype=ModernizrProto;Modernizr=new Modernizr();var prefixes=(ModernizrProto._config.usePrefixes?' -webkit- -moz- -o- -ms- '.split(' '):['','']);ModernizrProto._prefixes=prefixes;function is(obj,type){return typeof obj===type;};function testRunner(){var featureNames;var feature;var aliasIdx;var result;var nameIdx;var featureName;var featureNameSplit;for(var featureIdx in tests){if(tests.hasOwnProperty(featureIdx)){featureNames=[];feature=tests[featureIdx];if(feature.name){featureNames.push(feature.name.toLowerCase());if(feature.options&&feature.options.aliases&&feature.options.aliases.length){for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++){featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());}}}
result=is(feature.fn,'function')?feature.fn():feature.fn;for(nameIdx=0;nameIdx<featureNames.length;nameIdx++){featureName=featureNames[nameIdx];featureNameSplit=featureName.split('.');if(featureNameSplit.length===1){Modernizr[featureNameSplit[0]]=result;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result;}
classes.push((result?'':'no-')+featureNameSplit.join('-'));}}}};var docElement=document.documentElement;var isSVG=docElement.nodeName.toLowerCase()==='svg';function setClasses(classes){var className=docElement.className;var classPrefix=Modernizr._config.classPrefix||'';if(isSVG){className=className.baseVal;}
if(Modernizr._config.enableJSClass){var reJS=new RegExp('(^|\\s)'+classPrefix+'no-js(\\s|$)');className=className.replace(reJS,'$1'+classPrefix+'js$2');}
if(Modernizr._config.enableClasses){className+=' '+classPrefix+classes.join(' '+classPrefix);isSVG?docElement.className.baseVal=className:docElement.className=className;}};var html5;if(!isSVG){;(function(window,document){var version='3.7.3';var options=window.html5||{};var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var supportsHtml5Styles;var expando='_html5shiv';var expanID=0;var expandoData={};var supportsUnknownElements;(function(){try{var a=document.createElement('a');a.innerHTML='<xyz></xyz>';supportsHtml5Styles=('hidden'in a);supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)('a');var frag=document.createDocumentFragment();return(typeof frag.cloneNode=='undefined'||typeof frag.createDocumentFragment=='undefined'||typeof frag.createElement=='undefined');}());}catch(e){supportsHtml5Styles=true;supportsUnknownElements=true;}}());function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement('p'),parent=ownerDocument.getElementsByTagName('head')[0]||ownerDocument.documentElement;p.innerHTML='x<style>'+cssText+'</style>';return parent.insertBefore(p.lastChild,parent.firstChild);}
function getElements(){var elements=html5.elements;return typeof elements=='string'?elements.split(' '):elements;}
function addElements(newElements,ownerDocument){var elements=html5.elements;if(typeof elements!='string'){elements=elements.join(' ');}
if(typeof newElements!='string'){newElements=newElements.join(' ');}
html5.elements=elements+' '+newElements;shivDocument(ownerDocument);}
function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];if(!data){data={};expanID++;ownerDocument[expando]=expanID;expandoData[expanID]=data;}
return data;}
function createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createElement(nodeName);}
if(!data){data=getExpandoData(ownerDocument);}
var node;if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode();}else if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode();}else{node=data.createElem(nodeName);}
return node.canHaveChildren&&!reSkip.test(nodeName)&&!node.tagUrn?data.frag.appendChild(node):node;}
function createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createDocumentFragment();}
data=data||getExpandoData(ownerDocument);var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;for(;i<l;i++){clone.createElement(elems[i]);}
return clone;}
function shivMethods(ownerDocument,data){if(!data.cache){data.cache={};data.createElem=ownerDocument.createElement;data.createFrag=ownerDocument.createDocumentFragment;data.frag=data.createFrag();}
ownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName);}
return createElement(nodeName,ownerDocument,data);};ownerDocument.createDocumentFragment=Function('h,f','return function(){'+'var n=f.cloneNode(),c=n.createElement;'+'h.shivMethods&&('+
getElements().join().replace(/[\w\-:]+/g,function(nodeName){data.createElem(nodeName);data.frag.createElement(nodeName);return'c("'+nodeName+'")';})+');return n}')(html5,data.frag);}
function shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document;}
var data=getExpandoData(ownerDocument);if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}'+'mark{background:#FF0;color:#000}'+'template{display:none}');}
if(!supportsUnknownElements){shivMethods(ownerDocument,data);}
return ownerDocument;}
var html5={'elements':options.elements||'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video','version':version,'shivCSS':(options.shivCSS!==false),'supportsUnknownElements':supportsUnknownElements,'shivMethods':(options.shivMethods!==false),'type':'default','shivDocument':shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment,addElements:addElements};window.html5=html5;shivDocument(document);if(typeof module=='object'&&module.exports){module.exports=html5;}}(typeof window!=="undefined"?window:this,document));};var omPrefixes='Moz O ms Webkit';var domPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(' '):[]);ModernizrProto._domPrefixes=domPrefixes;function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase();}).replace(/^-/,'');};var cssomPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.split(' '):[]);ModernizrProto._cssomPrefixes=cssomPrefixes;var atRule=function(prop){var length=prefixes.length;var cssrule=window.CSSRule;var rule;if(typeof cssrule==='undefined'){return undefined;}
if(!prop){return false;}
prop=prop.replace(/^@/,'');rule=prop.replace(/-/g,'_').toUpperCase()+'_RULE';if(rule in cssrule){return'@'+prop;}
for(var i=0;i<length;i++){var prefix=prefixes[i];var thisRule=prefix.toUpperCase()+'_'+rule;if(thisRule in cssrule){return'@-'+prefix.toLowerCase()+'-'+prop;}}
return false;};ModernizrProto.atRule=atRule;function contains(str,substr){return!!~(''+str).indexOf(substr);};function createElement(){if(typeof document.createElement!=='function'){return document.createElement(arguments[0]);}else if(isSVG){return document.createElementNS.call(document,'http://www.w3.org/2000/svg',arguments[0]);}else{return document.createElement.apply(document,arguments);}};function getBody(){var body=document.body;if(!body){body=createElement(isSVG?'svg':'body');body.fake=true;}
return body;};function injectElementWithStyles(rule,callback,nodes,testnames){var mod='modernizr';var style;var ret;var node;var docOverflow;var div=createElement('div');var body=getBody();if(parseInt(nodes,10)){while(nodes--){node=createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}
style=createElement('style');style.type='text/css';style.id='s'+mod;(!body.fake?div:body).appendChild(style);body.appendChild(div);if(style.styleSheet){style.styleSheet.cssText=rule;}else{style.appendChild(document.createTextNode(rule));}
div.id=mod;if(body.fake){body.style.background='';body.style.overflow='hidden';docOverflow=docElement.style.overflow;docElement.style.overflow='hidden';docElement.appendChild(body);}
ret=callback(div,rule);if(body.fake){body.parentNode.removeChild(body);docElement.style.overflow=docOverflow;docElement.offsetHeight;}else{div.parentNode.removeChild(div);}
return!!ret;};var testStyles=ModernizrProto.testStyles=injectElementWithStyles;function fnBind(fn,that){return function(){return fn.apply(that,arguments);};};function testDOMProps(props,obj,elem){var item;for(var i in props){if(props[i]in obj){if(elem===false){return props[i];}
item=obj[props[i]];if(is(item,'function')){return fnBind(item,elem||obj);}
return item;}}
return false;};var modElem={elem:createElement('modernizr')};Modernizr._q.push(function(){delete modElem.elem;});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style;});function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase();}).replace(/^ms-/,'-ms-');};function nativeTestProps(props,value){var i=props.length;if('CSS'in window&&'supports'in window.CSS){while(i--){if(window.CSS.supports(domToCSS(props[i]),value)){return true;}}
return false;}
else if('CSSSupportsRule'in window){var conditionText=[];while(i--){conditionText.push('('+domToCSS(props[i])+':'+value+')');}
conditionText=conditionText.join(' or ');return injectElementWithStyles('@supports ('+conditionText+') { #modernizr { position: absolute; } }',function(node){return getComputedStyle(node,null).position=='absolute';});}
return undefined;};function testProps(props,prefixed,value,skipValueTest){skipValueTest=is(skipValueTest,'undefined')?false:skipValueTest;if(!is(value,'undefined')){var result=nativeTestProps(props,value);if(!is(result,'undefined')){return result;}}
var afterInit,i,propsLength,prop,before;var elems=['modernizr','tspan','samp'];while(!mStyle.style&&elems.length){afterInit=true;mStyle.modElem=createElement(elems.shift());mStyle.style=mStyle.modElem.style;}
function cleanElems(){if(afterInit){delete mStyle.style;delete mStyle.modElem;}}
propsLength=props.length;for(i=0;i<propsLength;i++){prop=props[i];before=mStyle.style[prop];if(contains(prop,'-')){prop=cssToDOM(prop);}
if(mStyle.style[prop]!==undefined){if(!skipValueTest&&!is(value,'undefined')){try{mStyle.style[prop]=value;}catch(e){}
if(mStyle.style[prop]!=before){cleanElems();return prefixed=='pfx'?prop:true;}}
else{cleanElems();return prefixed=='pfx'?prop:true;}}}
cleanElems();return false;};var testProp=ModernizrProto.testProp=function(prop,value,useValue){return testProps([prop],undefined,value,useValue);};function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,'string')||is(prefixed,'undefined')){return testProps(props,prefixed,value,skipValueTest);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}
ModernizrProto.testAllProps=testPropsAll;var prefixed=ModernizrProto.prefixed=function(prop,obj,elem){if(prop.indexOf('@')===0){return atRule(prop);}
if(prop.indexOf('-')!=-1){prop=cssToDOM(prop);}
if(!obj){return testPropsAll(prop,'pfx');}else{return testPropsAll(prop,obj,elem);}};function testAllProps(prop,value,skipValueTest){return testPropsAll(prop,undefined,undefined,value,skipValueTest);}
ModernizrProto.testAllProps=testAllProps;
/*!
{
  "name": "CSS Animations",
  "property": "cssanimations",
  "caniuse": "css-animation",
  "polyfills": ["transformie", "csssandpaper"],
  "tags": ["css"],
  "warnings": ["Android < 4 will pass this test, but can only animate a single property at a time"],
  "notes": [{
    "name" : "Article: 'Dispelling the Android CSS animation myths'",
    "href": "https://goo.gl/OGw5Gm"
  }]
}
!*/
Modernizr.addTest('cssanimations',testAllProps('animationName','a',true));
/*!
{
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
Modernizr.addTest('csstransitions',testAllProps('transition','all',true));
/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse" : "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "https://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds  https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
Modernizr.addTest('touchevents',function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{var query=['@media (',prefixes.join('touch-enabled),('),'heartz',')','{#modernizr{top:9px;position:absolute}}'].join('');testStyles(query,function(node){bool=node.offsetTop===9;});}
return bool;});testRunner();setClasses(classes);delete ModernizrProto.addTest;delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++){Modernizr._q[i]();}
window.Modernizr=Modernizr;;})(window,document);;(function($,window,undefined){'use strict';var Modernizr=window.Modernizr,$body=$('body');$.DLMenu=function(options,element){this.$el=$(element);this._init(options);};$.DLMenu.defaults={animationClasses:{classin:'mk-vm-animate-in-'+mk_vertical_header_anim,classout:'mk-vm-animate-out-'+mk_vertical_header_anim},onLevelClick:function(el,name){return false;},onLinkClick:function(el,ev){return false;}};$.DLMenu.prototype={_init:function(options){this.options=$.extend(true,{},$.DLMenu.defaults,options);this._config();var animEndEventNames={'WebkitAnimation':'webkitAnimationEnd','OAnimation':'oAnimationEnd','msAnimation':'MSAnimationEnd','animation':'animationend'},transEndEventNames={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd','msTransition':'MSTransitionEnd','transition':'transitionend'};this.animEndEventName=animEndEventNames[Modernizr.prefixed('animation')]+'.dlmenu';this.transEndEventName=transEndEventNames[Modernizr.prefixed('transition')]+'.dlmenu';this.animEndEventNameUnsufixed=animEndEventNames[Modernizr.prefixed('animation')];this.transEndEventNameUnsufixed=transEndEventNames[Modernizr.prefixed('transition')];this.supportAnimations=Modernizr.cssanimations;this.supportTransitions=Modernizr.csstransitions;this._initEvents();},_config:function(){this.open=false;this.$trigger=this.$el.children('.mk-vm-trigger');this.$menu=this.$el.children('ul.mk-vm-menu');this.$menuitems=this.$menu.find('li:not(.mk-vm-back)');this.$back=this.$menu.find('li.mk-vm-back');},_initEvents:function(){var self=this;$('.mk-vm-menuwrapper a').on('transitionend',function(event){event.stopPropagation();});this.$menuitems.on('click.dlmenu','a',function(event){var $item=$(event.delegateTarget),$submenu=$(event.currentTarget).siblings('ul.sub-menu');if($submenu.length>0){var $flyin=$submenu.clone().css('opacity',0).insertAfter(self.$menu);var onAnimationEndFn=function(){var $parent=$item.parents('.mk-vm-subviewopen:first');self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classout).addClass('mk-vm-subview');$item.addClass('mk-vm-subviewopen')
$parent.removeClass('mk-vm-subviewopen').addClass('mk-vm-subview');$flyin.remove();var $txt=$item.find('.meni-item-text');$txt.css('opacity',0.99);setTimeout(function(){$txt.css('opacity',1)},0);};setTimeout(function(){$flyin.addClass(self.options.animationClasses.classin);self.$menu.addClass(self.options.animationClasses.classout);if(self.supportAnimations){self.$menu.on(self.animEndEventName,onAnimationEndFn);}else{onAnimationEndFn.call();}
self.options.onLevelClick($item,$item.children('a:first').text());});return false;}else{self.options.onLinkClick($item,event);}});this.$back.on('click.dlmenu',function(event){var $this=$(this),$submenu=$this.parents('ul.sub-menu:first'),$item=$submenu.parent(),$flyin=$submenu.clone().insertAfter(self.$menu);var onAnimationEndFn=function(){self.$menu.off(self.animEndEventName).removeClass(self.options.animationClasses.classin);$flyin.remove();};setTimeout(function(){$flyin.addClass(self.options.animationClasses.classout);self.$menu.addClass(self.options.animationClasses.classin);if(self.supportAnimations){self.$menu.on(self.animEndEventName,onAnimationEndFn);}else{onAnimationEndFn.call();}
$item.removeClass('mk-vm-subviewopen');var $subview=$this.parents('.mk-vm-subview:first');if($subview.is('li')){$subview.addClass('mk-vm-subviewopen');}
$subview.removeClass('mk-vm-subview');});return false;});},closeMenu:function(){if(this.open){this._closeMenu();}},_closeMenu:function(){var self=this,onTransitionEndFn=function(){self.$menu.off(self.transEndEventName);self._resetMenu();};this.$menu.removeClass('mk-vm-menuopen');this.$menu.addClass('mk-vm-menu-toggle');this.$trigger.removeClass('mk-vm-active');if(this.supportTransitions){this.$menu.on(this.transEndEventName,onTransitionEndFn);}else{onTransitionEndFn.call();}
this.open=false;},openMenu:function(){if(!this.open){this._openMenu();}},_openMenu:function(){var self=this;$body.off('click').on('click.dlmenu',function(){self._closeMenu();});this.$menu.addClass('mk-vm-menuopen mk-vm-menu-toggle').on(this.transEndEventName,function(){$(this).removeClass('mk-vm-menu-toggle');});this.$trigger.addClass('mk-vm-active');this.open=true;},_resetMenu:function(){this.$menu.removeClass('mk-vm-subview');this.$menuitems.removeClass('mk-vm-subview mk-vm-subviewopen');}};var logError=function(message){if(window.console){window.console.error(message);}};$.fn.dlmenu=function(options){if(typeof options==='string'){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,'dlmenu');if(!instance){logError("cannot call methods on dlmenu prior to initialization; "+"attempted to call method '"+options+"'");return;}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for dlmenu instance");return;}
instance[options].apply(instance,args);});}else{this.each(function(){var instance=$.data(this,'dlmenu');if(instance){instance._init();}else{instance=$.data(this,'dlmenu',new $.DLMenu(options,this));}});}
return this;};})(jQuery,window);(function($){'use strict';$('.mk-main-navigation .menu-item-has-children').children('a').attr('aria-haspopup','true');$('.animated-column-item').attr('aria-haspopup','true');})(jQuery);(function($){'use strict';var Accordion=function(el){var that=this,$el=$(el),initial=$el.data('initialindex'),timeout;this.$el=$el;this.$single=$('.'+this.dom.single,$el);this.isExpendable=($el.data('style')==='toggle-action');this.bindClicks();$(window).on('load',function(){if(initial!==-1)that.show(that.$single.eq(initial))});$(window).on('resize',function(){clearTimeout(timeout);timeout=setTimeout(that.bindClicks.bind(that),500);});}
Accordion.prototype.dom={single:'mk-accordion-single',tab:'mk-accordion-tab',pane:'mk-accordion-pane',current:'current',mobileToggle:'mobile-false',mobileBreakPoint:767}
Accordion.prototype.bindClicks=function(){this.$single.off('click','.'+this.dom.tab);if(!(window.matchMedia('(max-width: '+this.dom.mobileBreakPoint+'px)').matches&&this.$el.hasClass(this.dom.mobileToggle))){this.$single.on('click','.'+this.dom.tab,this.handleEvent.bind(this));var $current=$('.'+this.dom.current,this.$el);if($('.'+this.dom.pane,$current).css('display')==='none')this.show($current);}}
Accordion.prototype.handleEvent=function(e){e.preventDefault();e.stopPropagation();var $single=$(e.delegateTarget);if(!$single.hasClass(this.dom.current)){this.show($single);}
else{if(this.isExpendable)this.hide($single);}}
Accordion.prototype.hide=function($single){$single.removeClass(this.dom.current);$('.'+this.dom.pane,$single).slideUp();}
Accordion.prototype.show=function($single){if(!this.isExpendable){var that=this;this.hide($('.'+this.dom.current,that.$el));}
$single.addClass(this.dom.current);$('.'+this.dom.pane,$single).slideDown();}
$('.mk-accordion').each(function(){new Accordion(this);});})(jQuery);(function($){'use strict';if(typeof Raphael==='undefined')return;var SkillDiagram=function(el){this.el=el;}
SkillDiagram.prototype={init:function(){this.cacheElements();this.createDiagram();this.$skills.each(this.createSkill.bind(this));},cacheElements:function(){this.$el=$(this.el);this.$skills=this.$el.find('.mk-meter-arch');this.config=this.$el.data();this.config.radius=this.config.dimension/2;},random:function(l,u){return Math.floor((Math.random()*(u-l+1))+l);},createDiagram:function(){var self=this;this.diagram=Raphael(this.el,this.config.dimension,this.config.dimension);this.diagram.setViewBox(0,0,this.config.dimension,this.config.dimension,true);this.diagram.setSize('90%','90%');this.diagram.circle(this.config.radius,this.config.radius,80).attr({stroke:'none',fill:this.config.circleColor});this.title=this.diagram.text(this.config.radius,this.config.radius,this.config.defaultText).attr({font:"22px helvetica",fill:this.config.defaultTextColor}).toFront();this.diagram.customAttributes.arc=function(value,color,rad){var v=3.6*value,alpha=v==360?359.99:v,r=self.random(91,240),a=(r-alpha)*Math.PI/180,b=r*Math.PI/180,sx=self.config.radius+rad*Math.cos(b),sy=self.config.radius-rad*Math.sin(b),x=self.config.radius+rad*Math.cos(a),y=self.config.radius-rad*Math.sin(a),path=[['M',sx,sy],['A',rad,rad,0,+(alpha>180),1,x,y]];return{path:path,stroke:color}}},createSkill:function(id,el){var self=this,$this=$(el),config=$this.data(),radMin=72,radVal=27,newRad=radMin+(radVal*(id+1));var $path=this.diagram.path().attr({'stroke-width':28,arc:[config.percent,config.color,newRad]});$path.mouseover(function(){self.showSkill(this,config.name,config.percent);}).mouseout(function(){self.hideSkill(this)});},showSkill:function(self,name,percent){var $this=self,time=250;if(Raphael.type!='VML')$this.toFront();$this.animate({'stroke-width':50,'opacity':0.9,},800,'elastic');this.title.stop().animate({opacity:0},time,'>',function(){this.attr({text:name+'\n'+percent+'%'}).animate({opacity:1},time,'<');}).toFront();},hideSkill:function(self){var $this=self,self=this,time=250;$this.stop().animate({'stroke-width':28,opacity:1},time*4,'elastic');self.title.stop().animate({opacity:0},time,'>',function(){self.title.attr({text:self.config.defaultText}).animate({opacity:1},time,'<');});}}
$('.mk-skill-diagram').each(function(){var diagram=new SkillDiagram(this);diagram.init();});})(jQuery);(function($){'use strict';$('[data-js="tab-delegation"]').each(tabDelegation);function tabDelegation(){var $this=$(this),data=$this.data();if(data.tab)$this.on('click','a',openInTab);}
function openInTab(e){e.preventDefault();var $this=$(this),url=$this.attr('href');window.open(url,'_blank');}})(jQuery);(function($){'use strict';var Toggle=function(el){var that=this,$el=$(el);this.$el=$el;$(window).on('load',function(){$el.toggle(that.open.bind(that),that.close.bind(that));});};Toggle.prototype.dom={pane:'mk-toggle-pane',active:'active-toggle'};Toggle.prototype.open=function(){var $this=this.$el;$this.addClass(this.dom.active);$this.siblings('.'+this.dom.pane).slideDown(200);};Toggle.prototype.close=function(){var $this=this.$el;$this.removeClass(this.dom.active);$this.siblings('.'+this.dom.pane).slideUp(200);};var $toggle=$('.mk-toggle-title');if(!$toggle.length)return;$toggle.each(function(){new Toggle(this);});})(jQuery);window.ajaxInit=function(){mk_lightbox_init();mk_click_events();mk_social_share_global();mk_gallery();loop_audio_init();};window.ajaxDelayedInit=function(){mk_flexslider_init();};$(document).ready(function(){mk_lightbox_init();mk_login_form();mk_backgrounds_parallax();mk_flexslider_init();mk_event_countdown();mk_skill_meter();mk_milestone();mk_ajax_search();mk_hover_events();mk_portfolio_ajax();mk_love_post();product_loop_add_cart();mk_portfolio_widget();mk_contact_form();mk_blog_carousel();mk_header_searchform();mk_click_events();mk_text_typer();mk_tab_slider_func();$(window).on('load',function(){mk_unfold_footer();mk_tabs();mk_accordion_toggles_tooltip();mk_gallery();mk_theatre_responsive_calculator();mk_tabs_responsive();mk_start_tour_resize();mk_header_social_resize();mk_page_section_social_video_bg();loop_audio_init();mk_one_page_scroller();setTimeout(function(){mk_mobile_tablet_responsive_calculator();},300);console.log("ready for rock");});var onDebouncedResize=function(){mk_theatre_responsive_calculator();mk_mobile_tablet_responsive_calculator();mk_tabs_responsive();mk_accordion_toggles_tooltip();mk_start_tour_resize();mk_header_social_resize();setTimeout(function(){mk_unfold_footer();},300);};var debounceResize=null;$(window).on("resize",function(){if(debounceResize!==null){clearTimeout(debounceResize);}
debounceResize=setTimeout(onDebouncedResize,300);});var onDebouncedScroll=function(){mk_skill_meter();mk_milestone();};var debounceScroll=null;$(window).on("scroll",function(){if(debounceScroll!==null){clearTimeout(debounceScroll);}
debounceScroll=setTimeout(onDebouncedScroll,100);});if(MK.utils.isMobile()){$('body').addClass('no-transform');}});function mk_text_typer(){"use strict";$('[data-typer-targets]').each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+'jquery.typed.js'],function(){var $this=$(that),$first_string=[$this.text()],$rest_strings=$this.attr('data-typer-targets').split(','),$strings=$first_string.concat($rest_strings);$this.text('');$this.typed({strings:$strings,typeSpeed:30,backDelay:1200,loop:true,loopCount:false,});});});}
function mk_tab_slider_func(){"use strict";$('.mk-tab-slider').each(function(){var that=this;MK.core.loadDependencies([MK.core.path.plugins+'jquery.swiper.js'],function(){var $this=$(that),id=$this.data('id'),$autoplayTime=$this.data('autoplay'),$content=$('.mk-slider-content');var mk_tab_slider=$this.swiper({wrapperClass:'mk-tab-slider-wrapper',slideClass:'mk-tab-slider-item',calculateHeight:true,speed:500,autoplay:isTest?false:$autoplayTime,onSlideChangeStart:function(){$('.mk-tab-slider-nav[data-id="'+id+'"]').find(".active").removeClass('active')
$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").eq(mk_tab_slider.activeIndex).addClass('active')}});function repaintFirefox(){$content.css('display','block');setTimeout(function(){mk_tab_slider.reInit();$content.css('display','table');},100);}
$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").first().addClass('active');$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").on('touchstart mousedown',function(e){e.preventDefault()
$('.mk-tab-slider-nav[data-id="'+id+'"]').find(".active").removeClass('active')
$(this).addClass('active')
mk_tab_slider.swipeTo($(this).index())});$('.mk-tab-slider-nav[data-id="'+id+'"]').find("a").click(function(e){e.preventDefault();});repaintFirefox();$(window).on('resize',repaintFirefox);});});}
function mk_one_page_scroller(){"use strict";$('.mk-edge-one-pager').each(function(){var self=this;MK.core.loadDependencies([MK.core.path.plugins+'jquery.fullpage.js'],function(){var $this=$(self),anchorArr=[];$this.find('.section').each(function(){anchorArr.push($(this).attr('data-title'));});var scrollable=true;$this.find('.section').each(function(){var $section=$(this),$content=$section.find('.edge-slide-content'),sectionHeight=$section.height(),contentHeight=$content.innerHeight();if((contentHeight+30)>$(window).height()){scrollable=false;}});if(!scrollable){$this.find('.section').each(function(){var $section=$(this);$section.addClass('active').css({'padding-bottom':'50px'});});}
if(scrollable){$this.fullpage({verticalCentered:false,resize:true,slidesColor:['#ccc','#fff'],anchors:anchorArr,scrollingSpeed:600,easing:'easeInQuart',menu:false,navigation:true,navigationPosition:'right',navigationTooltips:false,slidesNavigation:true,slidesNavPosition:'bottom',loopBottom:false,loopTop:false,loopHorizontal:true,autoScrolling:true,scrollOverflow:false,css3:true,paddingTop:0,paddingBottom:0,normalScrollElements:'.mk-header, .mk-responsive-wrap',normalScrollElementTouchThreshold:5,keyboardScrolling:true,touchSensitivity:15,continuousVertical:false,animateAnchor:true,onLeave:function(index,nextIndex,direction){var currentSkin=$this.find('.one-pager-slide').eq(nextIndex-1).attr('data-header-skin');MK.utils.eventManager.publish('firstElSkinChange',currentSkin);$('#fullPage-nav').removeClass('light-skin dark-skin').addClass(currentSkin+'-skin');},afterRender:function(){var $nav=$('#fullPage-nav');setTimeout(function(){var currentSkin=$this.find('.one-pager-slide').eq(0).attr('data-header-skin');MK.utils.eventManager.publish('firstElSkinChange',currentSkin);if($nav.length)$nav.removeClass('light-skin dark-skin').addClass(currentSkin+'-skin');},300);var $slide=$this.find('.section'),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height();$slide.height(windowHeight-headerHeight);if($nav.length){$nav.css({'top':'calc(50% + '+(headerHeight/2)+'px)','marginTop':0});var style=$this.attr('data-pagination');$nav.addClass('pagination-'+style);}
setTimeout(mk_one_pager_resposnive,1000);},afterResize:function(){var $slide=$this.find('.section'),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height();$slide.height(windowHeight-headerHeight);$('#fullPage-nav').css({'top':'calc(50% + '+(headerHeight/2)+'px)','marginTop':0});setTimeout(mk_one_pager_resposnive,1000);console.log('Reposition pager content.');},});}
function swipeTo(href,e){href='_'+href;if(!~href.indexOf('#'))return;var section=href.split('#')[1];if(~anchorArr.indexOf(section)){if(typeof e!=='undefined')e.preventDefault();if(scrollable)$.fn.fullpage.moveTo(section);else MK.utils.scrollToAnchor('[data-title="'+section+'"]');}}
var loc=window.location;if(loc.hash)swipeTo(loc.hash);$(document).on('click','a',function(e){var $link=$(e.currentTarget);swipeTo($link.attr('href'),e);});});});}
function mk_one_pager_resposnive(){"use strict";$('.mk-edge-one-pager').each(function(){var $pager=$(this),headerHeight=MK.val.offsetHeaderHeight(0),windowHeight=$(window).height()-headerHeight;$pager.find('.one-pager-slide').each(function(){var $slide=$(this),$content=$slide.find('.edge-slide-content');if($slide.hasClass('left_center')||$slide.hasClass('center_center')||$slide.hasClass('right_center')){var contentHeight=$content.height(),distanceFromTop=(windowHeight-contentHeight)/2;distanceFromTop=(distanceFromTop<50)?50+headerHeight:distanceFromTop;$content.css('marginTop',distanceFromTop);}
if($slide.hasClass('left_bottom')||$slide.hasClass('center_bottom')||$slide.hasClass('right_bottom')){var distanceFromTop=windowHeight-$content.height()-90;$content.css('marginTop',(distanceFromTop));}});});}
function mk_gallery(){"use strict";$('.mk-gallery .mk-gallery-item.hover-overlay_layer .item-holder').each(function(){var itemHolder=$(this),galleryDesc=itemHolder.find('.gallery-desc');function updatePosition(){var parentHeight=itemHolder.outerHeight(),contentHeight=galleryDesc.innerHeight();var paddingVal=(parentHeight-contentHeight)/2;galleryDesc.css({'top':paddingVal,});}
updatePosition();$(window).on('resize',function(){setTimeout(function(){updatePosition();},1000);});});if($(window).width()<=1024){$('.mk-gallery .mk-gallery-item').on('click',function(e){var clicks=$(this).data('clicks');if(clicks){$(this).toggleClass('hover-state');}else{$(this).toggleClass('hover-state');}
$(this).data("clicks",!clicks);});}}
function mk_theatre_responsive_calculator(){var $laptopContainer=$(".laptop-theatre-slider");var $computerContainer=$(".desktop-theatre-slider");$laptopContainer.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$windowHeight=$window.outerHeight(),$width=$this.outerWidth(),$height=$this.outerHeight(),$paddingTop=38,$paddingRight=143,$paddingBottom=78,$paddingLeft=143;var $player=$this.find('.player-container');if($windowWidth>$width){$player.css({'padding-left':parseInt(($width*$paddingLeft)/1200),'padding-right':parseInt(($width*$paddingRight)/1200),'padding-top':parseInt(($height*$paddingTop)/690),'padding-bottom':parseInt(($height*$paddingBottom)/690),});}});$computerContainer.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$windowHeight=$window.outerHeight(),$width=$this.outerWidth(),$height=$this.outerHeight(),$paddingTop=60,$paddingRight=52,$paddingBottom=290,$paddingLeft=49;var $player=$this.find('.player-container');if($windowWidth>$width){$player.css({'padding-left':parseInt(($width*$paddingLeft)/1200),'padding-right':parseInt(($width*$paddingRight)/1200),'padding-top':parseInt(($height*$paddingTop)/969),'padding-bottom':parseInt(($height*$paddingBottom)/969),});}});}
function mk_mobile_tablet_responsive_calculator(){var $laptopSlideshow=$(".mk-laptop-slideshow-shortcode");var $lcdSlideshow=$(".mk-lcd-slideshow");if($.exists(".mk-laptop-slideshow-shortcode")){$laptopSlideshow.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$windowHeight=$window.outerHeight(),$width=$this.outerWidth(),$height=$this.outerHeight(),$paddingTop=28,$paddingRight=102,$paddingBottom=52,$paddingLeft=102;var $player=$this.find(".slideshow-container");$player.css({"padding-left":parseInt(($width*$paddingLeft)/836),"padding-right":parseInt(($width*$paddingRight)/836),"padding-top":parseInt(($height*$paddingTop)/481),"padding-bottom":parseInt(($height*$paddingBottom)/481),});});}
if($.exists(".mk-lcd-slideshow")){$lcdSlideshow.each(function(){var $this=$(this),$window=$(window),$windowWidth=$window.outerWidth(),$windowHeight=$window.outerHeight(),$width=$this.outerWidth(),$height=$this.outerHeight(),$paddingTop=35,$paddingRight=39,$paddingBottom=213,$paddingLeft=36;var $player=$this.find(".slideshow-container");$player.css({"padding-left":parseInt(($width*$paddingLeft)/886),"padding-right":parseInt(($width*$paddingRight)/886),"padding-top":parseInt(($height*$paddingTop)/713),"padding-bottom":parseInt(($height*$paddingBottom)/713),});});}}
function mk_start_tour_resize(){$('.mk-header-start-tour').each(function(){var $windowWidth=$(document).width(),$this=$(this),$linkWidth=$this.width()+15,$padding=($windowWidth-mk_responsive_nav_width)/2;function updateStartTour(){if($windowWidth<mk_responsive_nav_width){$this.removeClass('hidden');$this.addClass('show');}else{if($padding<$linkWidth){$this.removeClass('show');$this.addClass('hidden');}else{$this.removeClass('hidden');$this.addClass('show');}}}
setTimeout(function(){updateStartTour();},300);});}
function mk_header_social_resize(){$('.mk-header-social.header-section').each(function(){var $windowWidth=$(document).width(),$this=$(this),$linkWidth=$this.width()+15,$padding=($windowWidth-mk_responsive_nav_width)/2;function updateStartTour(){if($windowWidth<mk_responsive_nav_width){$this.removeClass('hidden');$this.addClass('show');}else{if($padding<$linkWidth){$this.removeClass('show');$this.addClass('hidden');}else{$this.removeClass('hidden');$this.addClass('show');}}}
setTimeout(function(){updateStartTour();},300);});}
function mk_page_section_social_video_bg(){$(".mk-page-section.social-hosted").each(function(){var $container=$(this),$sound=$container.data('sound'),$source=$container.data('source'),player;if($source=='youtube'){var youtube=$container.find('iframe')[0];player=new YT.Player(youtube);setTimeout(function(){player.playVideo();if($sound==false){player.mute();}},1000);}
if($source=='vimeo'){var vimeo=$container.find('iframe')[0];player=$f(vimeo);setTimeout(function(){player.api('play');if($sound===false){player.api('setVolume',0);}},1000);}});}
function videoLoadState(){$('.mk-section-video video').each(function(){var mkVideo=this;this.onload=fire();function fire(){setTimeout(function(){$(mkVideo).animate({'opacity':1},300);},1000);}});}
videoLoadState();(function($){$(window).on('load',initialize);function initialize(){var $gmap=$('.gmap_widget');if($gmap.length&&typeof google!=='undefined')$gmap.each(run);}
function run(){var $mapHolder=$(this);var myLatlng=new google.maps.LatLng($mapHolder.data('latitude'),$mapHolder.data('longitude'));var mapOptions=$mapHolder.data('options');mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP;mapOptions.center=myLatlng;var map=new google.maps.Map(this,mapOptions);new google.maps.Marker({position:myLatlng,map:map});}}(jQuery));(function($){$(window).on('load',function(){var $feeds=$('.mk-instagram-feeds');if($feeds.length)$feeds.each(run);});function run(){var options=$(this).data('options');options.template='<a class="featured-image '+options.tmp_col+'-columns" href="{{link}}" target="_'+options.tmp_target+'"><div class="item-holder"><img src="{{image}}" /><div class="image-hover-overlay"></div></div></a>';var feed=new Instafeed(options);feed.run();}}(jQuery));(function($){$(window).on('load',function(){setTimeout(function(){$('.chrome-flipbox-backface-fix').removeClass('chrome-flipbox-backface-fix');},300);});}(jQuery));(function($){$(window).on('load',function(){$('.vc_tta-tab a').on('click',function(){setTimeout(function(){$(window).trigger('resize');},100);});});}(jQuery));(function($){$(window).on('load',function(){$('#mk-vm-menu .menu-item-has-children, #mk-vm-menu .mk-vm-back').on('mouseenter',function(){var $header_inner=$(this).closest('.mk-header-inner'),$header_inner_height=$header_inner.outerHeight(),$header_bg=$header_inner.find('.mk-header-bg'),total_height=0;$header_bg.css('height','100%');setTimeout(function(){$header_inner.children(':visible').each(function(){total_height+=$(this).outerHeight(true);});total_height-=$header_bg.height();if(total_height<$header_inner_height){$header_bg.css('height','100%');}else{$header_bg.css('height',total_height+'px');}},600);});});}(jQuery));(function($){$(window).on('load',function(){var $variations_form=$('.variations_form');if($variations_form.length){var $varitions_selects=$variations_form.find('.variations').find('.value').find('select');$varitions_selects.on('change',function(){var $all_img_container=$('.mk-product-image .mk-woocommerce-main-image');if($all_img_container.length){$($all_img_container).each(set_lightbox_href);}});$varitions_selects.trigger('change');}});function set_lightbox_href(){var $product_img=$(this).find('img'),$lightbox=$(this).find('.mk-lightbox');setTimeout(function(){var image_url=$product_img.attr('src'),image_suffix=image_url.substr(image_url.lastIndexOf('.')-image_url.length),image_url=image_url.slice(0,image_url.lastIndexOf('-'));$lightbox.attr('href',image_url+image_suffix);},300);}}(jQuery));(function($){if(MK.utils.isMobile()){$('.mk-section-video video').remove();}}(jQuery));(function($){$(window).on('load',function(){$(document).on('yith-wcan-ajax-filtered yith_infs_added_elem yith-wcan-ajax-reset-filtered',function(){setTimeout(function(){MK.utils.eventManager.publish('ajaxLoaded');MK.core.initAll(document);},1000);});$(document).on('yith-wcan-ajax-filtered yith-wcan-ajax-reset-filtered',function(){setTimeout(function(){$('.woocommerce-ordering').on('change','select.orderby',function(){$(this).closest('form').submit();});},1000);});});}(jQuery));function mk_accordion_toggles_tooltip(){"use strict";$('.box-close-btn').on('click',function(){$(this).parent().fadeOut(300);return false;});}
function mk_portfolio_ajax(){"use strict";var headerHeight=0;if($.exists("#wpadminbar")){headerHeight+=$("#wpadminbar").height();}
if(!$.exists('.mk-vm-menuwrapper')){headerHeight+=parseInt($('.mk-header').attr('data-sticky-height'));}
function init(){var $portfolio=$('.portfolio-grid.portfolio-ajax-enabled');if(!$portfolio.length)return;MK.core.loadDependencies([MK.core.path.plugins+'jquery.ajax.portfolio.js'],function(){setTimeout(function(){$portfolio.each(function(){$(this).ajaxPortfolio({extraOffset:headerHeight});});},100);});}
init();MK.utils.eventManager.subscribe('ajaxLoaded',init);}
function mk_ajax_search(){"use strict";if(mk_ajax_search_option!=="beside_nav"){return;}
var minimumLengthToSearch=3;var $mkAjaxSearchInput=$('#mk-ajax-search-input');var security=$mkAjaxSearchInput.siblings('input[name="security"]').val();var wpHttpReferer=$mkAjaxSearchInput.siblings('input[name="_wp_http_referer"]').val();var querySpliter=(ajaxurl.indexOf('?')>-1)?'&':'?';var ul=document.getElementById('mk-nav-search-result');var searchTerm;var requestCounter=0;var responseCounter=0;$mkAjaxSearchInput.on('paste input propertychange',onSearchBoxInput);function onSearchBoxInput(e){var target=e.target||e.srcElement;var newValue=target.value;if(searchTerm!==newValue){searchTerm=newValue;ul.innerHTML='';if(searchTerm.length>=minimumLengthToSearch){$mkAjaxSearchInput.addClass('ajax-searching');requestCounter++;$.getJSON(ajaxurl+querySpliter+'callback=?&action=mk_ajax_search&security='+security+'&_wp_http_referer='+wpHttpReferer+'&term='+searchTerm).done(showSearchResult).fail(showErrorMessage);}}}
function showSearchResult(data){responseCounter++;if(isCorrectResponse()){if(data.length>0){for(var i=0;i<data.length;i++){var item=data[i];$('<li>').append('<a href="'+item.link+'">'+item.image+'<span class="search-title">'+item.label+'</span><span class="search-date">'+item.date+'</span></a>').appendTo(ul);}}else{ul.innerHTML='<li class="mk-nav-search-result-zero">No Result.</li>';}
$mkAjaxSearchInput.parent('form').removeClass('ajax-searching').addClass('ajax-search-complete');}}
function showErrorMessage(){responseCounter++;if(isCorrectResponse()){ul.innerHTML='<li class="mk-nav-search-error-message">Can not search! Please try again.</li>';}}
function isCorrectResponse(){return requestCounter===responseCounter;}}
function mk_backgrounds_parallax(){"use strict";if(mk_header_parallax==true){$('.mk-header-bg').addClass('mk-parallax-enabled');}
if(mk_body_parallax==true){$('body').addClass('mk-parallax-enabled');}
if(mk_banner_parallax==true){$('.mk-header').addClass('mk-parallax-enabled');}
if(mk_footer_parallax==true){$('#mk-footer').addClass('mk-parallax-enabled');}
$('.mk-parallax-enabled').each(function(){var $this=$(this);if(!MK.utils.isMobile()){MK.core.loadDependencies([MK.core.path.plugins+'jquery.parallax.js'],function(){$this.parallax("49%",0.3);});}});$('.mk-fullwidth-slideshow.parallax-slideshow').each(function(){var $this=$(this);if(!MK.utils.isMobile()){MK.core.loadDependencies([MK.core.path.plugins+'jquery.parallax.js'],function(){var speed_factor=$this.attr('data-speedFactor');$this.parallax("49%",speed_factor);});}});}
function loop_audio_init(){if($.exists('.jp-jplayer')){$('.jp-jplayer.mk-blog-audio').each(function(){var $this=$(this);MK.core.loadDependencies([MK.core.path.plugins+'jquery.jplayer.js'],function(){var css_selector_ancestor="#"+$this.siblings('.jp-audio').attr('id');var ogg_file,mp3_file,mk_theme_js_path;ogg_file=$this.attr('data-ogg');mp3_file=$this.attr('data-mp3');$this.jPlayer({ready:function(){$this.jPlayer("setMedia",{mp3:mp3_file,ogg:ogg_file});},play:function(){$this.jPlayer("pauseOthers");},swfPath:mk_theme_js_path,supplied:"mp3, ogg",cssSelectorAncestor:css_selector_ancestor,wmode:"window"});});});}}
function mk_blog_carousel(){"use strict";if(!$.exists('.mk-blog-showcase')){return;}
$('.mk-blog-showcase ul li').each(function(){$(this).on('hover',function(){$(this).siblings('li').removeClass('mk-blog-first-el').end().addClass('mk-blog-first-el');});});}
function mk_contact_form(){"use strict";var mkContactForms=document.getElementsByClassName('mk-contact-form');if(mkContactForms.length===0){return;}
var captchaImageHolder=$('.captcha-image-holder');var activeClassName='is-active';var invalidClassName='mk-invalid';for(var i=0;i<mkContactForms.length;i++){initializeForm(mkContactForms[i],activeClassName,invalidClassName);}
initializeCaptchas();function initializeForm(form,activeClassName,invalidClassName){var inputs=getFormInputs(form);for(var i=0;i<inputs.length;i++){markActiveClass(inputs[i]);}
form.addEventListener('submit',function(e){validateForm(e,invalidClassName);});function setActiveClass(){addClass(this.parentNode,activeClassName);}
function unsetActiveClass(){if(this.value===''){removeClass(this.parentNode,activeClassName);}}
function markActiveClass(input){input.addEventListener('focus',setActiveClass);input.addEventListener('blur',unsetActiveClass);}}
function validateForm(e,invalidClassName){e.preventDefault();var form=e.target||e.srcElement;var inputs=getFormInputs(form);var isValidForm=true;var hasCaptchaField=false;for(var i=0;i<inputs.length;i++){var input=inputs[i];input.value=String(input.value).trim();switch(input.type){case'hidden':break;case'email':isValidForm=validateEmail(input,invalidClassName)&&isValidForm;break;case'textarea':isValidForm=validateText(input,invalidClassName)&&isValidForm;break;case'text':if(input.dataset.type==='captcha'){isValidForm=validateText(input,invalidClassName)&&isValidForm;hasCaptchaField=true;}else if(input.dataset.type==='email'){isValidForm=validateEmail(input,invalidClassName)&&isValidForm;}else{isValidForm=validateText(input,invalidClassName)&&isValidForm;}
break;default:console.warn('Implement validation for '+input.name+':'+input.type);break;}}
if(isValidForm){if(hasCaptchaField){validateCaptcha(form,invalidClassName,sendForm);}else{sendForm(form);}}}
function validateCaptcha(form,invalidClassName,captchaIsValidCallback){var input=form.querySelectorAll('[data-type="captcha"]')[0];if(input.value.length===0){addClass(input,invalidClassName);return false;}else{window.get.captcha(input.value).done(function(data){loadCaptcha();input.value='';if(data!=='ok'){addClass(input,invalidClassName);addClass(input,'contact-captcha-invalid');removeClass(input,'contact-captcha-valid');input.placeholder=mk_captcha_invalid_txt;}else{removeClass(input,invalidClassName);removeClass(input,'contact-captcha-invalid');addClass(input,'contact-captcha-valid');input.placeholder=mk_captcha_correct_txt;captchaIsValidCallback(form);}});}}
function sendForm(form){var $form=$(form);var data=getFormData(form);progressButton.loader($form);$.post(ajaxurl,data,function(response){var res=JSON.parse(response);if(res.action_Status){progressButton.success($form);$form.find('.text-input').val('');$form.find('textarea').val('');$form.find('.contact-form-message').addClass('state-success').html(res.message);}else{progressButton.error($form);$form.find('.contact-form-message').removeClass('state-success').html(res.message);}});}
function initializeCaptchas(){loadCaptcha();var captchaChangeImageButtons=document.getElementsByClassName('captcha-change-image');for(var i=0;i<captchaChangeImageButtons.length;i++){captchaChangeImageButtons[i].addEventListener('click',loadCaptcha);}}
function loadCaptcha(e){if(e){e.preventDefault();}
$.post(ajaxurl,{action:'mk_create_captcha_image'},appendImage);function appendImage(captchaImageURL){if(captchaImageHolder.find('.captcha-image').length===0){captchaImageHolder.append('<img src="'+captchaImageURL+'" class="captcha-image" alt="captcha txt">');}else{captchaImageHolder.find('.captcha-image').attr("src",captchaImageURL+'?'+new Date().getTime());}}}
function getFormInputs(form){return form.querySelectorAll('input,textarea');}
function getFormData(form){var data={action:'mk_contact_form'};var inputs=getFormInputs(form);for(var i=0;i<inputs.length;i++){data[inputs[i].name]=inputs[i].value;}
return data;}}
function mk_login_form(){$('form.mk-login-form').each(function(){var $this=$(this);$this.on('submit',function(e){$('p.mk-login-status',$this).show().text(ajax_login_object.loadingmessage);$.ajax({type:'POST',dataType:'json',url:ajax_login_object.ajaxurl,data:{'action':'ajaxlogin','username':$('#username',$this).val(),'password':$('#password',$this).val(),'security':$('#security',$this).val()},success:function(data){$('p.mk-login-status',$this).text(data.message);if(data.loggedin===true){document.location.href=ajax_login_object.redirecturl;}}});e.preventDefault();});});}
var progressButton={loader:function(form){MK.core.loadDependencies([MK.core.path.plugins+'tweenmax.js'],function(){var $form=form,progressBar=$form.find(".mk-progress-button .mk-progress-inner"),buttonText=$form.find(".mk-progress-button .mk-progress-button-content"),progressButton=new TimelineLite();progressButton.to(progressBar,0,{width:"100%",scaleX:0,scaleY:1}).to(buttonText,.3,{y:-5}).to(progressBar,1.5,{scaleX:1,ease:Power2.easeInOut},"-=.1").to(buttonText,.3,{y:0}).to(progressBar,.3,{scaleY:0});});},success:function(form){MK.core.loadDependencies([MK.core.path.plugins+'tweenmax.js'],function(){var $form=form,buttonText=$form.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),successIcon=$form.find(".mk-progress-button .state-success"),progressButtonSuccess=new TimelineLite({onComplete:hideSuccessMessage});progressButtonSuccess.to(buttonText,.3,{paddingRight:20,ease:Power2.easeInOut},"+=1").to(successIcon,.3,{opacity:1}).to(successIcon,2,{opacity:1});function hideSuccessMessage(){progressButtonSuccess.reverse()}});},error:function(form){MK.core.loadDependencies([MK.core.path.plugins+'tweenmax.js'],function(){var $form=form,buttonText=$form.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),errorIcon=$form.find(".mk-progress-button .state-error"),progressButtonError=new TimelineLite({onComplete:hideErrorMessage});progressButtonError.to(buttonText,.3,{paddingRight:20},"+=1").to(errorIcon,.3,{opacity:1}).to(errorIcon,2,{opacity:1});function hideErrorMessage(){progressButtonError.reverse()}});}};function mk_click_events(){"use strict";var eventtype='click';$(".mk-header-login, .mk-header-signup, .mk-side-dashboard, .mk-quick-contact-wrapper, .mk-dashboard-trigger, .blog-share-container, .news-share-buttons, .main-nav-side-search, #mk-fullscreen-search-wrapper, #fullscreen-navigation").on(eventtype,function(event){if(event.stopPropagation){event.stopPropagation();}else if(window.event){window.event.cancelBubble=true;}});$("html").on(eventtype,function(){$(".mk-login-register, .mk-header-subscribe, #mk-quick-contact, .single-share-buttons, .single-share-box, .blog-social-share, .news-share-buttons, #mk-nav-search-wrapper").fadeOut(300);$('.mk-quick-contact-link').removeClass('quick-contact-active');});$('.mk-fullscreen-search-overlay').on(eventtype,function(){$(this).removeClass('mk-fullscreen-search-overlay-show');});$('.mk-forget-password').on(eventtype,function(){$('.mk-forget-panel').siblings().hide().end().show();});$('.mk-create-account').on(eventtype,function(){$('#mk-register-panel').siblings().hide().end().show();});$('.mk-return-login').on(eventtype,function(){$('#mk-login-panel').siblings().hide().end().show();});$('.mk-quick-contact-link').on(eventtype,function(){var $this=$(this),$quickContact=$('#mk-quick-contact');if(!$this.hasClass('quick-contact-active')){$quickContact.addClass('quick-contact-anim').fadeIn(250);$this.addClass('quick-contact-active');}else{$quickContact.removeClass('quick-contact-anim').fadeOut(100);$this.removeClass('quick-contact-active');}
return false;});}
function mk_social_share_global(){"use strict";var eventtype='click';$('.twitter-share').on(eventtype,function(){var $this=$(this),$url=$this.attr('data-url'),$title=$this.attr('data-title');window.open('http://twitter.com/intent/tweet?text='+$title+' '+$url,"twitterWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false;});$('.pinterest-share').on(eventtype,function(){var $this=$(this),$url=$this.attr('data-url'),$title=$this.attr('data-title'),$image=$this.attr('data-image');window.open('http://pinterest.com/pin/create/button/?url='+$url+'&media='+$image+'&description='+$title,"twitterWindow","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false;});$('.facebook-share').on(eventtype,function(){var $url=$(this).attr('data-url');window.open('https://www.facebook.com/sharer/sharer.php?u='+$url,"facebookWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false;});$('.googleplus-share').on(eventtype,function(){var $url=$(this).attr('data-url');window.open('https://plus.google.com/share?url='+$url,"googlePlusWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false;});$('.linkedin-share').on(eventtype,function(){var $this=$(this),$url=$this.attr('data-url'),$title=$this.attr('data-title'),$desc=$this.attr('data-desc');window.open('http://www.linkedin.com/shareArticle?mini=true&url='+$url+'&title='+$title+'&summary='+$desc,"linkedInWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false;});}
function mk_event_countdown(){if($.exists('.mk-event-countdown')){MK.core.loadDependencies([MK.core.path.plugins+'jquery.countdown.js'],function(){$('.mk-event-countdown').each(function(){if(isTest)return;var $this=$(this),$date=$this.attr('data-date'),$offset=$this.attr('data-offset');$this.downCount({date:$date,offset:$offset});});});}}
function mk_flexslider_init(){var $lcd=$('.mk-lcd-slideshow'),$laptop=$('.mk-laptop-slideshow-shortcode');if($lcd.length)$lcd.find('.mk-lcd-image').fadeIn();if($laptop.length)$laptop.find(".mk-laptop-image").fadeIn();$('.js-flexslider').each(function(){if($(this).parents('.mk-tabs').length||$(this).parents('.mk-accordion').length){$(this).removeData("flexslider");}
var $this=$(this),$selector=$this.attr('data-selector'),$animation=$this.attr('data-animation'),$easing=$this.attr('data-easing'),$direction=$this.attr('data-direction'),$smoothHeight=$this.attr('data-smoothHeight')=="true"?true:false,$slideshowSpeed=$this.attr('data-slideshowSpeed'),$animationSpeed=$this.attr('data-animationSpeed'),$controlNav=$this.attr('data-controlNav')=="true"?true:false,$directionNav=$this.attr('data-directionNav')=="true"?true:false,$pauseOnHover=$this.attr('data-pauseOnHover')=="true"?true:false,$isCarousel=$this.attr('data-isCarousel')=="true"?true:false;if($selector!==undefined){var $selector_class=$selector;}else{var $selector_class=".mk-flex-slides > li";}
if($isCarousel===true){var $itemWidth=parseInt($this.attr('data-itemWidth')),$itemMargin=parseInt($this.attr('data-itemMargin')),$minItems=parseInt($this.attr('data-minItems')),$maxItems=parseInt($this.attr('data-maxItems')),$move=parseInt($this.attr('data-move'));}else{var $itemWidth=$itemMargin=$minItems=$maxItems=$move=0;}
MK.core.loadDependencies([MK.core.path.plugins+'jquery.flexslider.js'],function(){$this.flexslider({selector:$selector_class,animation:$animation,easing:$easing,direction:$direction,smoothHeight:$smoothHeight,slideshow:!isTest,slideshowSpeed:$slideshowSpeed,animationSpeed:$animationSpeed,controlNav:$controlNav,directionNav:$directionNav,pauseOnHover:$pauseOnHover,prevText:"",nextText:"",itemWidth:$itemWidth,itemMargin:$itemMargin,minItems:$minItems,maxItems:$maxItems,move:$move});});});}
function mk_header_searchform(){$('.mk-search-trigger').click(function(){setTimeout(function(){$('#mk-ajax-search-input').focus();},500);});"use strict";$('.mk-header-toolbar .mk-header-searchform .text-input').on('focus',function(){if($('.mk-header-toolbar .mk-header-searchform .text-input').hasClass('on-close-state')){$('.mk-header-toolbar .mk-header-searchform .text-input').removeClass('on-close-state').animate({'width':'200px'},200);return false;}});$(".mk-header-toolbar .mk-header-searchform").click(function(event){if(event.stopPropagation){event.stopPropagation();}else if(window.event){window.event.cancelBubble=true;}});$("html").click(function(){$(this).find(".mk-header-toolbar .mk-header-searchform .text-input").addClass('on-close-state').animate({'width':90},300);});if(MK.utils.browser.name==='Edge'){$('#mk-fullscreen-search-input').on('keydown',function(e){if(e.which==13){e.preventDefault();$('#mk-fullscreen-searchform').submit();}});}}
function mk_hover_events(){"use strict";$('.shopping-cart-header').hover(function(){$(this).find('.mk-shopping-cart-box').stop(true,true).fadeIn(250);},function(){$(this).find('.mk-shopping-cart-box').stop(true,true).fadeOut(250);});$('.widget-sub-navigation > ul > li, .widget_nav_menu ul.menu > li, .widget_product_categories ul > .cat-item').each(function(){var $this=$(this),$subLevel=$this.find('ul').first();if($this.hasClass('page_item_has_children')||$this.hasClass('menu-item-has-children')||$this.hasClass('cat-parent')){$this.on('click',function(){if($this.hasClass('toggle-active')){$subLevel.stop(true,true).slideUp(700);$this.removeClass('toggle-active');}else{$subLevel.stop(true,true).slideDown(700);$this.addClass('toggle-active');}});$subLevel.on('click',function(e){e.stopPropagation();});}});var eventtype='click';$('.mk-fullscreen-trigger').on(eventtype,function(e){$('.mk-fullscreen-search-overlay').addClass('mk-fullscreen-search-overlay-show');setTimeout(function(){$("#mk-fullscreen-search-input").focus();},300);e.preventDefault();});$('.mk-fullscreen-close').on(eventtype,function(e){$('.mk-fullscreen-search-overlay').removeClass('mk-fullscreen-search-overlay-show');e.preventDefault();});}
function mk_unfold_footer(){var $this=$('#mk-footer'),$spacer=$('#mk-footer-unfold-spacer'),$footerHeight=$this.outerHeight();if(!window.matchMedia("(max-width: 767px)").matches){if($this.hasClass('mk-footer-unfold')){$spacer.css('height',$footerHeight);}}else{$spacer.css('height',0);}}
function mk_lightbox_init(){var $lightbox=$(".mk-lightbox");$lightbox.fancybox({padding:15,margin:15,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:'auto',wrapCSS:'',arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,openEffect:'fade',openSpeed:200,openEasing:'swing',openOpacity:true,openMethod:'zoomIn',closeEffect:'fade',closeSpeed:200,closeEasing:'swing',closeOpacity:true,closeMethod:'zoomOut',nextEffect:'none',nextSpeed:350,nextEasing:'swing',nextMethod:'changeIn',prevEffect:'none',prevSpeed:350,prevEasing:'swing',prevMethod:'changeOut',helpers:{media:{},overlay:{locked:true}},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"><i><svg class="mk-svg-icon" svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M390.628 345.372l-45.256 45.256-89.372-89.373-89.373 89.372-45.255-45.255 89.373-89.372-89.372-89.373 45.254-45.254 89.373 89.372 89.372-89.373 45.256 45.255-89.373 89.373 89.373 89.372z"/></svg></i></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span><i><svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M144 505.6c8 0 16-3.2 22.4-8l240-225.6c6.4-6.4 9.6-14.4 9.6-22.4s-3.2-16-9.6-22.4l-240-224c-12.8-12.8-32-12.8-44.8 0s-11.2 32 1.6 44.8l214.4 201.6-216 203.2c-12.8 11.2-12.8 32 0 44.8 6.4 4.8 14.4 8 22.4 8z"/></svg></i></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span><i><svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M368 505.6c-8 0-16-3.2-22.4-8l-240-225.6c-6.4-6.4-9.6-14.4-9.6-24 0-8 3.2-16 9.6-22.4l240-224c12.8-11.2 33.6-11.2 44.8 1.6 12.8 12.8 11.2 32-1.6 44.8l-214.4 201.6 216 203.2c12.8 11.2 12.8 32 0 44.8-4.8 4.8-14.4 8-22.4 8z"/></svg></i></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},afterLoad:function(){$('html').addClass('fancybox-lock');$('.fancybox-wrap').appendTo('.fancybox-overlay');}});}
function mk_love_post(){"use strict";$('body').on('click','.mk-love-this',function(){var $this=$(this),$id=$this.attr('id');if($this.hasClass('item-loved'))return false;if($this.hasClass('item-inactive'))return false;var $sentdata={action:'mk_love_post',post_id:$id}
$.post(ajaxurl,$sentdata,function(data){$this.find('.mk-love-count').html(data);$this.addClass('item-loved');});$this.addClass('item-inactive');return false;});}
function mk_milestone(){"use strict";if(isTest||!$.exists('.mk-milestone'))return;$('.mk-milestone').each(function(){var $this=$(this),stop_number=$this.find('.milestone-number').attr('data-stop'),animation_speed=parseInt($this.find('.milestone-number').attr('data-speed'));var build=function(){if(!$this.hasClass('scroll-animated')){$this.addClass('scroll-animated');$({countNum:$this.find('.milestone-number').text()}).animate({countNum:stop_number},{duration:animation_speed,easing:'linear',step:function(){$this.find('.milestone-number').text(Math.floor(this.countNum));},complete:function(){$this.find('.milestone-number').text(this.countNum);}});}};if(!MK.utils.isMobile()){MK.utils.scrollSpy(this,{position:'bottom',after:build});}else{build();}});}
function mk_portfolio_widget(){"use strict";$('.widget_recent_portfolio li').each(function(){$(this).find('.portfolio-widget-thumb').hover(function(){$(this).siblings('.portfolio-widget-info').animate({'opacity':1},200);},function(){$(this).siblings('.portfolio-widget-info').animate({'opacity':0},200);});});}
function mk_skill_meter(){"use strict";if($.exists('.mk-skill-meter')){if(!MK.utils.isMobile()){$(".mk-skill-meter .progress-outer").each(function(){var $this=$(this);var build=function(){if(!$this.hasClass('scroll-animated')){$this.addClass('scroll-animated');$this.animate({width:$this.attr("data-width")+'%'},2000);}};MK.utils.scrollSpy(this,{position:'bottom',after:build});});}else{$(".mk-skill-meter .progress-outer").each(function(){var $this=$(this);if(!$this.hasClass('scroll-animated')){$this.addClass('scroll-animated');$this.css({width:$(this).attr("data-width")+'%'});}});}}}
$("#mc-embedded-subscribe-form").submit(function(e){var $this=$(this);e.preventDefault();$.ajax({url:MK.core.path.ajaxUrl,type:"POST",data:{action:"mk_ajax_subscribe",email:$this.find(".mk-subscribe--email").val(),list_id:$this.find(".mk-subscribe--list-id").val(),optin:$this.find(".mk-subscribe--optin").val()},success:function(res){$this.parent().find(".mk-subscribe--message").html($.parseJSON(res).message);}});});function addClass(tag,className){tag.className+=' '+className;}
function removeClass(tag,className){tag.className=tag.className.replace(new RegExp(className,'g'),'');}
if(typeof exports!=='undefined'){exports.addClass=addClass;exports.removeClass=removeClass;}
function validateEmail(input,invalidClassName){var value=input.value.trim();if((input.required||value.length>0)&&!/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,63})$/i.test(value)){if(invalidClassName){addClass(input,invalidClassName);}
return false;}else{if(invalidClassName){removeClass(input,invalidClassName);}
return true;}}
function validateText(input,invalidClassName){var value=input.value.trim();if(input.required&&value.length===0){if(invalidClassName){addClass(input,invalidClassName);}
return false;}else{if(invalidClassName){removeClass(input,invalidClassName);}
return true;}}
if(typeof exports!=='undefined'){exports.validateEmail=validateEmail;exports.validateText=validateText;}
(function($){'use strict';var $wrapper=$('.js-bottom-corner-btns');var $contactBtn=$wrapper.find('.js-bottom-corner-btn--contact');var $backBtn=$wrapper.find('.js-bottom-corner-btn--back');var hasContactBtn=$contactBtn.length;var hasBackBtn=$backBtn.length;if(!hasBackBtn)return;function deactivate(){$contactBtn.removeClass('is-active');$backBtn.removeClass('is-active');}
function activate(){$contactBtn.addClass('is-active');$backBtn.addClass('is-active');}
MK.utils.scrollSpy(400,{before:deactivate,after:activate});})(jQuery);(function($){'use strict';$('.mk-fullscreen-nav-close, .mk-fullscreen-nav-wrapper, #fullscreen-navigation a').on('click',function(e){$('.mk-fullscreen-nav').removeClass('opened');$('.mk-dashboard-trigger').removeClass('fullscreen-active');$('body').removeClass('fullscreen-nav-opened');var anchor=MK.utils.detectAnchor(this),$this=$(this);if(anchor.length){e.preventDefault();MK.utils.scrollToAnchor(anchor);}else if($this.attr('href')==='#'){e.preventDefault();}});$('.fullscreen-navigation-ul .menu-sub-level-arrow').on('click',function(){$(this).siblings('.sub-menu').slideToggle();});}(jQuery));(function($){'use strict';var $navList=$(".main-navigation-ul");var megaMenu=function megaMenu(){$navList.MegaMenu({type:"vertical",delay:200});};$(window).on('load',megaMenu);}(jQuery));(function($){'use strict';var onePageNavItem=function onePageNavItem(){var $this=$(this),link=$this.find('a'),anchor=MK.utils.detectAnchor(link);if(!anchor.length)return;$this.removeClass('current-menu-item current-menu-ancestor current-menu-parent');var activeNav=function(state){return function(){$this[state?'addClass':'removeClass']('current-menu-item');window.history.replaceState(undefined,undefined,[state?anchor:' ']);};};MK.utils.scrollSpy($(anchor)[0],{before:activeNav(false),active:activeNav(true),after:activeNav(false),});};var $navItems=$('.js-main-nav').find('li');$(window).on('load',function(){setTimeout(function(){$navItems.each(onePageNavItem);},1000);});}(jQuery));(function($){'use strict';var $window=$(window);var $body=$('body');var $resMenuWrap=$('.mk-responsive-wrap');var $post_nav=$('.mk-post-nav');var $toolbar=$('.mk-header-toolbar');var $resMenuLink=$('.mk-nav-responsive-link');var hasResMenu=($resMenuWrap.length>0);var windowHeight=$window.height();var screenHeight=screen.height;$('.mk-toolbar-resposnive-icon').on('click',function(e){e.preventDefault();console.log('clicked');if($body.hasClass('toolbar-opened')){$body.removeClass('toolbar-opened').addClass('toolbar-closed');$toolbar.hide();}else{$body.removeClass('toolbar-closed').addClass('toolbar-opened');$toolbar.show();}});if(!hasResMenu)return;function toggleResMenu(e){e.preventDefault();var $this=$(this);var $headerInner=$this.parents('header');var $resMenu=$headerInner.find('.mk-responsive-wrap');var searchBox=$('.responsive-searchform .text-input');var adminBarHeight=$('#wpadminbar').height();if($body.hasClass('mk-opened-nav')){$this.removeClass('is-active');$body.removeClass('mk-opened-nav').addClass('mk-closed-nav').trigger('mk-closed-nav');$resMenu.hide();$post_nav.removeClass('post-nav-backward');}else{$this.addClass('is-active');$body.removeClass('mk-closed-nav').addClass('mk-opened-nav').trigger('mk-opened-nav');$resMenu.show();$post_nav.addClass('post-nav-backward');var offset=$headerInner.offset().top;var headerHeight=MK.val.offsetHeaderHeight(offset);MK.utils.scrollTo(offset-headerHeight-adminBarHeight+5);}
if(searchBox.hasClass('input-focused')){searchBox.removeClass('input-focused');}}
$resMenuLink.each(function(){$(this).on('click',toggleResMenu);});var setResMenuHeight=function(){var height=$window.height()-MK.val.offsetHeaderHeight(0);$resMenuWrap.css('max-height',height);};setResMenuHeight();$window.on('resize',setResMenuHeight);var isVirtualKeyboard=function(){var currentWindowHeight=$window.height();var currentScreenHeight=screen.height;var searchBox=$('.responsive-searchform .text-input');var searchBoxIsFocused=false;searchBox.on('touchstart touchend',function(e){searchBox.addClass('input-focused');});searchBoxIsFocused=(searchBox.is(':focus')||searchBox.hasClass("input-focused"));if($body.hasClass('mk-opened-nav')&&searchBoxIsFocused&&currentScreenHeight==screenHeight&&currentWindowHeight!=windowHeight){return true;}else{return false;}};var hideResMenu=function hideResMenu(){if(MK.utils.isResponsiveMenuState()){if(!isVirtualKeyboard()){if($body.hasClass('mk-opened-nav')){$resMenuLink.filter('.is-active').trigger('click');}
$resMenuWrap.hide();}}};$window.on('resize',hideResMenu);$resMenuWrap.on('click','a',hideResMenu);}(jQuery));(function($){'use strict';var $header=$('.mk-header');var hasHeader=($header.length>0);if(!hasHeader)return;var $sticky_style=$header.attr('data-header-style');$('.sidedash-navigation-ul > li').each(function(){var $this=$(this);$this.children('ul').siblings('a').after('<span class="mk-nav-arrow mk-nav-sub-closed"><svg class="mk-svg-icon" data-name="mk-moon-arrow-down" data-cacheid="2" style=" height:14px; width: 14px; " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M512 192l-96-96-160 160-160-160-96 96 256 255.999z"></path></svg></span>');});$('.mk-nav-arrow').stop(true).on('click',function(e){e.preventDefault();var $this=$(this);if($this.hasClass('mk-nav-sub-closed')){$this.siblings('ul').slideDown(450).end().removeClass('mk-nav-sub-closed').addClass('mk-nav-sub-opened');}else{$this.siblings('ul').slideUp(450).end().removeClass('mk-nav-sub-opened').addClass('mk-nav-sub-closed');}});$('.mk-dashboard-trigger').on('click',function(e){var $this=$(this),$body=$('body'),$fullscreen_box=$('.mk-fullscreen-nav');if($this.hasClass('dashboard-style')){if(!$this.hasClass('dashboard-active')){$this.addClass('dashboard-active');$body.addClass('dashboard-opened');}else{$this.removeClass('dashboard-active');$body.removeClass('dashboard-opened');}}else if($this.hasClass('fullscreen-style')){if(!$this.hasClass('fullscreen-active')){$this.addClass('fullscreen-active');$body.addClass('fullscreen-nav-opened');$fullscreen_box.addClass('opened');}else{$this.removeClass('fullscreen-active');$body.removeClass('fullscreen-nav-opened');$fullscreen_box.removeClass('opened');}}
e.preventDefault();});$('html').on('click',function(){$('body').removeClass('dashboard-opened');$('.mk-dashboard-trigger').removeClass('dashboard-active');});}(jQuery));(function($){'use strict';var $verticalMenu=$('#mk-vm-menu');var verticalMenu=function verticalMenu(){if(!$verticalMenu.data('vertical-menu')&&!MK.utils.isResponsiveMenuState()){$verticalMenu.dlmenu();$verticalMenu.data('vertical-menu',true);}};verticalMenu();$(window).on('resize',verticalMenu);}(jQuery));(function($){'use strict';var $lang_item=$('.mk-main-navigation > .main-navigation-ul > .menu-item-language');$lang_item.addClass('no-mega-menu').css('visibility','visible');$('.mk-main-navigation .menu-item-language > a').addClass('menu-item-link');})(jQuery);(function($){'use strict';var $header=$('.mk-header').first();var hasHeader=($header.length>0);if(!hasHeader)return;var $window=$(window);var $document=$(document);var $headerHolder=$header.find('.mk-header-holder');var $paddingWrapper=$header.find('.mk-header-padding-wrapper');var config=$header.data();var isStickyLazy=(config.stickyStyle==='lazy');var isStickyFixed=(config.stickyStyle==='fixed');var isStickySlide=(config.stickyStyle==='slide');function isSticky(){return true;}
function isColorable(){return config.headerStyle!==4;}
function changeSkin(e,skin){$header.attr('data-transparent-skin',skin);var contrast=skin==='light'?'dark':'light';$header.addClass(skin+'-skin');$header.removeClass(contrast+'-skin');}
if(isColorable())MK.utils.eventManager.subscribe('firstElSkinChange',changeSkin);if(isSticky()&&isStickyLazy){if(config.headerStyle!==2){lazySticky();}}
else if(isSticky()&&isStickyFixed)fixedSticky();else if(isSticky()&&isStickySlide)slideSticky();function lazySticky(){var elClassHidden='header--hidden';var elClassSticky='a-sticky';var wScrollCurrent=0;var wScrollBefore=0;var wScrollDiff=0;var wHeight=0;var dHeight=0;var setSizes=function setSizes(){dHeight=$document.height();wHeight=$window.height();};var onScroll=function onScroll(){wScrollCurrent=MK.val.scroll();wScrollDiff=wScrollBefore-wScrollCurrent;if(wScrollCurrent<=0){$headerHolder.removeClass(elClassHidden);$header.removeClass(elClassSticky);}else if(wScrollDiff>0&&$headerHolder.hasClass(elClassHidden)){$headerHolder.removeClass(elClassHidden);$header.addClass(elClassSticky);}else if(wScrollDiff<0){if(wScrollCurrent+wHeight>=dHeight&&$headerHolder.hasClass(elClassHidden)){$headerHolder.removeClass(elClassHidden);$header.addClass(elClassSticky);}else{$headerHolder.addClass(elClassHidden);$header.removeClass(elClassSticky);}}
wScrollBefore=wScrollCurrent;};setSizes();onScroll();$window.on('resize',MK.utils.throttle(100,setSizes));$window.on('scroll',MK.utils.throttle(500,onScroll));}
function fixedSticky(){var sticked=false;var scrollPos;var toggleState=function toggleState(){scrollPos=MK.val.scroll()+MK.val.adminbarHeight();if((scrollPos>MK.val.stickyOffset())&&!MK.utils.isResponsiveMenuState()){if(sticked)return;$header.addClass('a-sticky');sticked=true;}else{if(!sticked)return;$header.removeClass('a-sticky');sticked=false;}};toggleState();$window.on('scroll',MK.utils.throttle(100,toggleState));$window.on('resize',MK.utils.throttle(100,toggleState));}
function slideSticky(){var sticked=false;var onScroll=function onScroll(){if(MK.val.scroll()>MK.val.stickyOffset()){if(sticked)return;$header.addClass('pre-sticky');$paddingWrapper.addClass('enable-padding');setTimeout(function(){$header.addClass('a-sticky');},1);sticked=true;}else{if(!sticked)return;$header.removeClass('a-sticky');$header.removeClass('pre-sticky');$paddingWrapper.removeClass('enable-padding');sticked=false;}};onScroll();$window.on('scroll',MK.utils.throttle(100,onScroll));}})(jQuery);(function($){'use strict';var hasTouchscreen=('ontouchstart'in document.documentElement);if(!hasTouchscreen)return;$('.mk-main-navigation .menu-item-has-children').each(normalizeClick);function normalizeClick(){$(this).on('click',handleClick);}
function handleClick(e){var $this=$(e.currentTarget);var $child=$this.find('> ul');var isVisible=$child.css('display')!=='none';if(!isVisible){e.preventDefault();e.stopPropagation();}}}(jQuery));(function($){'use strict';MK.ui.preloader={dom:{overlay:'.mk-body-loader-overlay'},hide:function hide(){$(this.dom.overlay).fadeOut(600,"easeInOutExpo",function(){$('body').removeClass('loading');});}};})(jQuery);(function($){'use strict';var _ajaxUrl=MK.core.path.ajaxUrl;var _instances={};MK.utils.ajaxLoader=function ajaxLoader(el){var id='#'+($(el).attr('id'));if(typeof _instances[id]!=='undefined')return _instances[id];this.id=id;this.el=el;this.isLoading=false;this.xhrCounter=0;};MK.utils.ajaxLoader.prototype={init:function init(){if(this.initialized)return;this.createInstance();this.cacheElements();this.initialized=true;},cacheElements:function cacheElements(){this.$container=$(this.el);this.id='#'+(this.$container.attr('id'));this.categories=this.$container.data('loop-categories');this.data={};this.data.action='mk_load_more';this.data.query=this.$container.data('query');this.data.atts=this.$container.data('loop-atts');this.data.loop_iterator=this.$container.data('loop-iterator');this.data.author=this.$container.data('loop-author');this.data.posts=this.$container.data('loop-posts');this.data.safe_load_more=this.$container.siblings('#safe_load_more').val();this.data._wp_http_referer=this.$container.siblings('input[name="_wp_http_referer"]').val();this.data.paged=1;this.data.maxPages=this.$container.data('max-pages');this.data.term=this.categories;},createInstance:function(){_instances[this.id]=this;},load:function load(unique){var self=this;var seq=++this.xhrCounter;this.isLoading=true;if(this.$container.siblings('.mk-ajax-loaded-posts').length){var loaded_posts=this.$container.siblings('.mk-ajax-loaded-posts').attr('data-loop-loaded-posts');if(this.$container.attr('data-pagination-style')!=1){self.data.loaded_posts=loaded_posts.split(',');}}
return $.when($.ajax({url:_ajaxUrl,type:"POST",data:self.data})).done(function(response){self.onDone(response,unique,seq);});},onDone:function(response,unique,seq){if(seq===this.xhrCounter){var self=this;response=$.parseJSON(response);response.unique=parseInt(unique,10);response.id=this.id;if(this.$container.siblings('.mk-ajax-loaded-posts').length){this.$container.siblings('.mk-ajax-loaded-posts').attr('data-loop-loaded-posts',response.loaded_posts);}
this.setData({maxPages:response.maxPages,found_posts:response.found_posts,loop_iterator:response.i});$(response.content).mk_imagesLoaded().then(function(){MK.utils.eventManager.publish('ajaxLoaded',response);self.isLoading=false;self.initNewComponents();});}else console.log('XHR request nr '+seq+' aborted');},setData:function setData(atts){for(var att in atts){if(att==='term'&&atts[att]==='*')this.data.term='';else this.data[att]=atts[att];}},getData:function getData(att){return this.data[att];},initNewComponents:function initNewComponents(){window.ajaxInit();setTimeout(window.ajaxDelayedInit,1000);MK.core.initAll(this.el);}};}(jQuery));(function($){'use strict';var $win=$(window),$layers=$('[data-mk-img-set]'),screen=getScreenSize(),orientation=getOrientation(),device=getDevice(),lastOrientation=orientation,lastDevice=device;run();$win.on('resize',MK.utils.throttle(500,handleResize));function run(){$layers.each(applyBg);}
function applyBg(){var $this=$(this),imgs=$this.data('mk-img-set');$this.css('background-image','url('+getImage(imgs)+')');$this.find('.mk-adaptive-image').attr('src',getImage(imgs));}
function handleResize(){updateScreenSize();if(hasSwitched()){updateDevice();run();}}
function getScreenSize(){return{w:$win.width(),h:$win.height()};}
function getDevice(){if(screen.w>1024)return{class:'desktop',id:2};else if(screen.w>736)return{class:'tablet',id:1};else return{class:'mobile',id:0};}
function getOrientation(){if(screen.w>screen.h)return'landscape';else return'portrait';}
function getImage(imgs){if(imgs['responsive']==='false'){return(imgs['landscape']['desktop'])?imgs['landscape']['desktop']:(imgs['landscape']['external']?imgs['landscape']['external']:'');}
var hasOrientation=!!imgs[orientation];var imgOriented=imgs[(hasOrientation?orientation:Object.keys(imgs)[0])],imgExact=(imgOriented[device.class])?imgOriented[device.class]:(imgOriented['external']?imgOriented['external']:'');return imgExact;}
function updateScreenSize(){screen=getScreenSize();}
function updateDevice(){if(lastOrientation!==orientation)orientation=lastOrientation;if(lastDevice.id>device.id)device=lastDevice;}
function hasSwitched(){lastOrientation=getOrientation();lastDevice=getDevice();if(lastOrientation!==orientation||lastDevice.class!==device.class)return true;else return false;}}(jQuery));(function($){'use strict';var val=MK.val;MK.component.FullHeight=function(el){var $window=$(window),$this=$(el),config=$this.data('fullheight-config'),container=document.getElementById('mk-theme-container'),minH=(config&&config.min)?config.min:0,winH=null,height=null,update_count=0,testing=MK.utils.getUrlParameter('testing'),offset=null;if(MK.utils.browser.name===('IE'||'Edge'))$this.css('height','1px');var update=function(){if(update_count===0){winH=$window.height();offset=$this.offset().top-1;height=Math.max(minH,winH-val.offsetHeaderHeight(offset));$this.css('min-height',height);if(testing!==undefined)
update_count++;}};var init=function(){update();$window.on('resize',update);$window.on('scroll',update);window.addResizeListener(container,update);};return{init:init};};})(jQuery);(function($){'use strict';var core=MK.core,utils=MK.utils,path=MK.core.path;MK.ui.FullScreenGallery=function(element,settings){this.element=element;this.config=settings;this.isFullScreen=false;};MK.ui.FullScreenGallery.prototype={dom:{fullScrBtn:'.slick-full-screen',exitFullScrBtn:'.slick-minimize',playBtn:'.slick-play',pauseBtn:'.slick-pause',shareBtn:'.slick-share',socialShare:'.slick-social-share',wrapper:'.slick-slider-wrapper',slider:'.slick-slides',slides:'.slick-slide',dots:'.slick-dot',active:'.slick-active',hiddenClass:'is-hidden',dataId:'slick-index'},tpl:{dot:'<div class="slick-dot"></div>',next:'<a href="javascript:;" class="slick-next"> <svg width="33px" height="65px"> <polyline fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points=" 0.5,0.5 32.5,32.5 0.5,64.5"/> </svg> </a>',prev:'<a href="javascript:;" class="slick-prev"> <svg  width="33px" height="65px"> <polyline fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points=" 32.5,64.5 0.5,32.5 32.5,0.5"/> </svg> </a>'},init:function(){var self=this;self.cacheElements();self.getViewportSizes();self.updateSizes('window');self.create();self.updateCacheElements();self.createPagination();self.bindEvents();},create:function(){var self=this;this.slick=this.$gallery.slick({dots:true,arrows:true,infinite:true,speed:300,slidesToShow:1,centerMode:true,centerPadding:'0px',variableWidth:true,autoplay:false,autoplaySpeed:3000,useTransform:true,prevArrow:self.tpl.prev,nextArrow:self.tpl.next,customPaging:function(slider,i){return self.tpl.dot;},});},cacheElements:function(){this.$window=$(window);this.$gallery=$(this.element);this.$fullScrBtn=$(this.dom.fullScrBtn);this.$exitFullScrBtn=$(this.dom.exitFullScrBtn);this.$playBtn=$(this.dom.playBtn);this.$pauseBtn=$(this.dom.pauseBtn);this.$shareBtn=$(this.dom.shareBtn);this.$socialShare=$(this.dom.socialShare);this.$wrapper=$(this.dom.wrapper);this.$slider=$(this.dom.slider);this.$slides=$(this.dom.slides);this.$imgs=this.$slides.find('img');this.$originalImgs=this.$imgs;},updateCacheElements:function(){this.$slides=$(this.dom.slides);this.$imgs=this.$slides.find('img');this.$dots=$(this.dom.dots);},bindEvents:function(){var self=this;this.$fullScrBtn.on('click',this.toFullScreen.bind(this));this.$exitFullScrBtn.on('click',this.exitFullScreen.bind(this));this.$playBtn.on('click',this.play.bind(this));this.$pauseBtn.on('click',this.pause.bind(this));this.$shareBtn.on('click',this.toggleShare.bind(this));this.$socialShare.on('click','a',this.socialShare.bind(this));this.$window.on('resize',this.onResize.bind(this));this.$window.on('keydown',function(e){if(e.keyCode===39)self.$gallery.slick('slickNext');if(e.keyCode===37)self.$gallery.slick('slickPrev');});$(document).on('fullscreenchange mozfullscreenchange webkitfullscreenchange msfullcreenchange',this.exitFullScreen.bind(this));},getViewportSizes:function(){this.screen={w:screen.width,h:screen.height};this.window={w:this.$window.width(),h:this.$window.height()};},updateSizes:function(viewport){this.$wrapper.width(this[viewport].w);this.$wrapper.height('100%');this.$imgs.height('100%');},createPagination:function(){var self=this;this.$dots.each(function(i){var img=self.$originalImgs.eq(i).attr('src');$(this).css({'background-image':'url('+img+')'});});},play:function(e){e.preventDefault();this.$playBtn.addClass(this.dom.hiddenClass);this.$pauseBtn.removeClass(this.dom.hiddenClass);$(this.element).slick('slickPlay');},pause:function(e){e.preventDefault();this.$pauseBtn.addClass(this.dom.hiddenClass);this.$playBtn.removeClass(this.dom.hiddenClass);$(this.element).slick('slickPause');},toggleShare:function(e){e.preventDefault();this.$socialShare.toggleClass(this.dom.hiddenClass);},getCurentId:function(){return this.$slides.filter(this.dom.active).data(this.dom.dataId);},toFullScreen:function(){var self=this;this.$fullScrBtn.addClass(this.dom.hiddenClass);this.$exitFullScrBtn.removeClass(this.dom.hiddenClass);this.$slider.hide().fadeIn(500);utils.launchIntoFullscreen(document.documentElement);this.updateSizes('screen');$(this.element).slick('slickGoTo',this.getCurentId(),true);setTimeout(function(){self.isFullScreen=true;},1000);},exitFullScreen:function(){if(this.isFullScreen){this.$exitFullScrBtn.addClass(this.dom.hiddenClass);this.$fullScrBtn.removeClass(this.dom.hiddenClass);utils.exitFullscreen();this.updateSizes('window');$(this.element).slick('slickGoTo',this.getCurentId(),true);this.isFullScreen=false;}},onResize:function(){this.getViewportSizes();this.updateSizes(this.isFullScreen?'screen':'window');$(this.element).slick('refresh');$(this.element).slick('slickGoTo',this.getCurentId(),true);this.updateCacheElements();this.createPagination();},socialShare:function(e){e.preventDefault();var $this=$(e.currentTarget),network=$this.data('network'),id=this.config.id,url=this.config.url,title=this.$wrapper.find('.slick-title').text(),name;var picture=this.$slides.filter(this.dom.active).children().first().attr('src');switch(network){case'facebook':url='https://www.facebook.com/sharer/sharer.php?picture='+picture+'&u='+url+'#id='+id;name='Facebook Share';break;case'twitter':url='http://twitter.com/intent/tweet?text='+url+'#id='+id;name='Twitter Share';break;case'pinterest':url='http://pinterest.com/pin/create/bookmarklet/?media='+picture+'&url='+url+'&is_video=false&description='+title;name='Pinterest Share';break;}
window.open(url,name,"height=380 ,width=660, resizable=0, toolbar=0, menubar=0, status=0, location=0, scrollbars=0");}};})(jQuery);(function($){'use strict';MK.component.Grid=function(el){var $container=$(el);var config=$container.data('grid-config');var isSlideshow=$container.closest('[data-mk-component="SwipeSlideshow"]').length;var miniGridConfig={container:el,item:config.item+':not(.is-hidden)',gutter:0};var init=function init(){if(isSlideshow)return;MK.core.loadDependencies([MK.core.path.plugins+'minigrid.js'],create);};var prepareForGrid=function prepareForGrid(){var $item=$(this);var isHidden=($item.css('display')==='none');if(isHidden)$item.addClass('is-hidden');else $item.removeClass('is-hidden');};var create=function create(){var timer=null;function draw(){$container.find(config.item).each(prepareForGrid);minigrid(miniGridConfig);}
function redraw(){if(timer)clearTimeout(timer);timer=setTimeout(draw,100);}
draw();$(window).off('resize',redraw);$(window).on('resize',redraw);MK.utils.eventManager.subscribe('item-expanded',redraw);MK.utils.eventManager.subscribe('ajaxLoaded',redraw);MK.utils.eventManager.subscribe('staticFilter',redraw);};return{init:init};};})(jQuery);(function($){'use strict';var families=[['awesome-icons','mk-icon'],['icomoon','mk-moon'],['pe-line-icons','mk-li'],['theme-icons','mk-jupiter-icon']];var extend={'awesome-icons':['.mk-accordion-tab','.mk-toggle-title','.mk-blockquote.quote-style','blockquote','.mk-main-navigation ul','.sf-sub-indicator','.widget_archive li a','.widget_categories li a','.widget_nav_menu li a','.widget_links li a','.widget_pages li a','.widget_meta li a','.widget_authors li a','.widget_popular_tags li a','.widget_recent_comments li','.widget_rss li a','.widget_recent_entries li a','.tw_list .tweet_list li a','#wp-calendar #prev','#wp-calendar #next','.mk-jupiter-icon-simple-xing','.widget_product_categories li a','.widget-sub-navigation li a','.main-navigation-ul li.with-menu > a','.blog-blockquote-content','.ls-nav-prev','.ls-nav-next'],'icomoon':['.mk-woocommerce-pagination .next','.mk-woocommerce-pagination .prev','.product-loading-icon','.mk-jupiter-icon-xing','.mk-jupiter-icon-square-xing'],'pe-line-icons':[],'theme-icons':[]};var _cache={};var _cacheId=0;var _config=[];var _roundCount=0;var _iconMap={};var getIconsSprite=(function(){var $icons=null;var iterator=0;function run(callback){var config=encodeURIComponent(JSON.stringify(_config));$.ajax({url:MK.core.path.ajaxUrl,method:'POST',data:{action:'mk_get_icon',iterator:iterator++,config:config},success:function(sprite){callback(sprite,$icons);_config=[];_iconMap={};$icons=null;},error:function(err){console.log('Icon load problem');}});}
return function(callback,$els,count){if(!$icons)$icons=$els;else $icons.add($els);if(!count)run(callback);};}());$(window).on('load',function(){setTimeout(function(){createAll(document);if($('.mk-header').length)createAll('.mk-header');if($('.js-flexslider, .mk-flexslider').length)createAll('.js-flexslider, .mk-flexslider');if($('.mk-accordion').length)createAll('.mk-accordion');},1000);});MK.utils.eventManager.subscribe('ajaxLoaded',function(){setTimeout(createAll,100,'.js-loop');});MK.utils.eventManager.subscribe('ajax-preview',function(){setTimeout(createAll,100,'.ajax-container');});MK.utils.eventManager.subscribe('photoAlbum-open',function(){setTimeout(createAll,100,'.gallery-share');});MK.utils.eventManager.subscribe('quickViewOpen',function(){setTimeout(createAll,300,'.mk-modal-content');});function createAll(scope){for(var i=0,l=families.length;i<l;i++){var family=families[i][0];var prefix=families[i][1];var $icons=getIcons(family,prefix,scope);if($icons.length){_roundCount++;setTimeout(createIcons,0,$icons,family,prefix);}}}
function getIcons(family,prefix,scope){var $scope=$(scope);var $icons=$scope.find('[class*='+prefix+']');var extraClassNames=extend[family];if(!extraClassNames)return $icons;extraClassNames.forEach(function(className){var $icon=$scope.find(className);$icons=$icons.add($icon);});return $icons;}
function createIcons($icons,family,prefix,i,unicode){var id=i||0;var icon=$icons[id];if(!icon){_roundCount--;getIconsSprite(insertIcons,$icons,_roundCount,_config);return;}
var css=getComputedStyle(icon,':before');var classAttr=icon.getAttribute('class');var name=(classAttr)?matchClass(classAttr.split(' '),prefix):false;var h=getComputedStyle(icon).fontSize;var config=createConfig(css,name,family,unicode,h);var cache=JSON.stringify(config);if(!config){}else if(_cache[cache]){if(typeof _iconMap[cache]==='undefined')_iconMap[cache]=[$icons.eq(id)];else _iconMap[cache].push($icons.eq(id));}else{if(typeof _iconMap[cache]==='undefined')_iconMap[cache]=[$icons.eq(id)];else _iconMap[cache].push($icons.eq(id));_cache[cache]=_cacheId.toString();config.id=_cacheId;_config.push(config);_cacheId++;}
createIcons($icons,family,prefix,++id);}
function insertIcons(sprite,$icons){var $sprite=$(sprite);var $svgs=$sprite.find('svg');var idMap=invert(_cache);$sprite.each(function(){var $svg=$(this);var id=$svg.attr('data-cacheid');var configKey=idMap[id];_cache[configKey]=this;});Object.keys(_iconMap).forEach(function(cacheKey){_iconMap[cacheKey].forEach(function($icons){$icons.each(function(){var $svg=$(_cache[cacheKey]).clone();var $icon=$(this);function remove(){if($icon.parents('.pricing-features'))return;$icon.not('.mk-jupiter-icon-xing').not('.mk-jupiter-icon-square-xing').not('.mk-jupiter-icon-simple-xing').find('.mk-svg-icon').not('[data-name="mk-moon-zoom-in"]').remove();}
if($svg.length)remove();if(!$icon.find('svg').length){if($icon.parents('.widget ul').length)$icon.prepend($svg);else $icon.append($svg);}});});});MK.utils.eventManager.publish('iconsInsert');}
function createConfig(css,name,family,unicode,height){var hasGradient=checkGradient(css);var hasDirection=extractGradient('direction',css.background);var config={family:family,unicode:(unicode)?unicode:decodeUnicode(css.content),name:name,gradient_type:hasGradient?extractGradient('type',css.background):false,gradient_start:hasGradient?extractGradient('start',css.background):false,gradient_stop:hasGradient?extractGradient('stop',css.background):false,gradient_direction:hasDirection?extractGradient('direction',css.background).replace(' ','-'):false,height:height};if(!config.name&&!config.unicode)return false;else return config;}
function matchClass(classes,prefix){for(var i=0,l=classes.length;i<l;i++){if(classes[i].indexOf(prefix)!==-1)return classes[i];}}
function checkGradient(css){var bg=css.background;if(bg.indexOf('radial')!==-1||bg.indexOf('linear')!==-1)return bg;else return false;}
function extractGradient(attr,grad){if(!grad)return false;var isRadial=grad.indexOf('radial')!==-1;var isLinear=grad.indexOf('linear')!==-1;var hasDirection=grad.indexOf('(to')!==-1;var f,t;if(attr==='type'){if(isRadial)return'radial';if(isLinear)return'linear';}else if(attr==='start'){f=getStrPosition(grad,'rgb(',1);t=getStrPosition(grad,'0%',1);}else if(attr==='stop'){f=getStrPosition(grad,'rgb(',2);t=getStrPosition(grad,'100%',1);}else if(attr==='direction'){if(!hasDirection)return false;f=getStrPosition(grad,'(to',1)+4;t=getStrPosition(grad,', rgb(',1);}else{return false;}
return grad.slice(f,t);}
function getStrPosition(str,m,i){return str.split(m,i).join(m).length;}
function decodeUnicode(content){if(content&&content!=='none')return escape(content).replace(/%22/g,'').replace('%u','').toLowerCase();else return false;}
function invert(obj){var new_obj={};for(var prop in obj){if(obj.hasOwnProperty(prop)){new_obj[obj[prop]]=prop;}}
return new_obj;}}(jQuery));(function($,window){'use strict';var scrollY=MK.val.scroll;var dynamicHeight=MK.val.dynamicHeight;var $window=$(window);var $containers=$('.js-loop');$containers.each(pagination);function pagination(){var unique=Date.now();var $container=$(this);var $superContainer=$container.parent();var $loadBtn=$container.siblings('.js-loadmore-holder').find('.js-loadmore-button');var $loadScroll=$('.js-load-more-scroll');var style=$container.data('pagination-style');var maxPages=$container.data('max-pages');var id='#'+($container.attr('id'));var ajaxLoader=new MK.utils.ajaxLoader(id);var isLoadBtn=(style===2);var isInfiniteScroll=(style===3);var scrollCheckPoint=null;var isHandlerBinded=false;ajaxLoader.init();init();function init(){MK.utils.eventManager.subscribe('ajaxLoaded',onLoad);bindHandlers();if(isInfiniteScroll)scrollCheckPoint=spyScrollCheckPoint();}
function bindHandlers(){if(isLoadBtn)$loadBtn.on('click',handleClick);if(isInfiniteScroll)$window.on('scroll',handleScroll);isHandlerBinded=true;}
function unbindHandlers(){if(isLoadBtn)$loadBtn.off('click',handleClick);if(isInfiniteScroll)$window.off('scroll',handleScroll);isHandlerBinded=false;}
function handleClick(e){e.preventDefault();if(!ajaxLoader.isLoading)loadMore();}
function handleScroll(){if((scrollY()>scrollCheckPoint())&&!ajaxLoader.isLoading)loadMore();}
function loadMore(){loadingIndicatorStart();var page=ajaxLoader.getData('paged');ajaxLoader.setData({paged:++page});ajaxLoader.load(unique);}
function onLoad(e,response){if(typeof response!=='undefined'&&response.id===id){if(ajaxLoader.getData('found_posts')<=0&&ajaxLoader.getData('paged')>=ajaxLoader.getData('maxPages'))loadingIndicatorHide();else loadingIndicatorShow();if(response.unique===unique)$container.append(response.content);loadingIndicatorStop();}}
function loadingIndicatorStart(){if(isLoadBtn)$loadBtn.addClass('is-active');else if(isInfiniteScroll)MK.ui.loader.add('.js-load-more-scroll');}
function loadingIndicatorStop(){if(isLoadBtn)$loadBtn.removeClass('is-active');else if(isInfiniteScroll)MK.ui.loader.remove('.js-load-more-scroll');}
function loadingIndicatorShow(){if(isHandlerBinded)return;if(isLoadBtn)$loadBtn.show();else if(isInfiniteScroll)$loadScroll.show();bindHandlers();}
function loadingIndicatorHide(){if(!isHandlerBinded)return;if(isLoadBtn)$loadBtn.hide();else if(isInfiniteScroll)$loadScroll.hide();unbindHandlers();}
function spyScrollCheckPoint(){var containerO=0;var containerH=dynamicHeight($superContainer);var winH=dynamicHeight(window);var setVals=function(){containerO=$superContainer.offset().top;};setVals();$window.on('resize',function(){requestAnimationFrame(setVals);});return function(){return(containerH()+containerO)-(winH()*2);};}}})(jQuery,window);(function($){'use strict';function isHidden(el){return(el.offsetParent===null);}
MK.component.Masonry=function(el){var $window=$(window);var $container=$(el);var config=$container.data('masonry-config');var $masonryItems=$container.find(config.item);var cols=config.cols||8;var $filterItems=null;var wall=null;var init=function init(){MK.core.loadDependencies([MK.core.path.plugins+'freewall.js'],onDepLoad);};var onDepLoad=function onDepLoad(){masonry();$window.on('resize',onResize);MK.utils.eventManager.subscribe('ajaxLoaded',onPostAddition);MK.utils.eventManager.subscribe('staticFilter',resize);};var masonry=function masonry(){if(isHidden(el))return;var newCols;if(window.matchMedia('(max-width:600px)').matches)newCols=2;else if(window.matchMedia('(max-width:850px)').matches)newCols=4;else newCols=cols;var colW=$container.width()/newCols;wall=new Freewall(config.container);wall.reset({selector:config.item+':not(.is-hidden)',gutterX:0,gutterY:0,cellW:colW,cellH:colW});wall.fillHoles();wall.fitWidth();$masonryItems.each(function(){$(this).data('loaded',true);});};var destroyContainer=function destroyContainer(){$container.removeAttr('style').removeData('wall-height').removeData('wall-width').removeData('min-width').removeData('total-col').removeData('total-row').removeAttr('data-wall-height').removeAttr('data-wall-width').removeAttr('data-min-width').removeAttr('data-total-col').removeAttr('data-total-row');};var destroyItem=function destroyItem(){var $item=$(this);$item.removeAttr('style').removeData('delay').removeData('height').removeData('width').removeData('state').removeAttr('data-delay').removeAttr('data-height').removeAttr('data-width').removeAttr('data-state');};var destroyAll=function destroyAll(){if(!wall)return;wall.destroy();destroyContainer();$masonryItems.each(destroyItem);};var onResize=function onResize(){requestAnimationFrame(resize);};var refresh=function refresh(){if(!wall)return;setTimeout(wall.fitWidth.bind(wall),5);};var resize=function resize(){destroyAll();masonry();};var onPostAddition=function onPostAddition(){$masonryItems=$container.find(config.item);$masonryItems.each(function(){var $item=$(this),isLoaded=$item.data('loaded');if(!isLoaded)$item.css('visibility','hidden');});$container.mk_imagesLoaded().then(function(){destroyAll();masonry();});};return{init:init};};}(jQuery));(function($){'use strict';MK.component.Pagination=function(el){this.el=el;};MK.component.Pagination.prototype={init:function init(){this.cacheElements();this.bindEvents();},cacheElements:function cacheElements(){this.lastId=1;this.unique=Date.now();this.$pagination=$(this.el);this.$container=this.$pagination.prev('.js-loop');this.$pageLinks=this.$pagination.find('.js-pagination-page');this.$nextLink=this.$pagination.find('.js-pagination-next');this.$prevLink=this.$pagination.find('.js-pagination-prev');this.$current=this.$pagination.find('.js-current-page');this.$maxPages=this.$pagination.find('.pagination-max-pages');this.containerId='#'+this.$container.attr('id');this.ajaxLoader=new MK.utils.ajaxLoader('#'+this.$container.attr('id'));this.ajaxLoader.init();},bindEvents:function bindEvents(){this.$pageLinks.on('click',this.pageClick.bind(this));this.$nextLink.on('click',this.nextClick.bind(this));this.$prevLink.on('click',this.prevClick.bind(this));MK.utils.eventManager.subscribe('ajaxLoaded',this.onLoad.bind(this));},pageClick:function pageClick(e){e.preventDefault();var $this=$(e.currentTarget);var id=parseFloat($this.attr('data-page-id'));if(id>this.ajaxLoader.getData('maxPages')||id<1)return;this.load(id,$this);},nextClick:function nextClick(e){e.preventDefault();if(this.ajaxLoader.getData('paged')===this.ajaxLoader.getData('maxPages'))return;this.load(++this.lastId,$(e.currentTarget));},prevClick:function prevClick(e){e.preventDefault();if(this.ajaxLoader.getData('paged')===1)return;this.load(--this.lastId,$(e.currentTarget));},load:function load(id,$el){this.lastId=id;this.ajaxLoader.setData({paged:id});this.ajaxLoader.load(this.unique);this.removeIndicator();MK.ui.loader.add($el);},onLoad:function success(e,response){if(typeof response!=='undefined'&&response.id===this.containerId){this.updatePagination();this.lastId=this.ajaxLoader.getData('paged');if(response.unique===this.unique){this.removeIndicator();this.scrollPage();this.$container.html(response.content);}}},updatePagination:function updatePagination(){var self=this;var isFirst=(this.ajaxLoader.getData('paged')===1);var isLast=(this.ajaxLoader.getData('paged')===this.ajaxLoader.getData('maxPages'));if(isFirst)this.$prevLink.addClass('is-vis-hidden');else this.$prevLink.removeClass('is-vis-hidden');if(isLast)this.$nextLink.addClass('is-vis-hidden');else this.$nextLink.removeClass('is-vis-hidden');this.$current.html(this.ajaxLoader.getData('paged'));this.$maxPages.html(this.ajaxLoader.getData('maxPages'));var displayItems=10;var centerAt=displayItems/2;if(this.ajaxLoader.getData('maxPages')>displayItems){this.$pageLinks.each(function(i){var id=self.lastId-centerAt;id=Math.max(id,1);id=Math.min(id,self.ajaxLoader.getData('maxPages')-displayItems+1);id=id+i;$(this).html(id).attr('data-page-id',id).show();if(i===0&&id>1)$(this).html('...');if(i===displayItems-1&&id<self.ajaxLoader.getData('maxPages'))$(this).html('...');});}else{this.$pageLinks.each(function(i){var $link=$(this);var id=i+1;$link.html(id).attr('data-page-id',id);if(self.ajaxLoader.getData('maxPages')===1){self.$pageLinks.hide();}else{if(i>self.ajaxLoader.getData('maxPages')-1)$link.hide();else $link.show();}});}
this.$pageLinks.filter('[data-page-id="'+this.ajaxLoader.getData('paged')+'"]').addClass('current-page').siblings().removeClass('current-page');},scrollPage:function scrollPage(){var containerOffset=this.$container.offset().top;var offset=containerOffset-MK.val.offsetHeaderHeight(containerOffset)-20;MK.utils.scrollTo(offset);},removeIndicator:function removeIndicator(){MK.ui.loader.remove('.js-pagination-page, .js-pagination-next, .js-pagination-prev');}};}(jQuery));(function($){'use strict';var val=MK.val,utils=MK.utils;MK.component.Parallax=function(el){var self=this,$this=$(el),obj=$this[0],$window=$(window),container=document.getElementById('mk-theme-container'),config=$this.data('parallax-config'),$holder=$(config.holder),headerHeight=null,offset=null,elHeight=null,ticking=false,isMobile=null;var clientRect=null;var update=function(){obj.style.transform=null;obj.style.top=null;obj.style.bottom=null;isMobile=MK.utils.isMobile();if(isMobile){$this.css('height','');return;}
clientRect=$this[0].getBoundingClientRect();offset=clientRect.top;elHeight=clientRect.height;headerHeight=val.offsetHeaderHeight(offset);offset=offset-headerHeight+val.scroll();setPosition();setSize();};var h=0,winH=0,proportion=0,height=0;var setSize=function(){$this.css('height','');winH=$window.height()-headerHeight;h=obj.getBoundingClientRect().height;if(config.speed<=1&&config.speed>0){if(offset===0){$this.css({backgroundAttachment:'scroll','will-change':'transform'});}else{$this.css({height:h+((winH-h)*config.speed),backgroundAttachment:'scroll','will-change':'transform'});}}else if(config.speed>1&&h<=winH){$this.css({height:(winH+((winH*config.speed)-winH)*2),top:-((winH*config.speed)-winH),backgroundAttachment:'scroll','will-change':'transform'});}else if(config.speed>1&&h>winH){proportion=h/winH;height=(winH+((winH*config.speed)-winH)*(1+proportion));$this.css({height:height,top:-(height-(winH*config.speed)),backgroundAttachment:'scroll','will-change':'transform'});}else if(config.speed<0&&h>=winH){height=h*(1-config.speed);$this.css({height:height+(height-h),top:h-height,backgroundAttachment:'scroll','will-change':'transform'});}else if(config.speed<0&&h<winH){var display=(winH+h)/winH;height=h*-config.speed*display;$this.css({height:h+(height*2),top:-height,backgroundAttachment:'scroll','will-change':'transform'});}};var currentPoint=null,progressVal=null,startPoint=null,endPoint=null,$opacityLayer=config.opacity?$this.find(config.opacity):null,scrollY=null;var setPosition=function(){startPoint=offset-winH;endPoint=offset+elHeight+winH-headerHeight;scrollY=val.scroll();if(scrollY<startPoint||scrollY>endPoint){ticking=false;return;}
currentPoint=((-offset+scrollY)*config.speed);$this.css({'-webkit-transform':'translateY('+currentPoint+'px) translateZ(0)','-moz-transform':'translateY('+currentPoint+'px) translateZ(0)','-ms-transform':'translateY('+currentPoint+'px) translateZ(0)','-o-transform':'translateY('+currentPoint+'px) translateZ(0)','transform':'translateY('+currentPoint+'px) translateZ(0)'});ticking=false;};var requestTick=function(){if(!ticking&&!isMobile){ticking=true;window.requestAnimationFrame(setPosition);}};var init=function(){if(!MK.utils.isSmoothScroll){return;}
update();setTimeout(update,100);$window.on('load',update);$window.on('resize',update);window.addResizeListener(container,update);$window.on('scroll',requestTick);};return{init:init};};})(jQuery);(function($){'use strict';MK.component.Preloader=function(el){this.el=el;};MK.component.Preloader.prototype={init:function init(){this.cacheElements();this.bindEvents();},cacheElements:function cacheElements(){this.$preloader=$(this.el);},bindEvents:function bindEvents(){this.onLoad();},onLoad:function onLoad(){setTimeout(this.hidePreloader.bind(this),300);},hidePreloader:function hidePreloader(){this.$preloader.hide();}};}(jQuery));(function($){'use strict';MK.ui.loader={tpl:function(){return'<div class="mk-loading-indicator">'+'<div class="mk-loading-indicator__inner">'+'<div class="mk-loading-indicator__icon"></div>'+'<img style="height:100%; width:auto;" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">'+'</div>'+'</div>';},add:function(item){$(item).append(this.tpl);},remove:function(item){if(item)$(item).find('.mk-loading-indicator').remove();else $('.mk-loading-indicator').remove();}};}(jQuery));(function($){if(MK.utils.browser.name==='Edge'||MK.utils.browser.name==='IE'){var val=1;var $edgeClipper=$('.mk-slider-slide');var $sectionClipper=$('.clipper-true');var $bgLayer=$('.background-layer');var onScroll=function onScroll(){val*=-1;if($edgeClipper.length)$edgeClipper.each(redraw);if($sectionClipper.length)$sectionClipper.each(redraw);if($bgLayer.length)$bgLayer.each(redraw);};var redraw=function redraw(){$(this).css('margin-top',val/100);};$(window).on("scroll",function(){window.requestAnimationFrame(onScroll);});}}(jQuery));(function($){'use strict';var $imgs=$('img[data-mk-image-src-set]');var viewportClass=getViewportClass();var isRetina=window.devicePixelRatio>=2;run($imgs);$(window).on('resize',handleResize);MK.utils.eventManager.subscribe('ajaxLoaded',handleAjax);MK.utils.eventManager.subscribe('ajax-preview',handleAjax);MK.utils.eventManager.subscribe('quickViewOpen',handleAjax);function run($imgs){if(!$imgs.length)return;$imgs.each(setSrcAttr);}
function setSrcAttr(){var $img=$(this);var set=$img.data('mk-image-src-set');if(set['responsive']==='false'&&isRetina&&set['2x'])$img.attr('src',set['2x']);else if(set['responsive']==='false')$img.attr('src',set.default);else if(viewportClass===1&&isRetina&&set['2x'])$img.attr('src',set['2x']);else if(viewportClass===0&&set.mobile)$img.attr('src',set.mobile);else $img.attr('src',set.default);}
function getViewportClass(){if(window.matchMedia('(max-width: 736px)').matches)return 0;else return 1;}
function handleResize(){if(!$imgs.length)return;var currentViewportClass=getViewportClass();if(currentViewportClass>viewportClass){viewportClass=currentViewportClass;run($imgs);}}
function handleAjax(){setTimeout(function ajaxDelayedCallback(){var $newImgs=$('img[data-mk-image-src-set]').not($imgs);$imgs.add($newImgs);run($newImgs);},100);}}(jQuery));(function($){'use strict';var utils=MK.utils;var val=MK.val;var $topLevelSections=$('#theme-page > .vc_row, #theme-page > .mk-main-wrapper-holder, #theme-page > .mk-page-section');$(document).on('click','.mk-skip-to-next',function(){var $this=$(this),offset=$this.offset().top,nextOffset=utils.nextHigherVal(offset,utils.offsets($topLevelSections));utils.scrollTo(nextOffset-val.offsetHeaderHeight(nextOffset));});})(jQuery);(function($){'use strict';MK.ui.Slider=function(container,config){var defaults={slide:'.mk-slider-slide',nav:'.mk-slider-nav',effect:'roulete',ease:'easeOutQuart',slidesPerView:1,slidesToView:1,transitionTime:700,displayTime:3000,autoplay:true,hasNav:true,hasPagination:true,paginationTpl:'<span></span>',paginationEl:'#pagination',draggable:true,fluidHeight:false,pauseOnHover:false,activeClass:'is-active',onInitialize:function(){},onAfterSlide:function(id){},onBeforeSlide:function(id){}};this.state={id:0,moveForward:true,running:false,zIFlow:null,stop:false,};this.config=$.extend(defaults,config);this.container=container;this.initPerView=this.config.slidesPerView;this.activeTimer=null;this.autoplay=null;this.timer=null;this.timerRemaining=parseInt(this.config.displayTime);};MK.ui.Slider.prototype={init:function(){this.setPerViewItems();this.cacheElements();this.getSlideSize();this.bindEvents();this.setSize();this.setPos();this.updateId(-1);this.updateId(1);this.val=this.dynamicVal();this.timeline=this.prepareTimeline(this.config.transitionTime);this.timeline.build();if(this.config.hasPagination){this.buildPagination();}
if(this.config.autoplay&&document.hasFocus()){this.setTimer();}
if(typeof this.config.onInitialize==='function'){this.config.onInitialize(this.slides);}
if(this.config.fluidHeight===true){$(this.slides).height('auto');$(this.container).css('transition','height '+200+'ms ease-out');this.setHeight(0);}
if(this.config.fluidHeight==='toHighest'){this.setHeightToHighest();}
$(this.slides).each(this.createTimer);},cacheElements:function(){this.container=this.isNode(this.container)?this.container:document.querySelectorAll(this.container)[0];this.slides=this.container.querySelectorAll(this.config.slide);this.$slides=$(this.slides);if(this.config.hasNav){this.$nav=$(this.config.nav);}
if(this.config.hasPagination){this.$pagination=$(this.config.paginationEl);}},bindEvents:function(){var $window=$(window);if(this.config.slidesPerView>1){$window.on('resize',this.setPerViewItems.bind(this));}
if(this.config.hasNav){this.eventsNav();}
if(this.config.hasPagination){this.eventsPag();}
if(this.config.draggable){this.dragHandler();}
if(this.config.autoplay){$window.on('focus',this.windowActive.bind(this));$window.on('blur',this.windowInactive.bind(this));}
if(this.config.pauseOnHover){$(this.container).on('mouseleave',this.setTimer.bind(this));$(this.container).on('mouseenter',this.unsetTimer.bind(this));}
if(this.config.fluidHeight==='toHighest'){$window.on('resize',this.setHeightToHighest.bind(this));}},setPerViewItems:function(){if(window.matchMedia('(max-width: 500px)').matches){this.config.slidesPerView=1;}
else if(window.matchMedia('(max-width: 767px)').matches&&this.initPerView>=2){this.config.slidesPerView=2;}
else if(window.matchMedia('(max-width: 1024px)').matches&&this.initPerView>=3){this.config.slidesPerView=3;}
else{this.config.slidesPerView=this.initPerView;}
if(typeof this.slides==='undefined')return;this.getSlideSize();this.setSize();this.setPos();this.timeline=this.prepareTimeline(this.config.transitionTime);this.timeline.build();},eventsNav:function(){this.$nav.on('click','a',this.handleNav.bind(this));},eventsPag:function(){this.$pagination.on('click','a',this.handlePagination.bind(this));},handleNav:function(e){e.preventDefault();if(this.state.running){return;}
this.state.running=true;var $this=$(e.currentTarget),moveForward=$this.data('direction')==='next';if(this.config.autoplay){this.unsetTimer();setTimeout(this.setTimer.bind(this),this.config.transitionTime);}
this.state.moveForward=moveForward;this.timeline.build();this.timeline.play();this.setActive(this.nextId(moveForward?1:-1));if(this.config.fluidHeight){this.setHeight(this.nextId(moveForward?1:-1));}},handlePagination:function(e){e.preventDefault();var $this=$(e.currentTarget),id=$this.index();this.goTo(id);},reset:function(){this.state.stop=true;this.state.id=0;this.setPos();this.unsetTimer();this.setTimer();},goTo:function(id){if(this.state.running){return;}
this.state.running=true;var lastId=this.state.id;if(lastId===id){return;}else if(lastId<id){this.state.moveForward=true;}else{this.state.moveForward=false;}
if(this.config.autoplay){this.unsetTimer();setTimeout(this.setTimer.bind(this),this.config.transitionTime);}
this.timeline.build(Math.abs(lastId-id));this.timeline.play();this.setActive(id);if(this.config.fluidHeight){this.setHeight(id);}},windowActive:function(){this.setTimer(false,true);$(this.container).removeClass('is-paused');},windowInactive:function(){this.unsetTimer();$(this.container).addClass('is-paused');},updateId:function(val){this.state.id=this.nextId(val);},nextId:function(val){var len=this.slides.length,insertVal=this.state.id+val;insertVal=(insertVal>=0)?insertVal:len+val;insertVal=(insertVal>=len)?0:insertVal;return insertVal;},setStyle:function(obj,style){var hasT=style.transform,t={x:(hasT)?style.transform.translateX:null,y:(hasT)?style.transform.translateY:null,scale:(hasT)?style.transform.scale:null,rotate:(hasT)?style.transform.rotate:null,rotateX:(hasT)?style.transform.rotateX:null,rotateY:(hasT)?style.transform.rotateY:null},z='translateZ(0)',x=(t.x)?'translateX('+t.x+'%)':'translateX(0)',y=(t.y)?'translateY('+t.y+'%)':'translateY(0)',s=(t.scale)?'scale('+t.scale+')':'scale(1)',r=(t.rotate)?'rotate('+t.rotate+'deg)':'rotate(0)',rX=(t.rotateX)?'rotateX('+t.rotateX+'deg)':'',rY=(t.rotateY)?'rotateY('+t.rotateY+'deg)':'',o=style.opacity,h=style.height,w=style.width;var c=z+x+y+s+r+rX+rY;if(c.length){obj.style.webkitTransform=c;obj.style.msTransform=c;obj.style.transform=c;}
if(typeof o==='number'){obj.style.opacity=o;}
if(h){obj.style.height=h+'%';}
if(w){obj.style.width=w+'%';}},setPos:function(){if(typeof this.slides==='undefined')return;var id=this.state.id,i=0,len=this.slides.length,animation=this.animation[this.config.effect],axis=animation.axis,animNext=animation.next,animActi=animation.active,animPrev=animation.prev,perView=this.config.slidesPerView,slideId=null,zIFlow=null,style={};style.transform={};for(;i<len;i+=1){if(i<perView){style=animActi;style.transform['translate'+axis]=i*100;}else{style=this.state.moveForward?animNext:animPrev;style.transform['translate'+axis]=this.state.moveForward?perView*100:-100;}
this.slides[i].style.zIndex=0;slideId=(i+id)%len;this.setStyle(this.slides[slideId],style);}},setSize:function(){if(typeof this.slides==='undefined')return;var i=0,len=this.slides.length,axis=this.animation[this.config.effect].axis,slideSize=this.slideSize,style={};if(axis==='Y'){style.height=slideSize[axis];}else{style.width=slideSize[axis];}
for(;i<len;i+=1){this.setStyle(this.slides[i],style);}},setHeight:function(id){var $slides=$(this.slides),$activeSlide=$slides.eq(id);var currentHeight=$activeSlide.height();$(this.container).height(currentHeight);},setHeightToHighest:function(){var $slides=$(this.slides),height=0;$slides.each(function(){height=Math.max(height,$(this).find('> div').outerHeight());});$(this.container).height(height);},prepareTimeline:function(time){var self=this,iteration=0,totalIter=time/(1000/60),animLoop=[],aL=0,loops=1,ease=this.config.ease,currentStyle,timeProg,build,move,add,play,reverse,progress,kill;var len=this.slides.length,perView=this.config.slidesPerView,animation=this.animation[this.config.effect],animAxis=animation.axis,animNext=animation.next,animActi=animation.active,animPrev=animation.prev,style={},slideId=null,zIFlow=null;style.transform={};build=function(repeats){var currentEase=ease;loops=repeats||loops;if(!loops){return;}
if(loops>1){currentEase='linearEase';}
kill();self.setPos();var id=self.state.id,moveForward=self.state.moveForward,i=0,axisMove=(moveForward)?-100:100;for(;i<=perView;i+=1){slideId=((moveForward)?i+id:i+id-1)%len;slideId=(slideId<0)?len+slideId:slideId;if(i===0){style=moveForward?animPrev:animActi;}else if(i===perView){style=moveForward?animActi:animNext;}else{style=animActi;}
zIFlow=(self.state.moveForward)?animNext.zIndex:animPrev.zIndex;if(zIFlow){self.slides[slideId].style.zIndex=(zIFlow==='+')?i+1:len-i;}
style.transform['translate'+animAxis]=axisMove;add(self.slides[slideId],style,currentEase);}};add=function(slide,toStyles,ease){if(typeof slide==='undefined'){throw'Add at least one slide';}
var fromStyles=slide.style,style=self.refStyle(toStyles,fromStyles);animLoop.push([slide,style,ease]);aL+=1;};move=function(startProg,mode){if(isTest)return;var currentTotalIter=totalIter;if(loops>1){currentTotalIter=totalIter/5;}
if(!self.state.running){self.state.running=true;}
if(startProg){iteration=Math.ceil(startProg*currentTotalIter);}
timeProg=iteration/currentTotalIter;progress(timeProg);if(iteration>=currentTotalIter&&mode==='play'||iteration<=0&&mode==='reverse'){self.state.running=false;iteration=0;kill();self.updateId(self.state.moveForward?1:-1);loops-=1;if(loops>0){build();play();}
if(!loops){loops=1;self.timerRemaining=parseInt(self.config.displayTime);self.config.onAfterSlide(self.state.id);}
return;}
if(mode==='play'){iteration+=1;}else{iteration-=1;}
requestAnimationFrame(function(){if(self.state.stop)return;move(0,mode);});};play=function(startProg){self.config.onBeforeSlide(self.nextId(self.state.moveForward?1:-1));var start=startProg||0;iteration=0;self.state.stop=false;move(start,'play');};reverse=function(startProg){var start=startProg||1;move(start,'reverse');};progress=function(progVal){var aI=0,currentStyle;for(aI;aI<aL;aI++){if(progVal!==1&&progVal!==0){currentStyle=self.currentStyle(progVal,animLoop[aI][1],animLoop[aI][2]);}else if(progVal===1){currentStyle=self.currentStyle(progVal,animLoop[aI][1],'linearEase');}else if(progVal===0){currentStyle=self.currentStyle(progVal,animLoop[aI][1],'linearEase');}
self.setStyle(animLoop[aI][0],currentStyle);}};kill=function(){animLoop=[];aL=0;};return{build:build,add:add,play:play,reverse:reverse,progress:progress};},refStyle:function(toStyles,fromStyles){var axis=this.animation[this.config.effect].axis,style={},initVal,changeVal,endVal,dynamicEnd,styleProp,transProp,transform;for(styleProp in toStyles){if(styleProp==='transform'){transform=this.getTransforms(fromStyles);style.transform={};for(transProp in toStyles.transform){if(transProp==='translateZ'){continue;}
initVal=transform[transProp]||0;dynamicEnd=(transProp==='translate'+axis)?initVal:0;endVal=toStyles.transform[transProp]+dynamicEnd;changeVal=endVal-initVal;style.transform[transProp]=[initVal,changeVal];}}else if(styleProp==='zIndex'){continue;}else{initVal=parseFloat(fromStyles[styleProp])||0;endVal=toStyles[styleProp];changeVal=endVal-initVal;style[styleProp]=[initVal,changeVal];}}
return style;},currentStyle:function(progress,style,ease){var self=this,currentStyle={},currentVals,styleProp,transProp,prog;for(styleProp in style){if(styleProp==='transform'){currentStyle.transform={};for(transProp in style.transform){if(transProp==='translateZ'){continue;}
currentVals=style.transform[transProp];currentStyle.transform[transProp]=self.ease[ease](progress,currentVals[0],currentVals[1],1);}}else{currentVals=style[styleProp];currentStyle[styleProp]=self.ease[ease](progress,currentVals[0],currentVals[1],1);}}
return currentStyle;},setActive:function(id){var $slides=$(this.slides),className=this.config.activeClass;$slides.removeClass(className);if(this.config.hasPagination){var $pagination=this.$pagination.find('a');$pagination.removeClass(className);$pagination.eq(id).addClass(className);}
if(this.activeTimer){clearTimeout(this.activeTimer);}
this.activeTimer=setTimeout(function(){$slides.eq(id).addClass(className);},this.config.transitionTime);},createTimer:function(){var $slide=$(this),video=$slide.find('video').get(0);if(video){$slide.data('timer',(video.duration*1000));$slide.attr('data-timer',(video.duration*1000));}},setTimer:function(isFirst,isPaused){var customTimer=this.$slides.eq(this.nextId(this.state.moveForward?1:-1)).data('timer'),trans=parseInt(this.config.transitionTime),interval=customTimer?customTimer:parseInt(this.config.displayTime),timer=interval+trans;var self=this,first=isFirst||true,create,run;this.timer=true;this.lastSetTimer=Date.now();create=function(){if(self.autoplay){clearTimeout(self.autoplay);}
if(!self.timer){return;}
self.state.moveForward=true;self.timeline.build();self.timeline.play();self.setActive(self.nextId(1));if(self.config.fluidHeight){self.setHeight(self.nextId(1));}
first=false;self.lastSetTimer=Date.now();run();};run=function(newInterval){customTimer=self.$slides.eq(self.nextId(self.state.moveForward?1:-1)).data('timer');interval=customTimer?customTimer:parseInt(self.config.displayTime);timer=interval+trans;var time=newInterval||timer;self.autoplay=setTimeout(create,time);};if(isPaused){run(this.timerRemaining);}
else run();},unsetTimer:function(){this.timer=false;this.lastUnsetTimer=Date.now();this.timerRemaining-=this.lastUnsetTimer-this.lastSetTimer;if(this.autoplay){clearTimeout(this.autoplay);}},buildPagination:function(){var i=0,len=this.slides.length,tpl='';for(;i<len;i+=1){tpl+='<a href="javascript:;">'+this.config.paginationTpl+'</a>';}
this.$pagination.html(tpl);this.setActive(0);},getSlideSize:function(){this.slideSize={X:100/this.config.slidesPerView,Y:100/this.config.slidesPerView};},getTransforms:function(style){var transform=style.transform||style.webkitTransform||style.mozTransform,regex=/(\w+)\(([^)]*)\)/g,match,T={};if(typeof transform!=='string'){throw'Transform prop is not a string.';}
if(!transform){return;}
while(match=regex.exec(transform)){T[match[1]]=parseFloat(match[2]);}
return T;},isNode:function(o){return(typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");},dragHandler:function(){var self=this,$container=$(this.container),prevBuild=false,nextBuild=false,dragging=false,buffor=5,dragStart,dragMove,dragEnd,progress;progress=function(moveX){return moveX/self.val.viewportW();};dragStart=function(moveX,startX){};dragMove=function(moveX){if(self.state.running)return;if(moveX<-buffor){if(!nextBuild){self.state.moveForward=true;self.timeline.build();nextBuild=true;prevBuild=false;self.unsetTimer();}else{self.timeline.progress(-progress(moveX));}
dragging=true;}else if(moveX>buffor){if(!prevBuild){self.state.moveForward=false;self.timeline.build();prevBuild=true;nextBuild=false;self.unsetTimer();}else{self.timeline.progress(progress(moveX));}
dragging=true;}};dragEnd=function(moveX){if(dragging){var prog=progress(moveX),absProg=prog<0?-prog:prog;if(absProg>0.1){self.timeline.play(absProg);self.setActive(self.nextId(prog<0?1:-1));if(self.config.fluidHeight){self.setHeight(self.nextId(prog<0?1:-1));}}else{self.timeline.reverse(absProg);if(prog<0){self.updateId(-1);}else{self.updateId(1);}}
prevBuild=false;nextBuild=false;dragging=false;if(self.config.autoplay){self.setTimer(false);}}};this.drag($container,dragStart,dragMove,dragEnd);},drag:function($el,startFn,moveFn,stopFn){var touchX,touchY,movX,movY,go,evt,prevent,start,move,stop;prevent=function(e){e.preventDefault();};start=function(e){$el.on("mousemove",prevent);$el.on("touchmove",move);$el.on("mousemove",move);evt=(e.type==='touchstart')?e.originalEvent.touches[0]:e;touchX=evt.pageX;if(typeof startFn==='function'){startFn(movX,touchX);}};move=function(e){evt=(e.type==='touchmove')?e.originalEvent.touches[0]:e;movX=evt.pageX-touchX;if(typeof moveFn==='function'){moveFn(movX);}};stop=function(e){$el.off("mousemove",prevent);$el.off("touchmove",move);$el.off("mousemove",move);if(typeof stopFn==='function'){stopFn(movX);}};$el.on("touchstart",start);$el.on("mousedown",start);$el.on("touchend",stop);$el.on("touchleave",stop);$el.on("touchcancel",stop);$el.on("mouseup",stop);$el.on("mouseleave",stop);},dynamicVal:function(){var $window=$(window),update,getViewportW,viewportW;update=function(){viewportW=$window.width();};getViewportW=function(){return viewportW;};update();$window.on('load',update);$window.on('resize',update);return{viewportW:getViewportW};}};MK.ui.Slider.prototype.animation={slide:{axis:'X',next:{transform:{}},active:{transform:{}},prev:{transform:{}}},vertical_slide:{axis:'Y',next:{transform:{}},active:{transform:{}},prev:{transform:{}}},perspective_flip:{axis:'Y',next:{transform:{rotateX:80}},active:{transform:{rotateX:0}},prev:{transform:{rotateX:0}}},zoom:{axis:'Z',next:{opacity:0,transform:{scale:0.9}},active:{opacity:1,transform:{scale:1}},prev:{opacity:0,transform:{scale:1.1}}},fade:{axis:'Z',next:{opacity:0,transform:{}},active:{opacity:1,transform:{}},prev:{opacity:0,transform:{}}},kenburned:{axis:'Z',next:{opacity:0,transform:{}},active:{opacity:1,transform:{}},prev:{opacity:0,transform:{}}},zoom_out:{axis:'Z',next:{zIndex:'+',opacity:1,transform:{translateY:100,scale:1}},active:{opacity:1,transform:{translateY:0,scale:1}},prev:{zIndex:'+',opacity:0,transform:{translateY:0,scale:0.5}}},horizontal_curtain:{axis:'Z',next:{zIndex:'+',transform:{translateX:100,}},active:{transform:{translateX:0,}},prev:{zIndex:'+',transform:{translateX:-70,}}},roulete:{axis:'X',next:{opacity:0.5,transform:{scale:0.5,rotate:10,translateY:20}},active:{opacity:1,transform:{scale:1,rotate:0,translateY:0}},prev:{opacity:0.3,transform:{scale:0.5,rotate:-10,translateY:20}}}};MK.ui.Slider.prototype.ease={linearEase:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*currentIteration/totalIterations+startValue;},easeInQuad:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(currentIteration/=totalIterations)*currentIteration+startValue;},easeOutQuad:function(currentIteration,startValue,changeInValue,totalIterations){return-changeInValue*(currentIteration/=totalIterations)*(currentIteration-2)+startValue;},easeInOutQuad:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*currentIteration*currentIteration+startValue;}
return-changeInValue/2*((--currentIteration)*(currentIteration-2)-1)+startValue;},easeInCubic:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,3)+startValue;},easeOutCubic:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(Math.pow(currentIteration/totalIterations-1,3)+1)+startValue;},easeInOutCubic:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*Math.pow(currentIteration,3)+startValue;}
return changeInValue/2*(Math.pow(currentIteration-2,3)+2)+startValue;},easeInQuart:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,4)+startValue;},easeOutQuart:function(currentIteration,startValue,changeInValue,totalIterations){return-changeInValue*(Math.pow(currentIteration/totalIterations-1,4)-1)+startValue;},easeInOutQuart:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*Math.pow(currentIteration,4)+startValue;}
return-changeInValue/2*(Math.pow(currentIteration-2,4)-2)+startValue;},easeInQuint:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(currentIteration/totalIterations,5)+startValue;},easeOutQuint:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(Math.pow(currentIteration/totalIterations-1,5)+1)+startValue;},easeInOutQuint:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*Math.pow(currentIteration,5)+startValue;}
return changeInValue/2*(Math.pow(currentIteration-2,5)+2)+startValue;},easeInSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(1-Math.cos(currentIteration/totalIterations*(Math.PI/2)))+startValue;},easeOutSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.sin(currentIteration/totalIterations*(Math.PI/2))+startValue;},easeInOutSine:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue/2*(1-Math.cos(Math.PI*currentIteration/totalIterations))+startValue;},easeInExpo:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.pow(2,10*(currentIteration/totalIterations-1))+startValue;},easeOutExpo:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(-Math.pow(2,-10*currentIteration/totalIterations)+1)+startValue;},easeInOutExpo:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*Math.pow(2,10*(currentIteration-1))+startValue;}
return changeInValue/2*(-Math.pow(2,-10*--currentIteration)+2)+startValue;},easeInCirc:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*(1-Math.sqrt(1-(currentIteration/=totalIterations)*currentIteration))+startValue;},easeOutCirc:function(currentIteration,startValue,changeInValue,totalIterations){return changeInValue*Math.sqrt(1-(currentIteration=currentIteration/totalIterations-1)*currentIteration)+startValue;},easeInOutCirc:function(currentIteration,startValue,changeInValue,totalIterations){if((currentIteration/=totalIterations/2)<1){return changeInValue/2*(1-Math.sqrt(1-currentIteration*currentIteration))+startValue;}
return changeInValue/2*(Math.sqrt(1-(currentIteration-=2)*currentIteration)+1)+startValue;}};})(jQuery);(function($){'use strict';MK.component.SocialShare=function(el){var networks={twitter:'http://twitter.com/intent/tweet?text={title} {url}',pinterest:'http://pinterest.com/pin/create/button/?url={url}&media={image}&description={title}',facebook:'https://www.facebook.com/sharer/sharer.php?u={url}',googleplus:'https://plus.google.com/share?url={url}',linkedin:'http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={desc}'};this.networks=networks;this.el=el;};MK.component.SocialShare.prototype={init:function(){this.cacheElements();this.bindEvents();},cacheElements:function(){this.$this=$(this.el);},bindEvents:function(){var thisObject=this;var tempClass="";$.each(this.networks,function(key,value){thisObject.$tempClass=$('.'+key+'-share');thisObject.$tempClass.click(thisObject.openSharingDialog.bind(self,this,key));});},openSharingDialog:function(url,site,args){var urlWrapper=url;var rx=new RegExp('\{[a-z]*\}','g'),res;match=rx.exec(url);while(match!=null){var pureAttr=match[0].replace("{","").replace("}","");var attValue=$(args.currentTarget).attr('data-'+pureAttr);if(attValue===undefined||attValue===null){attValue="";}
attValue=attValue.replace('#','%23');urlWrapper=urlWrapper.replace(match,attValue);match=rx.exec(url);}
window.open(urlWrapper,site+"Window","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");},};var $body=$('body');if(!$body.length)return;$body.each(function(){var socialShare=new MK.component.SocialShare(this);socialShare.init();});})(jQuery);(function($){'use strict';MK.component.Sortable=function(el){this.el=el;};MK.component.Sortable.prototype={init:function init(){this.cacheElements();this.bindEvents();},cacheElements:function cacheElements(){this.unique=Date.now();this.$filter=$(this.el);this.config=this.$filter.data('sortable-config');this.ajaxLoader=new MK.utils.ajaxLoader(this.config.container);this.ajaxLoader.init();this.$container=$(this.config.container);this.$navItems=this.$filter.find('a');this.$filterItems=this.$container.find(this.config.item);},bindEvents:function bindEvents(){this.$navItems.on('click',this.handleClick.bind(this));MK.utils.eventManager.subscribe('ajaxLoaded',this.onLoad.bind(this));},handleClick:function handleClick(e){e.preventDefault();var $item=$(e.currentTarget);var term=$item.data('filter');this.$navItems.removeClass('current');$item.addClass('current');if(this.config.mode==='ajax')this.inDB(term,$item);else this.inPage(term);},inDB:function inDB(term,$item){MK.ui.loader.remove(this.$filter);MK.ui.loader.add($item);if(this.$container.siblings('.mk-ajax-loaded-posts').length){this.$container.siblings('.mk-ajax-loaded-posts').attr('data-loop-loaded-posts','');}
this.ajaxLoader.setData({paged:1,term:term});this.ajaxLoader.load(this.unique);},inPage:function inPage(term){var $filterItems=this.$container.find(this.config.item);$filterItems.removeClass('is-hidden');if(term!=='*')$filterItems.not('.'+term).addClass('is-hidden');MK.utils.eventManager.publish('staticFilter');},onLoad:function onLoad(e,response){if(this.config.mode==='static'){this.$navItems.removeClass('current').first().addClass('current');}
if(typeof response!=='undefined'&&response.id===this.config.container){MK.ui.loader.remove(this.$filter);if(response.unique===this.unique){this.$container.html(response.content);this.ajaxLoader.setData({paged:1});}}}};})(jQuery);(function($){'use strict';MK.component.Tabs=function(el){var defaults={activeClass:'is-active'};this.config=defaults;this.el=el;};MK.component.Tabs.prototype={init:function(){this.cacheElements();this.bindEvents();},cacheElements:function(){this.$this=$(this.el);this.$tabs=this.$this.find('.mk-tabs-tab');this.$panes=this.$this.find('.mk-tabs-pane');this.currentId=0;},bindEvents:function(){var self=this;this.$tabs.on('click',this.switchPane.bind(this));},switchPane:function(evt){evt.preventDefault();var clickedId=$(evt.currentTarget).index();this.hide(this.currentId);this.show(clickedId);this.currentId=clickedId;MK.utils.eventManager.publish('item-expanded');},show:function(id){this.$tabs.eq(id).addClass(this.config.activeClass);this.$panes.eq(id).addClass(this.config.activeClass);},hide:function(id){this.$tabs.eq(id).removeClass(this.config.activeClass);this.$panes.eq(id).removeClass(this.config.activeClass);}};})(jQuery);function mk_tabs(){}
function mk_tabs_responsive(){}
(function($){'use strict';$(document).on('click',function(e){$('.mk-toggle-trigger').removeClass('mk-toggle-active');});function toggle(e){e.preventDefault();e.stopPropagation();var $this=$(e.currentTarget);if(!$this.hasClass('mk-toggle-active')){$('.mk-box-to-trigger').fadeOut(200);$this.parent().find('.mk-box-to-trigger').fadeIn(250);$('.mk-toggle-trigger').removeClass('mk-toggle-active');$this.addClass('mk-toggle-active');}else{$('.mk-box-to-trigger').fadeOut(200);$this.removeClass('mk-toggle-active');}}
function assignToggle(){setTimeout(function(){$('.mk-toggle-trigger').off('click',toggle);$('.mk-toggle-trigger').on('click',toggle);},100);}
assignToggle();MK.utils.eventManager.subscribe('ajaxLoaded',assignToggle);MK.utils.eventManager.subscribe('ajax-preview',assignToggle);}(jQuery));(function($){'use strict';var $iframes=$('iframe');$iframes.each(function(){var $iframe=$(this);var parent=$iframe.parent().get(0);var tagName=parent.tagName;if(tagName==='P')$iframe.wrap('<div class="mk-video-container"></div>');});}(jQuery));(function($){'use strict';if(MK.utils.isMobile()){$('.mk-animate-element').removeClass('mk-animate-element');return;}
var $rootLevelEls=$('.js-master-row, .widget');var init=function init(){$rootLevelEls.each(spyViewport);$rootLevelEls.each(function rootLevelEl(){var $animateEl=$(this).find('.mk-animate-element');$animateEl.each(spyViewport);});};var spyViewport=function spyViewport(i){var self=this;MK.utils.scrollSpy(this,{position:'bottom',threshold:200,after:function(){animate.call(self,i);}});};var animate=function animate(i){var $this=$(this);setTimeout(function(){$this.addClass('mk-in-viewport');},100*i);};$(window).on('load',init);}(jQuery));function product_loop_add_cart(){var $body=$('body');$body.on('click','.add_to_cart_button',function(){var icon='<svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M437.011 74.99c-46.326-46.328-110.318-74.99-181.011-74.99-109.744 0-203.345 69.064-239.749 166.094l59.938 22.477c27.302-72.773 97.503-124.571 179.811-124.571 53.02 0 101.01 21.5 135.753 56.247l-71.753 71.753h192v-192l-74.989 74.99zm-181.011 373.01c-53.02 0-101.013-21.496-135.756-56.244l71.756-71.756h-192v192l74.997-74.997c46.323 46.331 110.309 74.997 181.003 74.997 109.745 0 203.346-69.064 239.75-166.094l-59.938-22.477c-27.302 72.773-97.503 124.571-179.812 124.571z"/></svg>';var $holder=$(this).parents('.product:eq(0)');var $i=$holder.find('.product-loading-icon');$holder.addClass('adding-to-cart').removeClass('added-to-cart');$i.html(icon);});$body.bind('added_to_cart',function(){var icon='<svg class="mk-svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M432 64l-240 240-112-112-80 80 192 192 320-320z"/></svg>';var $holder=$('.adding-to-cart');var $i=$holder.find('.product-loading-icon');$holder.removeClass('adding-to-cart').addClass('added-to-cart');$i.html(icon);});}
(function($){'use strict';$(window).on('load',function(){MK.core.initAll(document);MK.utils.scrollToURLHash();setTimeout(function(){MK.ui.preloader.hide();$('.mk-preloader').hide();$('body').removeClass('loading');},150);});$(document).on('click','.js-smooth-scroll, .js-main-nav a',smoothScrollToAnchor);$('.side_dashboard_menu a').on('click',smoothScrollToAnchor);function smoothScrollToAnchor(evt){var anchor=MK.utils.detectAnchor(this);var $this=$(evt.currentTarget);var loc=window.location;var currentPage=loc.origin+loc.pathname;var href=$this.attr('href');var linkSplit=(href)?href.split('#'):'';var hrefPage=linkSplit[0]?linkSplit[0]:'';var hrefHash=linkSplit[1]?linkSplit[1]:'';if(anchor.length){if(hrefPage===currentPage||hrefPage==='')evt.preventDefault();MK.utils.scrollToAnchor(anchor);}else if($this.attr('href')==='#'){evt.preventDefault();}}}(jQuery));}(jQuery))
;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;"use strict";var icl_lang=icl_vars.current_language;var icl_home=icl_vars.icl_home;function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){if(oldonload){oldonload();}
func();}}}
;!function(e,t){"use strict";"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf.worker",["exports"],t):t("undefined"!=typeof exports?exports:e.pdfjsDistBuildPdfWorker={})}(this,function(e){"use strict";var t="1.4.20",a="b15f335",r=("undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,{});(function(){!function(e,t){t(e.pdfjsCoreArithmeticDecoder={})}(this,function(e){var t=function(){function e(e,t,a){this.data=e,this.bp=t,this.dataEnd=a,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return e.prototype={byteIn:function(){var e=this.data,t=this.bp;if(255===e[t]){var a=e[t+1];a>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t)}else t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,a){var r,i=e[a]>>1,n=1&e[a],s=t[i],o=s.qe,c=this.a-o;if(this.chigh<o)o>c?(c=o,r=n,i=s.nmps):(c=o,r=1^n,1===s.switchFlag&&(n=r),i=s.nlps);else{if(this.chigh-=o,0!==(32768&c))return this.a=c,n;o>c?(r=1^n,1===s.switchFlag&&(n=r),i=s.nlps):(r=n,i=s.nmps)}do 0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(0===(32768&c));return this.a=c,e[a]=i<<1|n,r}},e}();e.ArithmeticDecoder=t}),function(e,t){t(e.pdfjsCoreCharsets={})}(this,function(e){var t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],a=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],r=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];e.ISOAdobeCharset=t,e.ExpertCharset=a,e.ExpertSubsetCharset=r}),function(e,t){t(e.pdfjsCoreGlyphList={})}(this,function(e){var t={A:65,AE:198,AEacute:508,AEmacron:482,AEsmall:63462,Aacute:193,Aacutesmall:63457,Abreve:258,Abreveacute:7854,Abrevecyrillic:1232,Abrevedotbelow:7862,Abrevegrave:7856,Abrevehookabove:7858,Abrevetilde:7860,Acaron:461,Acircle:9398,Acircumflex:194,Acircumflexacute:7844,Acircumflexdotbelow:7852,Acircumflexgrave:7846,Acircumflexhookabove:7848,Acircumflexsmall:63458,Acircumflextilde:7850,Acute:63177,Acutesmall:63412,Acyrillic:1040,Adblgrave:512,Adieresis:196,Adieresiscyrillic:1234,Adieresismacron:478,Adieresissmall:63460,Adotbelow:7840,Adotmacron:480,Agrave:192,Agravesmall:63456,Ahookabove:7842,Aiecyrillic:1236,Ainvertedbreve:514,Alpha:913,Alphatonos:902,Amacron:256,Amonospace:65313,Aogonek:260,Aring:197,Aringacute:506,Aringbelow:7680,Aringsmall:63461,Asmall:63329,Atilde:195,Atildesmall:63459,Aybarmenian:1329,B:66,Bcircle:9399,Bdotaccent:7682,Bdotbelow:7684,Becyrillic:1041,Benarmenian:1330,Beta:914,Bhook:385,Blinebelow:7686,Bmonospace:65314,Brevesmall:63220,Bsmall:63330,Btopbar:386,C:67,Caarmenian:1342,Cacute:262,Caron:63178,Caronsmall:63221,Ccaron:268,Ccedilla:199,Ccedillaacute:7688,Ccedillasmall:63463,Ccircle:9400,Ccircumflex:264,Cdot:266,Cdotaccent:266,Cedillasmall:63416,Chaarmenian:1353,Cheabkhasiancyrillic:1212,Checyrillic:1063,Chedescenderabkhasiancyrillic:1214,Chedescendercyrillic:1206,Chedieresiscyrillic:1268,Cheharmenian:1347,Chekhakassiancyrillic:1227,Cheverticalstrokecyrillic:1208,Chi:935,Chook:391,Circumflexsmall:63222,Cmonospace:65315,Coarmenian:1361,Csmall:63331,D:68,DZ:497,DZcaron:452,Daarmenian:1332,Dafrican:393,Dcaron:270,Dcedilla:7696,Dcircle:9401,Dcircumflexbelow:7698,Dcroat:272,Ddotaccent:7690,Ddotbelow:7692,Decyrillic:1044,Deicoptic:1006,Delta:8710,Deltagreek:916,Dhook:394,Dieresis:63179,DieresisAcute:63180,DieresisGrave:63181,Dieresissmall:63400,Digammagreek:988,Djecyrillic:1026,Dlinebelow:7694,Dmonospace:65316,Dotaccentsmall:63223,Dslash:272,Dsmall:63332,Dtopbar:395,Dz:498,Dzcaron:453,Dzeabkhasiancyrillic:1248,Dzecyrillic:1029,Dzhecyrillic:1039,E:69,Eacute:201,Eacutesmall:63465,Ebreve:276,Ecaron:282,Ecedillabreve:7708,Echarmenian:1333,Ecircle:9402,Ecircumflex:202,Ecircumflexacute:7870,Ecircumflexbelow:7704,Ecircumflexdotbelow:7878,Ecircumflexgrave:7872,Ecircumflexhookabove:7874,Ecircumflexsmall:63466,Ecircumflextilde:7876,Ecyrillic:1028,Edblgrave:516,Edieresis:203,Edieresissmall:63467,Edot:278,Edotaccent:278,Edotbelow:7864,Efcyrillic:1060,Egrave:200,Egravesmall:63464,Eharmenian:1335,Ehookabove:7866,Eightroman:8551,Einvertedbreve:518,Eiotifiedcyrillic:1124,Elcyrillic:1051,Elevenroman:8554,Emacron:274,Emacronacute:7702,Emacrongrave:7700,Emcyrillic:1052,Emonospace:65317,Encyrillic:1053,Endescendercyrillic:1186,Eng:330,Enghecyrillic:1188,Enhookcyrillic:1223,Eogonek:280,Eopen:400,Epsilon:917,Epsilontonos:904,Ercyrillic:1056,Ereversed:398,Ereversedcyrillic:1069,Escyrillic:1057,Esdescendercyrillic:1194,Esh:425,Esmall:63333,Eta:919,Etarmenian:1336,Etatonos:905,Eth:208,Ethsmall:63472,Etilde:7868,Etildebelow:7706,Euro:8364,Ezh:439,Ezhcaron:494,Ezhreversed:440,F:70,Fcircle:9403,Fdotaccent:7710,Feharmenian:1366,Feicoptic:996,Fhook:401,Fitacyrillic:1138,Fiveroman:8548,Fmonospace:65318,Fourroman:8547,Fsmall:63334,G:71,GBsquare:13191,Gacute:500,Gamma:915,Gammaafrican:404,Gangiacoptic:1002,Gbreve:286,Gcaron:486,Gcedilla:290,Gcircle:9404,Gcircumflex:284,Gcommaaccent:290,Gdot:288,Gdotaccent:288,Gecyrillic:1043,Ghadarmenian:1346,Ghemiddlehookcyrillic:1172,Ghestrokecyrillic:1170,Gheupturncyrillic:1168,Ghook:403,Gimarmenian:1331,Gjecyrillic:1027,Gmacron:7712,Gmonospace:65319,Grave:63182,Gravesmall:63328,Gsmall:63335,Gsmallhook:667,Gstroke:484,H:72,H18533:9679,H18543:9642,H18551:9643,H22073:9633,HPsquare:13259,Haabkhasiancyrillic:1192,Hadescendercyrillic:1202,Hardsigncyrillic:1066,Hbar:294,Hbrevebelow:7722,Hcedilla:7720,Hcircle:9405,Hcircumflex:292,Hdieresis:7718,Hdotaccent:7714,Hdotbelow:7716,Hmonospace:65320,Hoarmenian:1344,Horicoptic:1e3,Hsmall:63336,Hungarumlaut:63183,Hungarumlautsmall:63224,Hzsquare:13200,I:73,IAcyrillic:1071,IJ:306,IUcyrillic:1070,Iacute:205,Iacutesmall:63469,Ibreve:300,Icaron:463,Icircle:9406,Icircumflex:206,Icircumflexsmall:63470,Icyrillic:1030,Idblgrave:520,Idieresis:207,Idieresisacute:7726,Idieresiscyrillic:1252,Idieresissmall:63471,Idot:304,Idotaccent:304,Idotbelow:7882,Iebrevecyrillic:1238,Iecyrillic:1045,Ifraktur:8465,Igrave:204,Igravesmall:63468,Ihookabove:7880,Iicyrillic:1048,Iinvertedbreve:522,Iishortcyrillic:1049,Imacron:298,Imacroncyrillic:1250,Imonospace:65321,Iniarmenian:1339,Iocyrillic:1025,Iogonek:302,Iota:921,Iotaafrican:406,Iotadieresis:938,Iotatonos:906,Ismall:63337,Istroke:407,Itilde:296,Itildebelow:7724,Izhitsacyrillic:1140,Izhitsadblgravecyrillic:1142,J:74,Jaarmenian:1345,Jcircle:9407,Jcircumflex:308,Jecyrillic:1032,Jheharmenian:1355,Jmonospace:65322,Jsmall:63338,K:75,KBsquare:13189,KKsquare:13261,Kabashkircyrillic:1184,Kacute:7728,Kacyrillic:1050,Kadescendercyrillic:1178,Kahookcyrillic:1219,Kappa:922,Kastrokecyrillic:1182,Kaverticalstrokecyrillic:1180,Kcaron:488,Kcedilla:310,Kcircle:9408,Kcommaaccent:310,Kdotbelow:7730,Keharmenian:1364,Kenarmenian:1343,Khacyrillic:1061,Kheicoptic:998,Khook:408,Kjecyrillic:1036,Klinebelow:7732,Kmonospace:65323,Koppacyrillic:1152,Koppagreek:990,Ksicyrillic:1134,Ksmall:63339,L:76,LJ:455,LL:63167,Lacute:313,Lambda:923,Lcaron:317,Lcedilla:315,Lcircle:9409,Lcircumflexbelow:7740,Lcommaaccent:315,Ldot:319,Ldotaccent:319,Ldotbelow:7734,Ldotbelowmacron:7736,Liwnarmenian:1340,Lj:456,Ljecyrillic:1033,Llinebelow:7738,Lmonospace:65324,Lslash:321,Lslashsmall:63225,Lsmall:63340,M:77,MBsquare:13190,Macron:63184,Macronsmall:63407,Macute:7742,Mcircle:9410,Mdotaccent:7744,Mdotbelow:7746,Menarmenian:1348,Mmonospace:65325,Msmall:63341,Mturned:412,Mu:924,N:78,NJ:458,Nacute:323,Ncaron:327,Ncedilla:325,Ncircle:9411,Ncircumflexbelow:7754,Ncommaaccent:325,Ndotaccent:7748,Ndotbelow:7750,Nhookleft:413,Nineroman:8552,Nj:459,Njecyrillic:1034,Nlinebelow:7752,Nmonospace:65326,Nowarmenian:1350,Nsmall:63342,Ntilde:209,Ntildesmall:63473,Nu:925,O:79,OE:338,OEsmall:63226,Oacute:211,Oacutesmall:63475,Obarredcyrillic:1256,Obarreddieresiscyrillic:1258,Obreve:334,Ocaron:465,Ocenteredtilde:415,Ocircle:9412,Ocircumflex:212,Ocircumflexacute:7888,Ocircumflexdotbelow:7896,Ocircumflexgrave:7890,Ocircumflexhookabove:7892,Ocircumflexsmall:63476,Ocircumflextilde:7894,Ocyrillic:1054,Odblacute:336,Odblgrave:524,Odieresis:214,Odieresiscyrillic:1254,Odieresissmall:63478,Odotbelow:7884,Ogoneksmall:63227,Ograve:210,Ogravesmall:63474,Oharmenian:1365,Ohm:8486,Ohookabove:7886,Ohorn:416,Ohornacute:7898,Ohorndotbelow:7906,Ohorngrave:7900,Ohornhookabove:7902,Ohorntilde:7904,Ohungarumlaut:336,Oi:418,Oinvertedbreve:526,Omacron:332,Omacronacute:7762,Omacrongrave:7760,Omega:8486,Omegacyrillic:1120,Omegagreek:937,Omegaroundcyrillic:1146,Omegatitlocyrillic:1148,Omegatonos:911,Omicron:927,Omicrontonos:908,Omonospace:65327,Oneroman:8544,Oogonek:490,Oogonekmacron:492,Oopen:390,Oslash:216,Oslashacute:510,Oslashsmall:63480,Osmall:63343,Ostrokeacute:510,Otcyrillic:1150,Otilde:213,Otildeacute:7756,Otildedieresis:7758,Otildesmall:63477,P:80,Pacute:7764,Pcircle:9413,Pdotaccent:7766,Pecyrillic:1055,Peharmenian:1354,Pemiddlehookcyrillic:1190,Phi:934,Phook:420,Pi:928,Piwrarmenian:1363,Pmonospace:65328,Psi:936,Psicyrillic:1136,Psmall:63344,Q:81,Qcircle:9414,Qmonospace:65329,Qsmall:63345,R:82,Raarmenian:1356,Racute:340,Rcaron:344,Rcedilla:342,Rcircle:9415,Rcommaaccent:342,Rdblgrave:528,Rdotaccent:7768,Rdotbelow:7770,Rdotbelowmacron:7772,Reharmenian:1360,Rfraktur:8476,Rho:929,Ringsmall:63228,Rinvertedbreve:530,Rlinebelow:7774,Rmonospace:65330,Rsmall:63346,Rsmallinverted:641,Rsmallinvertedsuperior:694,S:83,SF010000:9484,SF020000:9492,SF030000:9488,SF040000:9496,SF050000:9532,SF060000:9516,SF070000:9524,SF080000:9500,SF090000:9508,SF100000:9472,SF110000:9474,SF190000:9569,SF200000:9570,SF210000:9558,SF220000:9557,SF230000:9571,SF240000:9553,SF250000:9559,SF260000:9565,SF270000:9564,SF280000:9563,SF360000:9566,SF370000:9567,SF380000:9562,SF390000:9556,SF400000:9577,SF410000:9574,SF420000:9568,SF430000:9552,SF440000:9580,SF450000:9575,SF460000:9576,SF470000:9572,SF480000:9573,SF490000:9561,SF500000:9560,SF510000:9554,SF520000:9555,SF530000:9579,SF540000:9578,Sacute:346,Sacutedotaccent:7780,Sampigreek:992,Scaron:352,Scarondotaccent:7782,Scaronsmall:63229,Scedilla:350,Schwa:399,Schwacyrillic:1240,Schwadieresiscyrillic:1242,Scircle:9416,Scircumflex:348,Scommaaccent:536,Sdotaccent:7776,Sdotbelow:7778,Sdotbelowdotaccent:7784,Seharmenian:1357,Sevenroman:8550,Shaarmenian:1351,Shacyrillic:1064,Shchacyrillic:1065,Sheicoptic:994,Shhacyrillic:1210,Shimacoptic:1004,Sigma:931,Sixroman:8549,Smonospace:65331,Softsigncyrillic:1068,Ssmall:63347,Stigmagreek:986,T:84,Tau:932,Tbar:358,Tcaron:356,Tcedilla:354,Tcircle:9417,Tcircumflexbelow:7792,Tcommaaccent:354,Tdotaccent:7786,Tdotbelow:7788,Tecyrillic:1058,Tedescendercyrillic:1196,Tenroman:8553,Tetsecyrillic:1204,Theta:920,Thook:428,Thorn:222,Thornsmall:63486,Threeroman:8546,Tildesmall:63230,Tiwnarmenian:1359,Tlinebelow:7790,Tmonospace:65332,Toarmenian:1337,Tonefive:444,Tonesix:388,Tonetwo:423,Tretroflexhook:430,Tsecyrillic:1062,Tshecyrillic:1035,Tsmall:63348,Twelveroman:8555,Tworoman:8545,U:85,Uacute:218,Uacutesmall:63482,Ubreve:364,Ucaron:467,Ucircle:9418,Ucircumflex:219,Ucircumflexbelow:7798,Ucircumflexsmall:63483,Ucyrillic:1059,Udblacute:368,Udblgrave:532,Udieresis:220,Udieresisacute:471,Udieresisbelow:7794,Udieresiscaron:473,Udieresiscyrillic:1264,Udieresisgrave:475,Udieresismacron:469,Udieresissmall:63484,Udotbelow:7908,Ugrave:217,Ugravesmall:63481,Uhookabove:7910,Uhorn:431,Uhornacute:7912,Uhorndotbelow:7920,Uhorngrave:7914,Uhornhookabove:7916,Uhorntilde:7918,Uhungarumlaut:368,Uhungarumlautcyrillic:1266,Uinvertedbreve:534,Ukcyrillic:1144,Umacron:362,Umacroncyrillic:1262,Umacrondieresis:7802,Umonospace:65333,Uogonek:370,Upsilon:933,Upsilon1:978,Upsilonacutehooksymbolgreek:979,Upsilonafrican:433,Upsilondieresis:939,Upsilondieresishooksymbolgreek:980,Upsilonhooksymbol:978,Upsilontonos:910,Uring:366,Ushortcyrillic:1038,Usmall:63349,Ustraightcyrillic:1198,Ustraightstrokecyrillic:1200,Utilde:360,Utildeacute:7800,Utildebelow:7796,V:86,Vcircle:9419,Vdotbelow:7806,Vecyrillic:1042,Vewarmenian:1358,Vhook:434,Vmonospace:65334,Voarmenian:1352,Vsmall:63350,Vtilde:7804,W:87,Wacute:7810,Wcircle:9420,Wcircumflex:372,Wdieresis:7812,Wdotaccent:7814,Wdotbelow:7816,Wgrave:7808,Wmonospace:65335,Wsmall:63351,X:88,Xcircle:9421,Xdieresis:7820,Xdotaccent:7818,Xeharmenian:1341,Xi:926,Xmonospace:65336,Xsmall:63352,Y:89,Yacute:221,Yacutesmall:63485,Yatcyrillic:1122,Ycircle:9422,Ycircumflex:374,Ydieresis:376,Ydieresissmall:63487,Ydotaccent:7822,Ydotbelow:7924,Yericyrillic:1067,Yerudieresiscyrillic:1272,Ygrave:7922,Yhook:435,Yhookabove:7926,Yiarmenian:1349,Yicyrillic:1031,Yiwnarmenian:1362,Ymonospace:65337,Ysmall:63353,Ytilde:7928,Yusbigcyrillic:1130,Yusbigiotifiedcyrillic:1132,Yuslittlecyrillic:1126,Yuslittleiotifiedcyrillic:1128,Z:90,Zaarmenian:1334,Zacute:377,Zcaron:381,Zcaronsmall:63231,Zcircle:9423,Zcircumflex:7824,Zdot:379,Zdotaccent:379,Zdotbelow:7826,Zecyrillic:1047,Zedescendercyrillic:1176,Zedieresiscyrillic:1246,Zeta:918,Zhearmenian:1338,Zhebrevecyrillic:1217,Zhecyrillic:1046,Zhedescendercyrillic:1174,Zhedieresiscyrillic:1244,Zlinebelow:7828,Zmonospace:65338,Zsmall:63354,Zstroke:437,a:97,aabengali:2438,aacute:225,aadeva:2310,aagujarati:2694,aagurmukhi:2566,aamatragurmukhi:2622,aarusquare:13059,aavowelsignbengali:2494,aavowelsigndeva:2366,aavowelsigngujarati:2750,abbreviationmarkarmenian:1375,abbreviationsigndeva:2416,abengali:2437,abopomofo:12570,abreve:259,abreveacute:7855,abrevecyrillic:1233,abrevedotbelow:7863,abrevegrave:7857,abrevehookabove:7859,abrevetilde:7861,acaron:462,acircle:9424,acircumflex:226,acircumflexacute:7845,acircumflexdotbelow:7853,acircumflexgrave:7847,acircumflexhookabove:7849,acircumflextilde:7851,acute:180,acutebelowcmb:791,acutecmb:769,acutecomb:769,acutedeva:2388,acutelowmod:719,acutetonecmb:833,acyrillic:1072,adblgrave:513,addakgurmukhi:2673,adeva:2309,adieresis:228,adieresiscyrillic:1235,adieresismacron:479,adotbelow:7841,adotmacron:481,ae:230,aeacute:509,aekorean:12624,aemacron:483,afii00208:8213,afii08941:8356,afii10017:1040,afii10018:1041,afii10019:1042,afii10020:1043,afii10021:1044,afii10022:1045,afii10023:1025,afii10024:1046,afii10025:1047,afii10026:1048,afii10027:1049,afii10028:1050,afii10029:1051,afii10030:1052,afii10031:1053,afii10032:1054,afii10033:1055,afii10034:1056,afii10035:1057,afii10036:1058,afii10037:1059,afii10038:1060,afii10039:1061,afii10040:1062,afii10041:1063,afii10042:1064,afii10043:1065,afii10044:1066,afii10045:1067,afii10046:1068,afii10047:1069,afii10048:1070,afii10049:1071,afii10050:1168,afii10051:1026,afii10052:1027,afii10053:1028,afii10054:1029,afii10055:1030,afii10056:1031,afii10057:1032,afii10058:1033,afii10059:1034,afii10060:1035,afii10061:1036,afii10062:1038,afii10063:63172,afii10064:63173,afii10065:1072,afii10066:1073,afii10067:1074,afii10068:1075,afii10069:1076,afii10070:1077,afii10071:1105,afii10072:1078,afii10073:1079,afii10074:1080,afii10075:1081,afii10076:1082,afii10077:1083,afii10078:1084,afii10079:1085,afii10080:1086,afii10081:1087,afii10082:1088,afii10083:1089,afii10084:1090,afii10085:1091,afii10086:1092,afii10087:1093,afii10088:1094,afii10089:1095,afii10090:1096,afii10091:1097,afii10092:1098,afii10093:1099,afii10094:1100,afii10095:1101,afii10096:1102,afii10097:1103,afii10098:1169,afii10099:1106,afii10100:1107,afii10101:1108,afii10102:1109,afii10103:1110,afii10104:1111,afii10105:1112,afii10106:1113,afii10107:1114,afii10108:1115,afii10109:1116,afii10110:1118,afii10145:1039,afii10146:1122,afii10147:1138,afii10148:1140,afii10192:63174,afii10193:1119,afii10194:1123,afii10195:1139,afii10196:1141,afii10831:63175,afii10832:63176,afii10846:1241,afii299:8206,afii300:8207,afii301:8205,afii57381:1642,afii57388:1548,afii57392:1632,afii57393:1633,afii57394:1634,afii57395:1635,afii57396:1636,afii57397:1637,afii57398:1638,afii57399:1639,afii57400:1640,afii57401:1641,afii57403:1563,afii57407:1567,afii57409:1569,afii57410:1570,afii57411:1571,afii57412:1572,afii57413:1573,afii57414:1574,afii57415:1575,afii57416:1576,afii57417:1577,afii57418:1578,afii57419:1579,afii57420:1580,afii57421:1581,afii57422:1582,afii57423:1583,afii57424:1584,afii57425:1585,afii57426:1586,afii57427:1587,afii57428:1588,afii57429:1589,afii57430:1590,afii57431:1591,afii57432:1592,afii57433:1593,afii57434:1594,afii57440:1600,afii57441:1601,afii57442:1602,afii57443:1603,afii57444:1604,afii57445:1605,afii57446:1606,afii57448:1608,afii57449:1609,afii57450:1610,afii57451:1611,afii57452:1612,afii57453:1613,afii57454:1614,afii57455:1615,afii57456:1616,afii57457:1617,afii57458:1618,afii57470:1607,afii57505:1700,afii57506:1662,afii57507:1670,afii57508:1688,afii57509:1711,afii57511:1657,afii57512:1672,afii57513:1681,afii57514:1722,afii57519:1746,afii57534:1749,afii57636:8362,afii57645:1470,afii57658:1475,afii57664:1488,afii57665:1489,afii57666:1490,afii57667:1491,afii57668:1492,afii57669:1493,afii57670:1494,afii57671:1495,afii57672:1496,afii57673:1497,afii57674:1498,afii57675:1499,afii57676:1500,afii57677:1501,afii57678:1502,afii57679:1503,afii57680:1504,afii57681:1505,afii57682:1506,afii57683:1507,afii57684:1508,afii57685:1509,afii57686:1510,afii57687:1511,afii57688:1512,afii57689:1513,afii57690:1514,afii57694:64298,afii57695:64299,afii57700:64331,afii57705:64287,afii57716:1520,afii57717:1521,afii57718:1522,afii57723:64309,afii57793:1460,afii57794:1461,afii57795:1462,afii57796:1467,afii57797:1464,afii57798:1463,afii57799:1456,afii57800:1458,afii57801:1457,afii57802:1459,afii57803:1474,afii57804:1473,afii57806:1465,afii57807:1468,afii57839:1469,afii57841:1471,afii57842:1472,afii57929:700,afii61248:8453,afii61289:8467,afii61352:8470,afii61573:8236,afii61574:8237,afii61575:8238,afii61664:8204,afii63167:1645,afii64937:701,agrave:224,agujarati:2693,agurmukhi:2565,ahiragana:12354,ahookabove:7843,aibengali:2448,aibopomofo:12574,aideva:2320,aiecyrillic:1237,aigujarati:2704,aigurmukhi:2576,aimatragurmukhi:2632,ainarabic:1593,ainfinalarabic:65226,aininitialarabic:65227,ainmedialarabic:65228,ainvertedbreve:515,aivowelsignbengali:2504,aivowelsigndeva:2376,aivowelsigngujarati:2760,akatakana:12450,akatakanahalfwidth:65393,akorean:12623,alef:1488,alefarabic:1575,alefdageshhebrew:64304,aleffinalarabic:65166,alefhamzaabovearabic:1571,alefhamzaabovefinalarabic:65156,alefhamzabelowarabic:1573,alefhamzabelowfinalarabic:65160,alefhebrew:1488,aleflamedhebrew:64335,alefmaddaabovearabic:1570,alefmaddaabovefinalarabic:65154,alefmaksuraarabic:1609,alefmaksurafinalarabic:65264,alefmaksurainitialarabic:65267,alefmaksuramedialarabic:65268,alefpatahhebrew:64302,alefqamatshebrew:64303,aleph:8501,allequal:8780,alpha:945,alphatonos:940,amacron:257,amonospace:65345,ampersand:38,ampersandmonospace:65286,ampersandsmall:63270,amsquare:13250,anbopomofo:12578,angbopomofo:12580,angbracketleft:12296,angbracketright:12297,angkhankhuthai:3674,angle:8736,anglebracketleft:12296,anglebracketleftvertical:65087,anglebracketright:12297,anglebracketrightvertical:65088,angleleft:9001,angleright:9002,angstrom:8491,anoteleia:903,anudattadeva:2386,anusvarabengali:2434,anusvaradeva:2306,anusvaragujarati:2690,aogonek:261,apaatosquare:13056,aparen:9372,apostrophearmenian:1370,apostrophemod:700,apple:63743,approaches:8784,approxequal:8776,approxequalorimage:8786,approximatelyequal:8773,araeaekorean:12686,araeakorean:12685,arc:8978,arighthalfring:7834,aring:229,aringacute:507,aringbelow:7681,arrowboth:8596,arrowdashdown:8675,arrowdashleft:8672,arrowdashright:8674,arrowdashup:8673,arrowdblboth:8660,arrowdbldown:8659,arrowdblleft:8656,arrowdblright:8658,arrowdblup:8657,arrowdown:8595,arrowdownleft:8601,arrowdownright:8600,arrowdownwhite:8681,arrowheaddownmod:709,arrowheadleftmod:706,arrowheadrightmod:707,arrowheadupmod:708,arrowhorizex:63719,arrowleft:8592,arrowleftdbl:8656,arrowleftdblstroke:8653,arrowleftoverright:8646,arrowleftwhite:8678,arrowright:8594,arrowrightdblstroke:8655,arrowrightheavy:10142,arrowrightoverleft:8644,arrowrightwhite:8680,arrowtableft:8676,arrowtabright:8677,arrowup:8593,arrowupdn:8597,arrowupdnbse:8616,arrowupdownbase:8616,arrowupleft:8598,arrowupleftofdown:8645,arrowupright:8599,arrowupwhite:8679,arrowvertex:63718,asciicircum:94,asciicircummonospace:65342,asciitilde:126,asciitildemonospace:65374,ascript:593,ascriptturned:594,asmallhiragana:12353,asmallkatakana:12449,asmallkatakanahalfwidth:65383,asterisk:42,asteriskaltonearabic:1645,asteriskarabic:1645,asteriskmath:8727,asteriskmonospace:65290,asterisksmall:65121,asterism:8258,asuperior:63209,asymptoticallyequal:8771,at:64,atilde:227,atmonospace:65312,atsmall:65131,aturned:592,aubengali:2452,aubopomofo:12576,audeva:2324,augujarati:2708,augurmukhi:2580,aulengthmarkbengali:2519,aumatragurmukhi:2636,auvowelsignbengali:2508,auvowelsigndeva:2380,auvowelsigngujarati:2764,avagrahadeva:2365,aybarmenian:1377,ayin:1506,ayinaltonehebrew:64288,ayinhebrew:1506,b:98,babengali:2476,backslash:92,backslashmonospace:65340,badeva:2348,bagujarati:2732,bagurmukhi:2604,bahiragana:12400,bahtthai:3647,bakatakana:12496,bar:124,barmonospace:65372,bbopomofo:12549,bcircle:9425,bdotaccent:7683,bdotbelow:7685,beamedsixteenthnotes:9836,because:8757,becyrillic:1073,beharabic:1576,behfinalarabic:65168,behinitialarabic:65169,behiragana:12409,behmedialarabic:65170,behmeeminitialarabic:64671,behmeemisolatedarabic:64520,behnoonfinalarabic:64621,bekatakana:12505,benarmenian:1378,bet:1489,beta:946,betasymbolgreek:976,betdagesh:64305,betdageshhebrew:64305,bethebrew:1489,betrafehebrew:64332,bhabengali:2477,bhadeva:2349,bhagujarati:2733,bhagurmukhi:2605,bhook:595,bihiragana:12403,bikatakana:12499,bilabialclick:664,bindigurmukhi:2562,birusquare:13105,blackcircle:9679,blackdiamond:9670,blackdownpointingtriangle:9660,blackleftpointingpointer:9668,blackleftpointingtriangle:9664,blacklenticularbracketleft:12304,blacklenticularbracketleftvertical:65083,blacklenticularbracketright:12305,blacklenticularbracketrightvertical:65084,blacklowerlefttriangle:9699,blacklowerrighttriangle:9698,blackrectangle:9644,blackrightpointingpointer:9658,blackrightpointingtriangle:9654,blacksmallsquare:9642,blacksmilingface:9787,blacksquare:9632,blackstar:9733,blackupperlefttriangle:9700,blackupperrighttriangle:9701,blackuppointingsmalltriangle:9652,blackuppointingtriangle:9650,blank:9251,blinebelow:7687,block:9608,bmonospace:65346,bobaimaithai:3610,bohiragana:12412,bokatakana:12508,bparen:9373,bqsquare:13251,braceex:63732,braceleft:123,braceleftbt:63731,braceleftmid:63730,braceleftmonospace:65371,braceleftsmall:65115,bracelefttp:63729,braceleftvertical:65079,braceright:125,bracerightbt:63742,bracerightmid:63741,bracerightmonospace:65373,bracerightsmall:65116,bracerighttp:63740,bracerightvertical:65080,bracketleft:91,bracketleftbt:63728,bracketleftex:63727,bracketleftmonospace:65339,bracketlefttp:63726,bracketright:93,bracketrightbt:63739,bracketrightex:63738,bracketrightmonospace:65341,bracketrighttp:63737,breve:728,brevebelowcmb:814,brevecmb:774,breveinvertedbelowcmb:815,breveinvertedcmb:785,breveinverteddoublecmb:865,bridgebelowcmb:810,bridgeinvertedbelowcmb:826,brokenbar:166,bstroke:384,bsuperior:63210,btopbar:387,buhiragana:12406,bukatakana:12502,bullet:8226,bulletinverse:9688,bulletoperator:8729,bullseye:9678,c:99,caarmenian:1390,cabengali:2458,cacute:263,cadeva:2330,cagujarati:2714,cagurmukhi:2586,calsquare:13192,candrabindubengali:2433,candrabinducmb:784,candrabindudeva:2305,candrabindugujarati:2689,capslock:8682,careof:8453,caron:711,caronbelowcmb:812,caroncmb:780,carriagereturn:8629,cbopomofo:12568,ccaron:269,ccedilla:231,ccedillaacute:7689,ccircle:9426,ccircumflex:265,ccurl:597,cdot:267,cdotaccent:267,cdsquare:13253,cedilla:184,cedillacmb:807,cent:162,centigrade:8451,centinferior:63199,centmonospace:65504,centoldstyle:63394,centsuperior:63200,chaarmenian:1401,chabengali:2459,chadeva:2331,chagujarati:2715,chagurmukhi:2587,chbopomofo:12564,cheabkhasiancyrillic:1213,checkmark:10003,checyrillic:1095,chedescenderabkhasiancyrillic:1215,chedescendercyrillic:1207,chedieresiscyrillic:1269,cheharmenian:1395,chekhakassiancyrillic:1228,cheverticalstrokecyrillic:1209,chi:967,chieuchacirclekorean:12919,chieuchaparenkorean:12823,chieuchcirclekorean:12905,chieuchkorean:12618,chieuchparenkorean:12809,chochangthai:3594,chochanthai:3592,chochingthai:3593,chochoethai:3596,chook:392,cieucacirclekorean:12918,cieucaparenkorean:12822,cieuccirclekorean:12904,cieuckorean:12616,cieucparenkorean:12808,cieucuparenkorean:12828,circle:9675,circlecopyrt:169,circlemultiply:8855,circleot:8857,circleplus:8853,circlepostalmark:12342,circlewithlefthalfblack:9680,circlewithrighthalfblack:9681,circumflex:710,circumflexbelowcmb:813,circumflexcmb:770,clear:8999,clickalveolar:450,clickdental:448,clicklateral:449,clickretroflex:451,club:9827,clubsuitblack:9827,clubsuitwhite:9831,cmcubedsquare:13220,cmonospace:65347,cmsquaredsquare:13216,coarmenian:1409,colon:58,colonmonetary:8353,colonmonospace:65306,colonsign:8353,colonsmall:65109,colontriangularhalfmod:721,colontriangularmod:720,comma:44,commaabovecmb:787,
commaaboverightcmb:789,commaaccent:63171,commaarabic:1548,commaarmenian:1373,commainferior:63201,commamonospace:65292,commareversedabovecmb:788,commareversedmod:701,commasmall:65104,commasuperior:63202,commaturnedabovecmb:786,commaturnedmod:699,compass:9788,congruent:8773,contourintegral:8750,control:8963,controlACK:6,controlBEL:7,controlBS:8,controlCAN:24,controlCR:13,controlDC1:17,controlDC2:18,controlDC3:19,controlDC4:20,controlDEL:127,controlDLE:16,controlEM:25,controlENQ:5,controlEOT:4,controlESC:27,controlETB:23,controlETX:3,controlFF:12,controlFS:28,controlGS:29,controlHT:9,controlLF:10,controlNAK:21,controlRS:30,controlSI:15,controlSO:14,controlSOT:2,controlSTX:1,controlSUB:26,controlSYN:22,controlUS:31,controlVT:11,copyright:169,copyrightsans:63721,copyrightserif:63193,cornerbracketleft:12300,cornerbracketlefthalfwidth:65378,cornerbracketleftvertical:65089,cornerbracketright:12301,cornerbracketrighthalfwidth:65379,cornerbracketrightvertical:65090,corporationsquare:13183,cosquare:13255,coverkgsquare:13254,cparen:9374,cruzeiro:8354,cstretched:663,curlyand:8911,curlyor:8910,currency:164,cyrBreve:63185,cyrFlex:63186,cyrbreve:63188,cyrflex:63189,d:100,daarmenian:1380,dabengali:2470,dadarabic:1590,dadeva:2342,dadfinalarabic:65214,dadinitialarabic:65215,dadmedialarabic:65216,dagesh:1468,dageshhebrew:1468,dagger:8224,daggerdbl:8225,dagujarati:2726,dagurmukhi:2598,dahiragana:12384,dakatakana:12480,dalarabic:1583,dalet:1491,daletdagesh:64307,daletdageshhebrew:64307,dalethebrew:1491,dalfinalarabic:65194,dammaarabic:1615,dammalowarabic:1615,dammatanaltonearabic:1612,dammatanarabic:1612,danda:2404,dargahebrew:1447,dargalefthebrew:1447,dasiapneumatacyrilliccmb:1157,dblGrave:63187,dblanglebracketleft:12298,dblanglebracketleftvertical:65085,dblanglebracketright:12299,dblanglebracketrightvertical:65086,dblarchinvertedbelowcmb:811,dblarrowleft:8660,dblarrowright:8658,dbldanda:2405,dblgrave:63190,dblgravecmb:783,dblintegral:8748,dbllowline:8215,dbllowlinecmb:819,dbloverlinecmb:831,dblprimemod:698,dblverticalbar:8214,dblverticallineabovecmb:782,dbopomofo:12553,dbsquare:13256,dcaron:271,dcedilla:7697,dcircle:9427,dcircumflexbelow:7699,dcroat:273,ddabengali:2465,ddadeva:2337,ddagujarati:2721,ddagurmukhi:2593,ddalarabic:1672,ddalfinalarabic:64393,dddhadeva:2396,ddhabengali:2466,ddhadeva:2338,ddhagujarati:2722,ddhagurmukhi:2594,ddotaccent:7691,ddotbelow:7693,decimalseparatorarabic:1643,decimalseparatorpersian:1643,decyrillic:1076,degree:176,dehihebrew:1453,dehiragana:12391,deicoptic:1007,dekatakana:12487,deleteleft:9003,deleteright:8998,delta:948,deltaturned:397,denominatorminusonenumeratorbengali:2552,dezh:676,dhabengali:2471,dhadeva:2343,dhagujarati:2727,dhagurmukhi:2599,dhook:599,dialytikatonos:901,dialytikatonoscmb:836,diamond:9830,diamondsuitwhite:9826,dieresis:168,dieresisacute:63191,dieresisbelowcmb:804,dieresiscmb:776,dieresisgrave:63192,dieresistonos:901,dihiragana:12386,dikatakana:12482,dittomark:12291,divide:247,divides:8739,divisionslash:8725,djecyrillic:1106,dkshade:9619,dlinebelow:7695,dlsquare:13207,dmacron:273,dmonospace:65348,dnblock:9604,dochadathai:3598,dodekthai:3604,dohiragana:12393,dokatakana:12489,dollar:36,dollarinferior:63203,dollarmonospace:65284,dollaroldstyle:63268,dollarsmall:65129,dollarsuperior:63204,dong:8363,dorusquare:13094,dotaccent:729,dotaccentcmb:775,dotbelowcmb:803,dotbelowcomb:803,dotkatakana:12539,dotlessi:305,dotlessj:63166,dotlessjstrokehook:644,dotmath:8901,dottedcircle:9676,doubleyodpatah:64287,doubleyodpatahhebrew:64287,downtackbelowcmb:798,downtackmod:725,dparen:9375,dsuperior:63211,dtail:598,dtopbar:396,duhiragana:12389,dukatakana:12485,dz:499,dzaltone:675,dzcaron:454,dzcurl:677,dzeabkhasiancyrillic:1249,dzecyrillic:1109,dzhecyrillic:1119,e:101,eacute:233,earth:9793,ebengali:2447,ebopomofo:12572,ebreve:277,ecandradeva:2317,ecandragujarati:2701,ecandravowelsigndeva:2373,ecandravowelsigngujarati:2757,ecaron:283,ecedillabreve:7709,echarmenian:1381,echyiwnarmenian:1415,ecircle:9428,ecircumflex:234,ecircumflexacute:7871,ecircumflexbelow:7705,ecircumflexdotbelow:7879,ecircumflexgrave:7873,ecircumflexhookabove:7875,ecircumflextilde:7877,ecyrillic:1108,edblgrave:517,edeva:2319,edieresis:235,edot:279,edotaccent:279,edotbelow:7865,eegurmukhi:2575,eematragurmukhi:2631,efcyrillic:1092,egrave:232,egujarati:2703,eharmenian:1383,ehbopomofo:12573,ehiragana:12360,ehookabove:7867,eibopomofo:12575,eight:56,eightarabic:1640,eightbengali:2542,eightcircle:9319,eightcircleinversesansserif:10129,eightdeva:2414,eighteencircle:9329,eighteenparen:9349,eighteenperiod:9369,eightgujarati:2798,eightgurmukhi:2670,eighthackarabic:1640,eighthangzhou:12328,eighthnotebeamed:9835,eightideographicparen:12839,eightinferior:8328,eightmonospace:65304,eightoldstyle:63288,eightparen:9339,eightperiod:9359,eightpersian:1784,eightroman:8567,eightsuperior:8312,eightthai:3672,einvertedbreve:519,eiotifiedcyrillic:1125,ekatakana:12456,ekatakanahalfwidth:65396,ekonkargurmukhi:2676,ekorean:12628,elcyrillic:1083,element:8712,elevencircle:9322,elevenparen:9342,elevenperiod:9362,elevenroman:8570,ellipsis:8230,ellipsisvertical:8942,emacron:275,emacronacute:7703,emacrongrave:7701,emcyrillic:1084,emdash:8212,emdashvertical:65073,emonospace:65349,emphasismarkarmenian:1371,emptyset:8709,enbopomofo:12579,encyrillic:1085,endash:8211,endashvertical:65074,endescendercyrillic:1187,eng:331,engbopomofo:12581,enghecyrillic:1189,enhookcyrillic:1224,enspace:8194,eogonek:281,eokorean:12627,eopen:603,eopenclosed:666,eopenreversed:604,eopenreversedclosed:606,eopenreversedhook:605,eparen:9376,epsilon:949,epsilontonos:941,equal:61,equalmonospace:65309,equalsmall:65126,equalsuperior:8316,equivalence:8801,erbopomofo:12582,ercyrillic:1088,ereversed:600,ereversedcyrillic:1101,escyrillic:1089,esdescendercyrillic:1195,esh:643,eshcurl:646,eshortdeva:2318,eshortvowelsigndeva:2374,eshreversedloop:426,eshsquatreversed:645,esmallhiragana:12359,esmallkatakana:12455,esmallkatakanahalfwidth:65386,estimated:8494,esuperior:63212,eta:951,etarmenian:1384,etatonos:942,eth:240,etilde:7869,etildebelow:7707,etnahtafoukhhebrew:1425,etnahtafoukhlefthebrew:1425,etnahtahebrew:1425,etnahtalefthebrew:1425,eturned:477,eukorean:12641,euro:8364,evowelsignbengali:2503,evowelsigndeva:2375,evowelsigngujarati:2759,exclam:33,exclamarmenian:1372,exclamdbl:8252,exclamdown:161,exclamdownsmall:63393,exclammonospace:65281,exclamsmall:63265,existential:8707,ezh:658,ezhcaron:495,ezhcurl:659,ezhreversed:441,ezhtail:442,f:102,fadeva:2398,fagurmukhi:2654,fahrenheit:8457,fathaarabic:1614,fathalowarabic:1614,fathatanarabic:1611,fbopomofo:12552,fcircle:9429,fdotaccent:7711,feharabic:1601,feharmenian:1414,fehfinalarabic:65234,fehinitialarabic:65235,fehmedialarabic:65236,feicoptic:997,female:9792,ff:64256,ffi:64259,ffl:64260,fi:64257,fifteencircle:9326,fifteenparen:9346,fifteenperiod:9366,figuredash:8210,filledbox:9632,filledrect:9644,finalkaf:1498,finalkafdagesh:64314,finalkafdageshhebrew:64314,finalkafhebrew:1498,finalmem:1501,finalmemhebrew:1501,finalnun:1503,finalnunhebrew:1503,finalpe:1507,finalpehebrew:1507,finaltsadi:1509,finaltsadihebrew:1509,firsttonechinese:713,fisheye:9673,fitacyrillic:1139,five:53,fivearabic:1637,fivebengali:2539,fivecircle:9316,fivecircleinversesansserif:10126,fivedeva:2411,fiveeighths:8541,fivegujarati:2795,fivegurmukhi:2667,fivehackarabic:1637,fivehangzhou:12325,fiveideographicparen:12836,fiveinferior:8325,fivemonospace:65301,fiveoldstyle:63285,fiveparen:9336,fiveperiod:9356,fivepersian:1781,fiveroman:8564,fivesuperior:8309,fivethai:3669,fl:64258,florin:402,fmonospace:65350,fmsquare:13209,fofanthai:3615,fofathai:3613,fongmanthai:3663,forall:8704,four:52,fourarabic:1636,fourbengali:2538,fourcircle:9315,fourcircleinversesansserif:10125,fourdeva:2410,fourgujarati:2794,fourgurmukhi:2666,fourhackarabic:1636,fourhangzhou:12324,fourideographicparen:12835,fourinferior:8324,fourmonospace:65300,fournumeratorbengali:2551,fouroldstyle:63284,fourparen:9335,fourperiod:9355,fourpersian:1780,fourroman:8563,foursuperior:8308,fourteencircle:9325,fourteenparen:9345,fourteenperiod:9365,fourthai:3668,fourthtonechinese:715,fparen:9377,fraction:8260,franc:8355,g:103,gabengali:2455,gacute:501,gadeva:2327,gafarabic:1711,gaffinalarabic:64403,gafinitialarabic:64404,gafmedialarabic:64405,gagujarati:2711,gagurmukhi:2583,gahiragana:12364,gakatakana:12460,gamma:947,gammalatinsmall:611,gammasuperior:736,gangiacoptic:1003,gbopomofo:12557,gbreve:287,gcaron:487,gcedilla:291,gcircle:9430,gcircumflex:285,gcommaaccent:291,gdot:289,gdotaccent:289,gecyrillic:1075,gehiragana:12370,gekatakana:12466,geometricallyequal:8785,gereshaccenthebrew:1436,gereshhebrew:1523,gereshmuqdamhebrew:1437,germandbls:223,gershayimaccenthebrew:1438,gershayimhebrew:1524,getamark:12307,ghabengali:2456,ghadarmenian:1394,ghadeva:2328,ghagujarati:2712,ghagurmukhi:2584,ghainarabic:1594,ghainfinalarabic:65230,ghaininitialarabic:65231,ghainmedialarabic:65232,ghemiddlehookcyrillic:1173,ghestrokecyrillic:1171,gheupturncyrillic:1169,ghhadeva:2394,ghhagurmukhi:2650,ghook:608,ghzsquare:13203,gihiragana:12366,gikatakana:12462,gimarmenian:1379,gimel:1490,gimeldagesh:64306,gimeldageshhebrew:64306,gimelhebrew:1490,gjecyrillic:1107,glottalinvertedstroke:446,glottalstop:660,glottalstopinverted:662,glottalstopmod:704,glottalstopreversed:661,glottalstopreversedmod:705,glottalstopreversedsuperior:740,glottalstopstroke:673,glottalstopstrokereversed:674,gmacron:7713,gmonospace:65351,gohiragana:12372,gokatakana:12468,gparen:9378,gpasquare:13228,gradient:8711,grave:96,gravebelowcmb:790,gravecmb:768,gravecomb:768,gravedeva:2387,gravelowmod:718,gravemonospace:65344,gravetonecmb:832,greater:62,greaterequal:8805,greaterequalorless:8923,greatermonospace:65310,greaterorequivalent:8819,greaterorless:8823,greateroverequal:8807,greatersmall:65125,gscript:609,gstroke:485,guhiragana:12368,guillemotleft:171,guillemotright:187,guilsinglleft:8249,guilsinglright:8250,gukatakana:12464,guramusquare:13080,gysquare:13257,h:104,haabkhasiancyrillic:1193,haaltonearabic:1729,habengali:2489,hadescendercyrillic:1203,hadeva:2361,hagujarati:2745,hagurmukhi:2617,haharabic:1581,hahfinalarabic:65186,hahinitialarabic:65187,hahiragana:12399,hahmedialarabic:65188,haitusquare:13098,hakatakana:12495,hakatakanahalfwidth:65418,halantgurmukhi:2637,hamzaarabic:1569,hamzalowarabic:1569,hangulfiller:12644,hardsigncyrillic:1098,harpoonleftbarbup:8636,harpoonrightbarbup:8640,hasquare:13258,hatafpatah:1458,hatafpatah16:1458,hatafpatah23:1458,hatafpatah2f:1458,hatafpatahhebrew:1458,hatafpatahnarrowhebrew:1458,hatafpatahquarterhebrew:1458,hatafpatahwidehebrew:1458,hatafqamats:1459,hatafqamats1b:1459,hatafqamats28:1459,hatafqamats34:1459,hatafqamatshebrew:1459,hatafqamatsnarrowhebrew:1459,hatafqamatsquarterhebrew:1459,hatafqamatswidehebrew:1459,hatafsegol:1457,hatafsegol17:1457,hatafsegol24:1457,hatafsegol30:1457,hatafsegolhebrew:1457,hatafsegolnarrowhebrew:1457,hatafsegolquarterhebrew:1457,hatafsegolwidehebrew:1457,hbar:295,hbopomofo:12559,hbrevebelow:7723,hcedilla:7721,hcircle:9431,hcircumflex:293,hdieresis:7719,hdotaccent:7715,hdotbelow:7717,he:1492,heart:9829,heartsuitblack:9829,heartsuitwhite:9825,hedagesh:64308,hedageshhebrew:64308,hehaltonearabic:1729,heharabic:1607,hehebrew:1492,hehfinalaltonearabic:64423,hehfinalalttwoarabic:65258,hehfinalarabic:65258,hehhamzaabovefinalarabic:64421,hehhamzaaboveisolatedarabic:64420,hehinitialaltonearabic:64424,hehinitialarabic:65259,hehiragana:12408,hehmedialaltonearabic:64425,hehmedialarabic:65260,heiseierasquare:13179,hekatakana:12504,hekatakanahalfwidth:65421,hekutaarusquare:13110,henghook:615,herutusquare:13113,het:1495,hethebrew:1495,hhook:614,hhooksuperior:689,hieuhacirclekorean:12923,hieuhaparenkorean:12827,hieuhcirclekorean:12909,hieuhkorean:12622,hieuhparenkorean:12813,hihiragana:12402,hikatakana:12498,hikatakanahalfwidth:65419,hiriq:1460,hiriq14:1460,hiriq21:1460,hiriq2d:1460,hiriqhebrew:1460,hiriqnarrowhebrew:1460,hiriqquarterhebrew:1460,hiriqwidehebrew:1460,hlinebelow:7830,hmonospace:65352,hoarmenian:1392,hohipthai:3627,hohiragana:12411,hokatakana:12507,hokatakanahalfwidth:65422,holam:1465,holam19:1465,holam26:1465,holam32:1465,holamhebrew:1465,holamnarrowhebrew:1465,holamquarterhebrew:1465,holamwidehebrew:1465,honokhukthai:3630,hookabovecomb:777,hookcmb:777,hookpalatalizedbelowcmb:801,hookretroflexbelowcmb:802,hoonsquare:13122,horicoptic:1001,horizontalbar:8213,horncmb:795,hotsprings:9832,house:8962,hparen:9379,hsuperior:688,hturned:613,huhiragana:12405,huiitosquare:13107,hukatakana:12501,hukatakanahalfwidth:65420,hungarumlaut:733,hungarumlautcmb:779,hv:405,hyphen:45,hypheninferior:63205,hyphenmonospace:65293,hyphensmall:65123,hyphensuperior:63206,hyphentwo:8208,i:105,iacute:237,iacyrillic:1103,ibengali:2439,ibopomofo:12583,ibreve:301,icaron:464,icircle:9432,icircumflex:238,icyrillic:1110,idblgrave:521,ideographearthcircle:12943,ideographfirecircle:12939,ideographicallianceparen:12863,ideographiccallparen:12858,ideographiccentrecircle:12965,ideographicclose:12294,ideographiccomma:12289,ideographiccommaleft:65380,ideographiccongratulationparen:12855,ideographiccorrectcircle:12963,ideographicearthparen:12847,ideographicenterpriseparen:12861,ideographicexcellentcircle:12957,ideographicfestivalparen:12864,ideographicfinancialcircle:12950,ideographicfinancialparen:12854,ideographicfireparen:12843,ideographichaveparen:12850,ideographichighcircle:12964,ideographiciterationmark:12293,ideographiclaborcircle:12952,ideographiclaborparen:12856,ideographicleftcircle:12967,ideographiclowcircle:12966,ideographicmedicinecircle:12969,ideographicmetalparen:12846,ideographicmoonparen:12842,ideographicnameparen:12852,ideographicperiod:12290,ideographicprintcircle:12958,ideographicreachparen:12867,ideographicrepresentparen:12857,ideographicresourceparen:12862,ideographicrightcircle:12968,ideographicsecretcircle:12953,ideographicselfparen:12866,ideographicsocietyparen:12851,ideographicspace:12288,ideographicspecialparen:12853,ideographicstockparen:12849,ideographicstudyparen:12859,ideographicsunparen:12848,ideographicsuperviseparen:12860,ideographicwaterparen:12844,ideographicwoodparen:12845,ideographiczero:12295,ideographmetalcircle:12942,ideographmooncircle:12938,ideographnamecircle:12948,ideographsuncircle:12944,ideographwatercircle:12940,ideographwoodcircle:12941,ideva:2311,idieresis:239,idieresisacute:7727,idieresiscyrillic:1253,idotbelow:7883,iebrevecyrillic:1239,iecyrillic:1077,ieungacirclekorean:12917,ieungaparenkorean:12821,ieungcirclekorean:12903,ieungkorean:12615,ieungparenkorean:12807,igrave:236,igujarati:2695,igurmukhi:2567,ihiragana:12356,ihookabove:7881,iibengali:2440,iicyrillic:1080,iideva:2312,iigujarati:2696,iigurmukhi:2568,iimatragurmukhi:2624,iinvertedbreve:523,iishortcyrillic:1081,iivowelsignbengali:2496,iivowelsigndeva:2368,iivowelsigngujarati:2752,ij:307,ikatakana:12452,ikatakanahalfwidth:65394,ikorean:12643,ilde:732,iluyhebrew:1452,imacron:299,imacroncyrillic:1251,imageorapproximatelyequal:8787,imatragurmukhi:2623,imonospace:65353,increment:8710,infinity:8734,iniarmenian:1387,integral:8747,integralbottom:8993,integralbt:8993,integralex:63733,integraltop:8992,integraltp:8992,intersection:8745,intisquare:13061,invbullet:9688,invcircle:9689,invsmileface:9787,iocyrillic:1105,iogonek:303,iota:953,iotadieresis:970,iotadieresistonos:912,iotalatin:617,iotatonos:943,iparen:9380,irigurmukhi:2674,ismallhiragana:12355,ismallkatakana:12451,ismallkatakanahalfwidth:65384,issharbengali:2554,istroke:616,isuperior:63213,iterationhiragana:12445,iterationkatakana:12541,itilde:297,itildebelow:7725,iubopomofo:12585,iucyrillic:1102,ivowelsignbengali:2495,ivowelsigndeva:2367,ivowelsigngujarati:2751,izhitsacyrillic:1141,izhitsadblgravecyrillic:1143,j:106,jaarmenian:1393,jabengali:2460,jadeva:2332,jagujarati:2716,jagurmukhi:2588,jbopomofo:12560,jcaron:496,jcircle:9433,jcircumflex:309,jcrossedtail:669,jdotlessstroke:607,jecyrillic:1112,jeemarabic:1580,jeemfinalarabic:65182,jeeminitialarabic:65183,jeemmedialarabic:65184,jeharabic:1688,jehfinalarabic:64395,jhabengali:2461,jhadeva:2333,jhagujarati:2717,jhagurmukhi:2589,jheharmenian:1403,jis:12292,jmonospace:65354,jparen:9381,jsuperior:690,k:107,kabashkircyrillic:1185,kabengali:2453,kacute:7729,kacyrillic:1082,kadescendercyrillic:1179,kadeva:2325,kaf:1499,kafarabic:1603,kafdagesh:64315,kafdageshhebrew:64315,kaffinalarabic:65242,kafhebrew:1499,kafinitialarabic:65243,kafmedialarabic:65244,kafrafehebrew:64333,kagujarati:2709,kagurmukhi:2581,kahiragana:12363,kahookcyrillic:1220,kakatakana:12459,kakatakanahalfwidth:65398,kappa:954,kappasymbolgreek:1008,kapyeounmieumkorean:12657,kapyeounphieuphkorean:12676,kapyeounpieupkorean:12664,kapyeounssangpieupkorean:12665,karoriisquare:13069,kashidaautoarabic:1600,kashidaautonosidebearingarabic:1600,kasmallkatakana:12533,kasquare:13188,kasraarabic:1616,kasratanarabic:1613,kastrokecyrillic:1183,katahiraprolongmarkhalfwidth:65392,kaverticalstrokecyrillic:1181,kbopomofo:12558,kcalsquare:13193,kcaron:489,kcedilla:311,kcircle:9434,kcommaaccent:311,kdotbelow:7731,keharmenian:1412,kehiragana:12369,kekatakana:12465,kekatakanahalfwidth:65401,kenarmenian:1391,kesmallkatakana:12534,kgreenlandic:312,khabengali:2454,khacyrillic:1093,khadeva:2326,khagujarati:2710,khagurmukhi:2582,khaharabic:1582,khahfinalarabic:65190,khahinitialarabic:65191,khahmedialarabic:65192,kheicoptic:999,khhadeva:2393,khhagurmukhi:2649,khieukhacirclekorean:12920,khieukhaparenkorean:12824,khieukhcirclekorean:12906,khieukhkorean:12619,khieukhparenkorean:12810,khokhaithai:3586,khokhonthai:3589,khokhuatthai:3587,khokhwaithai:3588,khomutthai:3675,khook:409,khorakhangthai:3590,khzsquare:13201,kihiragana:12365,kikatakana:12461,kikatakanahalfwidth:65399,kiroguramusquare:13077,kiromeetorusquare:13078,kirosquare:13076,kiyeokacirclekorean:12910,kiyeokaparenkorean:12814,kiyeokcirclekorean:12896,kiyeokkorean:12593,kiyeokparenkorean:12800,kiyeoksioskorean:12595,kjecyrillic:1116,klinebelow:7733,klsquare:13208,kmcubedsquare:13222,kmonospace:65355,kmsquaredsquare:13218,kohiragana:12371,kohmsquare:13248,kokaithai:3585,kokatakana:12467,kokatakanahalfwidth:65402,kooposquare:13086,koppacyrillic:1153,koreanstandardsymbol:12927,koroniscmb:835,kparen:9382,kpasquare:13226,ksicyrillic:1135,ktsquare:13263,kturned:670,kuhiragana:12367,kukatakana:12463,kukatakanahalfwidth:65400,kvsquare:13240,kwsquare:13246,l:108,labengali:2482,lacute:314,ladeva:2354,lagujarati:2738,lagurmukhi:2610,lakkhangyaothai:3653,lamaleffinalarabic:65276,lamalefhamzaabovefinalarabic:65272,lamalefhamzaaboveisolatedarabic:65271,lamalefhamzabelowfinalarabic:65274,lamalefhamzabelowisolatedarabic:65273,lamalefisolatedarabic:65275,lamalefmaddaabovefinalarabic:65270,lamalefmaddaaboveisolatedarabic:65269,lamarabic:1604,lambda:955,lambdastroke:411,lamed:1500,lameddagesh:64316,lameddageshhebrew:64316,lamedhebrew:1500,lamfinalarabic:65246,lamhahinitialarabic:64714,laminitialarabic:65247,lamjeeminitialarabic:64713,lamkhahinitialarabic:64715,lamlamhehisolatedarabic:65010,lammedialarabic:65248,lammeemhahinitialarabic:64904,lammeeminitialarabic:64716,largecircle:9711,lbar:410,lbelt:620,lbopomofo:12556,lcaron:318,lcedilla:316,lcircle:9435,lcircumflexbelow:7741,lcommaaccent:316,ldot:320,ldotaccent:320,ldotbelow:7735,ldotbelowmacron:7737,leftangleabovecmb:794,lefttackbelowcmb:792,less:60,lessequal:8804,lessequalorgreater:8922,lessmonospace:65308,lessorequivalent:8818,lessorgreater:8822,lessoverequal:8806,lesssmall:65124,lezh:622,lfblock:9612,lhookretroflex:621,lira:8356,liwnarmenian:1388,lj:457,ljecyrillic:1113,ll:63168,lladeva:2355,llagujarati:2739,llinebelow:7739,llladeva:2356,llvocalicbengali:2529,llvocalicdeva:2401,llvocalicvowelsignbengali:2531,llvocalicvowelsigndeva:2403,lmiddletilde:619,lmonospace:65356,lmsquare:13264,lochulathai:3628,logicaland:8743,logicalnot:172,logicalnotreversed:8976,logicalor:8744,lolingthai:3621,longs:383,lowlinecenterline:65102,lowlinecmb:818,lowlinedashed:65101,lozenge:9674,lparen:9383,lslash:322,lsquare:8467,lsuperior:63214,ltshade:9617,luthai:3622,lvocalicbengali:2444,lvocalicdeva:2316,lvocalicvowelsignbengali:2530,lvocalicvowelsigndeva:2402,lxsquare:13267,m:109,mabengali:2478,macron:175,macronbelowcmb:817,macroncmb:772,macronlowmod:717,macronmonospace:65507,macute:7743,madeva:2350,magujarati:2734,magurmukhi:2606,mahapakhhebrew:1444,mahapakhlefthebrew:1444,mahiragana:12414,maichattawalowleftthai:63637,maichattawalowrightthai:63636,maichattawathai:3659,maichattawaupperleftthai:63635,maieklowleftthai:63628,maieklowrightthai:63627,maiekthai:3656,maiekupperleftthai:63626,maihanakatleftthai:63620,maihanakatthai:3633,maitaikhuleftthai:63625,maitaikhuthai:3655,maitholowleftthai:63631,maitholowrightthai:63630,maithothai:3657,maithoupperleftthai:63629,maitrilowleftthai:63634,maitrilowrightthai:63633,maitrithai:3658,maitriupperleftthai:63632,maiyamokthai:3654,makatakana:12510,makatakanahalfwidth:65423,male:9794,mansyonsquare:13127,maqafhebrew:1470,mars:9794,masoracirclehebrew:1455,masquare:13187,mbopomofo:12551,mbsquare:13268,mcircle:9436,mcubedsquare:13221,mdotaccent:7745,mdotbelow:7747,meemarabic:1605,meemfinalarabic:65250,meeminitialarabic:65251,meemmedialarabic:65252,meemmeeminitialarabic:64721,meemmeemisolatedarabic:64584,meetorusquare:13133,mehiragana:12417,meizierasquare:13182,mekatakana:12513,mekatakanahalfwidth:65426,mem:1502,memdagesh:64318,memdageshhebrew:64318,memhebrew:1502,menarmenian:1396,merkhahebrew:1445,merkhakefulahebrew:1446,merkhakefulalefthebrew:1446,merkhalefthebrew:1445,mhook:625,mhzsquare:13202,middledotkatakanahalfwidth:65381,middot:183,mieumacirclekorean:12914,mieumaparenkorean:12818,mieumcirclekorean:12900,mieumkorean:12609,mieumpansioskorean:12656,mieumparenkorean:12804,mieumpieupkorean:12654,mieumsioskorean:12655,mihiragana:12415,mikatakana:12511,mikatakanahalfwidth:65424,minus:8722,minusbelowcmb:800,minuscircle:8854,minusmod:727,minusplus:8723,minute:8242,miribaarusquare:13130,mirisquare:13129,mlonglegturned:624,mlsquare:13206,mmcubedsquare:13219,mmonospace:65357,mmsquaredsquare:13215,mohiragana:12418,mohmsquare:13249,mokatakana:12514,mokatakanahalfwidth:65427,molsquare:13270,momathai:3617,moverssquare:13223,moverssquaredsquare:13224,mparen:9384,mpasquare:13227,mssquare:13235,msuperior:63215,mturned:623,mu:181,mu1:181,muasquare:13186,muchgreater:8811,muchless:8810,mufsquare:13196,mugreek:956,mugsquare:13197,muhiragana:12416,mukatakana:12512,mukatakanahalfwidth:65425,mulsquare:13205,multiply:215,mumsquare:13211,munahhebrew:1443,munahlefthebrew:1443,musicalnote:9834,musicalnotedbl:9835,musicflatsign:9837,musicsharpsign:9839,mussquare:13234,muvsquare:13238,muwsquare:13244,mvmegasquare:13241,mvsquare:13239,mwmegasquare:13247,mwsquare:13245,n:110,nabengali:2472,nabla:8711,nacute:324,nadeva:2344,nagujarati:2728,nagurmukhi:2600,nahiragana:12394,nakatakana:12490,nakatakanahalfwidth:65413,napostrophe:329,nasquare:13185,nbopomofo:12555,nbspace:160,ncaron:328,ncedilla:326,ncircle:9437,ncircumflexbelow:7755,ncommaaccent:326,ndotaccent:7749,ndotbelow:7751,nehiragana:12397,nekatakana:12493,nekatakanahalfwidth:65416,newsheqelsign:8362,nfsquare:13195,ngabengali:2457,ngadeva:2329,ngagujarati:2713,ngagurmukhi:2585,ngonguthai:3591,nhiragana:12435,nhookleft:626,nhookretroflex:627,nieunacirclekorean:12911,nieunaparenkorean:12815,nieuncieuckorean:12597,nieuncirclekorean:12897,nieunhieuhkorean:12598,nieunkorean:12596,nieunpansioskorean:12648,nieunparenkorean:12801,nieunsioskorean:12647,nieuntikeutkorean:12646,nihiragana:12395,nikatakana:12491,nikatakanahalfwidth:65414,nikhahitleftthai:63641,nikhahitthai:3661,nine:57,ninearabic:1641,ninebengali:2543,ninecircle:9320,ninecircleinversesansserif:10130,ninedeva:2415,ninegujarati:2799,ninegurmukhi:2671,ninehackarabic:1641,ninehangzhou:12329,nineideographicparen:12840,nineinferior:8329,ninemonospace:65305,nineoldstyle:63289,nineparen:9340,nineperiod:9360,ninepersian:1785,nineroman:8568,ninesuperior:8313,nineteencircle:9330,nineteenparen:9350,nineteenperiod:9370,ninethai:3673,nj:460,njecyrillic:1114,nkatakana:12531,nkatakanahalfwidth:65437,nlegrightlong:414,nlinebelow:7753,nmonospace:65358,nmsquare:13210,nnabengali:2467,nnadeva:2339,nnagujarati:2723,nnagurmukhi:2595,nnnadeva:2345,nohiragana:12398,nokatakana:12494,nokatakanahalfwidth:65417,nonbreakingspace:160,nonenthai:3603,nonuthai:3609,noonarabic:1606,noonfinalarabic:65254,noonghunnaarabic:1722,noonghunnafinalarabic:64415,nooninitialarabic:65255,noonjeeminitialarabic:64722,noonjeemisolatedarabic:64587,noonmedialarabic:65256,noonmeeminitialarabic:64725,noonmeemisolatedarabic:64590,noonnoonfinalarabic:64653,notcontains:8716,notelement:8713,notelementof:8713,notequal:8800,notgreater:8815,notgreaternorequal:8817,notgreaternorless:8825,notidentical:8802,notless:8814,notlessnorequal:8816,notparallel:8742,notprecedes:8832,notsubset:8836,notsucceeds:8833,notsuperset:8837,nowarmenian:1398,nparen:9385,nssquare:13233,nsuperior:8319,ntilde:241,nu:957,nuhiragana:12396,nukatakana:12492,nukatakanahalfwidth:65415,nuktabengali:2492,nuktadeva:2364,nuktagujarati:2748,nuktagurmukhi:2620,numbersign:35,numbersignmonospace:65283,numbersignsmall:65119,numeralsigngreek:884,numeralsignlowergreek:885,numero:8470,nun:1504,nundagesh:64320,nundageshhebrew:64320,nunhebrew:1504,nvsquare:13237,nwsquare:13243,nyabengali:2462,nyadeva:2334,nyagujarati:2718,nyagurmukhi:2590,o:111,oacute:243,oangthai:3629,obarred:629,obarredcyrillic:1257,obarreddieresiscyrillic:1259,obengali:2451,obopomofo:12571,obreve:335,ocandradeva:2321,ocandragujarati:2705,ocandravowelsigndeva:2377,ocandravowelsigngujarati:2761,ocaron:466,ocircle:9438,ocircumflex:244,ocircumflexacute:7889,ocircumflexdotbelow:7897,ocircumflexgrave:7891,ocircumflexhookabove:7893,ocircumflextilde:7895,ocyrillic:1086,odblacute:337,odblgrave:525,odeva:2323,odieresis:246,odieresiscyrillic:1255,odotbelow:7885,oe:339,oekorean:12634,ogonek:731,ogonekcmb:808,ograve:242,ogujarati:2707,oharmenian:1413,ohiragana:12362,ohookabove:7887,ohorn:417,ohornacute:7899,ohorndotbelow:7907,ohorngrave:7901,ohornhookabove:7903,ohorntilde:7905,ohungarumlaut:337,oi:419,oinvertedbreve:527,okatakana:12458,okatakanahalfwidth:65397,okorean:12631,olehebrew:1451,omacron:333,omacronacute:7763,omacrongrave:7761,omdeva:2384,omega:969,omega1:982,omegacyrillic:1121,omegalatinclosed:631,omegaroundcyrillic:1147,omegatitlocyrillic:1149,omegatonos:974,omgujarati:2768,omicron:959,omicrontonos:972,omonospace:65359,one:49,onearabic:1633,onebengali:2535,onecircle:9312,onecircleinversesansserif:10122,onedeva:2407,onedotenleader:8228,oneeighth:8539,onefitted:63196,onegujarati:2791,onegurmukhi:2663,onehackarabic:1633,onehalf:189,onehangzhou:12321,oneideographicparen:12832,oneinferior:8321,onemonospace:65297,onenumeratorbengali:2548,oneoldstyle:63281,oneparen:9332,oneperiod:9352,onepersian:1777,onequarter:188,oneroman:8560,onesuperior:185,onethai:3665,onethird:8531,oogonek:491,oogonekmacron:493,oogurmukhi:2579,oomatragurmukhi:2635,oopen:596,oparen:9386,openbullet:9702,option:8997,ordfeminine:170,ordmasculine:186,orthogonal:8735,oshortdeva:2322,oshortvowelsigndeva:2378,oslash:248,oslashacute:511,osmallhiragana:12361,osmallkatakana:12457,osmallkatakanahalfwidth:65387,ostrokeacute:511,osuperior:63216,otcyrillic:1151,otilde:245,otildeacute:7757,otildedieresis:7759,oubopomofo:12577,overline:8254,overlinecenterline:65098,overlinecmb:773,overlinedashed:65097,overlinedblwavy:65100,overlinewavy:65099,overscore:175,ovowelsignbengali:2507,ovowelsigndeva:2379,ovowelsigngujarati:2763,p:112,paampssquare:13184,paasentosquare:13099,pabengali:2474,pacute:7765,padeva:2346,pagedown:8671,pageup:8670,pagujarati:2730,pagurmukhi:2602,pahiragana:12401,paiyannoithai:3631,pakatakana:12497,palatalizationcyrilliccmb:1156,palochkacyrillic:1216,pansioskorean:12671,paragraph:182,parallel:8741,parenleft:40,parenleftaltonearabic:64830,parenleftbt:63725,parenleftex:63724,parenleftinferior:8333,parenleftmonospace:65288,parenleftsmall:65113,parenleftsuperior:8317,parenlefttp:63723,parenleftvertical:65077,parenright:41,parenrightaltonearabic:64831,parenrightbt:63736,parenrightex:63735,parenrightinferior:8334,parenrightmonospace:65289,parenrightsmall:65114,parenrightsuperior:8318,parenrighttp:63734,parenrightvertical:65078,partialdiff:8706,paseqhebrew:1472,pashtahebrew:1433,pasquare:13225,patah:1463,patah11:1463,patah1d:1463,patah2a:1463,patahhebrew:1463,patahnarrowhebrew:1463,patahquarterhebrew:1463,patahwidehebrew:1463,pazerhebrew:1441,pbopomofo:12550,pcircle:9439,pdotaccent:7767,pe:1508,pecyrillic:1087,pedagesh:64324,pedageshhebrew:64324,peezisquare:13115,pefinaldageshhebrew:64323,peharabic:1662,peharmenian:1402,pehebrew:1508,pehfinalarabic:64343,pehinitialarabic:64344,pehiragana:12410,pehmedialarabic:64345,pekatakana:12506,pemiddlehookcyrillic:1191,perafehebrew:64334,percent:37,percentarabic:1642,percentmonospace:65285,percentsmall:65130,period:46,periodarmenian:1417,periodcentered:183,periodhalfwidth:65377,periodinferior:63207,periodmonospace:65294,periodsmall:65106,periodsuperior:63208,perispomenigreekcmb:834,perpendicular:8869,perthousand:8240,peseta:8359,pfsquare:13194,phabengali:2475,phadeva:2347,phagujarati:2731,phagurmukhi:2603,phi:966,phi1:981,phieuphacirclekorean:12922,phieuphaparenkorean:12826,phieuphcirclekorean:12908,phieuphkorean:12621,phieuphparenkorean:12812,philatin:632,phinthuthai:3642,phisymbolgreek:981,phook:421,phophanthai:3614,phophungthai:3612,phosamphaothai:3616,pi:960,pieupacirclekorean:12915,pieupaparenkorean:12819,pieupcieuckorean:12662,pieupcirclekorean:12901,pieupkiyeokkorean:12658,pieupkorean:12610,pieupparenkorean:12805,pieupsioskiyeokkorean:12660,pieupsioskorean:12612,pieupsiostikeutkorean:12661,pieupthieuthkorean:12663,pieuptikeutkorean:12659,pihiragana:12404,pikatakana:12500,pisymbolgreek:982,piwrarmenian:1411,plus:43,plusbelowcmb:799,pluscircle:8853,plusminus:177,plusmod:726,plusmonospace:65291,plussmall:65122,plussuperior:8314,pmonospace:65360,pmsquare:13272,pohiragana:12413,pointingindexdownwhite:9759,pointingindexleftwhite:9756,pointingindexrightwhite:9758,pointingindexupwhite:9757,pokatakana:12509,poplathai:3611,postalmark:12306,postalmarkface:12320,pparen:9387,precedes:8826,prescription:8478,primemod:697,primereversed:8245,product:8719,projective:8965,prolongedkana:12540,propellor:8984,propersubset:8834,propersuperset:8835,proportion:8759,proportional:8733,psi:968,psicyrillic:1137,psilipneumatacyrilliccmb:1158,pssquare:13232,puhiragana:12407,pukatakana:12503,pvsquare:13236,pwsquare:13242,q:113,qadeva:2392,qadmahebrew:1448,qafarabic:1602,qaffinalarabic:65238,qafinitialarabic:65239,qafmedialarabic:65240,qamats:1464,qamats10:1464,qamats1a:1464,qamats1c:1464,qamats27:1464,qamats29:1464,qamats33:1464,qamatsde:1464,qamatshebrew:1464,qamatsnarrowhebrew:1464,qamatsqatanhebrew:1464,qamatsqatannarrowhebrew:1464,qamatsqatanquarterhebrew:1464,qamatsqatanwidehebrew:1464,qamatsquarterhebrew:1464,qamatswidehebrew:1464,qarneyparahebrew:1439,qbopomofo:12561,qcircle:9440,qhook:672,qmonospace:65361,qof:1511,qofdagesh:64327,qofdageshhebrew:64327,qofhebrew:1511,qparen:9388,quarternote:9833,qubuts:1467,qubuts18:1467,qubuts25:1467,qubuts31:1467,qubutshebrew:1467,qubutsnarrowhebrew:1467,qubutsquarterhebrew:1467,qubutswidehebrew:1467,question:63,questionarabic:1567,questionarmenian:1374,questiondown:191,questiondownsmall:63423,questiongreek:894,questionmonospace:65311,questionsmall:63295,quotedbl:34,quotedblbase:8222,quotedblleft:8220,quotedblmonospace:65282,quotedblprime:12318,quotedblprimereversed:12317,quotedblright:8221,quoteleft:8216,quoteleftreversed:8219,quotereversed:8219,quoteright:8217,quoterightn:329,quotesinglbase:8218,quotesingle:39,quotesinglemonospace:65287,r:114,raarmenian:1404,rabengali:2480,racute:341,radeva:2352,radical:8730,radicalex:63717,radoverssquare:13230,radoverssquaredsquare:13231,radsquare:13229,rafe:1471,rafehebrew:1471,ragujarati:2736,ragurmukhi:2608,rahiragana:12425,rakatakana:12521,rakatakanahalfwidth:65431,ralowerdiagonalbengali:2545,ramiddlediagonalbengali:2544,ramshorn:612,ratio:8758,rbopomofo:12566,rcaron:345,rcedilla:343,rcircle:9441,rcommaaccent:343,rdblgrave:529,rdotaccent:7769,
rdotbelow:7771,rdotbelowmacron:7773,referencemark:8251,reflexsubset:8838,reflexsuperset:8839,registered:174,registersans:63720,registerserif:63194,reharabic:1585,reharmenian:1408,rehfinalarabic:65198,rehiragana:12428,rekatakana:12524,rekatakanahalfwidth:65434,resh:1512,reshdageshhebrew:64328,reshhebrew:1512,reversedtilde:8765,reviahebrew:1431,reviamugrashhebrew:1431,revlogicalnot:8976,rfishhook:638,rfishhookreversed:639,rhabengali:2525,rhadeva:2397,rho:961,rhook:637,rhookturned:635,rhookturnedsuperior:693,rhosymbolgreek:1009,rhotichookmod:734,rieulacirclekorean:12913,rieulaparenkorean:12817,rieulcirclekorean:12899,rieulhieuhkorean:12608,rieulkiyeokkorean:12602,rieulkiyeoksioskorean:12649,rieulkorean:12601,rieulmieumkorean:12603,rieulpansioskorean:12652,rieulparenkorean:12803,rieulphieuphkorean:12607,rieulpieupkorean:12604,rieulpieupsioskorean:12651,rieulsioskorean:12605,rieulthieuthkorean:12606,rieultikeutkorean:12650,rieulyeorinhieuhkorean:12653,rightangle:8735,righttackbelowcmb:793,righttriangle:8895,rihiragana:12426,rikatakana:12522,rikatakanahalfwidth:65432,ring:730,ringbelowcmb:805,ringcmb:778,ringhalfleft:703,ringhalfleftarmenian:1369,ringhalfleftbelowcmb:796,ringhalfleftcentered:723,ringhalfright:702,ringhalfrightbelowcmb:825,ringhalfrightcentered:722,rinvertedbreve:531,rittorusquare:13137,rlinebelow:7775,rlongleg:636,rlonglegturned:634,rmonospace:65362,rohiragana:12429,rokatakana:12525,rokatakanahalfwidth:65435,roruathai:3619,rparen:9389,rrabengali:2524,rradeva:2353,rragurmukhi:2652,rreharabic:1681,rrehfinalarabic:64397,rrvocalicbengali:2528,rrvocalicdeva:2400,rrvocalicgujarati:2784,rrvocalicvowelsignbengali:2500,rrvocalicvowelsigndeva:2372,rrvocalicvowelsigngujarati:2756,rsuperior:63217,rtblock:9616,rturned:633,rturnedsuperior:692,ruhiragana:12427,rukatakana:12523,rukatakanahalfwidth:65433,rupeemarkbengali:2546,rupeesignbengali:2547,rupiah:63197,ruthai:3620,rvocalicbengali:2443,rvocalicdeva:2315,rvocalicgujarati:2699,rvocalicvowelsignbengali:2499,rvocalicvowelsigndeva:2371,rvocalicvowelsigngujarati:2755,s:115,sabengali:2488,sacute:347,sacutedotaccent:7781,sadarabic:1589,sadeva:2360,sadfinalarabic:65210,sadinitialarabic:65211,sadmedialarabic:65212,sagujarati:2744,sagurmukhi:2616,sahiragana:12373,sakatakana:12469,sakatakanahalfwidth:65403,sallallahoualayhewasallamarabic:65018,samekh:1505,samekhdagesh:64321,samekhdageshhebrew:64321,samekhhebrew:1505,saraaathai:3634,saraaethai:3649,saraaimaimalaithai:3652,saraaimaimuanthai:3651,saraamthai:3635,saraathai:3632,saraethai:3648,saraiileftthai:63622,saraiithai:3637,saraileftthai:63621,saraithai:3636,saraothai:3650,saraueeleftthai:63624,saraueethai:3639,saraueleftthai:63623,sarauethai:3638,sarauthai:3640,sarauuthai:3641,sbopomofo:12569,scaron:353,scarondotaccent:7783,scedilla:351,schwa:601,schwacyrillic:1241,schwadieresiscyrillic:1243,schwahook:602,scircle:9442,scircumflex:349,scommaaccent:537,sdotaccent:7777,sdotbelow:7779,sdotbelowdotaccent:7785,seagullbelowcmb:828,second:8243,secondtonechinese:714,section:167,seenarabic:1587,seenfinalarabic:65202,seeninitialarabic:65203,seenmedialarabic:65204,segol:1462,segol13:1462,segol1f:1462,segol2c:1462,segolhebrew:1462,segolnarrowhebrew:1462,segolquarterhebrew:1462,segoltahebrew:1426,segolwidehebrew:1462,seharmenian:1405,sehiragana:12379,sekatakana:12475,sekatakanahalfwidth:65406,semicolon:59,semicolonarabic:1563,semicolonmonospace:65307,semicolonsmall:65108,semivoicedmarkkana:12444,semivoicedmarkkanahalfwidth:65439,sentisquare:13090,sentosquare:13091,seven:55,sevenarabic:1639,sevenbengali:2541,sevencircle:9318,sevencircleinversesansserif:10128,sevendeva:2413,seveneighths:8542,sevengujarati:2797,sevengurmukhi:2669,sevenhackarabic:1639,sevenhangzhou:12327,sevenideographicparen:12838,seveninferior:8327,sevenmonospace:65303,sevenoldstyle:63287,sevenparen:9338,sevenperiod:9358,sevenpersian:1783,sevenroman:8566,sevensuperior:8311,seventeencircle:9328,seventeenparen:9348,seventeenperiod:9368,seventhai:3671,sfthyphen:173,shaarmenian:1399,shabengali:2486,shacyrillic:1096,shaddaarabic:1617,shaddadammaarabic:64609,shaddadammatanarabic:64606,shaddafathaarabic:64608,shaddakasraarabic:64610,shaddakasratanarabic:64607,shade:9618,shadedark:9619,shadelight:9617,shademedium:9618,shadeva:2358,shagujarati:2742,shagurmukhi:2614,shalshelethebrew:1427,shbopomofo:12565,shchacyrillic:1097,sheenarabic:1588,sheenfinalarabic:65206,sheeninitialarabic:65207,sheenmedialarabic:65208,sheicoptic:995,sheqel:8362,sheqelhebrew:8362,sheva:1456,sheva115:1456,sheva15:1456,sheva22:1456,sheva2e:1456,shevahebrew:1456,shevanarrowhebrew:1456,shevaquarterhebrew:1456,shevawidehebrew:1456,shhacyrillic:1211,shimacoptic:1005,shin:1513,shindagesh:64329,shindageshhebrew:64329,shindageshshindot:64300,shindageshshindothebrew:64300,shindageshsindot:64301,shindageshsindothebrew:64301,shindothebrew:1473,shinhebrew:1513,shinshindot:64298,shinshindothebrew:64298,shinsindot:64299,shinsindothebrew:64299,shook:642,sigma:963,sigma1:962,sigmafinal:962,sigmalunatesymbolgreek:1010,sihiragana:12375,sikatakana:12471,sikatakanahalfwidth:65404,siluqhebrew:1469,siluqlefthebrew:1469,similar:8764,sindothebrew:1474,siosacirclekorean:12916,siosaparenkorean:12820,sioscieuckorean:12670,sioscirclekorean:12902,sioskiyeokkorean:12666,sioskorean:12613,siosnieunkorean:12667,siosparenkorean:12806,siospieupkorean:12669,siostikeutkorean:12668,six:54,sixarabic:1638,sixbengali:2540,sixcircle:9317,sixcircleinversesansserif:10127,sixdeva:2412,sixgujarati:2796,sixgurmukhi:2668,sixhackarabic:1638,sixhangzhou:12326,sixideographicparen:12837,sixinferior:8326,sixmonospace:65302,sixoldstyle:63286,sixparen:9337,sixperiod:9357,sixpersian:1782,sixroman:8565,sixsuperior:8310,sixteencircle:9327,sixteencurrencydenominatorbengali:2553,sixteenparen:9347,sixteenperiod:9367,sixthai:3670,slash:47,slashmonospace:65295,slong:383,slongdotaccent:7835,smileface:9786,smonospace:65363,sofpasuqhebrew:1475,softhyphen:173,softsigncyrillic:1100,sohiragana:12381,sokatakana:12477,sokatakanahalfwidth:65407,soliduslongoverlaycmb:824,solidusshortoverlaycmb:823,sorusithai:3625,sosalathai:3624,sosothai:3595,sosuathai:3626,space:32,spacehackarabic:32,spade:9824,spadesuitblack:9824,spadesuitwhite:9828,sparen:9390,squarebelowcmb:827,squarecc:13252,squarecm:13213,squarediagonalcrosshatchfill:9641,squarehorizontalfill:9636,squarekg:13199,squarekm:13214,squarekmcapital:13262,squareln:13265,squarelog:13266,squaremg:13198,squaremil:13269,squaremm:13212,squaremsquared:13217,squareorthogonalcrosshatchfill:9638,squareupperlefttolowerrightfill:9639,squareupperrighttolowerleftfill:9640,squareverticalfill:9637,squarewhitewithsmallblack:9635,srsquare:13275,ssabengali:2487,ssadeva:2359,ssagujarati:2743,ssangcieuckorean:12617,ssanghieuhkorean:12677,ssangieungkorean:12672,ssangkiyeokkorean:12594,ssangnieunkorean:12645,ssangpieupkorean:12611,ssangsioskorean:12614,ssangtikeutkorean:12600,ssuperior:63218,sterling:163,sterlingmonospace:65505,strokelongoverlaycmb:822,strokeshortoverlaycmb:821,subset:8834,subsetnotequal:8842,subsetorequal:8838,succeeds:8827,suchthat:8715,suhiragana:12377,sukatakana:12473,sukatakanahalfwidth:65405,sukunarabic:1618,summation:8721,sun:9788,superset:8835,supersetnotequal:8843,supersetorequal:8839,svsquare:13276,syouwaerasquare:13180,t:116,tabengali:2468,tackdown:8868,tackleft:8867,tadeva:2340,tagujarati:2724,tagurmukhi:2596,taharabic:1591,tahfinalarabic:65218,tahinitialarabic:65219,tahiragana:12383,tahmedialarabic:65220,taisyouerasquare:13181,takatakana:12479,takatakanahalfwidth:65408,tatweelarabic:1600,tau:964,tav:1514,tavdages:64330,tavdagesh:64330,tavdageshhebrew:64330,tavhebrew:1514,tbar:359,tbopomofo:12554,tcaron:357,tccurl:680,tcedilla:355,tcheharabic:1670,tchehfinalarabic:64379,tchehinitialarabic:64380,tchehmedialarabic:64381,tcircle:9443,tcircumflexbelow:7793,tcommaaccent:355,tdieresis:7831,tdotaccent:7787,tdotbelow:7789,tecyrillic:1090,tedescendercyrillic:1197,teharabic:1578,tehfinalarabic:65174,tehhahinitialarabic:64674,tehhahisolatedarabic:64524,tehinitialarabic:65175,tehiragana:12390,tehjeeminitialarabic:64673,tehjeemisolatedarabic:64523,tehmarbutaarabic:1577,tehmarbutafinalarabic:65172,tehmedialarabic:65176,tehmeeminitialarabic:64676,tehmeemisolatedarabic:64526,tehnoonfinalarabic:64627,tekatakana:12486,tekatakanahalfwidth:65411,telephone:8481,telephoneblack:9742,telishagedolahebrew:1440,telishaqetanahebrew:1449,tencircle:9321,tenideographicparen:12841,tenparen:9341,tenperiod:9361,tenroman:8569,tesh:679,tet:1496,tetdagesh:64312,tetdageshhebrew:64312,tethebrew:1496,tetsecyrillic:1205,tevirhebrew:1435,tevirlefthebrew:1435,thabengali:2469,thadeva:2341,thagujarati:2725,thagurmukhi:2597,thalarabic:1584,thalfinalarabic:65196,thanthakhatlowleftthai:63640,thanthakhatlowrightthai:63639,thanthakhatthai:3660,thanthakhatupperleftthai:63638,theharabic:1579,thehfinalarabic:65178,thehinitialarabic:65179,thehmedialarabic:65180,thereexists:8707,therefore:8756,theta:952,theta1:977,thetasymbolgreek:977,thieuthacirclekorean:12921,thieuthaparenkorean:12825,thieuthcirclekorean:12907,thieuthkorean:12620,thieuthparenkorean:12811,thirteencircle:9324,thirteenparen:9344,thirteenperiod:9364,thonangmonthothai:3601,thook:429,thophuthaothai:3602,thorn:254,thothahanthai:3607,thothanthai:3600,thothongthai:3608,thothungthai:3606,thousandcyrillic:1154,thousandsseparatorarabic:1644,thousandsseparatorpersian:1644,three:51,threearabic:1635,threebengali:2537,threecircle:9314,threecircleinversesansserif:10124,threedeva:2409,threeeighths:8540,threegujarati:2793,threegurmukhi:2665,threehackarabic:1635,threehangzhou:12323,threeideographicparen:12834,threeinferior:8323,threemonospace:65299,threenumeratorbengali:2550,threeoldstyle:63283,threeparen:9334,threeperiod:9354,threepersian:1779,threequarters:190,threequartersemdash:63198,threeroman:8562,threesuperior:179,threethai:3667,thzsquare:13204,tihiragana:12385,tikatakana:12481,tikatakanahalfwidth:65409,tikeutacirclekorean:12912,tikeutaparenkorean:12816,tikeutcirclekorean:12898,tikeutkorean:12599,tikeutparenkorean:12802,tilde:732,tildebelowcmb:816,tildecmb:771,tildecomb:771,tildedoublecmb:864,tildeoperator:8764,tildeoverlaycmb:820,tildeverticalcmb:830,timescircle:8855,tipehahebrew:1430,tipehalefthebrew:1430,tippigurmukhi:2672,titlocyrilliccmb:1155,tiwnarmenian:1407,tlinebelow:7791,tmonospace:65364,toarmenian:1385,tohiragana:12392,tokatakana:12488,tokatakanahalfwidth:65412,tonebarextrahighmod:741,tonebarextralowmod:745,tonebarhighmod:742,tonebarlowmod:744,tonebarmidmod:743,tonefive:445,tonesix:389,tonetwo:424,tonos:900,tonsquare:13095,topatakthai:3599,tortoiseshellbracketleft:12308,tortoiseshellbracketleftsmall:65117,tortoiseshellbracketleftvertical:65081,tortoiseshellbracketright:12309,tortoiseshellbracketrightsmall:65118,tortoiseshellbracketrightvertical:65082,totaothai:3605,tpalatalhook:427,tparen:9391,trademark:8482,trademarksans:63722,trademarkserif:63195,tretroflexhook:648,triagdn:9660,triaglf:9668,triagrt:9658,triagup:9650,ts:678,tsadi:1510,tsadidagesh:64326,tsadidageshhebrew:64326,tsadihebrew:1510,tsecyrillic:1094,tsere:1461,tsere12:1461,tsere1e:1461,tsere2b:1461,tserehebrew:1461,tserenarrowhebrew:1461,tserequarterhebrew:1461,tserewidehebrew:1461,tshecyrillic:1115,tsuperior:63219,ttabengali:2463,ttadeva:2335,ttagujarati:2719,ttagurmukhi:2591,tteharabic:1657,ttehfinalarabic:64359,ttehinitialarabic:64360,ttehmedialarabic:64361,tthabengali:2464,tthadeva:2336,tthagujarati:2720,tthagurmukhi:2592,tturned:647,tuhiragana:12388,tukatakana:12484,tukatakanahalfwidth:65410,tusmallhiragana:12387,tusmallkatakana:12483,tusmallkatakanahalfwidth:65391,twelvecircle:9323,twelveparen:9343,twelveperiod:9363,twelveroman:8571,twentycircle:9331,twentyhangzhou:21316,twentyparen:9351,twentyperiod:9371,two:50,twoarabic:1634,twobengali:2536,twocircle:9313,twocircleinversesansserif:10123,twodeva:2408,twodotenleader:8229,twodotleader:8229,twodotleadervertical:65072,twogujarati:2792,twogurmukhi:2664,twohackarabic:1634,twohangzhou:12322,twoideographicparen:12833,twoinferior:8322,twomonospace:65298,twonumeratorbengali:2549,twooldstyle:63282,twoparen:9333,twoperiod:9353,twopersian:1778,tworoman:8561,twostroke:443,twosuperior:178,twothai:3666,twothirds:8532,u:117,uacute:250,ubar:649,ubengali:2441,ubopomofo:12584,ubreve:365,ucaron:468,ucircle:9444,ucircumflex:251,ucircumflexbelow:7799,ucyrillic:1091,udattadeva:2385,udblacute:369,udblgrave:533,udeva:2313,udieresis:252,udieresisacute:472,udieresisbelow:7795,udieresiscaron:474,udieresiscyrillic:1265,udieresisgrave:476,udieresismacron:470,udotbelow:7909,ugrave:249,ugujarati:2697,ugurmukhi:2569,uhiragana:12358,uhookabove:7911,uhorn:432,uhornacute:7913,uhorndotbelow:7921,uhorngrave:7915,uhornhookabove:7917,uhorntilde:7919,uhungarumlaut:369,uhungarumlautcyrillic:1267,uinvertedbreve:535,ukatakana:12454,ukatakanahalfwidth:65395,ukcyrillic:1145,ukorean:12636,umacron:363,umacroncyrillic:1263,umacrondieresis:7803,umatragurmukhi:2625,umonospace:65365,underscore:95,underscoredbl:8215,underscoremonospace:65343,underscorevertical:65075,underscorewavy:65103,union:8746,universal:8704,uogonek:371,uparen:9392,upblock:9600,upperdothebrew:1476,upsilon:965,upsilondieresis:971,upsilondieresistonos:944,upsilonlatin:650,upsilontonos:973,uptackbelowcmb:797,uptackmod:724,uragurmukhi:2675,uring:367,ushortcyrillic:1118,usmallhiragana:12357,usmallkatakana:12453,usmallkatakanahalfwidth:65385,ustraightcyrillic:1199,ustraightstrokecyrillic:1201,utilde:361,utildeacute:7801,utildebelow:7797,uubengali:2442,uudeva:2314,uugujarati:2698,uugurmukhi:2570,uumatragurmukhi:2626,uuvowelsignbengali:2498,uuvowelsigndeva:2370,uuvowelsigngujarati:2754,uvowelsignbengali:2497,uvowelsigndeva:2369,uvowelsigngujarati:2753,v:118,vadeva:2357,vagujarati:2741,vagurmukhi:2613,vakatakana:12535,vav:1493,vavdagesh:64309,vavdagesh65:64309,vavdageshhebrew:64309,vavhebrew:1493,vavholam:64331,vavholamhebrew:64331,vavvavhebrew:1520,vavyodhebrew:1521,vcircle:9445,vdotbelow:7807,vecyrillic:1074,veharabic:1700,vehfinalarabic:64363,vehinitialarabic:64364,vehmedialarabic:64365,vekatakana:12537,venus:9792,verticalbar:124,verticallineabovecmb:781,verticallinebelowcmb:809,verticallinelowmod:716,verticallinemod:712,vewarmenian:1406,vhook:651,vikatakana:12536,viramabengali:2509,viramadeva:2381,viramagujarati:2765,visargabengali:2435,visargadeva:2307,visargagujarati:2691,vmonospace:65366,voarmenian:1400,voicediterationhiragana:12446,voicediterationkatakana:12542,voicedmarkkana:12443,voicedmarkkanahalfwidth:65438,vokatakana:12538,vparen:9393,vtilde:7805,vturned:652,vuhiragana:12436,vukatakana:12532,w:119,wacute:7811,waekorean:12633,wahiragana:12431,wakatakana:12527,wakatakanahalfwidth:65436,wakorean:12632,wasmallhiragana:12430,wasmallkatakana:12526,wattosquare:13143,wavedash:12316,wavyunderscorevertical:65076,wawarabic:1608,wawfinalarabic:65262,wawhamzaabovearabic:1572,wawhamzaabovefinalarabic:65158,wbsquare:13277,wcircle:9446,wcircumflex:373,wdieresis:7813,wdotaccent:7815,wdotbelow:7817,wehiragana:12433,weierstrass:8472,wekatakana:12529,wekorean:12638,weokorean:12637,wgrave:7809,whitebullet:9702,whitecircle:9675,whitecircleinverse:9689,whitecornerbracketleft:12302,whitecornerbracketleftvertical:65091,whitecornerbracketright:12303,whitecornerbracketrightvertical:65092,whitediamond:9671,whitediamondcontainingblacksmalldiamond:9672,whitedownpointingsmalltriangle:9663,whitedownpointingtriangle:9661,whiteleftpointingsmalltriangle:9667,whiteleftpointingtriangle:9665,whitelenticularbracketleft:12310,whitelenticularbracketright:12311,whiterightpointingsmalltriangle:9657,whiterightpointingtriangle:9655,whitesmallsquare:9643,whitesmilingface:9786,whitesquare:9633,whitestar:9734,whitetelephone:9743,whitetortoiseshellbracketleft:12312,whitetortoiseshellbracketright:12313,whiteuppointingsmalltriangle:9653,whiteuppointingtriangle:9651,wihiragana:12432,wikatakana:12528,wikorean:12639,wmonospace:65367,wohiragana:12434,wokatakana:12530,wokatakanahalfwidth:65382,won:8361,wonmonospace:65510,wowaenthai:3623,wparen:9394,wring:7832,wsuperior:695,wturned:653,wynn:447,x:120,xabovecmb:829,xbopomofo:12562,xcircle:9447,xdieresis:7821,xdotaccent:7819,xeharmenian:1389,xi:958,xmonospace:65368,xparen:9395,xsuperior:739,y:121,yaadosquare:13134,yabengali:2479,yacute:253,yadeva:2351,yaekorean:12626,yagujarati:2735,yagurmukhi:2607,yahiragana:12420,yakatakana:12516,yakatakanahalfwidth:65428,yakorean:12625,yamakkanthai:3662,yasmallhiragana:12419,yasmallkatakana:12515,yasmallkatakanahalfwidth:65388,yatcyrillic:1123,ycircle:9448,ycircumflex:375,ydieresis:255,ydotaccent:7823,ydotbelow:7925,yeharabic:1610,yehbarreearabic:1746,yehbarreefinalarabic:64431,yehfinalarabic:65266,yehhamzaabovearabic:1574,yehhamzaabovefinalarabic:65162,yehhamzaaboveinitialarabic:65163,yehhamzaabovemedialarabic:65164,yehinitialarabic:65267,yehmedialarabic:65268,yehmeeminitialarabic:64733,yehmeemisolatedarabic:64600,yehnoonfinalarabic:64660,yehthreedotsbelowarabic:1745,yekorean:12630,yen:165,yenmonospace:65509,yeokorean:12629,yeorinhieuhkorean:12678,yerahbenyomohebrew:1450,yerahbenyomolefthebrew:1450,yericyrillic:1099,yerudieresiscyrillic:1273,yesieungkorean:12673,yesieungpansioskorean:12675,yesieungsioskorean:12674,yetivhebrew:1434,ygrave:7923,yhook:436,yhookabove:7927,yiarmenian:1397,yicyrillic:1111,yikorean:12642,yinyang:9775,yiwnarmenian:1410,ymonospace:65369,yod:1497,yoddagesh:64313,yoddageshhebrew:64313,yodhebrew:1497,yodyodhebrew:1522,yodyodpatahhebrew:64287,yohiragana:12424,yoikorean:12681,yokatakana:12520,yokatakanahalfwidth:65430,yokorean:12635,yosmallhiragana:12423,yosmallkatakana:12519,yosmallkatakanahalfwidth:65390,yotgreek:1011,yoyaekorean:12680,yoyakorean:12679,yoyakthai:3618,yoyingthai:3597,yparen:9396,ypogegrammeni:890,ypogegrammenigreekcmb:837,yr:422,yring:7833,ysuperior:696,ytilde:7929,yturned:654,yuhiragana:12422,yuikorean:12684,yukatakana:12518,yukatakanahalfwidth:65429,yukorean:12640,yusbigcyrillic:1131,yusbigiotifiedcyrillic:1133,yuslittlecyrillic:1127,yuslittleiotifiedcyrillic:1129,yusmallhiragana:12421,yusmallkatakana:12517,yusmallkatakanahalfwidth:65389,yuyekorean:12683,yuyeokorean:12682,yyabengali:2527,yyadeva:2399,z:122,zaarmenian:1382,zacute:378,zadeva:2395,zagurmukhi:2651,zaharabic:1592,zahfinalarabic:65222,zahinitialarabic:65223,zahiragana:12374,zahmedialarabic:65224,zainarabic:1586,zainfinalarabic:65200,zakatakana:12470,zaqefgadolhebrew:1429,zaqefqatanhebrew:1428,zarqahebrew:1432,zayin:1494,zayindagesh:64310,zayindageshhebrew:64310,zayinhebrew:1494,zbopomofo:12567,zcaron:382,zcircle:9449,zcircumflex:7825,zcurl:657,zdot:380,zdotaccent:380,zdotbelow:7827,zecyrillic:1079,zedescendercyrillic:1177,zedieresiscyrillic:1247,zehiragana:12380,zekatakana:12476,zero:48,zeroarabic:1632,zerobengali:2534,zerodeva:2406,zerogujarati:2790,zerogurmukhi:2662,zerohackarabic:1632,zeroinferior:8320,zeromonospace:65296,zerooldstyle:63280,zeropersian:1776,zerosuperior:8304,zerothai:3664,zerowidthjoiner:65279,zerowidthnonjoiner:8204,zerowidthspace:8203,zeta:950,zhbopomofo:12563,zhearmenian:1386,zhebrevecyrillic:1218,zhecyrillic:1078,zhedescendercyrillic:1175,zhedieresiscyrillic:1245,zihiragana:12376,zikatakana:12472,zinorhebrew:1454,zlinebelow:7829,zmonospace:65370,zohiragana:12382,zokatakana:12478,zparen:9397,zretroflexhook:656,zstroke:438,zuhiragana:12378,zukatakana:12474,".notdef":0},a={space:32,a1:9985,a2:9986,a202:9987,a3:9988,a4:9742,a5:9990,a119:9991,a118:9992,a117:9993,a11:9755,a12:9758,a13:9996,a14:9997,a15:9998,a16:9999,a105:1e4,a17:10001,a18:10002,a19:10003,a20:10004,a21:10005,a22:10006,a23:10007,a24:10008,a25:10009,a26:10010,a27:10011,a28:10012,a6:10013,a7:10014,a8:10015,a9:10016,a10:10017,a29:10018,a30:10019,a31:10020,a32:10021,a33:10022,a34:10023,a35:9733,a36:10025,a37:10026,a38:10027,a39:10028,a40:10029,a41:10030,a42:10031,a43:10032,a44:10033,a45:10034,a46:10035,a47:10036,a48:10037,a49:10038,a50:10039,a51:10040,a52:10041,a53:10042,a54:10043,a55:10044,a56:10045,a57:10046,a58:10047,a59:10048,a60:10049,a61:10050,a62:10051,a63:10052,a64:10053,a65:10054,a66:10055,a67:10056,a68:10057,a69:10058,a70:10059,a71:9679,a72:10061,a73:9632,a74:10063,a203:10064,a75:10065,a204:10066,a76:9650,a77:9660,a78:9670,a79:10070,a81:9687,a82:10072,a83:10073,a84:10074,a97:10075,a98:10076,a99:10077,a100:10078,a101:10081,a102:10082,a103:10083,a104:10084,a106:10085,a107:10086,a108:10087,a112:9827,a111:9830,a110:9829,a109:9824,a120:9312,a121:9313,a122:9314,a123:9315,a124:9316,a125:9317,a126:9318,a127:9319,a128:9320,a129:9321,a130:10102,a131:10103,a132:10104,a133:10105,a134:10106,a135:10107,a136:10108,a137:10109,a138:10110,a139:10111,a140:10112,a141:10113,a142:10114,a143:10115,a144:10116,a145:10117,a146:10118,a147:10119,a148:10120,a149:10121,a150:10122,a151:10123,a152:10124,a153:10125,a154:10126,a155:10127,a156:10128,a157:10129,a158:10130,a159:10131,a160:10132,a161:8594,a163:8596,a164:8597,a196:10136,a165:10137,a192:10138,a166:10139,a167:10140,a168:10141,a169:10142,a170:10143,a171:10144,a172:10145,a173:10146,a162:10147,a174:10148,a175:10149,a176:10150,a177:10151,a178:10152,a179:10153,a193:10154,a180:10155,a199:10156,a181:10157,a200:10158,a182:10159,a201:10161,a183:10162,a184:10163,a197:10164,a185:10165,a194:10166,a198:10167,a186:10168,a195:10169,a187:10170,a188:10171,a189:10172,a190:10173,a191:10174,a89:10088,a90:10089,a93:10090,a94:10091,a91:10092,a92:10093,a205:10094,a85:10095,a206:10096,a86:10097,a87:10098,a88:10099,a95:10100,a96:10101,".notdef":0};e.GlyphsUnicode=t,e.DingbatsGlyphsUnicode=a}),function(e,t){t(e.pdfjsCoreJpg={})}(this,function(e){var t=function(){function e(){}function t(e,t){for(var a,r,i=0,n=[],s=16;s>0&&!e[s-1];)s--;n.push({children:[],index:0});var o,c=n[0];for(a=0;s>a;a++){for(r=0;r<e[a];r++){for(c=n.pop(),c.children[c.index]=t[i];c.index>0;)c=n.pop();for(c.index++,n.push(c);n.length<=a;)n.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o;i++}s>a+1&&(n.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o)}return n[0].children}function a(e,t,a){return 64*((e.blocksPerLine+1)*t+a)}function r(e,t,r,i,n,s,c,l,h){function u(){if(M>0)return M--,O>>M&1;if(O=e[t++],255===O){var a=e[t++];if(a)throw"unexpected marker: "+(O<<8|a).toString(16)}return M=7,O>>>7}function f(e){for(var t=e;;){if(t=t[u()],"number"==typeof t)return t;if("object"!=typeof t)throw"invalid huffman sequence"}}function d(e){for(var t=0;e>0;)t=t<<1|u(),e--;return t}function g(e){if(1===e)return 1===u()?1:-1;var t=d(e);return t>=1<<e-1?t:t+(-1<<e)+1}function m(e,t){var a=f(e.huffmanTableDC),r=0===a?0:g(a);e.blockData[t]=e.pred+=r;for(var i=1;64>i;){var n=f(e.huffmanTableAC),s=15&n,c=n>>4;if(0!==s){i+=c;var l=o[i];e.blockData[t+l]=g(s),i++}else{if(15>c)break;i+=16}}}function p(e,t){var a=f(e.huffmanTableDC),r=0===a?0:g(a)<<h;e.blockData[t]=e.pred+=r}function b(e,t){e.blockData[t]|=u()<<h}function v(e,t){if(E>0)return void E--;for(var a=s,r=c;r>=a;){var i=f(e.huffmanTableAC),n=15&i,l=i>>4;if(0!==n){a+=l;var u=o[a];e.blockData[t+u]=g(n)*(1<<h),a++}else{if(15>l){E=d(l)+(1<<l)-1;break}a+=16}}}function y(e,t){for(var a,r,i=s,n=c,l=0;n>=i;){var m=o[i];switch(D){case 0:if(r=f(e.huffmanTableAC),a=15&r,l=r>>4,0===a)15>l?(E=d(l)+(1<<l),D=4):(l=16,D=1);else{if(1!==a)throw"invalid ACn encoding";x=g(a),D=l?2:3}continue;case 1:case 2:e.blockData[t+m]?e.blockData[t+m]+=u()<<h:(l--,0===l&&(D=2===D?3:0));break;case 3:e.blockData[t+m]?e.blockData[t+m]+=u()<<h:(e.blockData[t+m]=x<<h,D=0);break;case 4:e.blockData[t+m]&&(e.blockData[t+m]+=u()<<h)}i++}4===D&&(E--,0===E&&(D=0))}function k(e,t,r,i,n){var s=r/P|0,o=r%P,c=s*e.v+i,l=o*e.h+n,h=a(e,c,l);t(e,h)}function w(e,t,r){var i=r/e.blocksPerLine|0,n=r%e.blocksPerLine,s=a(e,i,n);t(e,s)}var x,C,S,A,I,B,T,P=r.mcusPerLine,R=r.progressive,L=t,O=0,M=0,E=0,D=0,U=i.length;T=R?0===s?0===l?p:b:0===l?v:y:m;var F,j,N=0;j=1===U?i[0].blocksPerLine*i[0].blocksPerColumn:P*r.mcusPerColumn,n||(n=j);for(var q,z;j>N;){for(S=0;U>S;S++)i[S].pred=0;if(E=0,1===U)for(C=i[0],B=0;n>B;B++)w(C,T,N),N++;else for(B=0;n>B;B++){for(S=0;U>S;S++)for(C=i[S],q=C.h,z=C.v,A=0;z>A;A++)for(I=0;q>I;I++)k(C,T,N,A,I);N++}if(M=0,F=e[t]<<8|e[t+1],65280>=F)throw"marker was not found";if(!(F>=65488&&65495>=F))break;t+=2}return t-L}function i(e,t,a){for(var r,i,n,s,o,p,b,v,y,k,w,x,C,S,A,I,B,T=e.quantizationTable,P=e.blockData,R=0;64>R;R+=8)y=P[t+R],k=P[t+R+1],w=P[t+R+2],x=P[t+R+3],C=P[t+R+4],S=P[t+R+5],A=P[t+R+6],I=P[t+R+7],y*=T[R],0!==(k|w|x|C|S|A|I)?(k*=T[R+1],w*=T[R+2],x*=T[R+3],C*=T[R+4],S*=T[R+5],A*=T[R+6],I*=T[R+7],r=g*y+128>>8,i=g*C+128>>8,n=w,s=A,o=m*(k-I)+128>>8,v=m*(k+I)+128>>8,p=x<<4,b=S<<4,r=r+i+1>>1,i=r-i,B=n*d+s*f+128>>8,n=n*f-s*d+128>>8,s=B,o=o+b+1>>1,b=o-b,v=v+p+1>>1,p=v-p,r=r+s+1>>1,s=r-s,i=i+n+1>>1,n=i-n,B=o*u+v*h+2048>>12,o=o*h-v*u+2048>>12,v=B,B=p*l+b*c+2048>>12,p=p*c-b*l+2048>>12,b=B,a[R]=r+v,a[R+7]=r-v,a[R+1]=i+b,a[R+6]=i-b,a[R+2]=n+p,a[R+5]=n-p,a[R+3]=s+o,a[R+4]=s-o):(B=g*y+512>>10,a[R]=B,a[R+1]=B,a[R+2]=B,a[R+3]=B,a[R+4]=B,a[R+5]=B,a[R+6]=B,a[R+7]=B);for(var L=0;8>L;++L)y=a[L],k=a[L+8],w=a[L+16],x=a[L+24],C=a[L+32],S=a[L+40],A=a[L+48],I=a[L+56],0!==(k|w|x|C|S|A|I)?(r=g*y+2048>>12,i=g*C+2048>>12,n=w,s=A,o=m*(k-I)+2048>>12,v=m*(k+I)+2048>>12,p=x,b=S,r=(r+i+1>>1)+4112,i=r-i,B=n*d+s*f+2048>>12,n=n*f-s*d+2048>>12,s=B,o=o+b+1>>1,b=o-b,v=v+p+1>>1,p=v-p,r=r+s+1>>1,s=r-s,i=i+n+1>>1,n=i-n,B=o*u+v*h+2048>>12,o=o*h-v*u+2048>>12,v=B,B=p*l+b*c+2048>>12,p=p*c-b*l+2048>>12,b=B,y=r+v,I=r-v,k=i+b,A=i-b,w=n+p,S=n-p,x=s+o,C=s-o,y=16>y?0:y>=4080?255:y>>4,k=16>k?0:k>=4080?255:k>>4,w=16>w?0:w>=4080?255:w>>4,x=16>x?0:x>=4080?255:x>>4,C=16>C?0:C>=4080?255:C>>4,S=16>S?0:S>=4080?255:S>>4,A=16>A?0:A>=4080?255:A>>4,I=16>I?0:I>=4080?255:I>>4,P[t+L]=y,P[t+L+8]=k,P[t+L+16]=w,P[t+L+24]=x,P[t+L+32]=C,P[t+L+40]=S,P[t+L+48]=A,P[t+L+56]=I):(B=g*y+8192>>14,B=-2040>B?0:B>=2024?255:B+2056>>4,P[t+L]=B,P[t+L+8]=B,P[t+L+16]=B,P[t+L+24]=B,P[t+L+32]=B,P[t+L+40]=B,P[t+L+48]=B,P[t+L+56]=B)}function n(e,t){for(var r=t.blocksPerLine,n=t.blocksPerColumn,s=new Int16Array(64),o=0;n>o;o++)for(var c=0;r>c;c++){var l=a(t,o,c);i(t,l,s)}return t.blockData}function s(e){return 0>=e?0:e>=255?255:e}var o=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),c=4017,l=799,h=3406,u=2276,f=1567,d=3784,g=5793,m=2896;return e.prototype={parse:function(e){function a(){var t=e[h]<<8|e[h+1];return h+=2,t}function i(){var t=a(),r=e.subarray(h,h+t-2);return h+=r.length,r}function s(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),a=Math.ceil(e.scanLines/8/e.maxV),r=0;r<e.components.length;r++){j=e.components[r];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*j.h/e.maxH),n=Math.ceil(Math.ceil(e.scanLines/8)*j.v/e.maxV),s=t*j.h,o=a*j.v,c=64*o*(s+1);j.blockData=new Int16Array(c),j.blocksPerLine=i,j.blocksPerColumn=n}e.mcusPerLine=t,e.mcusPerColumn=a}var c,l,h=0,u=null,f=null,d=[],g=[],m=[],p=a();if(65496!==p)throw"SOI not found";for(p=a();65497!==p;){var b,v,y;switch(p){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var k=i();65504===p&&74===k[0]&&70===k[1]&&73===k[2]&&70===k[3]&&0===k[4]&&(u={version:{major:k[5],minor:k[6]},densityUnits:k[7],xDensity:k[8]<<8|k[9],yDensity:k[10]<<8|k[11],thumbWidth:k[12],thumbHeight:k[13],thumbData:k.subarray(14,14+3*k[12]*k[13])}),65518===p&&65===k[0]&&100===k[1]&&111===k[2]&&98===k[3]&&101===k[4]&&(f={version:k[5]<<8|k[6],flags0:k[7]<<8|k[8],flags1:k[9]<<8|k[10],transformCode:k[11]});break;case 65499:for(var w,x=a(),C=x+h-2;C>h;){var S=e[h++],A=new Uint16Array(64);if(S>>4===0)for(v=0;64>v;v++)w=o[v],A[w]=e[h++];else{if(S>>4!==1)throw"DQT: invalid table spec";for(v=0;64>v;v++)w=o[v],A[w]=a()}d[15&S]=A}break;case 65472:case 65473:case 65474:if(c)throw"Only single frame JPEGs supported";a(),c={},c.extended=65473===p,c.progressive=65474===p,c.precision=e[h++],c.scanLines=a(),c.samplesPerLine=a(),c.components=[],c.componentIds={};var I,B=e[h++],T=0,P=0;for(b=0;B>b;b++){I=e[h];var R=e[h+1]>>4,L=15&e[h+1];R>T&&(T=R),L>P&&(P=L);var O=e[h+2];y=c.components.push({h:R,v:L,quantizationTable:d[O]}),c.componentIds[I]=y-1,h+=3}c.maxH=T,c.maxV=P,s(c);break;case 65476:var M=a();for(b=2;M>b;){var E=e[h++],D=new Uint8Array(16),U=0;for(v=0;16>v;v++,h++)U+=D[v]=e[h];var F=new Uint8Array(U);for(v=0;U>v;v++,h++)F[v]=e[h];b+=17+U,(E>>4===0?m:g)[15&E]=t(D,F)}break;case 65501:a(),l=a();break;case 65498:var j,N=(a(),e[h++]),q=[];for(b=0;N>b;b++){var z=c.componentIds[e[h++]];j=c.components[z];var H=e[h++];j.huffmanTableDC=m[H>>4],j.huffmanTableAC=g[15&H],q.push(j)}var _=e[h++],G=e[h++],X=e[h++],W=r(e,h,c,q,l,_,G,X>>4,15&X);h+=W;break;case 65535:255!==e[h]&&h--;break;default:if(255===e[h-3]&&e[h-2]>=192&&e[h-2]<=254){h-=3;break}throw"unknown JPEG marker "+p.toString(16)}p=a()}for(this.width=c.samplesPerLine,this.height=c.scanLines,this.jfif=u,this.adobe=f,this.components=[],b=0;b<c.components.length;b++)j=c.components[b],this.components.push({output:n(c,j),scaleX:j.h/c.maxH,scaleY:j.v/c.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn});this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){var a,r,i,n,s,o,c,l,h,u,f,d=this.width/e,g=this.height/t,m=0,p=this.components.length,b=e*t*p,v=new Uint8Array(b),y=new Uint32Array(e),k=4294967288;for(c=0;p>c;c++){for(a=this.components[c],r=a.scaleX*d,i=a.scaleY*g,m=c,f=a.output,n=a.blocksPerLine+1<<3,s=0;e>s;s++)l=0|s*r,y[s]=(l&k)<<3|7&l;for(o=0;t>o;o++)for(l=0|o*i,u=n*(l&k)|(7&l)<<3,s=0;e>s;s++)v[m]=f[u+y[s]],m+=p}var w=this.decodeTransform;if(w)for(c=0;b>c;)for(l=0,h=0;p>l;l++,c++,h+=2)v[c]=(v[c]*w[h]>>8)+w[h+1];return v},_isColorConversionNeeded:function(){return this.adobe&&this.adobe.transformCode?!0:3===this.numComponents?!0:!1},_convertYccToRgb:function(e){for(var t,a,r,i=0,n=e.length;n>i;i+=3)t=e[i],a=e[i+1],r=e[i+2],e[i]=s(t-179.456+1.402*r),e[i+1]=s(t+135.459-.344*a-.714*r),e[i+2]=s(t-226.816+1.772*a);return e},_convertYcckToRgb:function(e){for(var t,a,r,i,n=0,o=0,c=e.length;c>o;o+=4){t=e[o],a=e[o+1],r=e[o+2],i=e[o+3];var l=-122.67195406894+a*(-660635669420364e-19*a+.000437130475926232*r-54080610064599e-18*t+.00048449797120281*i-.154362151871126)+r*(-.000957964378445773*r+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),h=107.268039397724+a*(219927104525741e-19*a-.000640992018297945*r+.000659397001245577*t+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),u=-20.810012546947+a*(-.000570115196973677*a-263409051004589e-19*r+.0020741088115012*t-.00288260236853442*i+.814272968359295)+r*(-153496057440975e-19*r-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);e[n++]=s(l),e[n++]=s(h),e[n++]=s(u)}return e},_convertYcckToCmyk:function(e){for(var t,a,r,i=0,n=e.length;n>i;i+=4)t=e[i],a=e[i+1],r=e[i+2],e[i]=s(434.456-t-1.402*r),e[i+1]=s(119.541-t+.344*a+.714*r),e[i+2]=s(481.816-t-1.772*a);return e},_convertCmykToRgb:function(e){for(var t,a,r,i,n=0,s=-16581375,o=1/255/255,c=0,l=e.length;l>c;c+=4){t=e[c],a=e[c+1],r=e[c+2],i=e[c+3];var h=t*(-4.387332384609988*t+54.48615194189176*a+18.82290502165302*r+212.25662451639585*i-72734.4411664936)+a*(1.7149763477362134*a-5.6096736904047315*r-17.873870861415444*i-1401.7366389350734)+r*(-2.5217340131683033*r-21.248923337353073*i+4465.541406466231)-i*(21.86122147463605*i+48317.86113160301),u=t*(8.841041422036149*t+60.118027045597366*a+6.871425592049007*r+31.159100130055922*i-20220.756542821975)+a*(-15.310361306967817*a+17.575251261109482*r+131.35250912493976*i-48691.05921601825)+r*(4.444339102852739*r+9.8632861493405*i-6341.191035517494)-i*(20.737325471181034*i+47890.15695978492),f=t*(.8842522430003296*t+8.078677503112928*a+30.89978309703729*r-.23883238689178934*i-3616.812083916688)+a*(10.49593273432072*a+63.02378494754052*r+50.606957656360734*i-28620.90484698408)+r*(.03296041114873217*r+115.60384449646641*i-49363.43385999684)-i*(22.33816807309886*i+45932.16563550634);
e[n++]=h>=0?255:s>=h?0:255+h*o|0,e[n++]=u>=0?255:s>=u?0:255+u*o|0,e[n++]=f>=0?255:s>=f?0:255+f*o|0}return e},getData:function(e,t,a){if(this.numComponents>4)throw"Unsupported color mode";var r=this._getLinearizedBlockData(e,t);if(3===this.numComponents)return this._convertYccToRgb(r);if(4===this.numComponents){if(this._isColorConversionNeeded())return a?this._convertYcckToRgb(r):this._convertYcckToCmyk(r);if(a)return this._convertCmykToRgb(r)}return r}},e}();e.JpegImage=t}),function(e,t){t(e.pdfjsCoreMetrics={})}(this,function(e){var t={Courier:600,"Courier-Bold":600,"Courier-BoldOblique":600,"Courier-Oblique":600,Helvetica:{space:278,exclam:278,quotedbl:355,numbersign:556,dollar:556,percent:889,ampersand:667,quoteright:222,parenleft:333,parenright:333,asterisk:389,plus:584,comma:278,hyphen:333,period:278,slash:278,zero:556,one:556,two:556,three:556,four:556,five:556,six:556,seven:556,eight:556,nine:556,colon:278,semicolon:278,less:584,equal:584,greater:584,question:556,at:1015,A:667,B:667,C:722,D:722,E:667,F:611,G:778,H:722,I:278,J:500,K:667,L:556,M:833,N:722,O:778,P:667,Q:778,R:722,S:667,T:611,U:722,V:667,W:944,X:667,Y:667,Z:611,bracketleft:278,backslash:278,bracketright:278,asciicircum:469,underscore:556,quoteleft:222,a:556,b:556,c:500,d:556,e:556,f:278,g:556,h:556,i:222,j:222,k:500,l:222,m:833,n:556,o:556,p:556,q:556,r:333,s:500,t:278,u:556,v:500,w:722,x:500,y:500,z:500,braceleft:334,bar:260,braceright:334,asciitilde:584,exclamdown:333,cent:556,sterling:556,fraction:167,yen:556,florin:556,section:556,currency:556,quotesingle:191,quotedblleft:333,guillemotleft:556,guilsinglleft:333,guilsinglright:333,fi:500,fl:500,endash:556,dagger:556,daggerdbl:556,periodcentered:278,paragraph:537,bullet:350,quotesinglbase:222,quotedblbase:333,quotedblright:333,guillemotright:556,ellipsis:1e3,perthousand:1e3,questiondown:611,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:1e3,ordfeminine:370,Lslash:556,Oslash:778,OE:1e3,ordmasculine:365,ae:889,dotlessi:278,lslash:222,oslash:611,oe:944,germandbls:611,Idieresis:278,eacute:556,abreve:556,uhungarumlaut:556,ecaron:556,Ydieresis:667,divide:584,Yacute:667,Acircumflex:667,aacute:556,Ucircumflex:722,yacute:500,scommaaccent:500,ecircumflex:556,Uring:722,Udieresis:722,aogonek:556,Uacute:722,uogonek:556,Edieresis:667,Dcroat:722,commaaccent:250,copyright:737,Emacron:667,ccaron:500,aring:556,Ncommaaccent:722,lacute:222,agrave:556,Tcommaaccent:611,Cacute:722,atilde:556,Edotaccent:667,scaron:500,scedilla:500,iacute:278,lozenge:471,Rcaron:722,Gcommaaccent:778,ucircumflex:556,acircumflex:556,Amacron:667,rcaron:333,ccedilla:500,Zdotaccent:611,Thorn:667,Omacron:778,Racute:722,Sacute:667,dcaron:643,Umacron:722,uring:556,threesuperior:333,Ograve:778,Agrave:667,Abreve:667,multiply:584,uacute:556,Tcaron:611,partialdiff:476,ydieresis:500,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:556,edieresis:556,cacute:500,nacute:556,umacron:556,Ncaron:722,Iacute:278,plusminus:584,brokenbar:260,registered:737,Gbreve:778,Idotaccent:278,summation:600,Egrave:667,racute:333,omacron:556,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:722,lcommaaccent:222,tcaron:317,eogonek:556,Uogonek:722,Aacute:667,Adieresis:667,egrave:556,zacute:500,iogonek:222,Oacute:778,oacute:556,amacron:556,sacute:500,idieresis:278,Ocircumflex:778,Ugrave:722,Delta:612,thorn:556,twosuperior:333,Odieresis:778,mu:556,igrave:278,ohungarumlaut:556,Eogonek:667,dcroat:556,threequarters:834,Scedilla:667,lcaron:299,Kcommaaccent:667,Lacute:556,trademark:1e3,edotaccent:556,Igrave:278,Imacron:278,Lcaron:556,onehalf:834,lessequal:549,ocircumflex:556,ntilde:556,Uhungarumlaut:722,Eacute:667,emacron:556,gbreve:556,onequarter:834,Scaron:667,Scommaaccent:667,Ohungarumlaut:778,degree:400,ograve:556,Ccaron:722,ugrave:556,radical:453,Dcaron:722,rcommaaccent:333,Ntilde:722,otilde:556,Rcommaaccent:722,Lcommaaccent:556,Atilde:667,Aogonek:667,Aring:667,Otilde:778,zdotaccent:500,Ecaron:667,Iogonek:278,kcommaaccent:500,minus:584,Icircumflex:278,ncaron:556,tcommaaccent:278,logicalnot:584,odieresis:556,udieresis:556,notequal:549,gcommaaccent:556,eth:556,zcaron:500,ncommaaccent:556,onesuperior:333,imacron:278,Euro:556},"Helvetica-Bold":{space:278,exclam:333,quotedbl:474,numbersign:556,dollar:556,percent:889,ampersand:722,quoteright:278,parenleft:333,parenright:333,asterisk:389,plus:584,comma:278,hyphen:333,period:278,slash:278,zero:556,one:556,two:556,three:556,four:556,five:556,six:556,seven:556,eight:556,nine:556,colon:333,semicolon:333,less:584,equal:584,greater:584,question:611,at:975,A:722,B:722,C:722,D:722,E:667,F:611,G:778,H:722,I:278,J:556,K:722,L:611,M:833,N:722,O:778,P:667,Q:778,R:722,S:667,T:611,U:722,V:667,W:944,X:667,Y:667,Z:611,bracketleft:333,backslash:278,bracketright:333,asciicircum:584,underscore:556,quoteleft:278,a:556,b:611,c:556,d:611,e:556,f:333,g:611,h:611,i:278,j:278,k:556,l:278,m:889,n:611,o:611,p:611,q:611,r:389,s:556,t:333,u:611,v:556,w:778,x:556,y:556,z:500,braceleft:389,bar:280,braceright:389,asciitilde:584,exclamdown:333,cent:556,sterling:556,fraction:167,yen:556,florin:556,section:556,currency:556,quotesingle:238,quotedblleft:500,guillemotleft:556,guilsinglleft:333,guilsinglright:333,fi:611,fl:611,endash:556,dagger:556,daggerdbl:556,periodcentered:278,paragraph:556,bullet:350,quotesinglbase:278,quotedblbase:500,quotedblright:500,guillemotright:556,ellipsis:1e3,perthousand:1e3,questiondown:611,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:1e3,ordfeminine:370,Lslash:611,Oslash:778,OE:1e3,ordmasculine:365,ae:889,dotlessi:278,lslash:278,oslash:611,oe:944,germandbls:611,Idieresis:278,eacute:556,abreve:556,uhungarumlaut:611,ecaron:556,Ydieresis:667,divide:584,Yacute:667,Acircumflex:722,aacute:556,Ucircumflex:722,yacute:556,scommaaccent:556,ecircumflex:556,Uring:722,Udieresis:722,aogonek:556,Uacute:722,uogonek:611,Edieresis:667,Dcroat:722,commaaccent:250,copyright:737,Emacron:667,ccaron:556,aring:556,Ncommaaccent:722,lacute:278,agrave:556,Tcommaaccent:611,Cacute:722,atilde:556,Edotaccent:667,scaron:556,scedilla:556,iacute:278,lozenge:494,Rcaron:722,Gcommaaccent:778,ucircumflex:611,acircumflex:556,Amacron:722,rcaron:389,ccedilla:556,Zdotaccent:611,Thorn:667,Omacron:778,Racute:722,Sacute:667,dcaron:743,Umacron:722,uring:611,threesuperior:333,Ograve:778,Agrave:722,Abreve:722,multiply:584,uacute:611,Tcaron:611,partialdiff:494,ydieresis:556,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:556,edieresis:556,cacute:556,nacute:611,umacron:611,Ncaron:722,Iacute:278,plusminus:584,brokenbar:280,registered:737,Gbreve:778,Idotaccent:278,summation:600,Egrave:667,racute:389,omacron:611,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:722,lcommaaccent:278,tcaron:389,eogonek:556,Uogonek:722,Aacute:722,Adieresis:722,egrave:556,zacute:500,iogonek:278,Oacute:778,oacute:611,amacron:556,sacute:556,idieresis:278,Ocircumflex:778,Ugrave:722,Delta:612,thorn:611,twosuperior:333,Odieresis:778,mu:611,igrave:278,ohungarumlaut:611,Eogonek:667,dcroat:611,threequarters:834,Scedilla:667,lcaron:400,Kcommaaccent:722,Lacute:611,trademark:1e3,edotaccent:556,Igrave:278,Imacron:278,Lcaron:611,onehalf:834,lessequal:549,ocircumflex:611,ntilde:611,Uhungarumlaut:722,Eacute:667,emacron:556,gbreve:611,onequarter:834,Scaron:667,Scommaaccent:667,Ohungarumlaut:778,degree:400,ograve:611,Ccaron:722,ugrave:611,radical:549,Dcaron:722,rcommaaccent:389,Ntilde:722,otilde:611,Rcommaaccent:722,Lcommaaccent:611,Atilde:722,Aogonek:722,Aring:722,Otilde:778,zdotaccent:500,Ecaron:667,Iogonek:278,kcommaaccent:556,minus:584,Icircumflex:278,ncaron:611,tcommaaccent:333,logicalnot:584,odieresis:611,udieresis:611,notequal:549,gcommaaccent:611,eth:611,zcaron:500,ncommaaccent:611,onesuperior:333,imacron:278,Euro:556},"Helvetica-BoldOblique":{space:278,exclam:333,quotedbl:474,numbersign:556,dollar:556,percent:889,ampersand:722,quoteright:278,parenleft:333,parenright:333,asterisk:389,plus:584,comma:278,hyphen:333,period:278,slash:278,zero:556,one:556,two:556,three:556,four:556,five:556,six:556,seven:556,eight:556,nine:556,colon:333,semicolon:333,less:584,equal:584,greater:584,question:611,at:975,A:722,B:722,C:722,D:722,E:667,F:611,G:778,H:722,I:278,J:556,K:722,L:611,M:833,N:722,O:778,P:667,Q:778,R:722,S:667,T:611,U:722,V:667,W:944,X:667,Y:667,Z:611,bracketleft:333,backslash:278,bracketright:333,asciicircum:584,underscore:556,quoteleft:278,a:556,b:611,c:556,d:611,e:556,f:333,g:611,h:611,i:278,j:278,k:556,l:278,m:889,n:611,o:611,p:611,q:611,r:389,s:556,t:333,u:611,v:556,w:778,x:556,y:556,z:500,braceleft:389,bar:280,braceright:389,asciitilde:584,exclamdown:333,cent:556,sterling:556,fraction:167,yen:556,florin:556,section:556,currency:556,quotesingle:238,quotedblleft:500,guillemotleft:556,guilsinglleft:333,guilsinglright:333,fi:611,fl:611,endash:556,dagger:556,daggerdbl:556,periodcentered:278,paragraph:556,bullet:350,quotesinglbase:278,quotedblbase:500,quotedblright:500,guillemotright:556,ellipsis:1e3,perthousand:1e3,questiondown:611,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:1e3,ordfeminine:370,Lslash:611,Oslash:778,OE:1e3,ordmasculine:365,ae:889,dotlessi:278,lslash:278,oslash:611,oe:944,germandbls:611,Idieresis:278,eacute:556,abreve:556,uhungarumlaut:611,ecaron:556,Ydieresis:667,divide:584,Yacute:667,Acircumflex:722,aacute:556,Ucircumflex:722,yacute:556,scommaaccent:556,ecircumflex:556,Uring:722,Udieresis:722,aogonek:556,Uacute:722,uogonek:611,Edieresis:667,Dcroat:722,commaaccent:250,copyright:737,Emacron:667,ccaron:556,aring:556,Ncommaaccent:722,lacute:278,agrave:556,Tcommaaccent:611,Cacute:722,atilde:556,Edotaccent:667,scaron:556,scedilla:556,iacute:278,lozenge:494,Rcaron:722,Gcommaaccent:778,ucircumflex:611,acircumflex:556,Amacron:722,rcaron:389,ccedilla:556,Zdotaccent:611,Thorn:667,Omacron:778,Racute:722,Sacute:667,dcaron:743,Umacron:722,uring:611,threesuperior:333,Ograve:778,Agrave:722,Abreve:722,multiply:584,uacute:611,Tcaron:611,partialdiff:494,ydieresis:556,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:556,edieresis:556,cacute:556,nacute:611,umacron:611,Ncaron:722,Iacute:278,plusminus:584,brokenbar:280,registered:737,Gbreve:778,Idotaccent:278,summation:600,Egrave:667,racute:389,omacron:611,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:722,lcommaaccent:278,tcaron:389,eogonek:556,Uogonek:722,Aacute:722,Adieresis:722,egrave:556,zacute:500,iogonek:278,Oacute:778,oacute:611,amacron:556,sacute:556,idieresis:278,Ocircumflex:778,Ugrave:722,Delta:612,thorn:611,twosuperior:333,Odieresis:778,mu:611,igrave:278,ohungarumlaut:611,Eogonek:667,dcroat:611,threequarters:834,Scedilla:667,lcaron:400,Kcommaaccent:722,Lacute:611,trademark:1e3,edotaccent:556,Igrave:278,Imacron:278,Lcaron:611,onehalf:834,lessequal:549,ocircumflex:611,ntilde:611,Uhungarumlaut:722,Eacute:667,emacron:556,gbreve:611,onequarter:834,Scaron:667,Scommaaccent:667,Ohungarumlaut:778,degree:400,ograve:611,Ccaron:722,ugrave:611,radical:549,Dcaron:722,rcommaaccent:389,Ntilde:722,otilde:611,Rcommaaccent:722,Lcommaaccent:611,Atilde:722,Aogonek:722,Aring:722,Otilde:778,zdotaccent:500,Ecaron:667,Iogonek:278,kcommaaccent:556,minus:584,Icircumflex:278,ncaron:611,tcommaaccent:333,logicalnot:584,odieresis:611,udieresis:611,notequal:549,gcommaaccent:611,eth:611,zcaron:500,ncommaaccent:611,onesuperior:333,imacron:278,Euro:556},"Helvetica-Oblique":{space:278,exclam:278,quotedbl:355,numbersign:556,dollar:556,percent:889,ampersand:667,quoteright:222,parenleft:333,parenright:333,asterisk:389,plus:584,comma:278,hyphen:333,period:278,slash:278,zero:556,one:556,two:556,three:556,four:556,five:556,six:556,seven:556,eight:556,nine:556,colon:278,semicolon:278,less:584,equal:584,greater:584,question:556,at:1015,A:667,B:667,C:722,D:722,E:667,F:611,G:778,H:722,I:278,J:500,K:667,L:556,M:833,N:722,O:778,P:667,Q:778,R:722,S:667,T:611,U:722,V:667,W:944,X:667,Y:667,Z:611,bracketleft:278,backslash:278,bracketright:278,asciicircum:469,underscore:556,quoteleft:222,a:556,b:556,c:500,d:556,e:556,f:278,g:556,h:556,i:222,j:222,k:500,l:222,m:833,n:556,o:556,p:556,q:556,r:333,s:500,t:278,u:556,v:500,w:722,x:500,y:500,z:500,braceleft:334,bar:260,braceright:334,asciitilde:584,exclamdown:333,cent:556,sterling:556,fraction:167,yen:556,florin:556,section:556,currency:556,quotesingle:191,quotedblleft:333,guillemotleft:556,guilsinglleft:333,guilsinglright:333,fi:500,fl:500,endash:556,dagger:556,daggerdbl:556,periodcentered:278,paragraph:537,bullet:350,quotesinglbase:222,quotedblbase:333,quotedblright:333,guillemotright:556,ellipsis:1e3,perthousand:1e3,questiondown:611,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:1e3,ordfeminine:370,Lslash:556,Oslash:778,OE:1e3,ordmasculine:365,ae:889,dotlessi:278,lslash:222,oslash:611,oe:944,germandbls:611,Idieresis:278,eacute:556,abreve:556,uhungarumlaut:556,ecaron:556,Ydieresis:667,divide:584,Yacute:667,Acircumflex:667,aacute:556,Ucircumflex:722,yacute:500,scommaaccent:500,ecircumflex:556,Uring:722,Udieresis:722,aogonek:556,Uacute:722,uogonek:556,Edieresis:667,Dcroat:722,commaaccent:250,copyright:737,Emacron:667,ccaron:500,aring:556,Ncommaaccent:722,lacute:222,agrave:556,Tcommaaccent:611,Cacute:722,atilde:556,Edotaccent:667,scaron:500,scedilla:500,iacute:278,lozenge:471,Rcaron:722,Gcommaaccent:778,ucircumflex:556,acircumflex:556,Amacron:667,rcaron:333,ccedilla:500,Zdotaccent:611,Thorn:667,Omacron:778,Racute:722,Sacute:667,dcaron:643,Umacron:722,uring:556,threesuperior:333,Ograve:778,Agrave:667,Abreve:667,multiply:584,uacute:556,Tcaron:611,partialdiff:476,ydieresis:500,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:556,edieresis:556,cacute:500,nacute:556,umacron:556,Ncaron:722,Iacute:278,plusminus:584,brokenbar:260,registered:737,Gbreve:778,Idotaccent:278,summation:600,Egrave:667,racute:333,omacron:556,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:722,lcommaaccent:222,tcaron:317,eogonek:556,Uogonek:722,Aacute:667,Adieresis:667,egrave:556,zacute:500,iogonek:222,Oacute:778,oacute:556,amacron:556,sacute:500,idieresis:278,Ocircumflex:778,Ugrave:722,Delta:612,thorn:556,twosuperior:333,Odieresis:778,mu:556,igrave:278,ohungarumlaut:556,Eogonek:667,dcroat:556,threequarters:834,Scedilla:667,lcaron:299,Kcommaaccent:667,Lacute:556,trademark:1e3,edotaccent:556,Igrave:278,Imacron:278,Lcaron:556,onehalf:834,lessequal:549,ocircumflex:556,ntilde:556,Uhungarumlaut:722,Eacute:667,emacron:556,gbreve:556,onequarter:834,Scaron:667,Scommaaccent:667,Ohungarumlaut:778,degree:400,ograve:556,Ccaron:722,ugrave:556,radical:453,Dcaron:722,rcommaaccent:333,Ntilde:722,otilde:556,Rcommaaccent:722,Lcommaaccent:556,Atilde:667,Aogonek:667,Aring:667,Otilde:778,zdotaccent:500,Ecaron:667,Iogonek:278,kcommaaccent:500,minus:584,Icircumflex:278,ncaron:556,tcommaaccent:278,logicalnot:584,odieresis:556,udieresis:556,notequal:549,gcommaaccent:556,eth:556,zcaron:500,ncommaaccent:556,onesuperior:333,imacron:278,Euro:556},Symbol:{space:250,exclam:333,universal:713,numbersign:500,existential:549,percent:833,ampersand:778,suchthat:439,parenleft:333,parenright:333,asteriskmath:500,plus:549,comma:250,minus:549,period:250,slash:278,zero:500,one:500,two:500,three:500,four:500,five:500,six:500,seven:500,eight:500,nine:500,colon:278,semicolon:278,less:549,equal:549,greater:549,question:444,congruent:549,Alpha:722,Beta:667,Chi:722,Delta:612,Epsilon:611,Phi:763,Gamma:603,Eta:722,Iota:333,theta1:631,Kappa:722,Lambda:686,Mu:889,Nu:722,Omicron:722,Pi:768,Theta:741,Rho:556,Sigma:592,Tau:611,Upsilon:690,sigma1:439,Omega:768,Xi:645,Psi:795,Zeta:611,bracketleft:333,therefore:863,bracketright:333,perpendicular:658,underscore:500,radicalex:500,alpha:631,beta:549,chi:549,delta:494,epsilon:439,phi:521,gamma:411,eta:603,iota:329,phi1:603,kappa:549,lambda:549,mu:576,nu:521,omicron:549,pi:549,theta:521,rho:549,sigma:603,tau:439,upsilon:576,omega1:713,omega:686,xi:493,psi:686,zeta:494,braceleft:480,bar:200,braceright:480,similar:549,Euro:750,Upsilon1:620,minute:247,lessequal:549,fraction:167,infinity:713,florin:500,club:753,diamond:753,heart:753,spade:753,arrowboth:1042,arrowleft:987,arrowup:603,arrowright:987,arrowdown:603,degree:400,plusminus:549,second:411,greaterequal:549,multiply:549,proportional:713,partialdiff:494,bullet:460,divide:549,notequal:549,equivalence:549,approxequal:549,ellipsis:1e3,arrowvertex:603,arrowhorizex:1e3,carriagereturn:658,aleph:823,Ifraktur:686,Rfraktur:795,weierstrass:987,circlemultiply:768,circleplus:768,emptyset:823,intersection:768,union:768,propersuperset:713,reflexsuperset:713,notsubset:713,propersubset:713,reflexsubset:713,element:713,notelement:713,angle:768,gradient:713,registerserif:790,copyrightserif:790,trademarkserif:890,product:823,radical:549,dotmath:250,logicalnot:713,logicaland:603,logicalor:603,arrowdblboth:1042,arrowdblleft:987,arrowdblup:603,arrowdblright:987,arrowdbldown:603,lozenge:494,angleleft:329,registersans:790,copyrightsans:790,trademarksans:786,summation:713,parenlefttp:384,parenleftex:384,parenleftbt:384,bracketlefttp:384,bracketleftex:384,bracketleftbt:384,bracelefttp:494,braceleftmid:494,braceleftbt:494,braceex:494,angleright:329,integral:274,integraltp:686,integralex:686,integralbt:686,parenrighttp:384,parenrightex:384,parenrightbt:384,bracketrighttp:384,bracketrightex:384,bracketrightbt:384,bracerighttp:494,bracerightmid:494,bracerightbt:494,apple:790},"Times-Roman":{space:250,exclam:333,quotedbl:408,numbersign:500,dollar:500,percent:833,ampersand:778,quoteright:333,parenleft:333,parenright:333,asterisk:500,plus:564,comma:250,hyphen:333,period:250,slash:278,zero:500,one:500,two:500,three:500,four:500,five:500,six:500,seven:500,eight:500,nine:500,colon:278,semicolon:278,less:564,equal:564,greater:564,question:444,at:921,A:722,B:667,C:667,D:722,E:611,F:556,G:722,H:722,I:333,J:389,K:722,L:611,M:889,N:722,O:722,P:556,Q:722,R:667,S:556,T:611,U:722,V:722,W:944,X:722,Y:722,Z:611,bracketleft:333,backslash:278,bracketright:333,asciicircum:469,underscore:500,quoteleft:333,a:444,b:500,c:444,d:500,e:444,f:333,g:500,h:500,i:278,j:278,k:500,l:278,m:778,n:500,o:500,p:500,q:500,r:333,s:389,t:278,u:500,v:500,w:722,x:500,y:500,z:444,braceleft:480,bar:200,braceright:480,asciitilde:541,exclamdown:333,cent:500,sterling:500,fraction:167,yen:500,florin:500,section:500,currency:500,quotesingle:180,quotedblleft:444,guillemotleft:500,guilsinglleft:333,guilsinglright:333,fi:556,fl:556,endash:500,dagger:500,daggerdbl:500,periodcentered:250,paragraph:453,bullet:350,quotesinglbase:333,quotedblbase:444,quotedblright:444,guillemotright:500,ellipsis:1e3,perthousand:1e3,questiondown:444,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:889,ordfeminine:276,Lslash:611,Oslash:722,OE:889,ordmasculine:310,ae:667,dotlessi:278,lslash:278,oslash:500,oe:722,germandbls:500,Idieresis:333,eacute:444,abreve:444,uhungarumlaut:500,ecaron:444,Ydieresis:722,divide:564,Yacute:722,Acircumflex:722,aacute:444,Ucircumflex:722,yacute:500,scommaaccent:389,ecircumflex:444,Uring:722,Udieresis:722,aogonek:444,Uacute:722,uogonek:500,Edieresis:611,Dcroat:722,commaaccent:250,copyright:760,Emacron:611,ccaron:444,aring:444,Ncommaaccent:722,lacute:278,agrave:444,Tcommaaccent:611,Cacute:667,atilde:444,Edotaccent:611,scaron:389,scedilla:389,iacute:278,lozenge:471,Rcaron:667,Gcommaaccent:722,ucircumflex:500,acircumflex:444,Amacron:722,rcaron:333,ccedilla:444,Zdotaccent:611,Thorn:556,Omacron:722,Racute:667,Sacute:556,dcaron:588,Umacron:722,uring:500,threesuperior:300,Ograve:722,Agrave:722,Abreve:722,multiply:564,uacute:500,Tcaron:611,partialdiff:476,ydieresis:500,Nacute:722,icircumflex:278,Ecircumflex:611,adieresis:444,edieresis:444,cacute:444,nacute:500,umacron:500,Ncaron:722,Iacute:333,plusminus:564,brokenbar:200,registered:760,Gbreve:722,Idotaccent:333,summation:600,Egrave:611,racute:333,omacron:500,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:667,lcommaaccent:278,tcaron:326,eogonek:444,Uogonek:722,Aacute:722,Adieresis:722,egrave:444,zacute:444,iogonek:278,Oacute:722,oacute:500,amacron:444,sacute:389,idieresis:278,Ocircumflex:722,Ugrave:722,Delta:612,thorn:500,twosuperior:300,Odieresis:722,mu:500,igrave:278,ohungarumlaut:500,Eogonek:611,dcroat:500,threequarters:750,Scedilla:556,lcaron:344,Kcommaaccent:722,Lacute:611,trademark:980,edotaccent:444,Igrave:333,Imacron:333,Lcaron:611,onehalf:750,lessequal:549,ocircumflex:500,ntilde:500,Uhungarumlaut:722,Eacute:611,emacron:444,gbreve:500,onequarter:750,Scaron:556,Scommaaccent:556,Ohungarumlaut:722,degree:400,ograve:500,Ccaron:667,ugrave:500,radical:453,Dcaron:722,rcommaaccent:333,Ntilde:722,otilde:500,Rcommaaccent:667,Lcommaaccent:611,Atilde:722,Aogonek:722,Aring:722,Otilde:722,zdotaccent:444,Ecaron:611,Iogonek:333,kcommaaccent:500,minus:564,Icircumflex:333,ncaron:500,tcommaaccent:278,logicalnot:564,odieresis:500,udieresis:500,notequal:549,gcommaaccent:500,eth:500,zcaron:444,ncommaaccent:500,onesuperior:300,imacron:278,Euro:500},"Times-Bold":{space:250,exclam:333,quotedbl:555,numbersign:500,dollar:500,percent:1e3,ampersand:833,quoteright:333,parenleft:333,parenright:333,asterisk:500,plus:570,comma:250,hyphen:333,period:250,slash:278,zero:500,one:500,two:500,three:500,four:500,five:500,six:500,seven:500,eight:500,nine:500,colon:333,semicolon:333,less:570,equal:570,greater:570,question:500,at:930,A:722,B:667,C:722,D:722,E:667,F:611,G:778,H:778,I:389,J:500,K:778,L:667,M:944,N:722,O:778,P:611,Q:778,R:722,S:556,T:667,U:722,V:722,W:1e3,X:722,Y:722,Z:667,bracketleft:333,backslash:278,bracketright:333,asciicircum:581,underscore:500,quoteleft:333,a:500,b:556,c:444,d:556,e:444,f:333,g:500,h:556,i:278,j:333,k:556,l:278,m:833,n:556,o:500,p:556,q:556,r:444,s:389,t:333,u:556,v:500,w:722,x:500,y:500,z:444,braceleft:394,bar:220,braceright:394,asciitilde:520,exclamdown:333,cent:500,sterling:500,fraction:167,yen:500,florin:500,section:500,currency:500,quotesingle:278,quotedblleft:500,guillemotleft:500,guilsinglleft:333,guilsinglright:333,fi:556,fl:556,endash:500,dagger:500,daggerdbl:500,periodcentered:250,paragraph:540,bullet:350,quotesinglbase:333,quotedblbase:500,quotedblright:500,guillemotright:500,ellipsis:1e3,perthousand:1e3,questiondown:500,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:1e3,ordfeminine:300,Lslash:667,Oslash:778,OE:1e3,ordmasculine:330,ae:722,dotlessi:278,lslash:278,oslash:500,oe:722,germandbls:556,Idieresis:389,eacute:444,abreve:500,uhungarumlaut:556,ecaron:444,Ydieresis:722,divide:570,Yacute:722,Acircumflex:722,aacute:500,Ucircumflex:722,yacute:500,scommaaccent:389,ecircumflex:444,Uring:722,Udieresis:722,aogonek:500,Uacute:722,uogonek:556,Edieresis:667,Dcroat:722,commaaccent:250,copyright:747,Emacron:667,ccaron:444,aring:500,Ncommaaccent:722,lacute:278,agrave:500,Tcommaaccent:667,Cacute:722,atilde:500,Edotaccent:667,scaron:389,scedilla:389,iacute:278,lozenge:494,Rcaron:722,Gcommaaccent:778,ucircumflex:556,acircumflex:500,Amacron:722,rcaron:444,ccedilla:444,Zdotaccent:667,Thorn:611,Omacron:778,Racute:722,Sacute:556,dcaron:672,Umacron:722,uring:556,threesuperior:300,Ograve:778,Agrave:722,Abreve:722,multiply:570,uacute:556,Tcaron:667,partialdiff:494,ydieresis:500,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:500,edieresis:444,cacute:444,nacute:556,umacron:556,Ncaron:722,Iacute:389,plusminus:570,brokenbar:220,registered:747,Gbreve:778,Idotaccent:389,summation:600,Egrave:667,racute:444,omacron:500,Zacute:667,Zcaron:667,greaterequal:549,Eth:722,Ccedilla:722,lcommaaccent:278,tcaron:416,eogonek:444,Uogonek:722,Aacute:722,Adieresis:722,egrave:444,zacute:444,iogonek:278,Oacute:778,oacute:500,amacron:500,sacute:389,idieresis:278,Ocircumflex:778,Ugrave:722,Delta:612,thorn:556,twosuperior:300,Odieresis:778,mu:556,igrave:278,ohungarumlaut:500,Eogonek:667,dcroat:556,threequarters:750,Scedilla:556,lcaron:394,Kcommaaccent:778,Lacute:667,trademark:1e3,edotaccent:444,Igrave:389,Imacron:389,Lcaron:667,onehalf:750,lessequal:549,ocircumflex:500,ntilde:556,Uhungarumlaut:722,Eacute:667,emacron:444,gbreve:500,onequarter:750,Scaron:556,Scommaaccent:556,Ohungarumlaut:778,degree:400,ograve:500,Ccaron:722,ugrave:556,radical:549,Dcaron:722,rcommaaccent:444,Ntilde:722,otilde:500,Rcommaaccent:722,Lcommaaccent:667,Atilde:722,Aogonek:722,Aring:722,Otilde:778,zdotaccent:444,Ecaron:667,Iogonek:389,kcommaaccent:556,minus:570,Icircumflex:389,ncaron:556,tcommaaccent:333,logicalnot:570,odieresis:500,udieresis:556,notequal:549,gcommaaccent:500,eth:500,zcaron:444,ncommaaccent:556,onesuperior:300,imacron:278,Euro:500},"Times-BoldItalic":{space:250,exclam:389,quotedbl:555,numbersign:500,dollar:500,percent:833,ampersand:778,quoteright:333,parenleft:333,parenright:333,asterisk:500,plus:570,comma:250,hyphen:333,period:250,slash:278,zero:500,one:500,two:500,three:500,four:500,five:500,six:500,seven:500,eight:500,nine:500,colon:333,semicolon:333,less:570,equal:570,greater:570,question:500,at:832,A:667,B:667,C:667,D:722,E:667,F:667,G:722,H:778,I:389,J:500,K:667,L:611,M:889,N:722,O:722,P:611,Q:722,R:667,S:556,T:611,U:722,V:667,W:889,X:667,Y:611,Z:611,bracketleft:333,backslash:278,bracketright:333,asciicircum:570,underscore:500,quoteleft:333,a:500,b:500,c:444,d:500,e:444,f:333,g:500,h:556,i:278,j:278,k:500,l:278,m:778,n:556,o:500,p:500,q:500,r:389,s:389,t:278,u:556,v:444,w:667,x:500,y:444,z:389,braceleft:348,bar:220,braceright:348,asciitilde:570,exclamdown:389,cent:500,sterling:500,fraction:167,yen:500,florin:500,section:500,currency:500,quotesingle:278,quotedblleft:500,guillemotleft:500,guilsinglleft:333,guilsinglright:333,fi:556,fl:556,endash:500,dagger:500,daggerdbl:500,periodcentered:250,paragraph:500,bullet:350,quotesinglbase:333,quotedblbase:500,quotedblright:500,guillemotright:500,ellipsis:1e3,perthousand:1e3,questiondown:500,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:1e3,AE:944,ordfeminine:266,Lslash:611,Oslash:722,OE:944,ordmasculine:300,ae:722,dotlessi:278,lslash:278,oslash:500,oe:722,germandbls:500,Idieresis:389,eacute:444,abreve:500,uhungarumlaut:556,ecaron:444,Ydieresis:611,divide:570,Yacute:611,Acircumflex:667,aacute:500,Ucircumflex:722,yacute:444,scommaaccent:389,ecircumflex:444,Uring:722,Udieresis:722,aogonek:500,Uacute:722,uogonek:556,Edieresis:667,Dcroat:722,commaaccent:250,copyright:747,Emacron:667,ccaron:444,aring:500,Ncommaaccent:722,lacute:278,agrave:500,Tcommaaccent:611,Cacute:667,atilde:500,Edotaccent:667,scaron:389,scedilla:389,iacute:278,lozenge:494,Rcaron:667,Gcommaaccent:722,ucircumflex:556,acircumflex:500,Amacron:667,rcaron:389,ccedilla:444,Zdotaccent:611,Thorn:611,Omacron:722,Racute:667,Sacute:556,dcaron:608,Umacron:722,uring:556,threesuperior:300,Ograve:722,Agrave:667,Abreve:667,multiply:570,uacute:556,Tcaron:611,partialdiff:494,ydieresis:444,Nacute:722,icircumflex:278,Ecircumflex:667,adieresis:500,edieresis:444,cacute:444,nacute:556,umacron:556,Ncaron:722,Iacute:389,plusminus:570,brokenbar:220,registered:747,Gbreve:722,Idotaccent:389,summation:600,Egrave:667,racute:389,omacron:500,Zacute:611,Zcaron:611,greaterequal:549,Eth:722,Ccedilla:667,lcommaaccent:278,tcaron:366,eogonek:444,Uogonek:722,Aacute:667,Adieresis:667,egrave:444,zacute:389,iogonek:278,Oacute:722,oacute:500,amacron:500,sacute:389,idieresis:278,Ocircumflex:722,Ugrave:722,Delta:612,thorn:500,twosuperior:300,Odieresis:722,mu:576,igrave:278,ohungarumlaut:500,Eogonek:667,dcroat:500,threequarters:750,Scedilla:556,lcaron:382,Kcommaaccent:667,Lacute:611,trademark:1e3,edotaccent:444,Igrave:389,Imacron:389,Lcaron:611,onehalf:750,lessequal:549,ocircumflex:500,ntilde:556,Uhungarumlaut:722,Eacute:667,emacron:444,gbreve:500,onequarter:750,Scaron:556,Scommaaccent:556,Ohungarumlaut:722,degree:400,ograve:500,Ccaron:667,ugrave:556,radical:549,Dcaron:722,rcommaaccent:389,Ntilde:722,otilde:500,Rcommaaccent:667,Lcommaaccent:611,Atilde:667,Aogonek:667,Aring:667,Otilde:722,zdotaccent:389,Ecaron:667,Iogonek:389,kcommaaccent:500,minus:606,Icircumflex:389,ncaron:556,tcommaaccent:278,logicalnot:606,odieresis:500,udieresis:556,notequal:549,gcommaaccent:500,eth:500,zcaron:389,ncommaaccent:556,onesuperior:300,imacron:278,Euro:500},"Times-Italic":{space:250,exclam:333,quotedbl:420,numbersign:500,dollar:500,percent:833,ampersand:778,quoteright:333,parenleft:333,parenright:333,asterisk:500,plus:675,comma:250,hyphen:333,period:250,slash:278,zero:500,one:500,two:500,three:500,four:500,five:500,six:500,seven:500,eight:500,nine:500,colon:333,semicolon:333,less:675,equal:675,greater:675,question:500,at:920,A:611,B:611,C:667,D:722,E:611,F:611,G:722,H:722,I:333,J:444,K:667,L:556,M:833,N:667,O:722,P:611,Q:722,R:611,S:500,T:556,U:722,V:611,W:833,X:611,Y:556,Z:556,bracketleft:389,backslash:278,bracketright:389,asciicircum:422,underscore:500,quoteleft:333,a:500,b:500,c:444,d:500,e:444,f:278,g:500,h:500,i:278,j:278,k:444,l:278,m:722,n:500,o:500,p:500,q:500,r:389,s:389,t:278,u:500,v:444,w:667,x:444,y:444,z:389,braceleft:400,bar:275,braceright:400,asciitilde:541,exclamdown:389,cent:500,sterling:500,fraction:167,yen:500,florin:500,section:500,currency:500,quotesingle:214,quotedblleft:556,guillemotleft:500,guilsinglleft:333,guilsinglright:333,fi:500,fl:500,endash:500,dagger:500,daggerdbl:500,periodcentered:250,paragraph:523,bullet:350,quotesinglbase:333,quotedblbase:556,quotedblright:556,guillemotright:500,ellipsis:889,perthousand:1e3,questiondown:500,grave:333,acute:333,circumflex:333,tilde:333,macron:333,breve:333,dotaccent:333,dieresis:333,ring:333,cedilla:333,hungarumlaut:333,ogonek:333,caron:333,emdash:889,AE:889,ordfeminine:276,Lslash:556,Oslash:722,OE:944,ordmasculine:310,ae:667,dotlessi:278,lslash:278,oslash:500,oe:667,germandbls:500,Idieresis:333,eacute:444,abreve:500,uhungarumlaut:500,ecaron:444,Ydieresis:556,divide:675,Yacute:556,Acircumflex:611,aacute:500,Ucircumflex:722,yacute:444,scommaaccent:389,ecircumflex:444,Uring:722,Udieresis:722,aogonek:500,Uacute:722,uogonek:500,Edieresis:611,Dcroat:722,commaaccent:250,copyright:760,Emacron:611,ccaron:444,aring:500,Ncommaaccent:667,lacute:278,agrave:500,Tcommaaccent:556,Cacute:667,atilde:500,Edotaccent:611,scaron:389,scedilla:389,iacute:278,lozenge:471,Rcaron:611,Gcommaaccent:722,ucircumflex:500,acircumflex:500,Amacron:611,rcaron:389,ccedilla:444,Zdotaccent:556,Thorn:611,Omacron:722,Racute:611,Sacute:500,dcaron:544,Umacron:722,uring:500,threesuperior:300,Ograve:722,Agrave:611,Abreve:611,multiply:675,uacute:500,Tcaron:556,partialdiff:476,ydieresis:444,Nacute:667,icircumflex:278,Ecircumflex:611,adieresis:500,edieresis:444,cacute:444,nacute:500,umacron:500,Ncaron:667,Iacute:333,plusminus:675,brokenbar:275,registered:760,Gbreve:722,Idotaccent:333,summation:600,Egrave:611,racute:389,omacron:500,Zacute:556,Zcaron:556,greaterequal:549,Eth:722,Ccedilla:667,lcommaaccent:278,tcaron:300,eogonek:444,Uogonek:722,Aacute:611,Adieresis:611,egrave:444,zacute:389,iogonek:278,Oacute:722,oacute:500,amacron:500,sacute:389,idieresis:278,Ocircumflex:722,Ugrave:722,Delta:612,thorn:500,twosuperior:300,Odieresis:722,mu:500,igrave:278,ohungarumlaut:500,Eogonek:611,dcroat:500,threequarters:750,Scedilla:500,lcaron:300,Kcommaaccent:667,Lacute:556,trademark:980,edotaccent:444,Igrave:333,Imacron:333,Lcaron:611,onehalf:750,lessequal:549,ocircumflex:500,ntilde:500,Uhungarumlaut:722,Eacute:611,emacron:444,gbreve:500,onequarter:750,Scaron:500,Scommaaccent:500,Ohungarumlaut:722,degree:400,ograve:500,Ccaron:667,ugrave:500,radical:453,Dcaron:722,rcommaaccent:389,Ntilde:667,otilde:500,Rcommaaccent:611,Lcommaaccent:556,Atilde:611,Aogonek:611,Aring:611,Otilde:722,zdotaccent:389,
Ecaron:611,Iogonek:333,kcommaaccent:444,minus:675,Icircumflex:333,ncaron:500,tcommaaccent:278,logicalnot:675,odieresis:500,udieresis:500,notequal:549,gcommaaccent:500,eth:500,zcaron:389,ncommaaccent:500,onesuperior:300,imacron:278,Euro:500},ZapfDingbats:{space:278,a1:974,a2:961,a202:974,a3:980,a4:719,a5:789,a119:790,a118:791,a117:690,a11:960,a12:939,a13:549,a14:855,a15:911,a16:933,a105:911,a17:945,a18:974,a19:755,a20:846,a21:762,a22:761,a23:571,a24:677,a25:763,a26:760,a27:759,a28:754,a6:494,a7:552,a8:537,a9:577,a10:692,a29:786,a30:788,a31:788,a32:790,a33:793,a34:794,a35:816,a36:823,a37:789,a38:841,a39:823,a40:833,a41:816,a42:831,a43:923,a44:744,a45:723,a46:749,a47:790,a48:792,a49:695,a50:776,a51:768,a52:792,a53:759,a54:707,a55:708,a56:682,a57:701,a58:826,a59:815,a60:789,a61:789,a62:707,a63:687,a64:696,a65:689,a66:786,a67:787,a68:713,a69:791,a70:785,a71:791,a72:873,a73:761,a74:762,a203:762,a75:759,a204:759,a76:892,a77:892,a78:788,a79:784,a81:438,a82:138,a83:277,a84:415,a97:392,a98:392,a99:668,a100:668,a89:390,a90:390,a93:317,a94:317,a91:276,a92:276,a205:509,a85:509,a206:410,a86:410,a87:234,a88:234,a95:334,a96:334,a101:732,a102:544,a103:544,a104:910,a106:667,a107:760,a108:760,a112:776,a111:595,a110:694,a109:626,a120:788,a121:788,a122:788,a123:788,a124:788,a125:788,a126:788,a127:788,a128:788,a129:788,a130:788,a131:788,a132:788,a133:788,a134:788,a135:788,a136:788,a137:788,a138:788,a139:788,a140:788,a141:788,a142:788,a143:788,a144:788,a145:788,a146:788,a147:788,a148:788,a149:788,a150:788,a151:788,a152:788,a153:788,a154:788,a155:788,a156:788,a157:788,a158:788,a159:788,a160:894,a161:838,a163:1016,a164:458,a196:748,a165:924,a192:748,a166:918,a167:927,a168:928,a169:928,a170:834,a171:873,a172:828,a173:924,a162:924,a174:917,a175:930,a176:931,a177:463,a178:883,a179:836,a193:836,a180:867,a199:867,a181:696,a200:696,a182:874,a201:874,a183:760,a184:946,a197:771,a185:865,a194:771,a198:888,a186:967,a195:888,a187:831,a188:873,a189:927,a190:970,a191:918}};e.Metrics=t});var e=function(){function e(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests={},this.loadedRequests={}}function t(e){var t=e.response;if("string"!=typeof t)return t;for(var a=t.length,r=new Uint8Array(a),i=0;a>i;i++)r[i]=255&t.charCodeAt(i);return r.buffer}var a=200,r=206,i=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com"),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(t){return!1}}();return e.prototype={requestRange:function(e,t,a){var r={begin:e,end:t};for(var i in a)r[i]=a[i];return this.request(r)},requestFull:function(e){return this.request(e)},request:function(e){var t=this.getXhr(),a=this.currXhrId++,r=this.pendingRequests[a]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(var n in this.httpHeaders){var s=this.httpHeaders[n];"undefined"!=typeof s&&t.setRequestHeader(n,s)}if(this.isHttp&&"begin"in e&&"end"in e){var o=e.begin+"-"+(e.end-1);t.setRequestHeader("Range","bytes="+o),r.expectedStatus=206}else r.expectedStatus=200;var c=i&&!!e.onProgressiveData;return c?(t.responseType="moz-chunked-arraybuffer",r.onProgressiveData=e.onProgressiveData,r.mozChunked=!0):t.responseType="arraybuffer",e.onError&&(t.onerror=function(a){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,a),t.onprogress=this.onProgress.bind(this,a),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),a},onProgress:function(e,a){var r=this.pendingRequests[e];if(r){if(r.mozChunked){var i=t(r.xhr);r.onProgressiveData(i)}var n=r.onProgress;n&&n(a)}},onStateChange:function(e,i){var n=this.pendingRequests[e];if(n){var s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===s.readyState&&e in this.pendingRequests){if(delete this.pendingRequests[e],0===s.status&&this.isHttp)return void(n.onError&&n.onError(s.status));var o=s.status||a,c=o===a&&n.expectedStatus===r;if(!c&&o!==n.expectedStatus)return void(n.onError&&n.onError(s.status));this.loadedRequests[e]=!0;var l=t(s);if(o===r){var h=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(h),f=parseInt(u[1],10);n.onDone({begin:f,chunk:l})}else n.onProgressiveData?n.onDone(null):l?n.onDone({begin:0,chunk:l}):n.onError&&n.onError(s.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},e}();!function(e,t){t(e.pdfjsCoreNetwork={})}(this,function(t){t.NetworkManager=e}),function(e,t){t(e.pdfjsSharedGlobal={})}(this,function(e){var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i="undefined"==typeof window;r.PDFJS||(r.PDFJS={}),"undefined"!=typeof t&&(r.PDFJS.version=t),"undefined"!=typeof t&&(r.PDFJS.build=a),r.PDFJS.pdfBug=!1,e.globalScope=r,e.isWorker=i,e.PDFJS=r.PDFJS}),function(e,t){t(e.pdfjsCoreBidi={},e.pdfjsSharedGlobal)}(this,function(e,t){var a=t.PDFJS,r=a.bidi=function(){function e(e){return 0!==(1&e)}function t(e){return 0===(1&e)}function a(e,t,a){for(var r=t,i=e.length;i>r;++r)if(e[r]!==a)return r;return r}function r(e,t,a,r){for(var i=t;a>i;++i)e[i]=r}function i(e,t,a){for(var r=t,i=a-1;i>r;++r,--i){var n=e[r];e[r]=e[i],e[i]=n}}function n(e,t,a){return{str:e,dir:a?"ttb":t?"ltr":"rtl"}}function s(s,u,f){var d=!0,g=s.length;if(0===g||f)return n(s,d,f);l.length=g,h.length=g;var m,p,b=0;for(m=0;g>m;++m){l[m]=s.charAt(m);var v=s.charCodeAt(m),y="L";255>=v?y=o[v]:v>=1424&&1524>=v?y="R":v>=1536&&1791>=v?y=c[255&v]:v>=1792&&2220>=v&&(y="AL"),("R"===y||"AL"===y||"AN"===y)&&b++,h[m]=y}if(0===b)return d=!0,n(s,d);-1===u&&(.3>g/b?(d=!0,u=0):(d=!1,u=1));var k=[];for(m=0;g>m;++m)k[m]=u;var w=e(u)?"R":"L",x=w,C=x,S=x;for(m=0;g>m;++m)"NSM"===h[m]?h[m]=S:S=h[m];S=x;var A;for(m=0;g>m;++m)A=h[m],"EN"===A?h[m]="AL"===S?"AN":"EN":("R"===A||"L"===A||"AL"===A)&&(S=A);for(m=0;g>m;++m)A=h[m],"AL"===A&&(h[m]="R");for(m=1;g-1>m;++m)"ES"===h[m]&&"EN"===h[m-1]&&"EN"===h[m+1]&&(h[m]="EN"),"CS"!==h[m]||"EN"!==h[m-1]&&"AN"!==h[m-1]||h[m+1]!==h[m-1]||(h[m]=h[m-1]);for(m=0;g>m;++m)if("EN"===h[m]){var I;for(I=m-1;I>=0&&"ET"===h[I];--I)h[I]="EN";for(I=m+1;g>I&&"ET"===h[I];--I)h[I]="EN"}for(m=0;g>m;++m)A=h[m],("WS"===A||"ES"===A||"ET"===A||"CS"===A)&&(h[m]="ON");for(S=x,m=0;g>m;++m)A=h[m],"EN"===A?h[m]="L"===S?"L":"EN":("R"===A||"L"===A)&&(S=A);for(m=0;g>m;++m)if("ON"===h[m]){var B=a(h,m+1,"ON"),T=x;m>0&&(T=h[m-1]);var P=C;g>B+1&&(P=h[B+1]),"L"!==T&&(T="R"),"L"!==P&&(P="R"),T===P&&r(h,m,B,T),m=B-1}for(m=0;g>m;++m)"ON"===h[m]&&(h[m]=w);for(m=0;g>m;++m)A=h[m],t(k[m])?"R"===A?k[m]+=1:("AN"===A||"EN"===A)&&(k[m]+=2):("L"===A||"AN"===A||"EN"===A)&&(k[m]+=1);var R,L=-1,O=99;for(m=0,p=k.length;p>m;++m)R=k[m],R>L&&(L=R),O>R&&e(R)&&(O=R);for(R=L;R>=O;--R){var M=-1;for(m=0,p=k.length;p>m;++m)k[m]<R?M>=0&&(i(l,M,m),M=-1):0>M&&(M=m);M>=0&&i(l,M,k.length)}for(m=0,p=l.length;p>m;++m){var E=l[m];("<"===E||">"===E)&&(l[m]="")}return n(l.join(""),d)}var o=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ON","CS","ON","CS","ON","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ON","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","ON","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],c=["AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","AL","AL","AL","AL","AL","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL"],l=[],h=[];return s}();e.bidi=r}),function(e,t){t(e.pdfjsSharedUtil={},e.pdfjsSharedGlobal)}(this,function(e,t){function a(e){U.verbosity>=U.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function r(e){U.verbosity>=U.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function i(e){r("Deprecated API usage: "+e)}function n(e){throw U.verbosity>=U.VERBOSITY_LEVELS.errors&&(console.log("Error: "+e),console.log(s())),new Error(e)}function s(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function o(e,t){e||n(t)}function c(e,t){return t?new URL(t,e).href:e}function l(e,t){if(!e)return!1;var a=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!a)return t;switch(a=a[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}}function h(e,t){var a=t&&t.url;e.href=e.title=a?d(a):"",a&&(f()&&(e.target=J[U.externalLinkTarget]),e.rel=U.externalLinkRel)}function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!1}),a}function f(){switch(U.openExternalLinksInNewWindow&&(i('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),U.externalLinkTarget===K.NONE&&(U.externalLinkTarget=K.BLANK),U.openExternalLinksInNewWindow=!1),U.externalLinkTarget){case K.NONE:return!1;case K.SELF:case K.BLANK:case K.PARENT:case K.TOP:return!0}return r("PDFJS.externalLinkTarget is invalid: "+U.externalLinkTarget),U.externalLinkTarget=K.NONE,!1}function d(e){return"string"!=typeof e?(r("The argument for removeNullCharacters must be a string."),e):e.replace(ne,"")}function g(e){o(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,a=8192;if(a>t)return String.fromCharCode.apply(null,e);for(var r=[],i=0;t>i;i+=a){var n=Math.min(i+a,t),s=e.subarray(i,n);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function m(e){o("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,a=new Uint8Array(t),r=0;t>r;++r)a[r]=255&e.charCodeAt(r);return a}function p(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function b(e){for(var t=1,a=0;e>t;)t<<=1,a++;return a}function v(e,t){return e[t]<<24>>24}function y(e,t){return e[t]<<8|e[t+1]}function k(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function w(){var e=new Uint8Array(2);e[0]=1;var t=new Uint16Array(e.buffer);return 1===t[0]}function x(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d"),a=t.createImageData(1,1);return"undefined"!=typeof a.data.buffer}function C(e){var t,a=e.length,r=[];if(""===e[0]&&""===e[1])for(t=2;a>t;t+=2)r.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;a>t;++t){var i=le[e.charCodeAt(t)];r.push(i?String.fromCharCode(i):e.charAt(t))}return r.join("")}function S(e){return decodeURIComponent(escape(e))}function A(e){return unescape(encodeURIComponent(e))}function I(e){for(var t in e)return!1;return!0}function B(e){return"boolean"==typeof e}function T(e){return"number"==typeof e&&(0|e)===e}function P(e){return"number"==typeof e}function R(e){return"string"==typeof e}function L(e){return e instanceof Array}function O(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength}function M(){var e={};return e.promise=new Promise(function(t,a){e.resolve=t,e.reject=a}),e}function E(e,t,a){this.sourceName=e,this.targetName=t,this.comObj=a,this.callbackIndex=1,this.postMessageTransfers=!0;var r=this.callbacksCapabilities={},i=this.actionHandler={};this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===this.sourceName)if(t.isReply){var s=t.callbackId;if(t.callbackId in r){var o=r[s];delete r[s],"error"in t?o.reject(t.error):o.resolve(t.data)}else n("Cannot resolve callback "+s)}else if(t.action in i){var c=i[t.action];if(t.callbackId){var l=this.sourceName,h=t.sourceName;Promise.resolve().then(function(){return c[0].call(c[1],t.data)}).then(function(e){a.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:t.callbackId,data:e})},function(e){e instanceof Error&&(e+=""),a.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:t.callbackId,error:e})})}else c[0].call(c[1],t.data)}else n("Unknown action from worker: "+t.action)}.bind(this),a.addEventListener("message",this._onComObjOnMessage)}function D(e,t,a){var i=new Image;i.onload=function(){a.resolve(e,i)},i.onerror=function(){a.resolve(e,null),r("Error during JPEG image loading")},i.src=t}var U=t.PDFJS,F=t.globalScope,j=[.001,0,0,.001,0,0],N={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},z={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},H={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},_={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},G={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},X={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};U.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var W=U.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},V=U.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};U.isValidUrl=l,U.addLinkAttributes=h,U.shadow=u;var K=U.LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},J=["","_self","_blank","_parent","_top"];U.isExternalLinkTargetSet=f;var Y=U.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Z=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();U.PasswordException=Z;var Q=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();U.UnknownErrorException=Q;var $=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();U.InvalidPDFException=$;var ee=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();U.MissingPDFException=ee;var te=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();U.UnexpectedResponseException=te;var ae=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),re=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),ie=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),ne=/\x00/g;U.removeNullCharacters=d,Object.defineProperty(U,"isLittleEndian",{configurable:!0,get:function(){return u(U,"isLittleEndian",w())}}),Object.defineProperty(U,"hasCanvasTypedArrays",{configurable:!0,get:function(){return u(U,"hasCanvasTypedArrays",x())}});var se=function(){function e(e,t){this.buffer=e,this.byteLength=e.length,this.length=void 0===t?this.byteLength>>2:t,a(this.length)}function t(e){return{get:function(){var t=this.buffer,a=e<<2;return(t[a]|t[a+1]<<8|t[a+2]<<16|t[a+3]<<24)>>>0},set:function(t){var a=this.buffer,r=e<<2;a[r]=255&t,a[r+1]=t>>8&255,a[r+2]=t>>16&255,a[r+3]=t>>>24&255}}}function a(a){for(;a>r;)Object.defineProperty(e.prototype,r,t(r)),r++}e.prototype=Object.create(null);var r=0;return e}();e.Uint32ArrayView=se;var oe=[1,0,0,1,0,0],ce=U.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];e.makeCssRgb=function(e,a,r){return t[1]=e,t[3]=a,t[5]=r,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var a=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[a,r]},e.applyInverseTransform=function(e,t){var a=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/a,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/a;return[r,i]},e.getAxialAlignedBoundingBox=function(t,a){var r=e.applyTransform(t,a),i=e.applyTransform(t.slice(2,4),a),n=e.applyTransform([t[0],t[3]],a),s=e.applyTransform([t[2],t[1]],a);return[Math.min(r[0],i[0],n[0],s[0]),Math.min(r[1],i[1],n[1],s[1]),Math.max(r[0],i[0],n[0],s[0]),Math.max(r[1],i[1],n[1],s[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],a=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],n=e[2]*t[1]+e[3]*t[3],s=(a+n)/2,o=Math.sqrt((a+n)*(a+n)-4*(a*n-i*r))/2,c=s+o||1,l=s-o||1;return[Math.sqrt(c),Math.sqrt(l)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,a){function r(e,t){return e-t}var i=[t[0],t[2],a[0],a[2]].sort(r),n=[t[1],t[3],a[1],a[3]].sort(r),s=[];return t=e.normalizeRect(t),a=e.normalizeRect(a),i[0]===t[0]&&i[1]===a[0]||i[0]===a[0]&&i[1]===t[0]?(s[0]=i[1],s[2]=i[2],n[0]===t[1]&&n[1]===a[1]||n[0]===a[1]&&n[1]===t[1]?(s[1]=n[1],s[3]=n[2],s):!1):!1},e.sign=function(e){return 0>e?-1:1};var a=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return e.toRoman=function(e,t){o(T(e)&&e>0,"The number should be a positive integer.");for(var r,i=[];e>=1e3;)e-=1e3,i.push("M");r=e/100|0,e%=100,i.push(a[r]),r=e/10|0,e%=10,i.push(a[10+r]),i.push(a[20+e]);var n=i.join("");return t?n.toLowerCase():n},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var a in t)e[a]=t[a]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,a){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;for(var r in a)e.prototype[r]=a[r]},e.loadScript=function(e,t){var a=document.createElement("script"),r=!1;a.setAttribute("src",e),t&&(a.onload=function(){r||t(),r=!0}),document.getElementsByTagName("head")[0].appendChild(a)},e}(),le=(U.PageViewport=function(){function e(e,t,a,r,i,n){this.viewBox=e,this.scale=t,this.rotation=a,this.offsetX=r,this.offsetY=i;var s,o,c,l,h=(e[2]+e[0])/2,u=(e[3]+e[1])/2;switch(a%=360,a=0>a?a+360:a){case 180:s=-1,o=0,c=0,l=1;break;case 90:s=0,o=1,c=1,l=0;break;case 270:s=0,o=-1,c=-1,l=0;break;default:s=1,o=0,c=0,l=-1}n&&(c=-c,l=-l);var f,d,g,m;0===s?(f=Math.abs(u-e[1])*t+r,d=Math.abs(h-e[0])*t+i,g=Math.abs(e[3]-e[1])*t,m=Math.abs(e[2]-e[0])*t):(f=Math.abs(h-e[0])*t+r,d=Math.abs(u-e[1])*t+i,g=Math.abs(e[2]-e[0])*t,m=Math.abs(e[3]-e[1])*t),this.transform=[s*t,o*t,c*t,l*t,f-s*t*h-c*t*u,d-o*t*h-l*t*u],this.width=g,this.height=m,this.fontScale=t}return e.prototype={clone:function(t){t=t||{};var a="scale"in t?t.scale:this.scale,r="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),a,r,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return ce.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=ce.applyTransform([e[0],e[1]],this.transform),a=ce.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],a[0],a[1]]},convertToPdfPoint:function(e,t){return ce.applyInverseTransform([e,t],this.transform)}},e}(),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]);U.createPromiseCapability=M,function(){function e(e){this._status=t,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(a){this._reject(a)}}if(F.Promise)return"function"!=typeof F.Promise.all&&(F.Promise.all=function(e){var t,a,r=0,i=[],n=new F.Promise(function(e,r){t=e,a=r});return e.forEach(function(e,n){r++,e.then(function(e){i[n]=e,r--,0===r&&t(i)},a)}),0===r&&t(i),n}),"function"!=typeof F.Promise.resolve&&(F.Promise.resolve=function(e){return new F.Promise(function(t){t(e)})}),"function"!=typeof F.Promise.reject&&(F.Promise.reject=function(e){return new F.Promise(function(t,a){a(e)})}),void("function"!=typeof F.Promise.prototype["catch"]&&(F.Promise.prototype["catch"]=function(e){return F.Promise.prototype.then(void 0,e)}));var t=0,a=1,i=2,n=500,s={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){e._status!==t&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=1,t=Date.now()+e;this.handlers.length>0;){var r=this.handlers.shift(),n=r.thisPromise._status,s=r.thisPromise._value;try{n===a?"function"==typeof r.onResolve&&(s=r.onResolve(s)):"function"==typeof r.onReject&&(s=r.onReject(s),n=a,r.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(r.thisPromise))}catch(o){n=i,s=o}if(r.nextPromise._updateStatus(n,s),Date.now()>=t)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++)if(e-this.unhandledRejections[t].time>n){var a=this.unhandledRejections[t].promise._value,i="Unhandled rejection: "+a;a.stack&&(i+="\n"+a.stack),r(i),this.unhandledRejections.splice(t),t--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),n))}};e.all=function(t){function a(e){s._status!==i&&(c=[],n(e))}var r,n,s=new e(function(e,t){r=e,n=t}),o=t.length,c=[];if(0===o)return r(c),s;for(var l=0,h=t.length;h>l;++l){var u=t[l],f=function(e){return function(t){s._status!==i&&(c[e]=t,o--,0===o&&r(c))}}(l);e.isPromise(u)?u.then(f,a):f(u)}return s},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,a){a(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,r){if(this._status!==a&&this._status!==i){if(t===a&&e.isPromise(r))return void r.then(this._updateStatus.bind(this,a),this._updateStatus.bind(this,i));this._status=t,this._value=r,t===i&&0===this._handlers.length&&(this._unhandledRejection=!0,s.addUnhandledRejection(this)),s.scheduleHandlers(this)}},_resolve:function(e){this._updateStatus(a,e)},_reject:function(e){this._updateStatus(i,e)},then:function(t,a){var r=new e(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:a,nextPromise:r}),s.scheduleHandlers(this),r},"catch":function(e){return this.then(void 0,e)}},F.Promise=e}();var he=function(){function e(e,t,a){for(;e.length<a;)e+=t;return e}function t(){this.started={},this.times=[],this.enabled=!0}return t.prototype={time:function(e){this.enabled&&(e in this.started&&r("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||r("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,a,r=this.times,i="",n=0;for(t=0,a=r.length;a>t;++t){var s=r[t].name;s.length>n&&(n=s.length)}for(t=0,a=r.length;a>t;++t){var o=r[t],c=o.end-o.start;i+=e(o.name," ",n)+" "+c+"ms\n"}return i}},t}();U.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var a=new MozBlobBuilder;return a.append(e),a.getBlob(t)},U.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,a){if(!U.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var r=U.createBlob(t,a);return URL.createObjectURL(r)}for(var i="data:"+a+";base64,",n=0,s=t.length;s>n;n+=3){var o=255&t[n],c=255&t[n+1],l=255&t[n+2],h=o>>2,u=(3&o)<<4|c>>4,f=s>n+1?(15&c)<<2|l>>6:64,d=s>n+2?63&l:64;i+=e[h]+e[u]+e[f]+e[d]}return i}}(),E.prototype={on:function(e,t,a){var r=this.actionHandler;r[e]&&n('There is already an actionName called "'+e+'"'),r[e]=[t,a]},send:function(e,t,a){var r={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(r,a)},sendWithPromise:function(e,t,a){var r=this.callbackIndex++,i={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:r},n=M();this.callbacksCapabilities[r]=n;try{this.postMessage(i,a)}catch(s){n.reject(s)}return n.promise},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},function(e){function t(e){return void 0!==f[e]}function a(){o.call(this),this._isInvalid=!0}function r(e){return""==e&&a.call(this),e.toLowerCase()}function i(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function n(e){var t=e.charCodeAt(0);return t>32&&127>t&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function s(e,s,o){function c(e){y.push(e)}var l=s||"scheme start",h=0,u="",b=!1,v=!1,y=[];e:for(;(e[h-1]!=g||0==h)&&!this._isInvalid;){var k=e[h];switch(l){case"scheme start":if(!k||!m.test(k)){if(s){c("Invalid scheme.");break e}u="",l="no scheme";continue}u+=k.toLowerCase(),l="scheme";break;case"scheme":if(k&&p.test(k))u+=k.toLowerCase();else{if(":"!=k){if(s){if(g==k)break e;c("Code point not allowed in scheme: "+k);break e}u="",h=0,l="no scheme";continue}if(this._scheme=u,u="",s)break e;t(this._scheme)&&(this._isRelative=!0),l="file"==this._scheme?"relative":this._isRelative&&o&&o._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==k?(this._query="?",l="query"):"#"==k?(this._fragment="#",l="fragment"):g!=k&&"  "!=k&&"\n"!=k&&"\r"!=k&&(this._schemeData+=i(k));break;case"no scheme":if(o&&t(o._scheme)){l="relative";continue}c("Missing scheme."),a.call(this);break;case"relative or authority":if("/"!=k||"/"!=e[h+1]){c("Expected /, got: "+k),l="relative";continue}l="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=o._scheme),g==k){this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._username=o._username,this._password=o._password;break e}if("/"==k||"\\"==k)"\\"==k&&c("\\ is an invalid code point."),l="relative slash";else if("?"==k)this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query="?",this._username=o._username,this._password=o._password,l="query";else{if("#"!=k){var w=e[h+1],x=e[h+2];("file"!=this._scheme||!m.test(k)||":"!=w&&"|"!=w||g!=x&&"/"!=x&&"\\"!=x&&"?"!=x&&"#"!=x)&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password,this._path=o._path.slice(),this._path.pop()),l="relative path";continue}this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._fragment="#",this._username=o._username,this._password=o._password,
l="fragment"}break;case"relative slash":if("/"!=k&&"\\"!=k){"file"!=this._scheme&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password),l="relative path";continue}"\\"==k&&c("\\ is an invalid code point."),l="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=k){c("Expected '/', got: "+k),l="authority ignore slashes";continue}l="authority second slash";break;case"authority second slash":if(l="authority ignore slashes","/"!=k){c("Expected '/', got: "+k);continue}break;case"authority ignore slashes":if("/"!=k&&"\\"!=k){l="authority";continue}c("Expected authority, got: "+k);break;case"authority":if("@"==k){b&&(c("@ already seen."),u+="%40"),b=!0;for(var C=0;C<u.length;C++){var S=u[C];if(" "!=S&&"\n"!=S&&"\r"!=S)if(":"!=S||null!==this._password){var A=i(S);null!==this._password?this._password+=A:this._username+=A}else this._password="";else c("Invalid whitespace in authority.")}u=""}else{if(g==k||"/"==k||"\\"==k||"?"==k||"#"==k){h-=u.length,u="",l="host";continue}u+=k}break;case"file host":if(g==k||"/"==k||"\\"==k||"?"==k||"#"==k){2!=u.length||!m.test(u[0])||":"!=u[1]&&"|"!=u[1]?0==u.length?l="relative path start":(this._host=r.call(this,u),u="",l="relative path start"):l="relative path";continue}"  "==k||"\n"==k||"\r"==k?c("Invalid whitespace in file host."):u+=k;break;case"host":case"hostname":if(":"!=k||v){if(g==k||"/"==k||"\\"==k||"?"==k||"#"==k){if(this._host=r.call(this,u),u="",l="relative path start",s)break e;continue}"  "!=k&&"\n"!=k&&"\r"!=k?("["==k?v=!0:"]"==k&&(v=!1),u+=k):c("Invalid code point in host/hostname: "+k)}else if(this._host=r.call(this,u),u="",l="port","hostname"==s)break e;break;case"port":if(/[0-9]/.test(k))u+=k;else{if(g==k||"/"==k||"\\"==k||"?"==k||"#"==k||s){if(""!=u){var I=parseInt(u,10);I!=f[this._scheme]&&(this._port=I+""),u=""}if(s)break e;l="relative path start";continue}"  "==k||"\n"==k||"\r"==k?c("Invalid code point in port: "+k):a.call(this)}break;case"relative path start":if("\\"==k&&c("'\\' not allowed in path."),l="relative path","/"!=k&&"\\"!=k)continue;break;case"relative path":if(g!=k&&"/"!=k&&"\\"!=k&&(s||"?"!=k&&"#"!=k))" "!=k&&"\n"!=k&&"\r"!=k&&(u+=i(k));else{"\\"==k&&c("\\ not allowed in relative path.");var B;(B=d[u.toLowerCase()])&&(u=B),".."==u?(this._path.pop(),"/"!=k&&"\\"!=k&&this._path.push("")):"."==u&&"/"!=k&&"\\"!=k?this._path.push(""):"."!=u&&("file"==this._scheme&&0==this._path.length&&2==u.length&&m.test(u[0])&&"|"==u[1]&&(u=u[0]+":"),this._path.push(u)),u="","?"==k?(this._query="?",l="query"):"#"==k&&(this._fragment="#",l="fragment")}break;case"query":s||"#"!=k?g!=k&&" "!=k&&"\n"!=k&&"\r"!=k&&(this._query+=n(k)):(this._fragment="#",l="fragment");break;case"fragment":g!=k&&"  "!=k&&"\n"!=k&&"\r"!=k&&(this._fragment+=k)}h++}}function o(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(e,t){void 0===t||t instanceof c||(t=new c(String(t))),this._url=e,o.call(this);var a=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,a,null,t)}var l=!1;try{if("function"==typeof URL&&"object"==typeof URL.prototype&&"origin"in URL.prototype){var h=new URL("b","http://a");h.pathname="c%20d",l="http://a/c%20d"===h.href}}catch(u){}if(!l){var f=Object.create(null);f.ftp=21,f.file=0,f.gopher=70,f.http=80,f.https=443,f.ws=80,f.wss=443;var d=Object.create(null);d["%2e"]=".",d[".%2e"]="..",d["%2e."]="..",d["%2e%2e"]="..";var g=void 0,m=/[a-zA-Z]/,p=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return(""!=this._username||null!=this._password)&&(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){o.call(this),s.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||s.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],s.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),s.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),s.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var b=e.URL;b&&(c.createObjectURL=function(e){return b.createObjectURL.apply(b,arguments)},c.revokeObjectURL=function(e){b.revokeObjectURL(e)}),e.URL=c}}(F),e.FONT_IDENTITY_MATRIX=j,e.IDENTITY_MATRIX=oe,e.OPS=W,e.UNSUPPORTED_FEATURES=V,e.AnnotationBorderStyleType=_,e.AnnotationFlag=H,e.AnnotationType=z,e.FontType=X,e.ImageKind=q,e.InvalidPDFException=$,e.LinkTarget=K,e.LinkTargetStringMap=J,e.MessageHandler=E,e.MissingDataException=re,e.MissingPDFException=ee,e.NotImplementedException=ae,e.PasswordException=Z,e.PasswordResponses=Y,e.StatTimer=he,e.StreamType=G,e.TextRenderingMode=N,e.UnexpectedResponseException=te,e.UnknownErrorException=Q,e.Util=ce,e.XRefParseException=ie,e.assert=o,e.bytesToString=g,e.combineUrl=c,e.createPromiseCapability=M,e.deprecated=i,e.error=n,e.info=a,e.isArray=L,e.isArrayBuffer=O,e.isBool=B,e.isEmptyObj=I,e.isExternalLinkTargetSet=f,e.isInt=T,e.isNum=P,e.isString=R,e.isValidUrl=l,e.addLinkAttributes=h,e.loadJpegStream=D,e.log2=b,e.readInt8=v,e.readUint16=y,e.readUint32=k,e.removeNullCharacters=d,e.shadow=u,e.string32=p,e.stringToBytes=m,e.stringToPDFString=C,e.stringToUTF8String=S,e.utf8StringToString=A,e.warn=r}),function(e,t){t(e.pdfjsCoreChunkedStream={},e.pdfjsSharedUtil)}(this,function(t,a){var r=a.MissingDataException,i=a.assert,n=a.createPromiseCapability,s=a.isInt,o=a.isEmptyObj,c=function(){function e(e,t,a){this.bytes=new Uint8Array(e),this.start=0,this.pos=0,this.end=e,this.chunkSize=t,this.loadedChunks=[],this.numChunksLoaded=0,this.numChunks=Math.ceil(e/t),this.manager=a,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}return e.prototype={getMissingChunks:function(){for(var e=[],t=0,a=this.numChunks;a>t;++t)this.loadedChunks[t]||e.push(t);return e},getBaseStreams:function(){return[this]},allChunksLoaded:function(){return this.numChunksLoaded===this.numChunks},onReceiveData:function(e,t){var a=e+t.byteLength;i(e%this.chunkSize===0,"Bad begin offset: "+e);var r=this.bytes.length;i(a%this.chunkSize===0||a===r,"Bad end offset: "+a),this.bytes.set(new Uint8Array(t),e);var n,s=this.chunkSize,o=Math.floor(e/s),c=Math.floor((a-1)/s)+1;for(n=o;c>n;++n)this.loadedChunks[n]||(this.loadedChunks[n]=!0,++this.numChunksLoaded)},onReceiveProgressiveData:function(e){var t=this.progressiveDataLength,a=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(e),t),t+=e.byteLength,this.progressiveDataLength=t;var r,i=t>=this.end?this.numChunks:Math.floor(t/this.chunkSize);for(r=a;i>r;++r)this.loadedChunks[r]||(this.loadedChunks[r]=!0,++this.numChunksLoaded)},ensureByte:function(e){var t=Math.floor(e/this.chunkSize);if(t!==this.lastSuccessfulEnsureByteChunk){if(!this.loadedChunks[t])throw new r(e,e+1);this.lastSuccessfulEnsureByteChunk=t}},ensureRange:function(e,t){if(!(e>=t||t<=this.progressiveDataLength))for(var a=this.chunkSize,i=Math.floor(e/a),n=Math.floor((t-1)/a)+1,s=i;n>s;++s)if(!this.loadedChunks[s])throw new r(e,t)},nextEmptyChunk:function(e){for(var t,a=this.numChunks,r=0;a>r;++r)if(t=(e+r)%a,!this.loadedChunks[t])return t;return null},hasChunk:function(e){return!!this.loadedChunks[e]},get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){var e=this.pos;return e>=this.end?-1:(this.ensureByte(e),this.bytes[this.pos++])},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){var e=this.getByte(),t=this.getByte(),a=this.getByte(),r=this.getByte();return(e<<24)+(t<<16)+(a<<8)+r},getBytes:function(e){var t=this.bytes,a=this.pos,r=this.end;if(!e)return this.ensureRange(a,r),t.subarray(a,r);var i=a+e;return i>r&&(i=r),this.ensureRange(a,i),this.pos=i,t.subarray(a,i)},peekByte:function(){var e=this.getByte();return this.pos--,e},peekBytes:function(e){var t=this.getBytes(e);return this.pos-=t.length,t},getByteRange:function(e,t){return this.ensureRange(e,t),this.bytes.subarray(e,t)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(e,t,a){function r(){}this.ensureRange(e,e+t),r.prototype=Object.create(this),r.prototype.getMissingChunks=function(){for(var e=this.chunkSize,t=Math.floor(this.start/e),a=Math.floor((this.end-1)/e)+1,r=[],i=t;a>i;++i)this.loadedChunks[i]||r.push(i);return r};var i=new r;return i.pos=i.start=e,i.end=e+t||this.end,i.dict=a,i},isStream:!0},e}(),l=function(){function t(t,a,r,i){this.stream=new c(t,a,this),this.length=t,this.chunkSize=a,this.url=r,this.disableAutoFetch=i.disableAutoFetch;var s=this.msgHandler=i.msgHandler;if(i.chunkedViewerLoading)s.on("OnDataRange",this.onReceiveData.bind(this)),s.on("OnDataProgress",this.onProgress.bind(this)),this.sendRequest=function(e,t){s.send("RequestDataRange",{begin:e,end:t})};else{var o=function(){return new XMLHttpRequest};this.networkManager=new e(this.url,{getXhr:o,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),this.sendRequest=function(e,t){this.networkManager.requestRange(e,t,{onDone:this.onReceiveData.bind(this),onProgress:this.onProgress.bind(this)})}}this.currRequestId=0,this.chunksNeededByRequest={},this.requestsByChunk={},this.promisesByRequest={},this.progressiveDataLength=0,this._loadedStreamCapability=n(),i.initialData&&this.onReceiveData({chunk:i.initialData})}return t.prototype={onLoadedStream:function(){return this._loadedStreamCapability.promise},requestAllChunks:function(){var e=this.stream.getMissingChunks();return this._requestChunks(e),this._loadedStreamCapability.promise},_requestChunks:function(e){var t,a,r,i=this.currRequestId++;for(this.chunksNeededByRequest[i]=t={},a=0,r=e.length;r>a;a++)this.stream.hasChunk(e[a])||(t[e[a]]=!0);if(o(t))return Promise.resolve();var s=n();this.promisesByRequest[i]=s;var c=[];for(var l in t)l=0|l,l in this.requestsByChunk||(this.requestsByChunk[l]=[],c.push(l)),this.requestsByChunk[l].push(i);if(!c.length)return s.promise;var h=this.groupChunks(c);for(a=0;a<h.length;++a){var u=h[a],f=u.beginChunk*this.chunkSize,d=Math.min(u.endChunk*this.chunkSize,this.length);this.sendRequest(f,d)}return s.promise},getStream:function(){return this.stream},requestRange:function(e,t){t=Math.min(t,this.length);for(var a=this.getBeginChunk(e),r=this.getEndChunk(t),i=[],n=a;r>n;++n)i.push(n);return this._requestChunks(i)},requestRanges:function(e){e=e||[];for(var t=[],a=0;a<e.length;a++)for(var r=this.getBeginChunk(e[a].begin),i=this.getEndChunk(e[a].end),n=r;i>n;++n)t.indexOf(n)<0&&t.push(n);return t.sort(function(e,t){return e-t}),this._requestChunks(t)},groupChunks:function(e){for(var t=[],a=-1,r=-1,i=0;i<e.length;++i){var n=e[i];0>a&&(a=n),r>=0&&r+1!==n&&(t.push({beginChunk:a,endChunk:r+1}),a=n),i+1===e.length&&t.push({beginChunk:a,endChunk:n+1}),r=n}return t},onProgress:function(e){var t=this.stream.numChunksLoaded*this.chunkSize+e.loaded;this.msgHandler.send("DocProgress",{loaded:t,total:this.length})},onReceiveData:function(e){var t=e.chunk,a=void 0===e.begin,r=a?this.progressiveDataLength:e.begin,i=r+t.byteLength,n=Math.floor(r/this.chunkSize),c=i<this.length?Math.floor(i/this.chunkSize):Math.ceil(i/this.chunkSize);a?(this.stream.onReceiveProgressiveData(t),this.progressiveDataLength=i):this.stream.onReceiveData(r,t),this.stream.allChunksLoaded()&&this._loadedStreamCapability.resolve(this.stream);var l,h,u=[];for(t=n;c>t;++t){var f=this.requestsByChunk[t]||[];for(delete this.requestsByChunk[t],l=0;l<f.length;++l){h=f[l];var d=this.chunksNeededByRequest[h];t in d&&delete d[t],o(d)&&u.push(h)}}if(!this.disableAutoFetch&&o(this.requestsByChunk)){var g;if(1===this.stream.numChunksLoaded){var m=this.stream.numChunks-1;this.stream.hasChunk(m)||(g=m)}else g=this.stream.nextEmptyChunk(c);s(g)&&this._requestChunks([g])}for(l=0;l<u.length;++l){h=u[l];var p=this.promisesByRequest[h];delete this.promisesByRequest[h],p.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})},onError:function(e){this._loadedStreamCapability.reject(e)},getBeginChunk:function(e){var t=Math.floor(e/this.chunkSize);return t},getEndChunk:function(e){var t=Math.floor((e-1)/this.chunkSize)+1;return t},abort:function(){this.networkManager&&this.networkManager.abortAllRequests();for(var e in this.promisesByRequest){var t=this.promisesByRequest[e];t.reject(new Error("Request was aborted"))}}},t}();t.ChunkedStream=c,t.ChunkedStreamManager=l}),function(e,t){t(e.pdfjsCoreJbig2={},e.pdfjsSharedUtil,e.pdfjsCoreArithmeticDecoder)}(this,function(e,t,a){var r=t.error,i=t.log2,n=t.readInt8,s=t.readUint16,o=t.readUint32,c=t.shadow,l=a.ArithmeticDecoder,h=function(){function e(){}function t(e,t,a){this.data=e,this.start=t,this.end=a}function a(e,t,a){function r(e){for(var t=0,r=0;e>r;r++){var s=a.readBit(i,n);n=256>n?n<<1|s:511&(n<<1|s)|256,t=t<<1|s}return t>>>0}var i=e.getContexts(t),n=1,s=r(1),o=r(1)?r(1)?r(1)?r(1)?r(1)?r(32)+4436:r(12)+340:r(8)+84:r(6)+20:r(4)+4:r(2);return 0===s?o:o>0?-o:null}function h(e,t,a){for(var r=e.getContexts("IAID"),i=1,n=0;a>n;n++){var s=t.readBit(r,i);i=i<<1|s}return 31>a?i&(1<<a)-1:2147483647&i}function u(e,t,a){var r,i,n,s,o,c,l,h=a.decoder,u=a.contextCache.getContexts("GB"),f=[],d=31735;for(i=0;t>i;i++)for(o=f[i]=new Uint8Array(e),c=1>i?o:f[i-1],l=2>i?o:f[i-2],r=l[0]<<13|l[1]<<12|l[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,n=0;e>n;n++)o[n]=s=h.readBit(u,r),r=(r&d)<<1|(e>n+3?l[n+3]<<11:0)|(e>n+4?c[n+4]<<4:0)|s;return f}function f(e,t,a,i,n,s,o,c){if(e&&r("JBIG2 error: MMR encoding is not supported"),0===i&&!s&&!n&&4===o.length&&3===o[0].x&&-1===o[0].y&&-3===o[1].x&&-1===o[1].y&&2===o[2].x&&-2===o[2].y&&-2===o[3].x&&-2===o[3].y)return u(t,a,c);var l=!!s,h=A[i].concat(o);h.sort(function(e,t){return e.y-t.y||e.x-t.x});var f,d,g=h.length,m=new Int8Array(g),p=new Int8Array(g),b=[],v=0,y=0,k=0,w=0;for(d=0;g>d;d++)m[d]=h[d].x,p[d]=h[d].y,y=Math.min(y,h[d].x),k=Math.max(k,h[d].x),w=Math.min(w,h[d].y),g-1>d&&h[d].y===h[d+1].y&&h[d].x===h[d+1].x-1?v|=1<<g-1-d:b.push(d);var x=b.length,C=new Int8Array(x),S=new Int8Array(x),I=new Uint16Array(x);for(f=0;x>f;f++)d=b[f],C[f]=h[d].x,S[f]=h[d].y,I[f]=1<<g-1-d;for(var T,P,R,L,O,M=-y,E=-w,D=t-k,U=B[i],F=new Uint8Array(t),j=[],N=c.decoder,q=c.contextCache.getContexts("GB"),z=0,H=0,_=0;a>_;_++){if(n){var G=N.readBit(q,U);if(z^=G){j.push(F);continue}}for(F=new Uint8Array(F),j.push(F),T=0;t>T;T++)if(l&&s[_][T])F[T]=0;else{if(T>=M&&D>T&&_>=E)for(H=H<<1&v,d=0;x>d;d++)P=_+S[d],R=T+C[d],L=j[P][R],L&&(L=I[d],H|=L);else for(H=0,O=g-1,d=0;g>d;d++,O--)R=T+m[d],R>=0&&t>R&&(P=_+p[d],P>=0&&(L=j[P][R],L&&(H|=L<<O)));var X=N.readBit(q,H);F[T]=X}}return j}function d(e,t,a,i,n,s,o,c,l){var h=I[a].coding;0===a&&(h=h.concat([c[0]]));var u,f=h.length,d=new Int32Array(f),g=new Int32Array(f);for(u=0;f>u;u++)d[u]=h[u].x,g[u]=h[u].y;var m=I[a].reference;0===a&&(m=m.concat([c[1]]));var p=m.length,b=new Int32Array(p),v=new Int32Array(p);for(u=0;p>u;u++)b[u]=m[u].x,v[u]=m[u].y;for(var y=i[0].length,k=i.length,w=T[a],x=[],C=l.decoder,S=l.contextCache.getContexts("GR"),A=0,B=0;t>B;B++){if(o){var P=C.readBit(S,w);A^=P,A&&r("JBIG2 error: prediction is not supported")}var R=new Uint8Array(e);x.push(R);for(var L=0;e>L;L++){var O,M,E=0;for(u=0;f>u;u++)O=B+g[u],M=L+d[u],0>O||0>M||M>=e?E<<=1:E=E<<1|x[O][M];for(u=0;p>u;u++)O=B+v[u]+s,M=L+b[u]+n,0>O||O>=k||0>M||M>=y?E<<=1:E=E<<1|i[O][M];var D=C.readBit(S,E);R[L]=D}}return x}function g(e,t,n,s,o,c,l,u,g,p,b){e&&r("JBIG2 error: huffman is not supported");for(var v=[],y=0,k=i(n.length+s),w=b.decoder,x=b.contextCache;v.length<s;){var C=a(x,"IADH",w);y+=C;for(var S=0,A=0;;){var I=a(x,"IADW",w);if(null===I)break;S+=I,A+=S;var B;if(t){var T=a(x,"IAAI",w);if(T>1)B=m(e,t,S,y,0,T,1,n.concat(v),k,0,0,1,0,c,g,p,b);else{var P=h(x,w,k),R=a(x,"IARDX",w),L=a(x,"IARDY",w),O=P<n.length?n[P]:v[P-n.length];B=d(S,y,g,O,R,L,!1,p,b)}}else B=f(!1,S,y,l,!1,null,u,b);v.push(B)}}for(var M=[],E=[],D=!1,U=n.length+s;E.length<U;){for(var F=a(x,"IAEX",w);F--;)E.push(D);D=!D}for(var j=0,N=n.length;N>j;j++)E[j]&&M.push(n[j]);for(var q=0;s>q;j++,q++)E[j]&&M.push(v[q]);return M}function m(e,t,i,n,s,o,c,l,u,f,g,m,p,b,v,y,k){e&&r("JBIG2 error: huffman is not supported");var w,x,C=[];for(w=0;n>w;w++){if(x=new Uint8Array(i),s)for(var S=0;i>S;S++)x[S]=s;C.push(x)}var A=k.decoder,I=k.contextCache,B=-a(I,"IADT",A),T=0;for(w=0;o>w;){var P=a(I,"IADT",A);B+=P;var R=a(I,"IAFS",A);T+=R;for(var L=T;;){var O=1===c?0:a(I,"IAIT",A),M=c*B+O,E=h(I,A,u),D=t&&a(I,"IARI",A),U=l[E],F=U[0].length,j=U.length;if(D){var N=a(I,"IARDW",A),q=a(I,"IARDH",A),z=a(I,"IARDX",A),H=a(I,"IARDY",A);F+=N,j+=q,U=d(F,j,v,U,(N>>1)+z,(q>>1)+H,!1,y,k)}var _,G,X,W=M-(1&m?0:j),V=L-(2&m?F:0);if(f){for(_=0;j>_;_++)if(x=C[V+_]){X=U[_];var K=Math.min(i-W,F);switch(p){case 0:for(G=0;K>G;G++)x[W+G]|=X[G];break;case 2:for(G=0;K>G;G++)x[W+G]^=X[G];break;default:r("JBIG2 error: operator "+p+" is not supported")}}L+=j-1}else{for(G=0;j>G;G++)if(x=C[W+G])switch(X=U[G],p){case 0:for(_=0;F>_;_++)x[V+_]|=X[_];break;case 2:for(_=0;F>_;_++)x[V+_]^=X[_];break;default:r("JBIG2 error: operator "+p+" is not supported")}L+=F-1}w++;var J=a(I,"IADS",A);if(null===J)break;L+=J+g}}return C}function p(e,t){var a={};a.number=o(e,t);var i=e[t+4],n=63&i;S[n]||r("JBIG2 error: invalid segment type: "+n),a.type=n,a.typeName=S[n],a.deferredNonRetain=!!(128&i);var c=!!(64&i),l=e[t+5],h=l>>5&7,u=[31&l],f=t+6;if(7===l){h=536870911&o(e,f-1),f+=3;var d=h+7>>3;for(u[0]=e[f++];--d>0;)u.push(e[f++])}else(5===l||6===l)&&r("JBIG2 error: invalid referred-to flags");a.retainBits=u;var g,m,p=a.number<=256?1:a.number<=65536?2:4,b=[];for(g=0;h>g;g++){var y=1===p?e[f]:2===p?s(e,f):o(e,f);b.push(y),f+=p}if(a.referredTo=b,c?(a.pageAssociation=o(e,f),f+=4):a.pageAssociation=e[f++],a.length=o(e,f),f+=4,4294967295===a.length)if(38===n){var k=v(e,f),w=e[f+P],x=!!(1&w),C=6,A=new Uint8Array(C);for(x||(A[0]=255,A[1]=172),A[2]=k.height>>>24&255,A[3]=k.height>>16&255,A[4]=k.height>>8&255,A[5]=255&k.height,g=f,m=e.length;m>g;g++){for(var I=0;C>I&&A[I]===e[g+I];)I++;if(I===C){a.length=g+C;break}}4294967295===a.length&&r("JBIG2 error: segment end was not found")}else r("JBIG2 error: invalid unknown segment length");return a.headerEnd=f,a}function b(e,t,a,r){for(var i=[],n=a;r>n;){var s=p(t,n);n=s.headerEnd;var o={header:s,data:t};if(e.randomAccess||(o.start=n,n+=s.length,o.end=n),i.push(o),51===s.type)break}if(e.randomAccess)for(var c=0,l=i.length;l>c;c++)i[c].start=n,n+=i[c].header.length,i[c].end=n;return i}function v(e,t){return{width:o(e,t),height:o(e,t+4),x:o(e,t+8),y:o(e,t+12),combinationOperator:7&e[t+16]}}function y(e,t){var a,i,c,l,h=e.header,u=e.data,f=e.start,d=e.end;switch(h.type){case 0:var g={},m=s(u,f);if(g.huffman=!!(1&m),g.refinement=!!(2&m),g.huffmanDHSelector=m>>2&3,g.huffmanDWSelector=m>>4&3,g.bitmapSizeSelector=m>>6&1,g.aggregationInstancesSelector=m>>7&1,g.bitmapCodingContextUsed=!!(256&m),g.bitmapCodingContextRetained=!!(512&m),g.template=m>>10&3,g.refinementTemplate=m>>12&1,f+=2,!g.huffman){for(l=0===g.template?4:1,i=[],c=0;l>c;c++)i.push({x:n(u,f),y:n(u,f+1)}),f+=2;g.at=i}if(g.refinement&&!g.refinementTemplate){for(i=[],c=0;2>c;c++)i.push({x:n(u,f),y:n(u,f+1)}),f+=2;g.refinementAt=i}g.numberOfExportedSymbols=o(u,f),f+=4,g.numberOfNewSymbols=o(u,f),f+=4,a=[g,h.number,h.referredTo,u,f,d];break;case 6:case 7:var p={};p.info=v(u,f),f+=P;var b=s(u,f);if(f+=2,p.huffman=!!(1&b),p.refinement=!!(2&b),p.stripSize=1<<(b>>2&3),p.referenceCorner=b>>4&3,p.transposed=!!(64&b),p.combinationOperator=b>>7&3,p.defaultPixelValue=b>>9&1,p.dsOffset=b<<17>>27,p.refinementTemplate=b>>15&1,p.huffman){var y=s(u,f);f+=2,p.huffmanFS=3&y,p.huffmanDS=y>>2&3,p.huffmanDT=y>>4&3,p.huffmanRefinementDW=y>>6&3,p.huffmanRefinementDH=y>>8&3,p.huffmanRefinementDX=y>>10&3,p.huffmanRefinementDY=y>>12&3,p.huffmanRefinementSizeSelector=!!(14&y)}if(p.refinement&&!p.refinementTemplate){for(i=[],c=0;2>c;c++)i.push({x:n(u,f),y:n(u,f+1)}),f+=2;p.refinementAt=i}p.numberOfSymbolInstances=o(u,f),f+=4,p.huffman&&r("JBIG2 error: huffman is not supported"),a=[p,h.referredTo,u,f,d];break;case 38:case 39:var k={};k.info=v(u,f),f+=P;var w=u[f++];if(k.mmr=!!(1&w),k.template=w>>1&3,k.prediction=!!(8&w),!k.mmr){for(l=0===k.template?4:1,i=[],c=0;l>c;c++)i.push({x:n(u,f),y:n(u,f+1)}),f+=2;k.at=i}a=[k,u,f,d];break;case 48:var x={width:o(u,f),height:o(u,f+4),resolutionX:o(u,f+8),resolutionY:o(u,f+12)};4294967295===x.height&&delete x.height;var C=u[f+16];s(u,f+17);x.lossless=!!(1&C),x.refinement=!!(2&C),x.defaultPixelValue=C>>2&1,x.combinationOperator=C>>3&3,x.requiresBuffer=!!(32&C),x.combinationOperatorOverride=!!(64&C),a=[x];break;case 49:break;case 50:break;case 51:break;case 62:break;default:r("JBIG2 error: segment type "+h.typeName+"("+h.type+") is not implemented")}var S="on"+h.typeName;S in t&&t[S].apply(t,a)}function k(e,t){for(var a=0,r=e.length;r>a;a++)y(e[a],t)}function w(e){for(var t=new x,a=0,r=e.length;r>a;a++){var i=e[a],n=b({},i.data,i.start,i.end);k(n,t)}return t.buffer}function x(){}function C(){}e.prototype={getContexts:function(e){return e in this?this[e]:this[e]=new Int8Array(65536)}},t.prototype={get decoder(){var e=new l(this.data,this.start,this.end);return c(this,"decoder",e)},get contextCache(){var t=new e;return c(this,"contextCache",t)}};var S=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"patternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],A=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],I=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],B=[39717,1941,229,405],T=[32,8],P=17;return x.prototype={onPageInformation:function(e){this.currentPageInfo=e;var t=e.width+7>>3,a=new Uint8Array(t*e.height);if(e.defaultPixelValue)for(var r=0,i=a.length;i>r;r++)a[r]=255;this.buffer=a},drawBitmap:function(e,t){var a,i,n,s,o=this.currentPageInfo,c=e.width,l=e.height,h=o.width+7>>3,u=o.combinationOperatorOverride?e.combinationOperator:o.combinationOperator,f=this.buffer,d=128>>(7&e.x),g=e.y*h+(e.x>>3);switch(u){case 0:for(a=0;l>a;a++){for(n=d,s=g,i=0;c>i;i++)t[a][i]&&(f[s]|=n),n>>=1,n||(n=128,s++);g+=h}break;case 2:for(a=0;l>a;a++){for(n=d,s=g,i=0;c>i;i++)t[a][i]&&(f[s]^=n),n>>=1,n||(n=128,s++);g+=h}break;default:r("JBIG2 error: operator "+u+" is not supported")}},onImmediateGenericRegion:function(e,a,r,i){var n=e.info,s=new t(a,r,i),o=f(e.mmr,n.width,n.height,e.template,e.prediction,null,e.at,s);this.drawBitmap(n,o)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(e,a,i,n,s,o){var c;e.huffman&&r("JBIG2 error: huffman is not supported");var l=this.symbols;l||(this.symbols=l={});for(var h=[],u=0,f=i.length;f>u;u++)h=h.concat(l[i[u]]);var d=new t(n,s,o);l[a]=g(e.huffman,e.refinement,h,e.numberOfNewSymbols,e.numberOfExportedSymbols,c,e.template,e.at,e.refinementTemplate,e.refinementAt,d)},onImmediateTextRegion:function(e,a,r,n,s){for(var o,c=e.info,l=this.symbols,h=[],u=0,f=a.length;f>u;u++)h=h.concat(l[a[u]]);var d=i(h.length),g=new t(r,n,s),p=m(e.huffman,e.refinement,c.width,c.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,h,d,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,o,e.refinementTemplate,e.refinementAt,g);this.drawBitmap(c,p)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)}},C.prototype={parseChunks:function(e){return w(e)}},C}();e.Jbig2Image=h}),function(e,t){t(e.pdfjsCoreJpx={},e.pdfjsSharedUtil,e.pdfjsCoreArithmeticDecoder)}(this,function(e,t,a){var r=t.info,i=t.log2,n=t.readUint16,s=t.readUint32,o=t.warn,c=a.ArithmeticDecoder,l=function(){function e(){this.failOnCorruptedImage=!1}function t(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function a(e,t){for(var a,r=e.SIZ,i=[],n=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),s=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz),o=0;s>o;o++)for(var c=0;n>c;c++)a={},a.tx0=Math.max(r.XTOsiz+c*r.XTsiz,r.XOsiz),a.ty0=Math.max(r.YTOsiz+o*r.YTsiz,r.YOsiz),a.tx1=Math.min(r.XTOsiz+(c+1)*r.XTsiz,r.Xsiz),a.ty1=Math.min(r.YTOsiz+(o+1)*r.YTsiz,r.Ysiz),a.width=a.tx1-a.tx0,a.height=a.ty1-a.ty0,a.components=[],i.push(a);e.tiles=i;for(var l=r.Csiz,h=0,u=l;u>h;h++)for(var f=t[h],d=0,g=i.length;g>d;d++){var m={};a=i[d],m.tcx0=Math.ceil(a.tx0/f.XRsiz),m.tcy0=Math.ceil(a.ty0/f.YRsiz),m.tcx1=Math.ceil(a.tx1/f.XRsiz),m.tcy1=Math.ceil(a.ty1/f.YRsiz),m.width=m.tcx1-m.tcx0,m.height=m.tcy1-m.tcy0,a.components[h]=m}}function l(e,t,a){var r=t.codingStyleParameters,i={};return r.entropyCoderWithCustomPrecincts?(i.PPx=r.precinctsSizes[a].PPx,i.PPy=r.precinctsSizes[a].PPy):(i.PPx=15,i.PPy=15),i.xcb_=a>0?Math.min(r.xcb,i.PPx-1):Math.min(r.xcb,i.PPx),i.ycb_=a>0?Math.min(r.ycb,i.PPy-1):Math.min(r.ycb,i.PPy),i}function h(e,t,a){var r=1<<a.PPx,i=1<<a.PPy,n=0===t.resLevel,s=1<<a.PPx+(n?0:-1),o=1<<a.PPy+(n?0:-1),c=t.trx1>t.trx0?Math.ceil(t.trx1/r)-Math.floor(t.trx0/r):0,l=t.try1>t.try0?Math.ceil(t.try1/i)-Math.floor(t.try0/i):0,h=c*l;t.precinctParameters={precinctWidth:r,precinctHeight:i,numprecinctswide:c,numprecinctshigh:l,numprecincts:h,precinctWidthInSubband:s,precinctHeightInSubband:o}}function u(e,t,a){var r,i,n,s,o=a.xcb_,c=a.ycb_,l=1<<o,h=1<<c,u=t.tbx0>>o,f=t.tby0>>c,d=t.tbx1+l-1>>o,g=t.tby1+h-1>>c,m=t.resolution.precinctParameters,p=[],b=[];for(i=f;g>i;i++)for(r=u;d>r;r++){n={cbx:r,cby:i,tbx0:l*r,tby0:h*i,tbx1:l*(r+1),tby1:h*(i+1)},n.tbx0_=Math.max(t.tbx0,n.tbx0),n.tby0_=Math.max(t.tby0,n.tby0),n.tbx1_=Math.min(t.tbx1,n.tbx1),n.tby1_=Math.min(t.tby1,n.tby1);var v=Math.floor((n.tbx0_-t.tbx0)/m.precinctWidthInSubband),y=Math.floor((n.tby0_-t.tby0)/m.precinctHeightInSubband);if(s=v+y*m.numprecinctswide,n.precinctNumber=s,n.subbandType=t.type,n.Lblock=3,!(n.tbx1_<=n.tbx0_||n.tby1_<=n.tby0_)){p.push(n);var k=b[s];void 0!==k?(r<k.cbxMin?k.cbxMin=r:r>k.cbxMax&&(k.cbxMax=r),i<k.cbyMin?k.cbxMin=i:i>k.cbyMax&&(k.cbyMax=i)):b[s]=k={cbxMin:r,cbyMin:i,cbxMax:r,cbyMax:i},n.precinct=k}}t.codeblockParameters={codeblockWidth:o,codeblockHeight:c,numcodeblockwide:d-u+1,numcodeblockhigh:g-f+1},t.codeblocks=p,t.precincts=b}function f(e,t,a){for(var r=[],i=e.subbands,n=0,s=i.length;s>n;n++)for(var o=i[n],c=o.codeblocks,l=0,h=c.length;h>l;l++){var u=c[l];u.precinctNumber===t&&r.push(u)}return{layerNumber:a,codeblocks:r}}function d(e){for(var t=e.SIZ,a=e.currentTile.index,r=e.tiles[a],i=r.codingStyleDefaultParameters.layersCount,n=t.Csiz,s=0,o=0;n>o;o++)s=Math.max(s,r.components[o].codingStyleParameters.decompositionLevelsCount);var c=0,l=0,h=0,u=0;this.nextPacket=function(){for(;i>c;c++){for(;s>=l;l++){for(;n>h;h++){var e=r.components[h];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],a=t.precinctParameters.numprecincts;a>u;){var o=f(t,u,c);return u++,o}u=0}}h=0}l=0}throw new Error("JPX Error: Out of packets")}}function g(e){for(var t=e.SIZ,a=e.currentTile.index,r=e.tiles[a],i=r.codingStyleDefaultParameters.layersCount,n=t.Csiz,s=0,o=0;n>o;o++)s=Math.max(s,r.components[o].codingStyleParameters.decompositionLevelsCount);var c=0,l=0,h=0,u=0;this.nextPacket=function(){for(;s>=c;c++){for(;i>l;l++){for(;n>h;h++){var e=r.components[h];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],a=t.precinctParameters.numprecincts;a>u;){var o=f(t,u,l);return u++,o}u=0}}h=0}l=0}throw new Error("JPX Error: Out of packets")}}function m(e){var t,a,r,i,n=e.SIZ,s=e.currentTile.index,o=e.tiles[s],c=o.codingStyleDefaultParameters.layersCount,l=n.Csiz,h=0;for(r=0;l>r;r++){var u=o.components[r];h=Math.max(h,u.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(h+1);for(a=0;h>=a;++a){var g=0;for(r=0;l>r;++r){var m=o.components[r].resolutions;a<m.length&&(g=Math.max(g,m[a].precinctParameters.numprecincts))}d[a]=g}t=0,a=0,r=0,i=0,this.nextPacket=function(){for(;h>=a;a++){for(;i<d[a];i++){for(;l>r;r++){var e=o.components[r];if(!(a>e.codingStyleParameters.decompositionLevelsCount)){var n=e.resolutions[a],s=n.precinctParameters.numprecincts;if(!(i>=s)){for(;c>t;){var u=f(n,i,t);return t++,u}t=0}}}r=0}i=0}throw new Error("JPX Error: Out of packets")}}function p(e){var t=e.SIZ,a=e.currentTile.index,r=e.tiles[a],i=r.codingStyleDefaultParameters.layersCount,n=t.Csiz,s=y(r),o=s,c=0,l=0,h=0,u=0,d=0;this.nextPacket=function(){for(;d<o.maxNumHigh;d++){for(;u<o.maxNumWide;u++){for(;n>h;h++){for(var e=r.components[h],t=e.codingStyleParameters.decompositionLevelsCount;t>=l;l++){var a=e.resolutions[l],g=s.components[h].resolutions[l],m=v(u,d,g,o,a);if(null!==m){for(;i>c;){var p=f(a,m,c);return c++,p}c=0}}l=0}h=0}u=0}throw new Error("JPX Error: Out of packets")}}function b(e){var t=e.SIZ,a=e.currentTile.index,r=e.tiles[a],i=r.codingStyleDefaultParameters.layersCount,n=t.Csiz,s=y(r),o=0,c=0,l=0,h=0,u=0;this.nextPacket=function(){for(;n>l;++l){for(var e=r.components[l],t=s.components[l],a=e.codingStyleParameters.decompositionLevelsCount;u<t.maxNumHigh;u++){for(;h<t.maxNumWide;h++){for(;a>=c;c++){var d=e.resolutions[c],g=t.resolutions[c],m=v(h,u,g,t,d);if(null!==m){for(;i>o;){var p=f(d,m,o);return o++,p}o=0}}c=0}h=0}u=0}throw new Error("JPX Error: Out of packets")}}function v(e,t,a,r,i){var n=e*r.minWidth,s=t*r.minHeight;if(n%a.width!==0||s%a.height!==0)return null;var o=s/a.width*i.precinctParameters.numprecinctswide;return n/a.height+o}function y(e){for(var t=e.components.length,a=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,n=0,s=new Array(t),o=0;t>o;o++){for(var c=e.components[o],l=c.codingStyleParameters.decompositionLevelsCount,h=new Array(l+1),u=Number.MAX_VALUE,f=Number.MAX_VALUE,d=0,g=0,m=1,p=l;p>=0;--p){var b=c.resolutions[p],v=m*b.precinctParameters.precinctWidth,y=m*b.precinctParameters.precinctHeight;
u=Math.min(u,v),f=Math.min(f,y),d=Math.max(d,b.precinctParameters.numprecinctswide),g=Math.max(g,b.precinctParameters.numprecinctshigh),h[p]={width:v,height:y},m<<=1}a=Math.min(a,u),r=Math.min(r,f),i=Math.max(i,d),n=Math.max(n,g),s[o]={resolutions:h,minWidth:u,minHeight:f,maxNumWide:d,maxNumHigh:g}}return{components:s,minWidth:a,minHeight:r,maxNumWide:i,maxNumHigh:n}}function k(e){for(var t=e.SIZ,a=e.currentTile.index,r=e.tiles[a],i=t.Csiz,n=0;i>n;n++){for(var s=r.components[n],o=s.codingStyleParameters.decompositionLevelsCount,c=[],f=[],v=0;o>=v;v++){var y=l(e,s,v),k={},w=1<<o-v;k.trx0=Math.ceil(s.tcx0/w),k.try0=Math.ceil(s.tcy0/w),k.trx1=Math.ceil(s.tcx1/w),k.try1=Math.ceil(s.tcy1/w),k.resLevel=v,h(e,k,y),c.push(k);var x;if(0===v)x={},x.type="LL",x.tbx0=Math.ceil(s.tcx0/w),x.tby0=Math.ceil(s.tcy0/w),x.tbx1=Math.ceil(s.tcx1/w),x.tby1=Math.ceil(s.tcy1/w),x.resolution=k,u(e,x,y),f.push(x),k.subbands=[x];else{var C=1<<o-v+1,S=[];x={},x.type="HL",x.tbx0=Math.ceil(s.tcx0/C-.5),x.tby0=Math.ceil(s.tcy0/C),x.tbx1=Math.ceil(s.tcx1/C-.5),x.tby1=Math.ceil(s.tcy1/C),x.resolution=k,u(e,x,y),f.push(x),S.push(x),x={},x.type="LH",x.tbx0=Math.ceil(s.tcx0/C),x.tby0=Math.ceil(s.tcy0/C-.5),x.tbx1=Math.ceil(s.tcx1/C),x.tby1=Math.ceil(s.tcy1/C-.5),x.resolution=k,u(e,x,y),f.push(x),S.push(x),x={},x.type="HH",x.tbx0=Math.ceil(s.tcx0/C-.5),x.tby0=Math.ceil(s.tcy0/C-.5),x.tbx1=Math.ceil(s.tcx1/C-.5),x.tby1=Math.ceil(s.tcy1/C-.5),x.resolution=k,u(e,x,y),f.push(x),S.push(x),k.subbands=S}}s.resolutions=c,s.subbands=f}var A=r.codingStyleDefaultParameters.progressionOrder;switch(A){case 0:r.packetsIterator=new d(e);break;case 1:r.packetsIterator=new g(e);break;case 2:r.packetsIterator=new m(e);break;case 3:r.packetsIterator=new p(e);break;case 4:r.packetsIterator=new b(e);break;default:throw new Error("JPX Error: Unsupported progression order "+A)}}function w(e,t,a,r){function n(e){for(;e>f;){var r=t[a+u];u++,d?(h=h<<7|r,f+=7,d=!1):(h=h<<8|r,f+=8),255===r&&(d=!0)}return f-=e,h>>>f&(1<<e)-1}function s(e){return 255===t[a+u-1]&&t[a+u]===e?(o(1),!0):255===t[a+u]&&t[a+u+1]===e?(o(2),!0):!1}function o(e){u+=e}function c(){f=0,d&&(u++,d=!1)}function l(){if(0===n(1))return 1;if(0===n(1))return 2;var e=n(2);return 3>e?e+3:(e=n(5),31>e?e+6:(e=n(7),e+37))}for(var h,u=0,f=0,d=!1,g=e.currentTile.index,m=e.tiles[g],p=e.COD.sopMarkerUsed,b=e.COD.ephMarkerUsed,v=m.packetsIterator;r>u;){c(),p&&s(145)&&o(4);var y=v.nextPacket();if(n(1)){for(var k,w=y.layerNumber,x=[],C=0,S=y.codeblocks.length;S>C;C++){k=y.codeblocks[C];var A,I=k.precinct,P=k.cbx-I.cbxMin,R=k.cby-I.cbyMin,L=!1,O=!1;if(void 0!==k.included)L=!!n(1);else{I=k.precinct;var M,E;if(void 0!==I.inclusionTree)M=I.inclusionTree;else{var D=I.cbxMax-I.cbxMin+1,U=I.cbyMax-I.cbyMin+1;M=new T(D,U,w),E=new B(D,U),I.inclusionTree=M,I.zeroBitPlanesTree=E}if(M.reset(P,R,w))for(;;){if(!n(1)){M.incrementValue(w);break}if(A=!M.nextLevel()){k.included=!0,L=O=!0;break}}}if(L){if(O){for(E=I.zeroBitPlanesTree,E.reset(P,R);;)if(n(1)){if(A=!E.nextLevel())break}else E.incrementValue();k.zeroBitPlanes=E.value}for(var F=l();n(1);)k.Lblock++;var j=i(F),N=(1<<j>F?j-1:j)+k.Lblock,q=n(N);x.push({codeblock:k,codingpasses:F,dataLength:q})}}for(c(),b&&s(146);x.length>0;){var z=x.shift();k=z.codeblock,void 0===k.data&&(k.data=[]),k.data.push({data:t,start:a+u,end:a+u+z.dataLength,codingpasses:z.codingpasses}),u+=z.dataLength}}}return u}function x(e,t,a,r,i,n,s,o){for(var l=r.tbx0,h=r.tby0,u=r.tbx1-r.tbx0,f=r.codeblocks,d="H"===r.type.charAt(0)?1:0,g="H"===r.type.charAt(1)?t:0,m=0,p=f.length;p>m;++m){var b=f[m],v=b.tbx1_-b.tbx0_,y=b.tby1_-b.tby0_;if(0!==v&&0!==y&&void 0!==b.data){var k,w;k=new P(v,y,b.subbandType,b.zeroBitPlanes,n),w=2;var x,C,S,A=b.data,I=0,B=0;for(x=0,C=A.length;C>x;x++)S=A[x],I+=S.end-S.start,B+=S.codingpasses;var T=new Uint8Array(I),R=0;for(x=0,C=A.length;C>x;x++){S=A[x];var L=S.data.subarray(S.start,S.end);T.set(L,R),R+=L.length}var O=new c(T,0,I);for(k.setDecoder(O),x=0;B>x;x++){switch(w){case 0:k.runSignificancePropogationPass();break;case 1:k.runMagnitudeRefinementPass();break;case 2:k.runCleanupPass(),o&&k.checkSegmentationSymbol()}w=(w+1)%3}var M,E,D,U=b.tbx0_-l+(b.tby0_-h)*u,F=k.coefficentsSign,j=k.coefficentsMagnitude,N=k.bitsDecoded,q=s?0:.5;R=0;var z="LL"!==r.type;for(x=0;y>x;x++){var H=U/u|0,_=2*H*(t-u)+d+g;for(M=0;v>M;M++){if(E=j[R],0!==E){E=(E+q)*i,0!==F[R]&&(E=-E),D=N[R];var G=z?_+(U<<1):U;s&&D>=n?e[G]=E:e[G]=E*(1<<n-D)}U++,R++}U+=u-v}}}}function C(e,t,a){for(var r=t.components[a],i=r.codingStyleParameters,n=r.quantizationParameters,s=i.decompositionLevelsCount,o=n.SPqcds,c=n.scalarExpounded,l=n.guardBits,h=i.segmentationSymbolUsed,u=e.components[a].precision,f=i.reversibleTransformation,d=f?new O:new L,g=[],m=0,p=0;s>=p;p++){for(var b=r.resolutions[p],v=b.trx1-b.trx0,y=b.try1-b.try0,k=new Float32Array(v*y),w=0,C=b.subbands.length;C>w;w++){var S,A;c?(S=o[m].mu,A=o[m].epsilon,m++):(S=o[0].mu,A=o[0].epsilon+(p>0?1-p:0));var B=b.subbands[w],T=I[B.type],P=f?1:Math.pow(2,u+T-A)*(1+S/2048),R=l+A-1;x(k,v,y,B,P,R,f,h)}g.push({width:v,height:y,items:k})}var M=d.calculate(g,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:M.width,height:M.height,items:M.items}}function S(e){for(var t=e.SIZ,a=e.components,r=t.Csiz,i=[],n=0,s=e.tiles.length;s>n;n++){var o,c=e.tiles[n],l=[];for(o=0;r>o;o++)l[o]=C(e,c,o);var h,u,f,d,g,m,p,b,v,y,k,w,x,S,A,I=l[0],B=new Uint8Array(I.items.length*r),T={left:I.left,top:I.top,width:I.width,height:I.height,items:B},P=0;if(c.codingStyleDefaultParameters.multipleComponentTransform){var R=4===r,L=l[0].items,O=l[1].items,M=l[2].items,E=R?l[3].items:null;h=a[0].precision-8,u=(128<<h)+.5,f=255*(1<<h),g=.5*f,d=-g;var D=c.components[0],U=r-3;if(p=L.length,D.codingStyleParameters.reversibleTransformation)for(m=0;p>m;m++,P+=U)b=L[m]+u,v=O[m],y=M[m],w=b-(y+v>>2),k=w+y,x=w+v,B[P++]=0>=k?0:k>=f?255:k>>h,B[P++]=0>=w?0:w>=f?255:w>>h,B[P++]=0>=x?0:x>=f?255:x>>h;else for(m=0;p>m;m++,P+=U)b=L[m]+u,v=O[m],y=M[m],k=b+1.402*y,w=b-.34413*v-.71414*y,x=b+1.772*v,B[P++]=0>=k?0:k>=f?255:k>>h,B[P++]=0>=w?0:w>=f?255:w>>h,B[P++]=0>=x?0:x>=f?255:x>>h;if(R)for(m=0,P=3;p>m;m++,P+=4)S=E[m],B[P]=d>=S?0:S>=g?255:S+u>>h}else for(o=0;r>o;o++){var F=l[o].items;for(h=a[o].precision-8,u=(128<<h)+.5,f=127.5*(1<<h),d=-f,P=o,m=0,p=F.length;p>m;m++)A=F[m],B[P]=d>=A?0:A>=f?255:A+u>>h,P+=r}i.push(T)}return i}function A(e,t){for(var a=e.SIZ,r=a.Csiz,i=e.tiles[t],n=0;r>n;n++){var s=i.components[n],o=void 0!==e.currentTile.QCC[n]?e.currentTile.QCC[n]:e.currentTile.QCD;s.quantizationParameters=o;var c=void 0!==e.currentTile.COC[n]?e.currentTile.COC[n]:e.currentTile.COD;s.codingStyleParameters=c}i.codingStyleDefaultParameters=e.currentTile.COD}var I={LL:0,LH:1,HL:1,HH:2};e.prototype={parse:function(e){var t=n(e,0);if(65359===t)return void this.parseCodestream(e,0,e.length);for(var a=0,i=e.length;i>a;){var c=8,l=s(e,a),h=s(e,a+4);if(a+=c,1===l&&(l=4294967296*s(e,a)+s(e,a+4),a+=8,c+=8),0===l&&(l=i-a+c),c>l)throw new Error("JPX Error: Invalid box field size");var u=l-c,f=!0;switch(h){case 1785737832:f=!1;break;case 1668246642:var d=e[a];if(1===d){var g=s(e,a+3);switch(g){case 16:case 17:case 18:break;default:o("Unknown colorspace "+g)}}else 2===d&&r("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,a,a+u);break;case 1783636e3:218793738!==s(e,a)&&o("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var m=String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,255&h);o("Unsupported header type "+h+" ("+m+")")}f&&(a+=u)}},parseImageProperties:function(e){for(var t=e.getByte();t>=0;){var a=t;t=e.getByte();var r=a<<8|t;if(65361===r){e.skip(4);var i=e.getInt32()>>>0,n=e.getInt32()>>>0,s=e.getInt32()>>>0,o=e.getInt32()>>>0;e.skip(16);var c=e.getUint16();return this.width=i-s,this.height=n-o,this.componentsCount=c,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,r,i){var c={};try{for(var l=!1,h=r;i>h+1;){var u=n(e,h);h+=2;var f,d,g,m,p,b,v=0;switch(u){case 65359:c.mainHeader=!0;break;case 65497:break;case 65361:v=n(e,h);var y={};y.Xsiz=s(e,h+4),y.Ysiz=s(e,h+8),y.XOsiz=s(e,h+12),y.YOsiz=s(e,h+16),y.XTsiz=s(e,h+20),y.YTsiz=s(e,h+24),y.XTOsiz=s(e,h+28),y.YTOsiz=s(e,h+32);var x=n(e,h+36);y.Csiz=x;var C=[];f=h+38;for(var I=0;x>I;I++){var B={precision:(127&e[f])+1,isSigned:!!(128&e[f]),XRsiz:e[f+1],YRsiz:e[f+1]};t(B,y),C.push(B)}c.SIZ=y,c.components=C,a(c,C),c.QCC=[],c.COC=[];break;case 65372:v=n(e,h);var T={};switch(f=h+2,d=e[f++],31&d){case 0:m=8,p=!0;break;case 1:m=16,p=!1;break;case 2:m=16,p=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+d)}for(T.noQuantization=8===m,T.scalarExpounded=p,T.guardBits=d>>5,g=[];v+h>f;){var P={};8===m?(P.epsilon=e[f++]>>3,P.mu=0):(P.epsilon=e[f]>>3,P.mu=(7&e[f])<<8|e[f+1],f+=2),g.push(P)}T.SPqcds=g,c.mainHeader?c.QCD=T:(c.currentTile.QCD=T,c.currentTile.QCC=[]);break;case 65373:v=n(e,h);var R={};f=h+2;var L;switch(c.SIZ.Csiz<257?L=e[f++]:(L=n(e,f),f+=2),d=e[f++],31&d){case 0:m=8,p=!0;break;case 1:m=16,p=!1;break;case 2:m=16,p=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+d)}for(R.noQuantization=8===m,R.scalarExpounded=p,R.guardBits=d>>5,g=[];v+h>f;)P={},8===m?(P.epsilon=e[f++]>>3,P.mu=0):(P.epsilon=e[f]>>3,P.mu=(7&e[f])<<8|e[f+1],f+=2),g.push(P);R.SPqcds=g,c.mainHeader?c.QCC[L]=R:c.currentTile.QCC[L]=R;break;case 65362:v=n(e,h);var O={};f=h+2;var M=e[f++];O.entropyCoderWithCustomPrecincts=!!(1&M),O.sopMarkerUsed=!!(2&M),O.ephMarkerUsed=!!(4&M),O.progressionOrder=e[f++],O.layersCount=n(e,f),f+=2,O.multipleComponentTransform=e[f++],O.decompositionLevelsCount=e[f++],O.xcb=(15&e[f++])+2,O.ycb=(15&e[f++])+2;var E=e[f++];if(O.selectiveArithmeticCodingBypass=!!(1&E),O.resetContextProbabilities=!!(2&E),O.terminationOnEachCodingPass=!!(4&E),O.verticalyStripe=!!(8&E),O.predictableTermination=!!(16&E),O.segmentationSymbolUsed=!!(32&E),O.reversibleTransformation=e[f++],O.entropyCoderWithCustomPrecincts){for(var D=[];v+h>f;){var U=e[f++];D.push({PPx:15&U,PPy:U>>4})}O.precinctsSizes=D}var F=[];if(O.selectiveArithmeticCodingBypass&&F.push("selectiveArithmeticCodingBypass"),O.resetContextProbabilities&&F.push("resetContextProbabilities"),O.terminationOnEachCodingPass&&F.push("terminationOnEachCodingPass"),O.verticalyStripe&&F.push("verticalyStripe"),O.predictableTermination&&F.push("predictableTermination"),F.length>0)throw l=!0,new Error("JPX Error: Unsupported COD options ("+F.join(", ")+")");c.mainHeader?c.COD=O:(c.currentTile.COD=O,c.currentTile.COC=[]);break;case 65424:v=n(e,h),b={},b.index=n(e,h+2),b.length=s(e,h+4),b.dataEnd=b.length+h-2,b.partIndex=e[h+8],b.partsCount=e[h+9],c.mainHeader=!1,0===b.partIndex&&(b.COD=c.COD,b.COC=c.COC.slice(0),b.QCD=c.QCD,b.QCC=c.QCC.slice(0)),c.currentTile=b;break;case 65427:b=c.currentTile,0===b.partIndex&&(A(c,b.index),k(c)),v=b.dataEnd-h,w(c,e,h,v);break;case 65365:case 65367:case 65368:case 65380:v=n(e,h);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+u.toString(16))}h+=v}}catch(j){if(l||this.failOnCorruptedImage)throw j;o("Trying to recover from "+j.message)}this.tiles=S(c),this.width=c.SIZ.Xsiz-c.SIZ.XOsiz,this.height=c.SIZ.Ysiz-c.SIZ.YOsiz,this.componentsCount=c.SIZ.Csiz}};var B=function(){function e(e,t){var a=i(Math.max(e,t))+1;this.levels=[];for(var r=0;a>r;r++){var n={width:e,height:t,items:[]};this.levels.push(n),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t){for(var a,r=0,i=0;r<this.levels.length;){a=this.levels[r];var n=e+t*a.width;if(void 0!==a.items[n]){i=a.items[n];break}a.index=n,e>>=1,t>>=1,r++}r--,a=this.levels[r],a.items[a.index]=i,this.currentLevel=r,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],a=t.items[t.index];return e--,0>e?(this.value=a,!1):(this.currentLevel=e,t=this.levels[e],t.items[t.index]=a,!0)}},e}(),T=function(){function e(e,t,a){var r=i(Math.max(e,t))+1;this.levels=[];for(var n=0;r>n;n++){for(var s=new Uint8Array(e*t),o=0,c=s.length;c>o;o++)s[o]=a;var l={width:e,height:t,items:s};this.levels.push(l),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t,a){for(var r=0;r<this.levels.length;){var i=this.levels[r],n=e+t*i.width;i.index=n;var s=i.items[n];if(255===s)break;if(s>a)return this.currentLevel=r,this.propagateValues(),!1;e>>=1,t>>=1,r++}return this.currentLevel=r-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],a=t.items[t.index];--e>=0;)t=this.levels[e],t.items[t.index]=a},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],a=t.items[t.index];return t.items[t.index]=255,e--,0>e?!1:(this.currentLevel=e,t=this.levels[e],t.items[t.index]=a,!0)}},e}(),P=function(){function e(e,t,a,s,o){this.width=e,this.height=t,this.contextLabelTable="HH"===a?n:"HL"===a?i:r;var c=e*t;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),this.coefficentsMagnitude=o>14?new Uint32Array(c):o>6?new Uint16Array(c):new Uint8Array(c),this.processingFlags=new Uint8Array(c);var l=new Uint8Array(c);if(0!==s)for(var h=0;c>h;h++)l[h]=s;this.bitsDecoded=l,this.reset()}var t=17,a=18,r=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),i=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),n=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return e.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[t]=92,this.contexts[a]=6},setNeighborsSignificance:function(e,t,a){var r,i=this.neighborsSignificance,n=this.width,s=this.height,o=t>0,c=n>t+1;e>0&&(r=a-n,o&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),s>e+1&&(r=a+n,o&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),o&&(i[a-1]+=1),c&&(i[a+1]+=1),i[a]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,a=this.height,r=this.coefficentsMagnitude,i=this.coefficentsSign,n=this.neighborsSignificance,s=this.processingFlags,o=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded,h=-2,u=1,f=2,d=0;a>d;d+=4)for(var g=0;t>g;g++)for(var m=d*t+g,p=0;4>p;p++,m+=t){var b=d+p;if(b>=a)break;if(s[m]&=h,!r[m]&&n[m]){var v=c[n[m]],y=e.readBit(o,v);if(y){var k=this.decodeSignBit(b,g,m);i[m]=k,r[m]=1,this.setNeighborsSignificance(b,g,m),s[m]|=f}l[m]++,s[m]|=u}}},decodeSignBit:function(e,t,a){var r,i,n,s,o,c,l=this.width,h=this.height,u=this.coefficentsMagnitude,f=this.coefficentsSign;s=t>0&&0!==u[a-1],l>t+1&&0!==u[a+1]?(n=f[a+1],s?(i=f[a-1],r=1-n-i):r=1-n-n):s?(i=f[a-1],r=1-i-i):r=0;var d=3*r;return s=e>0&&0!==u[a-l],h>e+1&&0!==u[a+l]?(n=f[a+l],s?(i=f[a-l],r=1-n-i+d):r=1-n-n+d):s?(i=f[a-l],r=1-i-i+d):r=d,r>=0?(o=9+r,c=this.decoder.readBit(this.contexts,o)):(o=9-r,c=1^this.decoder.readBit(this.contexts,o)),c},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,a=this.width,r=this.height,i=this.coefficentsMagnitude,n=this.neighborsSignificance,s=this.contexts,o=this.bitsDecoded,c=this.processingFlags,l=1,h=2,u=a*r,f=4*a,d=0;u>d;d=e){e=Math.min(u,d+f);for(var g=0;a>g;g++)for(var m=d+g;e>m;m+=a)if(i[m]&&0===(c[m]&l)){var p=16;if(0!==(c[m]&h)){c[m]^=h;var b=127&n[m];p=0===b?15:14}var v=t.readBit(s,p);i[m]=i[m]<<1|v,o[m]++,c[m]|=l}}},runCleanupPass:function(){for(var e,r=this.decoder,i=this.width,n=this.height,s=this.neighborsSignificance,o=this.coefficentsMagnitude,c=this.coefficentsSign,l=this.contexts,h=this.contextLabelTable,u=this.bitsDecoded,f=this.processingFlags,d=1,g=2,m=i,p=2*i,b=3*i,v=0;n>v;v=e){e=Math.min(v+4,n);for(var y=v*i,k=n>v+3,w=0;i>w;w++){var x,C=y+w,S=k&&0===f[C]&&0===f[C+m]&&0===f[C+p]&&0===f[C+b]&&0===s[C]&&0===s[C+m]&&0===s[C+p]&&0===s[C+b],A=0,I=C,B=v;if(S){var T=r.readBit(l,a);if(!T){u[C]++,u[C+m]++,u[C+p]++,u[C+b]++;continue}A=r.readBit(l,t)<<1|r.readBit(l,t),0!==A&&(B=v+A,I+=A*i),x=this.decodeSignBit(B,w,I),c[I]=x,o[I]=1,this.setNeighborsSignificance(B,w,I),f[I]|=g,I=C;for(var P=v;B>=P;P++,I+=i)u[I]++;A++}for(B=v+A;e>B;B++,I+=i)if(!o[I]&&0===(f[I]&d)){var R=h[s[I]],L=r.readBit(l,R);1===L&&(x=this.decodeSignBit(B,w,I),c[I]=x,o[I]=1,this.setNeighborsSignificance(B,w,I),f[I]|=g),u[I]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,a=this.contexts,r=e.readBit(a,t)<<3|e.readBit(a,t)<<2|e.readBit(a,t)<<1|e.readBit(a,t);if(10!==r)throw new Error("JPX Error: Invalid segmentation symbol")}},e}(),R=function(){function e(){}return e.prototype.calculate=function(e,t,a){for(var r=e[0],i=1,n=e.length;n>i;i++)r=this.iterate(r,e[i],t,a);return r},e.prototype.extend=function(e,t,a){var r=t-1,i=t+1,n=t+a-2,s=t+a;e[r--]=e[i++],e[s++]=e[n--],e[r--]=e[i++],e[s++]=e[n--],e[r--]=e[i++],e[s++]=e[n--],e[r]=e[i],e[s]=e[n]},e.prototype.iterate=function(e,t,a,r){var i,n,s,o,c,l,h=e.width,u=e.height,f=e.items,d=t.width,g=t.height,m=t.items;for(s=0,i=0;u>i;i++)for(o=2*i*d,n=0;h>n;n++,s++,o+=2)m[o]=f[s];f=e.items=null;var p=4,b=new Float32Array(d+2*p);if(1===d){if(0!==(1&a))for(l=0,s=0;g>l;l++,s+=d)m[s]*=.5}else for(l=0,s=0;g>l;l++,s+=d)b.set(m.subarray(s,s+d),p),this.extend(b,p,d),this.filter(b,p,d),m.set(b.subarray(p,p+d),s);var v=16,y=[];for(i=0;v>i;i++)y.push(new Float32Array(g+2*p));var k,w=0;if(e=p+g,1===g){if(0!==(1&r))for(c=0;d>c;c++)m[c]*=.5}else for(c=0;d>c;c++){if(0===w){for(v=Math.min(d-c,v),s=c,o=p;e>o;s+=d,o++)for(k=0;v>k;k++)y[k][o]=m[s+k];w=v}w--;var x=y[w];if(this.extend(x,p,g),this.filter(x,p,g),0===w)for(s=c-v+1,o=p;e>o;s+=d,o++)for(k=0;v>k;k++)m[s+k]=y[k][o]}return{width:d,height:g,items:m}},e}(),L=function(){function e(){R.call(this)}return e.prototype=Object.create(R.prototype),e.prototype.filter=function(e,t,a){var r=a>>1;t=0|t;var i,n,s,o,c=-1.586134342059924,l=-.052980118572961,h=.882911075530934,u=.443506852043971,f=1.230174104914001,d=1/f;for(i=t-3,n=r+4;n--;i+=2)e[i]*=d;for(i=t-2,s=u*e[i-1],n=r+3;n--&&(o=u*e[i+1],e[i]=f*e[i]-s-o,n--);i+=2)i+=2,s=u*e[i+1],e[i]=f*e[i]-s-o;for(i=t-1,s=h*e[i-1],n=r+2;n--&&(o=h*e[i+1],e[i]-=s+o,n--);i+=2)i+=2,s=h*e[i+1],e[i]-=s+o;for(i=t,s=l*e[i-1],n=r+1;n--&&(o=l*e[i+1],e[i]-=s+o,n--);i+=2)i+=2,s=l*e[i+1],e[i]-=s+o;if(0!==r)for(i=t+1,s=c*e[i-1],n=r;n--&&(o=c*e[i+1],e[i]-=s+o,n--);i+=2)i+=2,s=c*e[i+1],e[i]-=s+o},e}(),O=function(){function e(){R.call(this)}return e.prototype=Object.create(R.prototype),e.prototype.filter=function(e,t,a){var r=a>>1;t=0|t;var i,n;for(i=t,n=r+1;n--;i+=2)e[i]-=e[i-1]+e[i+1]+2>>2;for(i=t+1,n=r;n--;i+=2)e[i]+=e[i-1]+e[i+1]>>1},e}();return e}();e.JpxImage=l}),function(e,t){t(e.pdfjsCoreMurmurHash3={},e.pdfjsSharedUtil)}(this,function(e,t){var a=t.Uint32ArrayView,r=function(e){function t(e){var t=3285377520;this.h1=e?4294967295&e:t,this.h2=e?4294967295&e:t}var r=4294901760,i=65535,n=!1;try{new Uint32Array(new Uint8Array(5).buffer,0,1)}catch(s){n=!0}return t.prototype={update:function(e){var t,s=n;if("string"==typeof e){var o=new Uint8Array(2*e.length),c=0;for(t=0;t<e.length;t++){var l=e.charCodeAt(t);255>=l?o[c++]=l:(o[c++]=l>>>8,o[c++]=255&l)}}else if(e instanceof Uint8Array)o=e,c=o.length;else{if(!("object"==typeof e&&"length"in e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");o=e,c=o.length,s=!0}var h=c>>2,u=c-4*h,f=s?new a(o,h):new Uint32Array(o.buffer,0,h),d=0,g=0,m=this.h1,p=this.h2,b=3432918353,v=461845907,y=b&i,k=v&i;for(t=0;h>t;t++)1&t?(d=f[t],d=d*b&r|d*y&i,d=d<<15|d>>>17,d=d*v&r|d*k&i,m^=d,m=m<<13|m>>>19,m=5*m+3864292196):(g=f[t],g=g*b&r|g*y&i,g=g<<15|g>>>17,g=g*v&r|g*k&i,p^=g,p=p<<13|p>>>19,p=5*p+3864292196);switch(d=0,u){case 3:d^=o[4*h+2]<<16;case 2:d^=o[4*h+1]<<8;case 1:d^=o[4*h],d=d*b&r|d*y&i,d=d<<15|d>>>17,d=d*v&r|d*k&i,1&h?m^=d:p^=d}return this.h1=m,this.h2=p,this},hexdigest:function(){var e=this.h1,t=this.h2;e^=t>>>1,e=3981806797*e&r|36045*e&i,t=4283543511*t&r|(2950163797*(t<<16|e>>>16)&r)>>>16,e^=t>>>1,e=444984403*e&r|60499*e&i,t=3301882366*t&r|(3120437893*(t<<16|e>>>16)&r)>>>16,e^=t>>>1;for(var a=0,n=[e,t],s="";a<n.length;a++){for(var o=(n[a]>>>0).toString(16);o.length<8;)o="0"+o;s+=o}return s}},t}();e.MurmurHash3_64=r}),function(e,t){t(e.pdfjsCorePrimitives={},e.pdfjsSharedUtil)}(this,function(e,t){function a(e){return e instanceof c}function r(e,t){return e instanceof l&&(void 0===t||e.cmd===t)}function i(e,t){if(!(e instanceof h))return!1;if(!t)return!0;var r=e.get("Type");return a(r)&&r.name===t}function n(e){return e instanceof u}function s(e){return"object"==typeof e&&null!==e&&void 0!==e.getBytes}var o=t.isArray,c=function(){function e(e){this.name=e}e.prototype={};var t={};return e.get=function(a){var r=t[a];return r?r:t[a]=new e(a)},e}(),l=function(){function e(e){this.cmd=e}e.prototype={};var t={};return e.get=function(a){var r=t[a];return r?r:t[a]=new e(a)},e}(),h=function(){function e(e){if(!a(e.Type))return!0;var t=e.Type.name;return s[t]===!0}function t(e){this.map=Object.create(null),this.xref=e,this.objId=null,this.__nonSerializable__=r}var r=function(){return r},s={Background:!0,ExtGState:!0,Halftone:!0,Layout:!0,Mask:!0,Pagination:!0,Printing:!0};return t.prototype={assignXref:function(e){this.xref=e},get:function(e,t,a){var r,i=this.xref;return"undefined"!=typeof(r=this.map[e])||e in this.map||"undefined"==typeof t?i?i.fetchIfRef(r):r:"undefined"!=typeof(r=this.map[t])||t in this.map||"undefined"==typeof a?i?i.fetchIfRef(r):r:(r=this.map[a]||null,i?i.fetchIfRef(r):r)},getAsync:function(e,t,a){var r,i=this.xref;return"undefined"!=typeof(r=this.map[e])||e in this.map||"undefined"==typeof t?i?i.fetchIfRefAsync(r):Promise.resolve(r):"undefined"!=typeof(r=this.map[t])||t in this.map||"undefined"==typeof a?i?i.fetchIfRefAsync(r):Promise.resolve(r):(r=this.map[a]||null,i?i.fetchIfRefAsync(r):Promise.resolve(r))},getArray:function(e,t,a){var r=this.get(e,t,a),i=this.xref;if(!o(r)||!i)return r;r=r.slice();for(var s=0,c=r.length;c>s;s++)n(r[s])&&(r[s]=i.fetch(r[s]));return r},getRaw:function(e){return this.map[e]},getAll:function(){var a,r,i=Object.create(null),n=null;for(a in this.map)r=this.get(a),r instanceof t?e(r)?(n||(n=[])).push({target:i,key:a,obj:r}):i[a]=this.getRaw(a):i[a]=r;if(!n)return i;for(var s=Object.create(null);n.length>0;){var o=n.shift(),c=o.obj,l=c.objId;if(l&&l in s)o.target[o.key]=s[l];else{var h=Object.create(null);for(a in c.map)r=c.get(a),r instanceof t?e(r)?n.push({target:h,key:a,obj:r}):h[a]=c.getRaw(a):h[a]=r;l&&(s[l]=h),o.target[o.key]=h}}return i},getKeys:function(){return Object.keys(this.map)},set:function(e,t){this.map[e]=t},has:function(e){return e in this.map},forEach:function(e){for(var t in this.map)e(t,this.get(t))}},t.empty=new t(null),t.merge=function(e,a){for(var r=new t(e),n=0,s=a.length;s>n;n++){var o=a[n];if(i(o))for(var c in o.map)r.map[c]||(r.map[c]=o.map[c])}return r},t}(),u=function(){function e(e,t){this.num=e,this.gen=t}return e.prototype={toString:function(){var e=this.num+"R";return 0!==this.gen&&(e+=this.gen),e}},e}(),f=function(){function e(){this.dict={}}return e.prototype={has:function(e){return e.toString()in this.dict},put:function(e){this.dict[e.toString()]=!0},remove:function(e){delete this.dict[e.toString()]}},e}(),d=function(){function e(){this.dict=Object.create(null)}return e.prototype={get:function(e){return this.dict[e.toString()]},has:function(e){return e.toString()in this.dict},put:function(e,t){this.dict[e.toString()]=t},putAlias:function(e,t){this.dict[e.toString()]=this.get(t)},forEach:function(e,t){for(var a in this.dict)e.call(t,this.dict[a])},clear:function(){this.dict=Object.create(null)}},e}();e.Cmd=l,e.Dict=h,e.Name=c,e.Ref=u,e.RefSet=f,e.RefSetCache=d,e.isCmd=r,e.isDict=i,e.isName=a,e.isRef=n,e.isStream=s}),function(e,t){t(e.pdfjsCoreStream={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreJbig2,e.pdfjsCoreJpg,e.pdfjsCoreJpx)}(this,function(e,t,a,r,i,n){function s(e){c=e,l=e.EOF,h=e.Lexer}function o(e){u=e,f=e.ColorSpace}var c,l,h,u,f,d=t.Util,g=t.error,m=t.info,p=t.isArray,b=t.shadow,v=t.warn,y=a.Dict,k=r.Jbig2Image,w=i.JpegImage,x=n.JpxImage,C=function(){function e(e,t,a,r){this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.start=t||0,this.pos=this.start,this.end=t+a||this.bytes.length,this.dict=r}return e.prototype={get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){var e=this.getByte(),t=this.getByte(),a=this.getByte(),r=this.getByte();return(e<<24)+(t<<16)+(a<<8)+r},getBytes:function(e){var t=this.bytes,a=this.pos,r=this.end;if(!e)return t.subarray(a,r);var i=a+e;return i>r&&(i=r),this.pos=i,t.subarray(a,i)},peekByte:function(){var e=this.getByte();return this.pos--,e},peekBytes:function(e){var t=this.getBytes(e);return this.pos-=t.length,t},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(t,a,r){return new e(this.bytes.buffer,t,a,r)},isStream:!0},e}(),S=function(){function e(e){for(var t=e.length,a=new Uint8Array(t),r=0;t>r;++r)a[r]=e.charCodeAt(r);C.call(this,a)}return e.prototype=C.prototype,e}(),A=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=t,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}var t=new Uint8Array(0);return e.prototype={get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},ensureBuffer:function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var a=this.minBufferLength;e>a;)a*=2;var r=new Uint8Array(a);return r.set(t),this.buffer=r},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},getUint16:function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},getInt32:function(){var e=this.getByte(),t=this.getByte(),a=this.getByte(),r=this.getByte();return(e<<24)+(t<<16)+(a<<8)+r},getBytes:function(e){var t,a=this.pos;if(e){for(this.ensureBuffer(a+e),t=a+e;!this.eof&&this.bufferLength<t;)this.readBlock();var r=this.bufferLength;t>r&&(t=r)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}return this.pos=t,this.buffer.subarray(a,t)},peekByte:function(){var e=this.getByte();return this.pos--,e},peekBytes:function(e){var t=this.getBytes(e);return this.pos-=t.length,t},makeSubStream:function(e,t,a){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new C(this.buffer,e,t,a)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0},getBaseStreams:function(){return this.str&&this.str.getBaseStreams?this.str.getBaseStreams():[]}},e}(),I=function(){function e(e){this.streams=e,A.call(this,null)}return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){var e=this.streams;if(0===e.length)return void(this.eof=!0);var t=e.shift(),a=t.getBytes(),r=this.bufferLength,i=r+a.length,n=this.ensureBuffer(i);n.set(a,r),this.bufferLength=i},e.prototype.getBaseStreams=function(){for(var e=[],t=0,a=this.streams.length;a>t;t++){var r=this.streams[t];r.getBaseStreams&&d.appendToArray(e,r.getBaseStreams())}return e},e}(),B=function(){function e(e,t){this.str=e,this.dict=e.dict;var a=e.getByte(),r=e.getByte();(-1===a||-1===r)&&g("Invalid header in flate stream: "+a+", "+r),8!==(15&a)&&g("Unknown compression method in flate stream: "+a+", "+r),((a<<8)+r)%31!==0&&g("Bad FCHECK in flate stream: "+a+", "+r),32&r&&g("FDICT bit set in flate stream: "+a+", "+r),this.codeSize=0,this.codeBuf=0,A.call(this,t)}var t=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],n=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];
return e.prototype=Object.create(A.prototype),e.prototype.getBits=function(e){for(var t,a=this.str,r=this.codeSize,i=this.codeBuf;e>r;)-1===(t=a.getByte())&&g("Bad encoding in flate stream"),i|=t<<r,r+=8;return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,t},e.prototype.getCode=function(e){for(var t,a=this.str,r=e[0],i=e[1],n=this.codeSize,s=this.codeBuf;i>n&&-1!==(t=a.getByte());)s|=t<<n,n+=8;var o=r[s&(1<<i)-1],c=o>>16,l=65535&o;return(1>c||c>n)&&g("Bad encoding in flate stream"),this.codeBuf=s>>c,this.codeSize=n-c,l},e.prototype.generateHuffmanTable=function(e){var t,a=e.length,r=0;for(t=0;a>t;++t)e[t]>r&&(r=e[t]);for(var i=1<<r,n=new Int32Array(i),s=1,o=0,c=2;r>=s;++s,o<<=1,c<<=1)for(var l=0;a>l;++l)if(e[l]===s){var h=0,u=o;for(t=0;s>t;++t)h=h<<1|1&u,u>>=1;for(t=h;i>t;t+=c)n[t]=s<<16|l;++o}return[n,r]},e.prototype.readBlock=function(){var e,s,o=this.str,c=this.getBits(3);if(1&c&&(this.eof=!0),c>>=1,0!==c){var l,h;if(1===c)l=i,h=n;else if(2===c){var u,f=this.getBits(5)+257,d=this.getBits(5)+1,m=this.getBits(4)+4,p=new Uint8Array(t.length);for(u=0;m>u;++u)p[t[u]]=this.getBits(3);var b=this.generateHuffmanTable(p);s=0,u=0;for(var v,y,k,w=f+d,x=new Uint8Array(w);w>u;){var C=this.getCode(b);if(16===C)v=2,y=3,k=s;else if(17===C)v=3,y=3,k=s=0;else{if(18!==C){x[u++]=s=C;continue}v=7,y=11,k=s=0}for(var S=this.getBits(v)+y;S-->0;)x[u++]=k}l=this.generateHuffmanTable(x.subarray(0,f)),h=this.generateHuffmanTable(x.subarray(f,w))}else g("Unknown block type in flate stream");e=this.buffer;for(var A=e?e.length:0,I=this.bufferLength;;){var B=this.getCode(l);if(256>B)I+1>=A&&(e=this.ensureBuffer(I+1),A=e.length),e[I++]=B;else{if(256===B)return void(this.bufferLength=I);B-=257,B=a[B];var T=B>>16;T>0&&(T=this.getBits(T)),s=(65535&B)+T,B=this.getCode(h),B=r[B],T=B>>16,T>0&&(T=this.getBits(T));var P=(65535&B)+T;I+s>=A&&(e=this.ensureBuffer(I+s),A=e.length);for(var R=0;s>R;++R,++I)e[I]=e[I-P]}}}else{var L;-1===(L=o.getByte())&&g("Bad block header in flate stream");var O=L;-1===(L=o.getByte())&&g("Bad block header in flate stream"),O|=L<<8,-1===(L=o.getByte())&&g("Bad block header in flate stream");var M=L;-1===(L=o.getByte())&&g("Bad block header in flate stream"),M|=L<<8,M===(65535&~O)||0===O&&0===M||g("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var E=this.bufferLength;e=this.ensureBuffer(E+O);var D=E+O;if(this.bufferLength=D,0===O)-1===o.peekByte()&&(this.eof=!0);else for(var U=E;D>U;++U){if(-1===(L=o.getByte())){this.eof=!0;break}e[U]=L}}},e}(),T=function(){function e(e,t,a){var r=this.predictor=a.get("Predictor")||1;if(1>=r)return e;2!==r&&(10>r||r>15)&&g("Unsupported predictor: "+r),2===r?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=e,this.dict=e.dict;var i=this.colors=a.get("Colors")||1,n=this.bits=a.get("BitsPerComponent")||8,s=this.columns=a.get("Columns")||1;return this.pixBytes=i*n+7>>3,this.rowBytes=s*i*n+7>>3,A.call(this,t),this}return e.prototype=Object.create(A.prototype),e.prototype.readBlockTiff=function(){var e=this.rowBytes,t=this.bufferLength,a=this.ensureBuffer(t+e),r=this.bits,i=this.colors,n=this.str.getBytes(e);if(this.eof=!n.length,!this.eof){var s,o=0,c=0,l=0,h=0,u=t;if(1===r)for(s=0;e>s;++s){var f=n[s];o=o<<8|f,a[u++]=255&(f^o>>i),o&=65535}else if(8===r){for(s=0;i>s;++s)a[u++]=n[s];for(;e>s;++s)a[u]=a[u-i]+n[s],u++}else{var d=new Uint8Array(i+1),g=(1<<r)-1,m=0,p=t,b=this.columns;for(s=0;b>s;++s)for(var v=0;i>v;++v)r>l&&(o=o<<8|255&n[m++],l+=8),d[v]=d[v]+(o>>l-r)&g,l-=r,c=c<<r|d[v],h+=r,h>=8&&(a[p++]=c>>h-8&255,h-=8);h>0&&(a[p++]=(c<<8-h)+(o&(1<<8-h)-1))}this.bufferLength+=e}},e.prototype.readBlockPng=function(){var e=this.rowBytes,t=this.pixBytes,a=this.str.getByte(),r=this.str.getBytes(e);if(this.eof=!r.length,!this.eof){var i=this.bufferLength,n=this.ensureBuffer(i+e),s=n.subarray(i-e,i);0===s.length&&(s=new Uint8Array(e));var o,c,l,h=i;switch(a){case 0:for(o=0;e>o;++o)n[h++]=r[o];break;case 1:for(o=0;t>o;++o)n[h++]=r[o];for(;e>o;++o)n[h]=n[h-t]+r[o]&255,h++;break;case 2:for(o=0;e>o;++o)n[h++]=s[o]+r[o]&255;break;case 3:for(o=0;t>o;++o)n[h++]=(s[o]>>1)+r[o];for(;e>o;++o)n[h]=(s[o]+n[h-t]>>1)+r[o]&255,h++;break;case 4:for(o=0;t>o;++o)c=s[o],l=r[o],n[h++]=c+l;for(;e>o;++o){c=s[o];var u=s[o-t],f=n[h-t],d=f+c-u,m=d-f;0>m&&(m=-m);var p=d-c;0>p&&(p=-p);var b=d-u;0>b&&(b=-b),l=r[o],p>=m&&b>=m?n[h++]=f+l:b>=p?n[h++]=c+l:n[h++]=u+l}break;default:g("Unsupported predictor: "+a)}this.bufferLength+=e}},e}(),P=function(){function e(e,t,a,r){for(var i;-1!==(i=e.getByte());)if(255===i){e.skip(-1);break}this.stream=e,this.maybeLength=t,this.dict=a,A.call(this,t)}return e.prototype=Object.create(A.prototype),Object.defineProperty(e.prototype,"bytes",{get:function(){return b(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){if(!this.bufferLength)try{var t=new w;if(this.forceRGB&&this.dict&&p(this.dict.get("Decode"))){for(var a=this.dict.get("Decode"),r=this.dict.get("BitsPerComponent")||8,i=a.length,n=new Int32Array(i),s=!1,o=(1<<r)-1,c=0;i>c;c+=2)n[c]=256*(a[c+1]-a[c])|0,n[c+1]=a[c]*o|0,(256!==n[c]||0!==n[c+1])&&(s=!0);s&&(t.decodeTransform=n)}t.parse(this.bytes);var l=t.getData(this.drawWidth,this.drawHeight,this.forceRGB);this.buffer=l,this.bufferLength=l.length,this.eof=!0}catch(h){g("JPEG error: "+h)}},e.prototype.getBytes=function(e){return this.ensureBuffer(),this.buffer},e.prototype.getIR=function(){return PDFJS.createObjectURL(this.bytes,"image/jpeg")},e.prototype.isNativelySupported=function(e,t){var a=f.parse(this.dict.get("ColorSpace","CS"),e,t);return("DeviceGray"===a.name||"DeviceRGB"===a.name)&&a.isDefaultDecode(this.dict.get("Decode","D"))},e.prototype.isNativelyDecodable=function(e,t){var a=f.parse(this.dict.get("ColorSpace","CS"),e,t);return(1===a.numComps||3===a.numComps)&&a.isDefaultDecode(this.dict.get("Decode","D"))},e}(),R=function(){function e(e,t,a){this.stream=e,this.maybeLength=t,this.dict=a,A.call(this,t)}return e.prototype=Object.create(A.prototype),Object.defineProperty(e.prototype,"bytes",{get:function(){return b(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){if(!this.bufferLength){var t=new x;t.parse(this.bytes);var a=t.width,r=t.height,i=t.componentsCount,n=t.tiles.length;if(1===n)this.buffer=t.tiles[0].items;else{for(var s=new Uint8Array(a*r*i),o=0;n>o;o++)for(var c=t.tiles[o],l=c.width,h=c.height,u=c.left,f=c.top,d=c.items,g=0,m=(a*f+u)*i,p=a*i,b=l*i,v=0;h>v;v++){var y=d.subarray(g,g+b);s.set(y,m),g+=b,m+=p}this.buffer=s}this.bufferLength=this.buffer.length,this.eof=!0}},e}(),L=function(){function e(e,t,a){this.stream=e,this.maybeLength=t,this.dict=a,A.call(this,t)}return e.prototype=Object.create(A.prototype),Object.defineProperty(e.prototype,"bytes",{get:function(){return b(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),e.prototype.ensureBuffer=function(e){if(!this.bufferLength){var t=new k,a=[],r=this.dict.xref,i=r.fetchIfRef(this.dict.get("DecodeParms"));if(p(i)&&(i.length>1&&v("JBIG2 - 'DecodeParms' array with multiple elements not supported."),i=r.fetchIfRef(i[0])),i&&i.has("JBIG2Globals")){var n=i.get("JBIG2Globals"),s=n.getBytes();a.push({data:s,start:0,end:s.length})}a.push({data:this.bytes,start:0,end:this.bytes.length});for(var o=t.parseChunks(a),c=o.length,l=0;c>l;l++)o[l]^=255;this.buffer=o,this.bufferLength=c,this.eof=!0}},e}(),O=function(){function e(e,t,a){this.str=e,this.dict=e.dict,this.decrypt=a,this.nextChunk=null,this.initialized=!1,A.call(this,t)}var t=512;return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){var e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(t),this.initialized=!0),!e||0===e.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(t);var a=this.nextChunk&&this.nextChunk.length>0,r=this.decrypt;e=r(e,!a);var i,n=this.bufferLength,s=e.length,o=this.ensureBuffer(n+s);for(i=0;s>i;i++)o[n++]=e[i];this.bufferLength=n},e}(),M=function(){function e(e,t){this.str=e,this.dict=e.dict,this.input=new Uint8Array(5),t&&(t=.8*t),A.call(this,t)}return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){for(var e=126,t=122,a=-1,r=this.str,i=r.getByte();h.isSpace(i);)i=r.getByte();if(i===a||i===e)return void(this.eof=!0);var n,s,o=this.bufferLength;if(i===t){for(n=this.ensureBuffer(o+4),s=0;4>s;++s)n[o+s]=0;this.bufferLength+=4}else{var c=this.input;for(c[0]=i,s=1;5>s;++s){for(i=r.getByte();h.isSpace(i);)i=r.getByte();if(c[s]=i,i===a||i===e)break}if(n=this.ensureBuffer(o+s-1),this.bufferLength+=s-1,5>s){for(;5>s;++s)c[s]=117;this.eof=!0}var l=0;for(s=0;5>s;++s)l=85*l+(c[s]-33);for(s=3;s>=0;--s)n[o+s]=255&l,l>>=8}},e}(),E=function(){function e(e,t){this.str=e,this.dict=e.dict,this.firstDigit=-1,t&&(t=.5*t),A.call(this,t)}return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){var e=8e3,t=this.str.getBytes(e);if(!t.length)return void(this.eof=!0);for(var a=t.length+1>>1,r=this.ensureBuffer(this.bufferLength+a),i=this.bufferLength,n=this.firstDigit,s=0,o=t.length;o>s;s++){var c,l=t[s];if(l>=48&&57>=l)c=15&l;else{if(!(l>=65&&70>=l||l>=97&&102>=l)){if(62===l){this.eof=!0;break}continue}c=(15&l)+9}0>n?n=c:(r[i++]=n<<4|c,n=-1)}n>=0&&this.eof&&(r[i++]=n<<4,n=-1),this.firstDigit=n,this.bufferLength=i},e}(),D=function(){function e(e,t){this.str=e,this.dict=e.dict,A.call(this,t)}return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){var e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])return void(this.eof=!0);var t,a=this.bufferLength,r=e[0];if(128>r){if(t=this.ensureBuffer(a+r+1),t[a++]=e[1],r>0){var i=this.str.getBytes(r);t.set(i,a),a+=r}}else{r=257-r;var n=e[1];t=this.ensureBuffer(a+r+1);for(var s=0;r>s;s++)t[a++]=n}this.bufferLength=a},e}(),U=function(){function e(e,t,a){this.str=e,this.dict=e.dict,a=a||y.empty,this.encoding=a.get("K")||0,this.eoline=a.get("EndOfLine")||!1,this.byteAlign=a.get("EncodedByteAlign")||!1,this.columns=a.get("Columns")||1728,this.rows=a.get("Rows")||0;var r=a.get("EndOfBlock");(null===r||void 0===r)&&(r=!0),this.eoblock=r,this.black=a.get("BlackIs1")||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0;for(var i;0===(i=this.lookBits(12));)this.eatBits(1);1===i&&this.eatBits(12),this.encoding>0&&(this.nextLine2D=!this.lookBits(1),this.eatBits(1)),A.call(this,t)}var t=-2,a=0,r=1,i=2,n=3,s=4,o=5,c=6,h=7,u=8,f=[[-1,-1],[-1,-1],[7,u],[7,h],[6,c],[6,c],[6,o],[6,o],[4,a],[4,a],[4,a],[4,a],[4,a],[4,a],[4,a],[4,a],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,r],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[3,n],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i],[1,i]],d=[[-1,-1],[12,t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],g=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],p=[[-1,-1],[-1,-1],[12,t],[12,t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],b=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],v=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];return e.prototype=Object.create(A.prototype),e.prototype.readBlock=function(){for(;!this.eof;){var e=this.lookChar();this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}},e.prototype.addPixels=function(e,t){var a=this.codingLine,r=this.codingPos;e>a[r]&&(e>this.columns&&(m("row is wrong length"),this.err=!0,e=this.columns),1&r^t&&++r,a[r]=e),this.codingPos=r},e.prototype.addPixelsNeg=function(e,t){var a=this.codingLine,r=this.codingPos;if(e>a[r])e>this.columns&&(m("row is wrong length"),this.err=!0,e=this.columns),1&r^t&&++r,a[r]=e;else if(e<a[r]){for(0>e&&(m("invalid code"),this.err=!0,e=0);r>0&&e<a[r-1];)--r;a[r]=e}this.codingPos=r},e.prototype.lookChar=function(){var e,t,f,d,g=this.refLine,p=this.codingLine,b=this.columns;if(0===this.outputBits){if(this.eof)return null;this.err=!1;var v,y,k;if(this.nextLine2D){for(d=0;p[d]<b;++d)g[d]=p[d];for(g[d++]=b,g[d]=b,p[0]=0,this.codingPos=0,e=0,t=0;p[this.codingPos]<b;)switch(v=this.getTwoDimCode()){case a:this.addPixels(g[e+1],t),g[e+1]<b&&(e+=2);break;case r:if(v=y=0,t){do v+=k=this.getBlackCode();while(k>=64);do y+=k=this.getWhiteCode();while(k>=64)}else{do v+=k=this.getWhiteCode();while(k>=64);do y+=k=this.getBlackCode();while(k>=64)}for(this.addPixels(p[this.codingPos]+v,t),p[this.codingPos]<b&&this.addPixels(p[this.codingPos]+y,1^t);g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case h:if(this.addPixels(g[e]+3,t),t^=1,p[this.codingPos]<b)for(++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case o:if(this.addPixels(g[e]+2,t),t^=1,p[this.codingPos]<b)for(++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case n:if(this.addPixels(g[e]+1,t),t^=1,p[this.codingPos]<b)for(++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case i:if(this.addPixels(g[e],t),t^=1,p[this.codingPos]<b)for(++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case u:if(this.addPixelsNeg(g[e]-3,t),t^=1,p[this.codingPos]<b)for(e>0?--e:++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case c:if(this.addPixelsNeg(g[e]-2,t),t^=1,p[this.codingPos]<b)for(e>0?--e:++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case s:if(this.addPixelsNeg(g[e]-1,t),t^=1,p[this.codingPos]<b)for(e>0?--e:++e;g[e]<=p[this.codingPos]&&g[e]<b;)e+=2;break;case l:this.addPixels(b,0),this.eof=!0;break;default:m("bad 2d code"),this.addPixels(b,0),this.err=!0}}else for(p[0]=0,this.codingPos=0,t=0;p[this.codingPos]<b;){if(v=0,t){do v+=k=this.getBlackCode();while(k>=64)}else do v+=k=this.getWhiteCode();while(k>=64);this.addPixels(p[this.codingPos]+v,t),t^=1}var w=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(v=this.lookBits(12),this.eoline)for(;v!==l&&1!==v;)this.eatBits(1),v=this.lookBits(12);else for(;0===v;)this.eatBits(1),v=this.lookBits(12);1===v?(this.eatBits(12),w=!0):v===l&&(this.eof=!0)}else this.eof=!0;if(!this.eof&&this.encoding>0&&(this.nextLine2D=!this.lookBits(1),this.eatBits(1)),this.eoblock&&w&&this.byteAlign){if(v=this.lookBits(12),1===v){if(this.eatBits(12),this.encoding>0&&(this.lookBits(1),this.eatBits(1)),this.encoding>=0)for(d=0;4>d;++d)v=this.lookBits(12),1!==v&&m("bad rtc code: "+v),this.eatBits(12),this.encoding>0&&(this.lookBits(1),this.eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(v=this.lookBits(13),v===l)return this.eof=!0,null;if(v>>1===1)break;this.eatBits(1)}this.eatBits(12),this.encoding>0&&(this.eatBits(1),this.nextLine2D=!(1&v))}p[0]>0?this.outputBits=p[this.codingPos=0]:this.outputBits=p[this.codingPos=1],this.row++}var x;if(this.outputBits>=8)x=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&p[this.codingPos]<b&&(this.codingPos++,this.outputBits=p[this.codingPos]-p[this.codingPos-1]);else{f=8,x=0;do this.outputBits>f?(x<<=f,1&this.codingPos||(x|=255>>8-f),this.outputBits-=f,f=0):(x<<=this.outputBits,1&this.codingPos||(x|=255>>8-this.outputBits),f-=this.outputBits,this.outputBits=0,p[this.codingPos]<b?(this.codingPos++,this.outputBits=p[this.codingPos]-p[this.codingPos-1]):f>0&&(x<<=f,f=0));while(f)}return this.black&&(x^=255),x},e.prototype.findTableCode=function(e,t,a,r){for(var i=r||0,n=e;t>=n;++n){var s=this.lookBits(n);if(s===l)return[!0,1,!1];if(t>n&&(s<<=t-n),!i||s>=i){var o=a[s-i];if(o[0]===n)return this.eatBits(n),[!0,o[1],!0]}}return[!1,0,!1]},e.prototype.getTwoDimCode=function(){var e,t=0;if(this.eoblock){if(t=this.lookBits(7),e=f[t],e&&e[0]>0)return this.eatBits(e[0]),e[1]}else{var a=this.findTableCode(1,7,f);if(a[0]&&a[2])return a[1]}return m("Bad two dim code"),l},e.prototype.getWhiteCode=function(){var e,t=0;if(this.eoblock){if(t=this.lookBits(12),t===l)return 1;if(e=t>>5===0?d[t]:g[t>>3],e[0]>0)return this.eatBits(e[0]),e[1]}else{var a=this.findTableCode(1,9,g);if(a[0])return a[1];if(a=this.findTableCode(11,12,d),a[0])return a[1]}return m("bad white code"),this.eatBits(1),1},e.prototype.getBlackCode=function(){var e,t;if(this.eoblock){if(e=this.lookBits(13),e===l)return 1;if(t=e>>7===0?p[e]:e>>9===0&&e>>7!==0?b[(e>>1)-64]:v[e>>7],t[0]>0)return this.eatBits(t[0]),t[1]}else{var a=this.findTableCode(2,6,v);if(a[0])return a[1];if(a=this.findTableCode(7,12,b,64),a[0])return a[1];if(a=this.findTableCode(10,13,p),a[0])return a[1]}return m("bad black code"),this.eatBits(1),1},e.prototype.lookBits=function(e){for(var t;this.inputBits<e;){if(-1===(t=this.str.getByte()))return 0===this.inputBits?l:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=(this.inputBuf<<8)+t,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e},e.prototype.eatBits=function(e){(this.inputBits-=e)<0&&(this.inputBits=0)},e}(),F=function(){function e(e,t,a){this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;for(var r=4096,i={earlyChange:a,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(r),dictionaryLengths:new Uint16Array(r),dictionaryPrevCodes:new Uint16Array(r),currentSequence:new Uint8Array(r),currentSequenceLength:0},n=0;256>n;++n)i.dictionaryValues[n]=n,i.dictionaryLengths[n]=1;this.lzwState=i,A.call(this,t)}return e.prototype=Object.create(A.prototype),e.prototype.readBits=function(e){for(var t=this.bitsCached,a=this.cachedData;e>t;){var r=this.str.getByte();if(-1===r)return this.eof=!0,null;a=a<<8|r,t+=8}return this.bitsCached=t-=e,this.cachedData=a,this.lastCode=null,a>>>t&(1<<e)-1},e.prototype.readBlock=function(){var e,t,a,r=512,i=2*r,n=r,s=this.lzwState;if(s){var o=s.earlyChange,c=s.nextCode,l=s.dictionaryValues,h=s.dictionaryLengths,u=s.dictionaryPrevCodes,f=s.codeLength,d=s.prevCode,g=s.currentSequence,m=s.currentSequenceLength,p=0,b=this.bufferLength,v=this.ensureBuffer(this.bufferLength+i);for(e=0;r>e;e++){var y=this.readBits(f),k=m>0;if(256>y)g[0]=y,m=1;else{if(!(y>=258)){if(256===y){f=9,c=258,m=0;continue}this.eof=!0,delete this.lzwState;break}if(c>y)for(m=h[y],t=m-1,a=y;t>=0;t--)g[t]=l[a],a=u[a];else g[m++]=g[0]}if(k&&(u[c]=d,h[c]=h[d]+1,l[c]=g[0],c++,f=c+o&c+o-1?f:0|Math.min(Math.log(c+o)/.6931471805599453+1,12)),d=y,p+=m,p>i){do i+=n;while(p>i);v=this.ensureBuffer(this.bufferLength+i)}for(t=0;m>t;t++)v[b++]=g[t]}s.nextCode=c,s.codeLength=f,s.prevCode=d,s.currentSequenceLength=m,this.bufferLength=b}},e}(),j=function(){function e(){C.call(this,new Uint8Array(0))}return e.prototype=C.prototype,e}();e._setCoreParser=s,e._setCoreColorSpace=o,e.Ascii85Stream=M,e.AsciiHexStream=E,e.CCITTFaxStream=U,e.DecryptStream=O,e.DecodeStream=A,e.FlateStream=B,e.Jbig2Stream=L,e.JpegStream=P,e.JpxStream=R,e.NullStream=j,e.PredictorStream=T,e.RunLengthStream=D,e.Stream=C,e.StreamsSequenceStream=I,e.StringStream=S,e.LZWStream=F}),function(e,t){t(e.pdfjsCoreCrypto={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream)}(this,function(e,t,a,r){var i=t.PasswordException,n=t.PasswordResponses,s=t.bytesToString,o=t.error,c=t.isInt,l=t.stringToBytes,h=t.utf8StringToString,u=t.warn,f=a.Name,d=a.isName,g=a.isDict,m=r.DecryptStream,p=function(){function e(e){this.a=0,this.b=0;var t,a,r=new Uint8Array(256),i=0,n=e.length;for(t=0;256>t;++t)r[t]=t;for(t=0;256>t;++t)a=r[t],i=i+a+e[t%n]&255,r[t]=r[i],r[i]=a;this.s=r}return e.prototype={encryptBlock:function(e){var t,a,r,i=e.length,n=this.a,s=this.b,o=this.s,c=new Uint8Array(i);for(t=0;i>t;++t)n=n+1&255,a=o[n],s=s+a&255,r=o[s],o[n]=r,o[s]=a,c[t]=e[t]^o[a+r&255];return this.a=n,this.b=s,c}},e.prototype.decryptBlock=e.prototype.encryptBlock,e}(),b=function(){function e(e,r,i){var n,s,o,c=1732584193,l=-271733879,h=-1732584194,u=271733878,f=i+72&-64,d=new Uint8Array(f);for(n=0;i>n;++n)d[n]=e[r++];for(d[n++]=128,o=f-8;o>n;)d[n++]=0;d[n++]=i<<3&255,d[n++]=i>>5&255,d[n++]=i>>13&255,d[n++]=i>>21&255,d[n++]=i>>>29&255,d[n++]=0,d[n++]=0,d[n++]=0;var g=new Int32Array(16);for(n=0;f>n;){for(s=0;16>s;++s,n+=4)g[s]=d[n]|d[n+1]<<8|d[n+2]<<16|d[n+3]<<24;var m,p,b=c,v=l,y=h,k=u;for(s=0;64>s;++s){16>s?(m=v&y|~v&k,p=s):32>s?(m=k&v|~k&y,p=5*s+1&15):48>s?(m=v^y^k,p=3*s+5&15):(m=y^(v|~k),p=7*s&15);var w=k,x=b+m+a[s]+g[p]|0,C=t[s];k=y,y=v,v=v+(x<<C|x>>>32-C)|0,b=w}c=c+b|0,l=l+v|0,h=h+y|0,u=u+k|0}return new Uint8Array([255&c,c>>8&255,c>>16&255,c>>>24&255,255&l,l>>8&255,l>>16&255,l>>>24&255,255&h,h>>8&255,h>>16&255,h>>>24&255,255&u,u>>8&255,u>>16&255,u>>>24&255])}var t=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),a=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return e}(),v=function(){function e(e,t){this.high=0|e,this.low=0|t}return e.prototype={and:function(e){this.high&=e.high,this.low&=e.low},xor:function(e){this.high^=e.high,this.low^=e.low},or:function(e){this.high|=e.high,this.low|=e.low},shiftRight:function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)},shiftLeft:function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low=this.low<<e)},rotateRight:function(e){var t,a;32&e?(a=this.low,t=this.high):(t=this.low,a=this.high),e&=31,this.low=t>>>e|a<<32-e,this.high=a>>>e|t<<32-e},not:function(){this.high=~this.high,this.low=~this.low},add:function(e){var t=(this.low>>>0)+(e.low>>>0),a=(this.high>>>0)+(e.high>>>0);t>4294967295&&(a+=1),this.low=0|t,this.high=0|a},copyTo:function(e,t){e[t]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low},assign:function(e){this.high=e.high,this.low=e.low}},e}(),y=function(){function e(e,t){return e>>>t|e<<32-t}function t(e,t,a){return e&t^~e&a}function a(e,t,a){return e&t^e&a^t&a}function r(t){return e(t,2)^e(t,13)^e(t,22)}function i(t){return e(t,6)^e(t,11)^e(t,25)}function n(t){return e(t,7)^e(t,18)^t>>>3}function s(t){return e(t,17)^e(t,19)^t>>>10}function o(e,o,l){var h,u,f,d=1779033703,g=3144134277,m=1013904242,p=2773480762,b=1359893119,v=2600822924,y=528734635,k=1541459225,w=64*Math.ceil((l+9)/64),x=new Uint8Array(w);for(h=0;l>h;++h)x[h]=e[o++];for(x[h++]=128,f=w-8;f>h;)x[h++]=0;x[h++]=0,x[h++]=0,x[h++]=0,x[h++]=l>>>29&255,x[h++]=l>>21&255,x[h++]=l>>13&255,x[h++]=l>>5&255,x[h++]=l<<3&255;var C=new Uint32Array(64);for(h=0;w>h;){for(u=0;16>u;++u)C[u]=x[h]<<24|x[h+1]<<16|x[h+2]<<8|x[h+3],h+=4;for(u=16;64>u;++u)C[u]=s(C[u-2])+C[u-7]+n(C[u-15])+C[u-16]|0;var S,A,I=d,B=g,T=m,P=p,R=b,L=v,O=y,M=k;for(u=0;64>u;++u)S=M+i(R)+t(R,L,O)+c[u]+C[u],A=r(I)+a(I,B,T),M=O,O=L,L=R,R=P+S|0,P=T,T=B,B=I,I=S+A|0;d=d+I|0,g=g+B|0,m=m+T|0,p=p+P|0,b=b+R|0,v=v+L|0,y=y+O|0,k=k+M|0}return new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,g>>24&255,g>>16&255,g>>8&255,255&g,m>>24&255,m>>16&255,m>>8&255,255&m,p>>24&255,p>>16&255,p>>8&255,255&p,b>>24&255,b>>16&255,b>>8&255,255&b,v>>24&255,v>>16&255,v>>8&255,255&v,y>>24&255,y>>16&255,y>>8&255,255&y,k>>24&255,k>>16&255,k>>8&255,255&k])}var c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return o}(),k=function(){function e(e,t,a,r,i){e.assign(t),e.and(a),i.assign(t),i.not(),i.and(r),e.xor(i)}function t(e,t,a,r,i){e.assign(t),e.and(a),i.assign(t),i.and(r),e.xor(i),i.assign(a),i.and(r),e.xor(i)}function a(e,t,a){e.assign(t),e.rotateRight(28),a.assign(t),a.rotateRight(34),e.xor(a),a.assign(t),a.rotateRight(39),e.xor(a)}function r(e,t,a){e.assign(t),e.rotateRight(14),a.assign(t),a.rotateRight(18),e.xor(a),a.assign(t),a.rotateRight(41),e.xor(a)}function i(e,t,a){e.assign(t),e.rotateRight(1),a.assign(t),a.rotateRight(8),e.xor(a),a.assign(t),a.shiftRight(7),e.xor(a)}function n(e,t,a){e.assign(t),e.rotateRight(19),a.assign(t),a.rotateRight(61),e.xor(a),a.assign(t),a.shiftRight(6),e.xor(a)}function s(s,c,l,h){h=!!h;var u,f,d,g,m,p,b,y;h?(u=new v(3418070365,3238371032),f=new v(1654270250,914150663),d=new v(2438529370,812702999),g=new v(355462360,4144912697),m=new v(1731405415,4290775857),
p=new v(2394180231,1750603025),b=new v(3675008525,1694076839),y=new v(1203062813,3204075428)):(u=new v(1779033703,4089235720),f=new v(3144134277,2227873595),d=new v(1013904242,4271175723),g=new v(2773480762,1595750129),m=new v(1359893119,2917565137),p=new v(2600822924,725511199),b=new v(528734635,4215389547),y=new v(1541459225,327033209));var k,w,x,C=128*Math.ceil((l+17)/128),S=new Uint8Array(C);for(k=0;l>k;++k)S[k]=s[c++];for(S[k++]=128,x=C-16;x>k;)S[k++]=0;S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=0,S[k++]=l>>>29&255,S[k++]=l>>21&255,S[k++]=l>>13&255,S[k++]=l>>5&255,S[k++]=l<<3&255;var A=new Array(80);for(k=0;80>k;k++)A[k]=new v(0,0);var I,B=new v(0,0),T=new v(0,0),P=new v(0,0),R=new v(0,0),L=new v(0,0),O=new v(0,0),M=new v(0,0),E=new v(0,0),D=new v(0,0),U=new v(0,0),F=new v(0,0),j=new v(0,0);for(k=0;C>k;){for(w=0;16>w;++w)A[w].high=S[k]<<24|S[k+1]<<16|S[k+2]<<8|S[k+3],A[w].low=S[k+4]<<24|S[k+5]<<16|S[k+6]<<8|S[k+7],k+=8;for(w=16;80>w;++w)I=A[w],n(I,A[w-2],j),I.add(A[w-7]),i(F,A[w-15],j),I.add(F),I.add(A[w-16]);for(B.assign(u),T.assign(f),P.assign(d),R.assign(g),L.assign(m),O.assign(p),M.assign(b),E.assign(y),w=0;80>w;++w)D.assign(E),r(F,L,j),D.add(F),e(F,L,O,M,j),D.add(F),D.add(o[w]),D.add(A[w]),a(U,B,j),t(F,B,T,P,j),U.add(F),I=E,E=M,M=O,O=L,R.add(D),L=R,R=P,P=T,T=B,I.assign(D),I.add(U),B=I;u.add(B),f.add(T),d.add(P),g.add(R),m.add(L),p.add(O),b.add(M),y.add(E)}var N;return h?(N=new Uint8Array(48),u.copyTo(N,0),f.copyTo(N,8),d.copyTo(N,16),g.copyTo(N,24),m.copyTo(N,32),p.copyTo(N,40)):(N=new Uint8Array(64),u.copyTo(N,0),f.copyTo(N,8),d.copyTo(N,16),g.copyTo(N,24),m.copyTo(N,32),p.copyTo(N,40),b.copyTo(N,48),y.copyTo(N,56)),N}var o=[new v(1116352408,3609767458),new v(1899447441,602891725),new v(3049323471,3964484399),new v(3921009573,2173295548),new v(961987163,4081628472),new v(1508970993,3053834265),new v(2453635748,2937671579),new v(2870763221,3664609560),new v(3624381080,2734883394),new v(310598401,1164996542),new v(607225278,1323610764),new v(1426881987,3590304994),new v(1925078388,4068182383),new v(2162078206,991336113),new v(2614888103,633803317),new v(3248222580,3479774868),new v(3835390401,2666613458),new v(4022224774,944711139),new v(264347078,2341262773),new v(604807628,2007800933),new v(770255983,1495990901),new v(1249150122,1856431235),new v(1555081692,3175218132),new v(1996064986,2198950837),new v(2554220882,3999719339),new v(2821834349,766784016),new v(2952996808,2566594879),new v(3210313671,3203337956),new v(3336571891,1034457026),new v(3584528711,2466948901),new v(113926993,3758326383),new v(338241895,168717936),new v(666307205,1188179964),new v(773529912,1546045734),new v(1294757372,1522805485),new v(1396182291,2643833823),new v(1695183700,2343527390),new v(1986661051,1014477480),new v(2177026350,1206759142),new v(2456956037,344077627),new v(2730485921,1290863460),new v(2820302411,3158454273),new v(3259730800,3505952657),new v(3345764771,106217008),new v(3516065817,3606008344),new v(3600352804,1432725776),new v(4094571909,1467031594),new v(275423344,851169720),new v(430227734,3100823752),new v(506948616,1363258195),new v(659060556,3750685593),new v(883997877,3785050280),new v(958139571,3318307427),new v(1322822218,3812723403),new v(1537002063,2003034995),new v(1747873779,3602036899),new v(1955562222,1575990012),new v(2024104815,1125592928),new v(2227730452,2716904306),new v(2361852424,442776044),new v(2428436474,593698344),new v(2756734187,3733110249),new v(3204031479,2999351573),new v(3329325298,3815920427),new v(3391569614,3928383900),new v(3515267271,566280711),new v(3940187606,3454069534),new v(4118630271,4000239992),new v(116418474,1914138554),new v(174292421,2731055270),new v(289380356,3203993006),new v(460393269,320620315),new v(685471733,587496836),new v(852142971,1086792851),new v(1017036298,365543100),new v(1126000580,2618297676),new v(1288033470,3409855158),new v(1501505948,4234509866),new v(1607167915,987167468),new v(1816402316,1246189591)];return s}(),w=function(){function e(e,t,a){return k(e,t,a,!0)}return e}(),x=function(){function e(){}return e.prototype={decryptBlock:function(e){return e}},e}(),C=function(){function e(e){var t=176,a=new Uint8Array(t);a.set(e);for(var r=16,i=1;t>r;++i){var o=a[r-3],c=a[r-2],l=a[r-1],h=a[r-4];o=s[o],c=s[c],l=s[l],h=s[h],o^=n[i];for(var u=0;4>u;++u)a[r]=o^=a[r-16],r++,a[r]=c^=a[r-16],r++,a[r]=l^=a[r-16],r++,a[r]=h^=a[r-16],r++}return a}function t(e,t){var a=new Uint8Array(16);a.set(e);var r,i,n,s,c,l;for(i=0,n=160;16>i;++i,++n)a[i]^=t[n];for(r=9;r>=1;--r){for(s=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=s,s=a[14],c=a[10],a[14]=a[6],a[10]=a[2],a[6]=s,a[2]=c,s=a[15],c=a[11],l=a[7],a[15]=a[3],a[11]=s,a[7]=c,a[3]=l,i=0;16>i;++i)a[i]=o[a[i]];for(i=0,n=16*r;16>i;++i,++n)a[i]^=t[n];for(i=0;16>i;i+=4){var u=h[a[i]],f=h[a[i+1]],d=h[a[i+2]],g=h[a[i+3]];s=u^f>>>8^f<<24^d>>>16^d<<16^g>>>24^g<<8,a[i]=s>>>24&255,a[i+1]=s>>16&255,a[i+2]=s>>8&255,a[i+3]=255&s}}for(s=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=s,s=a[14],c=a[10],a[14]=a[6],a[10]=a[2],a[6]=s,a[2]=c,s=a[15],c=a[11],l=a[7],a[15]=a[3],a[11]=s,a[7]=c,a[3]=l,i=0;16>i;++i)a[i]=o[a[i]],a[i]^=t[i];return a}function a(e,t){var a,r,i,n,o=new Uint8Array(16);for(o.set(e),h=0;16>h;++h)o[h]^=t[h];for(l=1;10>l;l++){for(h=0;16>h;++h)o[h]=s[o[h]];i=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=i,i=o[2],r=o[6],o[2]=o[10],o[6]=o[14],o[10]=i,o[14]=r,i=o[3],r=o[7],a=o[11],o[3]=o[15],o[7]=i,o[11]=r,o[15]=a;for(var h=0;16>h;h+=4){var u=o[h+0],f=o[h+1],d=o[h+2],g=o[h+3];a=u^f^d^g,o[h+0]^=a^c[u^f],o[h+1]^=a^c[f^d],o[h+2]^=a^c[d^g],o[h+3]^=a^c[g^u]}for(h=0,n=16*l;16>h;++h,++n)o[h]^=t[n]}for(h=0;16>h;++h)o[h]=s[o[h]];for(i=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=i,i=o[2],r=o[6],o[2]=o[10],o[6]=o[14],o[10]=i,o[14]=r,i=o[3],r=o[7],a=o[11],o[3]=o[15],o[7]=i,o[11]=r,o[15]=a,h=0,n=160;16>h;++h,++n)o[h]^=t[n];return o}function r(t){this.key=e(t),this.buffer=new Uint8Array(16),this.bufferPosition=0}function i(e,a){var r,i,n,s=e.length,o=this.buffer,c=this.bufferPosition,l=[],h=this.iv;for(r=0;s>r;++r)if(o[c]=e[r],++c,!(16>c)){var u=t(o,this.key);for(i=0;16>i;++i)u[i]^=h[i];h=o,l.push(u),o=new Uint8Array(16),c=0}if(this.buffer=o,this.bufferLength=c,this.iv=h,0===l.length)return new Uint8Array([]);var f=16*l.length;if(a){var d=l[l.length-1],g=d[15];if(16>=g){for(r=15,n=16-g;r>=n;--r)if(d[r]!==g){g=0;break}f-=g,l[l.length-1]=d.subarray(0,16-g)}}var m=new Uint8Array(f);for(r=0,i=0,n=l.length;n>r;++r,i+=16)m.set(l[r],i);return m}for(var n=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),o=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),c=new Uint8Array(256),l=0;256>l;l++)128>l?c[l]=l<<1:c[l]=l<<1^27;var h=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]);return r.prototype={decryptBlock:function(e,t){var a,r=e.length,n=this.buffer,s=this.bufferPosition;for(a=0;16>s&&r>a;++a,++s)n[s]=e[a];return 16>s?(this.bufferLength=s,new Uint8Array([])):(this.iv=n,this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=i,this.decryptBlock(e.subarray(16),t))},encrypt:function(e,t){var r,i,n,s=e.length,o=this.buffer,c=this.bufferPosition,l=[];for(t||(t=new Uint8Array(16)),r=0;s>r;++r)if(o[c]=e[r],++c,!(16>c)){for(i=0;16>i;++i)o[i]^=t[i];var h=a(o,this.key);t=h,l.push(h),o=new Uint8Array(16),c=0}if(this.buffer=o,this.bufferLength=c,this.iv=t,0===l.length)return new Uint8Array([]);var u=16*l.length,f=new Uint8Array(u);for(r=0,i=0,n=l.length;n>r;++r,i+=16)f.set(l[r],i);return f}},r}(),S=function(){function e(e){var t=240,a=new Uint8Array(t),r=1;a.set(e);for(var i=32,s=1;t>i;++s){if(i%32===16)o=n[o],c=n[c],l=n[l],h=n[h];else if(i%32===0){var o=a[i-3],c=a[i-2],l=a[i-1],h=a[i-4];o=n[o],c=n[c],l=n[l],h=n[h],o^=r,(r<<=1)>=256&&(r=255&(27^r))}for(var u=0;4>u;++u)a[i]=o^=a[i-32],i++,a[i]=c^=a[i-32],i++,a[i]=l^=a[i-32],i++,a[i]=h^=a[i-32],i++}return a}function t(e,t){var a=new Uint8Array(16);a.set(e);var r,i,n,o,c,h;for(i=0,n=224;16>i;++i,++n)a[i]^=t[n];for(r=13;r>=1;--r){for(o=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=o,o=a[14],c=a[10],a[14]=a[6],a[10]=a[2],a[6]=o,a[2]=c,o=a[15],c=a[11],h=a[7],a[15]=a[3],a[11]=o,a[7]=c,a[3]=h,i=0;16>i;++i)a[i]=s[a[i]];for(i=0,n=16*r;16>i;++i,++n)a[i]^=t[n];for(i=0;16>i;i+=4){var u=l[a[i]],f=l[a[i+1]],d=l[a[i+2]],g=l[a[i+3]];o=u^f>>>8^f<<24^d>>>16^d<<16^g>>>24^g<<8,a[i]=o>>>24&255,a[i+1]=o>>16&255,a[i+2]=o>>8&255,a[i+3]=255&o}}for(o=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=o,o=a[14],c=a[10],a[14]=a[6],a[10]=a[2],a[6]=o,a[2]=c,o=a[15],c=a[11],h=a[7],a[15]=a[3],a[11]=o,a[7]=c,a[3]=h,i=0;16>i;++i)a[i]=s[a[i]],a[i]^=t[i];return a}function a(e,t){var a,r,i,s,l=new Uint8Array(16);for(l.set(e),h=0;16>h;++h)l[h]^=t[h];for(c=1;14>c;c++){for(h=0;16>h;++h)l[h]=n[l[h]];i=l[1],l[1]=l[5],l[5]=l[9],l[9]=l[13],l[13]=i,i=l[2],r=l[6],l[2]=l[10],l[6]=l[14],l[10]=i,l[14]=r,i=l[3],r=l[7],a=l[11],l[3]=l[15],l[7]=i,l[11]=r,l[15]=a;for(var h=0;16>h;h+=4){var u=l[h+0],f=l[h+1],d=l[h+2],g=l[h+3];a=u^f^d^g,l[h+0]^=a^o[u^f],l[h+1]^=a^o[f^d],l[h+2]^=a^o[d^g],l[h+3]^=a^o[g^u]}for(h=0,s=16*c;16>h;++h,++s)l[h]^=t[s]}for(h=0;16>h;++h)l[h]=n[l[h]];for(i=l[1],l[1]=l[5],l[5]=l[9],l[9]=l[13],l[13]=i,i=l[2],r=l[6],l[2]=l[10],l[6]=l[14],l[10]=i,l[14]=r,i=l[3],r=l[7],a=l[11],l[3]=l[15],l[7]=i,l[11]=r,l[15]=a,h=0,s=224;16>h;++h,++s)l[h]^=t[s];return l}function r(t){this.key=e(t),this.buffer=new Uint8Array(16),this.bufferPosition=0}function i(e,a){var r,i,n,s=e.length,o=this.buffer,c=this.bufferPosition,l=[],h=this.iv;for(r=0;s>r;++r)if(o[c]=e[r],++c,!(16>c)){var u=t(o,this.key);for(i=0;16>i;++i)u[i]^=h[i];h=o,l.push(u),o=new Uint8Array(16),c=0}if(this.buffer=o,this.bufferLength=c,this.iv=h,0===l.length)return new Uint8Array([]);var f=16*l.length;if(a){var d=l[l.length-1],g=d[15];if(16>=g){for(r=15,n=16-g;r>=n;--r)if(d[r]!==g){g=0;break}f-=g,l[l.length-1]=d.subarray(0,16-g)}}var m=new Uint8Array(f);for(r=0,i=0,n=l.length;n>r;++r,i+=16)m.set(l[r],i);return m}for(var n=(new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22])),s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),o=new Uint8Array(256),c=0;256>c;c++)128>c?o[c]=c<<1:o[c]=c<<1^27;var l=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]);return r.prototype={decryptBlock:function(e,t,a){var r,n=e.length,s=this.buffer,o=this.bufferPosition;if(a)this.iv=a;else{for(r=0;16>o&&n>r;++r,++o)s[o]=e[r];if(16>o)return this.bufferLength=o,new Uint8Array([]);this.iv=s,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=i,this.decryptBlock(e,t)},encrypt:function(e,t){var r,i,n,s=e.length,o=this.buffer,c=this.bufferPosition,l=[];for(t||(t=new Uint8Array(16)),r=0;s>r;++r)if(o[c]=e[r],++c,!(16>c)){for(i=0;16>i;++i)o[i]^=t[i];var h=a(o,this.key);this.iv=h,l.push(h),o=new Uint8Array(16),c=0}if(this.buffer=o,this.bufferLength=c,this.iv=t,0===l.length)return new Uint8Array([]);var u=16*l.length,f=new Uint8Array(u);for(r=0,i=0,n=l.length;n>r;++r,i+=16)f.set(l[r],i);return f}},r}(),A=function(){function e(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function t(){}return t.prototype={checkOwnerPassword:function(t,a,r,i){var n=new Uint8Array(t.length+56);n.set(t,0),n.set(a,t.length),n.set(r,t.length+a.length);var s=y(n,0,n.length);return e(s,i)},checkUserPassword:function(t,a,r){var i=new Uint8Array(t.length+8);i.set(t,0),i.set(a,t.length);var n=y(i,0,i.length);return e(n,r)},getOwnerKey:function(e,t,a,r){var i=new Uint8Array(e.length+56);i.set(e,0),i.set(t,e.length),i.set(a,e.length+t.length);var n=y(i,0,i.length),s=new S(n);return s.decryptBlock(r,!1,new Uint8Array(16))},getUserKey:function(e,t,a){var r=new Uint8Array(e.length+8);r.set(e,0),r.set(t,e.length);var i=y(r,0,r.length),n=new S(i);return n.decryptBlock(a,!1,new Uint8Array(16))}},t}(),I=function(){function e(e,t){var a=new Uint8Array(e.length+t.length);return a.set(e,0),a.set(t,e.length),a}function t(t,a,r){for(var i=y(a,0,a.length).subarray(0,32),n=[0],s=0;64>s||n[n.length-1]>s-32;){var o=t.length+i.length+r.length,c=new Uint8Array(64*o),l=e(t,i);l=e(l,r);for(var h=0,u=0;64>h;h++,u+=o)c.set(l,u);var f=new C(i.subarray(0,16));n=f.encrypt(c,i.subarray(16,32));for(var d=0,g=0;16>g;g++)d*=1,d%=3,d+=(n[g]>>>0)%3,d%=3;0===d?i=y(n,0,n.length):1===d?i=w(n,0,n.length):2===d&&(i=k(n,0,n.length)),s++}return i.subarray(0,32)}function a(){}function r(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return a.prototype={hash:function(e,a,r){return t(e,a,r)},checkOwnerPassword:function(e,a,i,n){var s=new Uint8Array(e.length+56);s.set(e,0),s.set(a,e.length),s.set(i,e.length+a.length);var o=t(e,s,i);return r(o,n)},checkUserPassword:function(e,a,i){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(a,e.length);var s=t(e,n,[]);return r(s,i)},getOwnerKey:function(e,a,r,i){var n=new Uint8Array(e.length+56);n.set(e,0),n.set(a,e.length),n.set(r,e.length+a.length);var s=t(e,n,r),o=new S(s);return o.decryptBlock(i,!1,new Uint8Array(16))},getUserKey:function(e,a,r){var i=new Uint8Array(e.length+8);i.set(e,0),i.set(a,e.length);var n=t(e,i,[]),s=new S(n);return s.decryptBlock(r,!1,new Uint8Array(16))}},a}(),B=function(){function e(e,t){this.stringCipherConstructor=e,this.streamCipherConstructor=t}return e.prototype={createStream:function(e,t){var a=new this.streamCipherConstructor;return new m(e,t,function(e,t){return a.decryptBlock(e,t)})},decryptString:function(e){var t=new this.stringCipherConstructor,a=l(e);return a=t.decryptBlock(a,!0),s(a)}},e}(),T=function(){function e(e,t,a,r,i,n,s,o,c,l,h,u){if(t){var f=Math.min(127,t.length);t=t.subarray(0,f)}else t=[];var d;if(d=6===e?new I:new A){if(d.checkUserPassword(t,o,s))return d.getUserKey(t,c,h);if(t.length&&d.checkOwnerPassword(t,r,n,a))return d.getOwnerKey(t,i,n,l)}return null}function t(e,t,a,r,i,n,s,o){var c,l,h=40+a.length+e.length,u=new Uint8Array(h),f=0;if(t)for(l=Math.min(32,t.length);l>f;++f)u[f]=t[f];for(c=0;32>f;)u[f++]=v[c++];for(c=0,l=a.length;l>c;++c)u[f++]=a[c];for(u[f++]=255&i,u[f++]=i>>8&255,u[f++]=i>>16&255,u[f++]=i>>>24&255,c=0,l=e.length;l>c;++c)u[f++]=e[c];n>=4&&!o&&(u[f++]=255,u[f++]=255,u[f++]=255,u[f++]=255);var d=b(u,0,f),g=s>>3;if(n>=3)for(c=0;50>c;++c)d=b(d,0,g);var m,y,k=d.subarray(0,g);if(n>=3){for(f=0;32>f;++f)u[f]=v[f];for(c=0,l=e.length;l>c;++c)u[f++]=e[c];m=new p(k),y=m.encryptBlock(b(u,0,f)),l=k.length;var w,x=new Uint8Array(l);for(c=1;19>=c;++c){for(w=0;l>w;++w)x[w]=k[w]^c;m=new p(x),y=m.encryptBlock(y)}for(c=0,l=y.length;l>c;++c)if(r[c]!==y[c])return null}else for(m=new p(k),y=m.encryptBlock(v),c=0,l=y.length;l>c;++c)if(r[c]!==y[c])return null;return k}function a(e,t,a,r){var i,n,s=new Uint8Array(32),o=0;for(n=Math.min(32,e.length);n>o;++o)s[o]=e[o];for(i=0;32>o;)s[o++]=v[i++];var c=b(s,0,o),l=r>>3;if(a>=3)for(i=0;50>i;++i)c=b(c,0,c.length);var h,u;if(a>=3){u=t;var f,d=new Uint8Array(l);for(i=19;i>=0;i--){for(f=0;l>f;++f)d[f]=c[f]^i;h=new p(d),u=h.encryptBlock(u)}}else h=new p(c.subarray(0,l)),u=h.encryptBlock(t);return u}function r(r,s,f){var m=r.get("Filter");d(m)&&"Standard"===m.name||o("unknown encryption method"),this.dict=r;var p=r.get("V");(!c(p)||1!==p&&2!==p&&4!==p&&5!==p)&&o("unsupported encryption algorithm"),this.algorithm=p;var b=r.get("Length");if(!b)if(3>=p)b=40;else{var v=r.get("CF"),k=r.get("StmF");if(g(v)&&d(k)){var w=v.get(k.name);b=w&&w.get("Length")||128,40>b&&(b<<=3)}}(!c(b)||40>b||b%8!==0)&&o("invalid key length");var x=l(r.get("O")).subarray(0,32),C=l(r.get("U")).subarray(0,32),S=r.get("P"),A=r.get("R"),I=(4===p||5===p)&&r.get("EncryptMetadata")!==!1;this.encryptMetadata=I;var B,T=l(s);if(f){if(6===A)try{f=h(f)}catch(P){u("CipherTransformFactory: Unable to convert UTF8 encoded password.")}B=l(f)}var R;if(5!==p)R=t(T,B,x,C,S,A,b,I);else{var L=l(r.get("O")).subarray(32,40),O=l(r.get("O")).subarray(40,48),M=l(r.get("U")).subarray(0,48),E=l(r.get("U")).subarray(32,40),D=l(r.get("U")).subarray(40,48),U=l(r.get("OE")),F=l(r.get("UE")),j=l(r.get("Perms"));R=e(A,B,x,L,O,M,C,E,D,U,F,j)}if(!R&&!f)throw new i("No password given",n.NEED_PASSWORD);if(!R&&f){var N=a(B,x,A,b);R=t(T,N,x,C,S,A,b,I)}if(!R)throw new i("Incorrect Password",n.INCORRECT_PASSWORD);this.encryptionKey=R,p>=4&&(this.cf=r.get("CF"),this.stmf=r.get("StmF")||y,this.strf=r.get("StrF")||y,this.eff=r.get("EFF")||this.stmf)}function s(e,t,a,r){var i,n,s=new Uint8Array(a.length+9);for(i=0,n=a.length;n>i;++i)s[i]=a[i];s[i++]=255&e,s[i++]=e>>8&255,s[i++]=e>>16&255,s[i++]=255&t,s[i++]=t>>8&255,r&&(s[i++]=115,s[i++]=65,s[i++]=108,s[i++]=84);var o=b(s,0,i);return o.subarray(0,Math.min(a.length+5,16))}function m(e,t,a,r,i){var n,c=e.get(t.name);return null!==c&&void 0!==c&&(n=c.get("CFM")),n&&"None"!==n.name?"V2"===n.name?function(){return new p(s(a,r,i,!1))}:"AESV2"===n.name?function(){return new C(s(a,r,i,!0))}:"AESV3"===n.name?function(){return new S(i)}:void o("Unknown crypto method"):function(){return new x}}var v=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]),y=f.get("Identity");return r.prototype={createCipherTransform:function(e,t){if(4===this.algorithm||5===this.algorithm)return new B(m(this.cf,this.stmf,e,t,this.encryptionKey),m(this.cf,this.strf,e,t,this.encryptionKey));var a=s(e,t,this.encryptionKey,!1),r=function(){return new p(a)};return new B(r,r)}},r}();e.AES128Cipher=C,e.AES256Cipher=S,e.ARCFourCipher=p,e.CipherTransformFactory=T,e.PDF17=A,e.PDF20=I,e.calculateMD5=b,e.calculateSHA256=y,e.calculateSHA384=w,e.calculateSHA512=k}),function(e,t){t(e.pdfjsCoreFontRenderer={},e.pdfjsSharedUtil,e.pdfjsCoreStream,e.pdfjsCoreGlyphList)}(this,function(e,t,a,r){function i(e){n=e,o=e.Encodings,s=e.CFFParser}var n,s,o,c=t.Util,l=t.bytesToString,h=t.error,u=a.Stream,f=r.GlyphsUnicode,d=function(){function e(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function t(e,t){return e[t]<<8|e[t+1]}function a(a,r,i){var n,s,o,c,l=1===t(a,r+2)?e(a,r+8):e(a,r+16),u=t(a,r+l);if(4===u){n=t(a,r+l+2);var f=t(a,r+l+6)>>1;for(o=r+l+14,s=[],c=0;f>c;c++,o+=2)s[c]={end:t(a,o)};for(o+=2,c=0;f>c;c++,o+=2)s[c].start=t(a,o);for(c=0;f>c;c++,o+=2)s[c].idDelta=t(a,o);for(c=0;f>c;c++,o+=2){var d=t(a,o);if(0!==d){s[c].ids=[];for(var g=0,m=s[c].end-s[c].start+1;m>g;g++)s[c].ids[g]=t(a,o+d),d+=2}}return s}if(12===u){n=e(a,r+l+4);var p=e(a,r+l+12);for(o=r+l+16,s=[],c=0;p>c;c++)s.push({start:e(a,o),end:e(a,o+4),idDelta:e(a,o+8)-e(a,o)}),o+=12;return s}h("not supported cmap: "+u)}function r(e,t,a){var r={},i=new s(new u(e,t,a-t),r),n=i.parse();return{glyphs:n.charStrings.objects,subrs:n.topDict.privateDict&&n.topDict.privateDict.subrsIndex&&n.topDict.privateDict.subrsIndex.objects,gsubrs:n.globalSubrIndex&&n.globalSubrIndex.objects}}function i(e,t,a){var r,i;a?(r=4,i=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}):(r=2,i=function(e,t){return e[t]<<9|e[t+1]<<1});for(var n=[],s=i(t,0),o=r;o<t.length;o+=r){var c=i(t,o);n.push(e.subarray(s,c)),s=c}return n}function n(e,t){for(var a=t.charCodeAt(0),r=0,i=e.length-1;i>r;){var n=r+i+1>>1;a<e[n].start?i=n-1:r=n}return e[r].start<=a&&a<=e[r].end?e[r].idDelta+(e[r].ids?e[r].ids[a-e[r].start]:a)&65535:0}function d(e,t,a){function r(e,a){t.push({cmd:"moveTo",args:[e,a]})}function i(e,a){t.push({cmd:"lineTo",args:[e,a]})}function n(e,a,r,i){t.push({cmd:"quadraticCurveTo",args:[e,a,r,i]})}var s,o=0,c=(e[o]<<24|e[o+1]<<16)>>16,l=0,h=0;if(o+=10,0>c){do{s=e[o]<<8|e[o+1];var u=e[o+2]<<8|e[o+3];o+=4;var f,g;1&s?(f=(e[o]<<24|e[o+1]<<16)>>16,g=(e[o+2]<<24|e[o+3]<<16)>>16,o+=4):(f=e[o++],g=e[o++]),2&s?(l=f,h=g):(l=0,h=0);var m=1,p=1,b=0,v=0;8&s?(m=p=(e[o]<<24|e[o+1]<<16)/1073741824,o+=2):64&s?(m=(e[o]<<24|e[o+1]<<16)/1073741824,p=(e[o+2]<<24|e[o+3]<<16)/1073741824,o+=4):128&s&&(m=(e[o]<<24|e[o+1]<<16)/1073741824,b=(e[o+2]<<24|e[o+3]<<16)/1073741824,v=(e[o+4]<<24|e[o+5]<<16)/1073741824,p=(e[o+6]<<24|e[o+7]<<16)/1073741824,o+=8);var y=a.glyphs[u];y&&(t.push({cmd:"save"}),t.push({cmd:"transform",args:[m,b,v,p,l,h]}),d(y,t,a),t.push({cmd:"restore"}))}while(32&s)}else{var k,w,x=[];for(k=0;c>k;k++)x.push(e[o]<<8|e[o+1]),o+=2;var C=e[o]<<8|e[o+1];o+=2+C;for(var S=x[x.length-1]+1,A=[];A.length<S;){s=e[o++];var I=1;for(8&s&&(I+=e[o++]);I-->0;)A.push({flags:s})}for(k=0;S>k;k++){switch(18&A[k].flags){case 0:l+=(e[o]<<24|e[o+1]<<16)>>16,o+=2;break;case 2:l-=e[o++];break;case 18:l+=e[o++]}A[k].x=l}for(k=0;S>k;k++){switch(36&A[k].flags){case 0:h+=(e[o]<<24|e[o+1]<<16)>>16,o+=2;break;case 4:h-=e[o++];break;case 36:h+=e[o++]}A[k].y=h}var B=0;for(o=0;c>o;o++){var T=x[o],P=A.slice(B,T+1);if(1&P[0].flags)P.push(P[0]);else if(1&P[P.length-1].flags)P.unshift(P[P.length-1]);else{var R={flags:1,x:(P[0].x+P[P.length-1].x)/2,y:(P[0].y+P[P.length-1].y)/2};P.unshift(R),P.push(R)}for(r(P[0].x,P[0].y),k=1,w=P.length;w>k;k++)1&P[k].flags?i(P[k].x,P[k].y):1&P[k+1].flags?(n(P[k].x,P[k].y,P[k+1].x,P[k+1].y),k++):n(P[k].x,P[k].y,(P[k].x+P[k+1].x)/2,(P[k].y+P[k+1].y)/2);B=T+1}}}function g(e,t,a){function r(e,a){t.push({cmd:"moveTo",args:[e,a]})}function i(e,a){t.push({cmd:"lineTo",args:[e,a]})}function s(e,a,r,i,n,s){t.push({cmd:"bezierCurveTo",args:[e,a,r,i,n,s]})}function c(e){for(var m=0;m<e.length;){var p,b,v,y,k,w,x,C,S,A=!1,I=e[m++];switch(I){case 1:d+=l.length>>1,A=!0;break;case 3:d+=l.length>>1,A=!0;break;case 4:f+=l.pop(),r(u,f),A=!0;break;case 5:for(;l.length>0;)u+=l.shift(),f+=l.shift(),
i(u,f);break;case 6:for(;l.length>0&&(u+=l.shift(),i(u,f),0!==l.length);)f+=l.shift(),i(u,f);break;case 7:for(;l.length>0&&(f+=l.shift(),i(u,f),0!==l.length);)u+=l.shift(),i(u,f);break;case 8:for(;l.length>0;)p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f);break;case 10:C=l.pop()+a.subrsBias,S=a.subrs[C],S&&c(S);break;case 11:return;case 12:switch(I=e[m++]){case 34:p=u+l.shift(),b=p+l.shift(),k=f+l.shift(),u=b+l.shift(),s(p,f,b,k,u,k),p=u+l.shift(),b=p+l.shift(),u=b+l.shift(),s(p,k,b,f,u,f);break;case 35:p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f),p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f),l.pop();break;case 36:p=u+l.shift(),k=f+l.shift(),b=p+l.shift(),w=k+l.shift(),u=b+l.shift(),s(p,k,b,w,u,w),p=u+l.shift(),b=p+l.shift(),x=w+l.shift(),u=b+l.shift(),s(p,w,b,x,u,f);break;case 37:var B=u,T=f;p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f),p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b,f=y,Math.abs(u-B)>Math.abs(f-T)?u+=l.shift():f+=l.shift(),s(p,v,b,y,u,f);break;default:h("unknown operator: 12 "+I)}break;case 14:if(l.length>=4){var P=l.pop(),R=l.pop();f=l.pop(),u=l.pop(),t.push({cmd:"save"}),t.push({cmd:"translate",args:[u,f]});var L=n(a.cmap,String.fromCharCode(a.glyphNameMap[o.StandardEncoding[P]]));g(a.glyphs[L],t,a),t.push({cmd:"restore"}),L=n(a.cmap,String.fromCharCode(a.glyphNameMap[o.StandardEncoding[R]])),g(a.glyphs[L],t,a)}return;case 18:d+=l.length>>1,A=!0;break;case 19:d+=l.length>>1,m+=d+7>>3,A=!0;break;case 20:d+=l.length>>1,m+=d+7>>3,A=!0;break;case 21:f+=l.pop(),u+=l.pop(),r(u,f),A=!0;break;case 22:u+=l.pop(),r(u,f),A=!0;break;case 23:d+=l.length>>1,A=!0;break;case 24:for(;l.length>2;)p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f);u+=l.shift(),f+=l.shift(),i(u,f);break;case 25:for(;l.length>6;)u+=l.shift(),f+=l.shift(),i(u,f);p=u+l.shift(),v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+l.shift(),s(p,v,b,y,u,f);break;case 26:for(l.length%2&&(u+=l.shift());l.length>0;)p=u,v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b,f=y+l.shift(),s(p,v,b,y,u,f);break;case 27:for(l.length%2&&(f+=l.shift());l.length>0;)p=u+l.shift(),v=f,b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y,s(p,v,b,y,u,f);break;case 28:l.push((e[m]<<24|e[m+1]<<16)>>16),m+=2;break;case 29:C=l.pop()+a.gsubrsBias,S=a.gsubrs[C],S&&c(S);break;case 30:for(;l.length>0&&(p=u,v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+(1===l.length?l.shift():0),s(p,v,b,y,u,f),0!==l.length);)p=u+l.shift(),v=f,b=p+l.shift(),y=v+l.shift(),f=y+l.shift(),u=b+(1===l.length?l.shift():0),s(p,v,b,y,u,f);break;case 31:for(;l.length>0&&(p=u+l.shift(),v=f,b=p+l.shift(),y=v+l.shift(),f=y+l.shift(),u=b+(1===l.length?l.shift():0),s(p,v,b,y,u,f),0!==l.length);)p=u,v=f+l.shift(),b=p+l.shift(),y=v+l.shift(),u=b+l.shift(),f=y+(1===l.length?l.shift():0),s(p,v,b,y,u,f);break;default:32>I&&h("unknown operator: "+I),247>I?l.push(I-139):251>I?l.push(256*(I-247)+e[m++]+108):255>I?l.push(256*-(I-251)-e[m++]-108):(l.push((e[m]<<24|e[m+1]<<16|e[m+2]<<8|e[m+3])/65536),m+=4)}A&&(l.length=0)}}var l=[],u=0,f=0,d=0;c(e)}function m(e){this.compiledGlyphs={},this.fontMatrix=e}function p(e,t,a){a=a||[488e-6,0,0,488e-6,0,0],m.call(this,a),this.glyphs=e,this.cmap=t,this.compiledGlyphs=[]}function b(e,t,a,r){a=a||[.001,0,0,.001,0,0],m.call(this,a),this.glyphs=e.glyphs,this.gsubrs=e.gsubrs||[],this.subrs=e.subrs||[],this.cmap=t,this.glyphNameMap=r||f,this.compiledGlyphs=[],this.gsubrsBias=this.gsubrs.length<1240?107:this.gsubrs.length<33900?1131:32768,this.subrsBias=this.subrs.length<1240?107:this.subrs.length<33900?1131:32768}var v="";return m.prototype={getPathJs:function(e){var t=n(this.cmap,e),a=this.compiledGlyphs[t];return a||(this.compiledGlyphs[t]=a=this.compileGlyph(this.glyphs[t])),a},compileGlyph:function(e){if(!e||0===e.length||14===e[0])return v;var t=[];return t.push({cmd:"save"}),t.push({cmd:"transform",args:this.fontMatrix.slice()}),t.push({cmd:"scale",args:["size","-size"]}),this.compileGlyphImpl(e,t),t.push({cmd:"restore"}),t},compileGlyphImpl:function(){h("Children classes should implement this.")},hasBuiltPath:function(e){var t=n(this.cmap,e);return t in this.compiledGlyphs}},c.inherit(p,m,{compileGlyphImpl:function(e,t){d(e,t,this)}}),c.inherit(b,m,{compileGlyphImpl:function(e,t){g(e,t,this)}}),{create:function(n){for(var s,o,c,h,u,f,d=new Uint8Array(n.data),g=t(d,4),m=0,v=12;g>m;m++,v+=16){var y=l(d.subarray(v,v+4)),k=e(d,v+8),w=e(d,v+12);switch(y){case"cmap":s=a(d,k,k+w);break;case"glyf":o=d.subarray(k,k+w);break;case"loca":c=d.subarray(k,k+w);break;case"head":f=t(d,k+18),u=t(d,k+50);break;case"CFF ":h=r(d,k,k+w)}}if(o){var x=f?[1/f,0,0,1/f,0,0]:n.fontMatrix;return new p(i(o,c,u),s,x)}return new b(h,s,n.fontMatrix,n.glyphNameMap)}}}();e._setCoreFonts=i,e.FontRendererFactory=d}),function(e,t){t(e.pdfjsCoreParser={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream)}(this,function(e,t,a,r){function i(e){return e===M}var n=t.MissingDataException,s=t.StreamType,o=t.assert,c=t.error,l=t.info,h=t.isArray,u=t.isInt,f=t.isNum,d=t.isString,g=t.warn,m=a.Cmd,p=a.Dict,b=a.Name,v=a.Ref,y=a.isCmd,k=a.isDict,w=a.isName,x=r.Ascii85Stream,C=r.AsciiHexStream,S=r.CCITTFaxStream,A=r.FlateStream,I=r.Jbig2Stream,B=r.JpegStream,T=r.JpxStream,P=r.LZWStream,R=r.NullStream,L=r.PredictorStream,O=r.RunLengthStream,M={},E=1e3,D=function(){function e(e,t,a){this.lexer=e,this.allowStreams=t,this.xref=a,this.imageCache={},this.refill()}return e.prototype={refill:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()},shift:function(){y(this.buf2,"ID")?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())},tryShift:function(){try{return this.shift(),!0}catch(e){if(e instanceof n)throw e;return!1}},getObj:function(e){var t=this.buf1;if(this.shift(),t instanceof m)switch(t.cmd){case"BI":return this.makeInlineImage(e);case"[":for(var a=[];!y(this.buf1,"]")&&!i(this.buf1);)a.push(this.getObj(e));return i(this.buf1)&&c("End of file inside array"),this.shift(),a;case"<<":for(var r=new p(this.xref);!y(this.buf1,">>")&&!i(this.buf1);)if(w(this.buf1)){var n=this.buf1.name;if(this.shift(),i(this.buf1))break;r.set(n,this.getObj(e))}else l("Malformed dictionary: key must be a name object"),this.shift();return i(this.buf1)&&c("End of file inside dictionary"),y(this.buf2,"stream")?this.allowStreams?this.makeStream(r,e):r:(this.shift(),r);default:return t}if(u(t)){var s=t;if(u(this.buf1)&&y(this.buf2,"R")){var o=new v(s,this.buf1);return this.shift(),this.shift(),o}return s}if(d(t)){var h=t;return e&&(h=e.decryptString(h)),h}return t},findDefaultInlineStreamEnd:function(e){for(var t,a,r,i,n=69,s=73,c=32,l=10,h=13,u=e.pos,f=0;-1!==(t=e.getByte());)if(0===f)f=t===n?1:0;else if(1===f)f=t===s?2:0;else if(o(2===f),t===c||t===l||t===h){for(r=5,i=e.peekBytes(r),a=0;r>a;a++)if(t=i[a],t!==l&&t!==h&&(c>t||t>127)){f=0;break}if(2===f)break}else f=0;return e.pos-4-u},findDCTDecodeInlineStreamEnd:function(e){for(var t,a,r,i=e.pos,n=!1;-1!==(t=e.getByte());)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:n=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:a=e.getUint16(),a>2?e.skip(a-2):e.skip(-2)}if(n)break}return r=e.pos-i,-1===t?(g("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)},findASCII85DecodeInlineStreamEnd:function(e){for(var t,a,r=126,i=62,n=e.pos;-1!==(t=e.getByte());)if(t===r&&e.peekByte()===i){e.skip();break}return a=e.pos-n,-1===t?(g("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)},findASCIIHexDecodeInlineStreamEnd:function(e){for(var t,a,r=62,i=e.pos;-1!==(t=e.getByte())&&t!==r;);return a=e.pos-i,-1===t?(g("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)},inlineStreamSkipEI:function(e){for(var t,a=69,r=73,i=0;-1!==(t=e.getByte());)if(0===i)i=t===a?1:0;else if(1===i)i=t===r?2:0;else if(2===i)break},makeInlineImage:function(e){for(var t=this.lexer,a=t.stream,r=new p(this.xref);!y(this.buf1,"ID")&&!i(this.buf1);){w(this.buf1)||c("Dictionary key must be a name object");var n=this.buf1.name;if(this.shift(),i(this.buf1))break;r.set(n,this.getObj(e))}var s,o=r.get("Filter","F");w(o)?s=o.name:h(o)&&w(o[0])&&(s=o[0].name);var l,u,f,d=a.pos;l="DCTDecode"===s||"DCT"===s?this.findDCTDecodeInlineStreamEnd(a):"ASCII85Decide"===s||"A85"===s?this.findASCII85DecodeInlineStreamEnd(a):"ASCIIHexDecode"===s||"AHx"===s?this.findASCIIHexDecodeInlineStreamEnd(a):this.findDefaultInlineStreamEnd(a);var g,b=a.makeSubStream(d,l,r);if(E>l){var v=b.getBytes();b.reset();var k=1,x=0;for(u=0,f=v.length;f>u;++u)k+=255&v[u],x+=k;if(g=x%65521<<16|k%65521,this.imageCache.adler32===g)return this.buf2=m.get("EI"),this.shift(),this.imageCache[g].reset(),this.imageCache[g]}return e&&(b=e.createStream(b,l)),b=this.filter(b,r,l),b.dict=r,void 0!==g&&(b.cacheKey="inline_"+l+"_"+g,this.imageCache[g]=b),this.buf2=m.get("EI"),this.shift(),b},makeStream:function(e,t){var a=this.lexer,r=a.stream;a.skipToNextLine();var i=r.pos-1,n=e.get("Length");if(u(n)||(l("Bad "+n+" attribute in stream"),n=0),r.pos=i+n,a.nextChar(),this.tryShift()&&y(this.buf2,"endstream"))this.shift();else{r.pos=i;for(var s,o,h=2048,f=9,d=[101,110,100,115,116,114,101,97,109],g=0,m=!1;r.pos<r.end;){var p=r.peekBytes(h),b=p.length-f;if(0>=b)break;for(m=!1,s=0;b>s;){for(o=0;f>o&&p[s+o]===d[o];)o++;if(o>=f){m=!0;break}s++}if(m){g+=s,r.pos+=s;break}g+=b,r.pos+=b}m||c("Missing endstream"),n=g,a.nextChar(),this.shift(),this.shift()}return this.shift(),r=r.makeSubStream(i,n,e),t&&(r=t.createStream(r,n)),r=this.filter(r,e,n),r.dict=e,r},filter:function(e,t,a){var r=t.get("Filter","F"),i=t.get("DecodeParms","DP");if(w(r))return this.makeFilter(e,r.name,a,i);var n=a;if(h(r))for(var s=r,o=i,l=0,u=s.length;u>l;++l)r=s[l],w(r)||c("Bad filter name: "+r),i=null,h(o)&&l in o&&(i=o[l]),e=this.makeFilter(e,r.name,n,i),n=null;return e},makeFilter:function(e,t,a,r){if(0===e.dict.get("Length")&&!a)return g('Empty "'+t+'" stream.'),new R(e);try{r&&this.xref&&(r=this.xref.fetchIfRef(r));var i=this.xref.stats.streamTypes;if("FlateDecode"===t||"Fl"===t)return i[s.FLATE]=!0,r?new L(new A(e,a),a,r):new A(e,a);if("LZWDecode"===t||"LZW"===t){i[s.LZW]=!0;var o=1;return r?(r.has("EarlyChange")&&(o=r.get("EarlyChange")),new L(new P(e,a,o),a,r)):new P(e,a,o)}return"DCTDecode"===t||"DCT"===t?(i[s.DCT]=!0,new B(e,a,e.dict,this.xref)):"JPXDecode"===t||"JPX"===t?(i[s.JPX]=!0,new T(e,a,e.dict)):"ASCII85Decode"===t||"A85"===t?(i[s.A85]=!0,new x(e,a)):"ASCIIHexDecode"===t||"AHx"===t?(i[s.AHX]=!0,new C(e,a)):"CCITTFaxDecode"===t||"CCF"===t?(i[s.CCF]=!0,new S(e,a,r)):"RunLengthDecode"===t||"RL"===t?(i[s.RL]=!0,new O(e,a)):"JBIG2Decode"===t?(i[s.JBIG]=!0,new I(e,a,e.dict)):(g('filter "'+t+'" not supported yet'),e)}catch(c){if(c instanceof n)throw c;return g('Invalid stream: "'+c+'"'),new R(e)}}},e}(),U=function(){function e(e,t){this.stream=e,this.nextChar(),this.strBuf=[],this.knownCommands=t}function t(e){return e>=48&&57>=e?15&e:e>=65&&70>=e||e>=97&&102>=e?(15&e)+9:-1}e.isSpace=function(e){return 32===e||9===e||13===e||10===e};var a=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return e.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},peekChar:function(){return this.stream.peekByte()},getNumber:function(){var e=this.currentChar,t=!1,a=0,r=1;if(45===e?(r=-1,e=this.nextChar(),45===e&&(e=this.nextChar())):43===e&&(e=this.nextChar()),46===e&&(a=10,e=this.nextChar()),48>e||e>57)return c("Invalid number: "+String.fromCharCode(e)),0;for(var i=e-48,n=0,s=1;(e=this.nextChar())>=0;)if(e>=48&&57>=e){var o=e-48;t?n=10*n+o:(0!==a&&(a*=10),i=10*i+o)}else if(46===e){if(0!==a)break;a=1}else if(45===e)g("Badly formated number");else{if(69!==e&&101!==e)break;if(e=this.peekChar(),43===e||45===e)s=45===e?-1:1,this.nextChar();else if(48>e||e>57)break;t=!0}return 0!==a&&(i/=a),t&&(i*=Math.pow(10,s*n)),r*i},getString:function(){var e=1,t=!1,a=this.strBuf;a.length=0;for(var r=this.nextChar();;){var i=!1;switch(0|r){case-1:g("Unterminated string"),t=!0;break;case 40:++e,a.push("(");break;case 41:0===--e?(this.nextChar(),t=!0):a.push(")");break;case 92:switch(r=this.nextChar()){case-1:g("Unterminated string"),t=!0;break;case 110:a.push("\n");break;case 114:a.push("\r");break;case 116:a.push(" ");break;case 98:a.push("\b");break;case 102:a.push("\f");break;case 92:case 40:case 41:a.push(String.fromCharCode(r));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var n=15&r;r=this.nextChar(),i=!0,r>=48&&55>=r&&(n=(n<<3)+(15&r),r=this.nextChar(),r>=48&&55>=r&&(i=!1,n=(n<<3)+(15&r))),a.push(String.fromCharCode(n));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:a.push(String.fromCharCode(r))}break;default:a.push(String.fromCharCode(r))}if(t)break;i||(r=this.nextChar())}return a.join("")},getName:function(){var e,r,i=this.strBuf;for(i.length=0;(e=this.nextChar())>=0&&!a[e];)if(35===e){if(e=this.nextChar(),a[e]){g("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),i.push("#");break}var n=t(e);if(-1!==n){r=e,e=this.nextChar();var s=t(e);if(-1===s){if(g("Lexer_getName: Illegal digit ("+String.fromCharCode(e)+") in hexadecimal number."),i.push("#",String.fromCharCode(r)),a[e])break;i.push(String.fromCharCode(e));continue}i.push(String.fromCharCode(n<<4|s))}else i.push("#",String.fromCharCode(e))}else i.push(String.fromCharCode(e));return i.length>127&&g("name token is longer than allowed by the spec: "+i.length),b.get(i.join(""))},getHexString:function(){var e=this.strBuf;e.length=0;for(var r,i,n=this.currentChar,s=!0;;){if(0>n){g("Unterminated hex string");break}if(62===n){this.nextChar();break}if(1!==a[n]){if(s){if(r=t(n),-1===r){g('Ignoring invalid character "'+n+'" in hex string'),n=this.nextChar();continue}}else{if(i=t(n),-1===i){g('Ignoring invalid character "'+n+'" in hex string'),n=this.nextChar();continue}e.push(String.fromCharCode(r<<4|i))}s=!s,n=this.nextChar()}else n=this.nextChar()}return e.join("")},getObj:function(){for(var e=!1,t=this.currentChar;;){if(0>t)return M;if(e)(10===t||13===t)&&(e=!1);else if(37===t)e=!0;else if(1!==a[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),m.get("[");case 93:return this.nextChar(),m.get("]");case 60:return t=this.nextChar(),60===t?(this.nextChar(),m.get("<<")):this.getHexString();case 62:return t=this.nextChar(),62===t?(this.nextChar(),m.get(">>")):m.get(">");case 123:return this.nextChar(),m.get("{");case 125:return this.nextChar(),m.get("}");case 41:c("Illegal character: "+t)}for(var r=String.fromCharCode(t),i=this.knownCommands,n=i&&void 0!==i[r];(t=this.nextChar())>=0&&!a[t];){var s=r+String.fromCharCode(t);if(n&&void 0===i[s])break;128===r.length&&c("Command token too long: "+r.length),r=s,n=i&&void 0!==i[r]}return"true"===r?!0:"false"===r?!1:"null"===r?null:m.get(r)},skipToNextLine:function(){for(var e=this.currentChar;e>=0;){if(13===e){e=this.nextChar(),10===e&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}}},e}(),F={create:function(e){function t(e,t){var a=l.get(e);if(u(a)&&(t?a>=0:a>0))return a;throw new Error('The "'+e+'" parameter in the linearization dictionary is invalid.')}function a(){var e,t,a=l.get("H");if(h(a)&&(2===(e=a.length)||4===e)){for(var r=0;e>r;r++)if(!(u(t=a[r])&&t>0))throw new Error("Hint ("+r+") in the linearization dictionary is invalid.");return a}throw new Error("Hint array in the linearization dictionary is invalid.")}var r,i,n=new D(new U(e),!1,null),s=n.getObj(),o=n.getObj(),c=n.getObj(),l=n.getObj();if(!(u(s)&&u(o)&&y(c,"obj")&&k(l)&&f(r=l.get("Linearized"))&&r>0))return null;if((i=t("L"))!==e.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:i,hints:a(),objectNumberFirst:t("O"),endFirst:t("E"),numPages:t("N"),mainXRefEntriesOffset:t("T"),pageFirst:l.has("P")?t("P",!0):0}}};e.EOF=M,e.Lexer=U,e.Linearization=F,e.Parser=D,e.isEOF=i,r._setCoreParser(e)}),function(e,t){t(e.pdfjsCoreCMap={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream,e.pdfjsCoreParser)}(this,function(e,t,a,r,i){var n=t.Util,s=t.assert,o=t.error,c=t.isInt,l=t.isString,h=t.warn,u=a.isName,f=a.isCmd,d=a.isStream,g=r.StringStream,m=i.Lexer,p=i.isEOF,b=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],v=function(){function e(e){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=e}return e.prototype={addCodespaceRange:function(e,t,a){this.codespaceRanges[e-1].push(t,a),this.numCodespaceRanges++},mapCidRange:function(e,t,a){for(;t>=e;)this._map[e++]=a++},mapBfRange:function(e,t,a){for(var r=a.length-1;t>=e;)this._map[e++]=a,a=a.substr(0,r)+String.fromCharCode(a.charCodeAt(r)+1)},mapBfRangeToArray:function(e,t,a){for(var r=0,i=a.length;t>=e&&i>r;)this._map[e]=a[r++],++e},mapOne:function(e,t){this._map[e]=t},lookup:function(e){return this._map[e]},contains:function(e){return void 0!==this._map[e]},forEach:function(e){var t,a=this._map,r=a.length;if(65536>=r)for(t=0;r>t;t++)void 0!==a[t]&&e(t,a[t]);else for(t in this._map)e(t,a[t])},charCodeOf:function(e){return this._map.indexOf(e)},getMap:function(){return this._map},readCharCode:function(e,t,a){for(var r=0,i=this.codespaceRanges,n=this.codespaceRanges.length,s=0;n>s;s++){r=(r<<8|e.charCodeAt(t+s))>>>0;for(var o=i[s],c=0,l=o.length;l>c;){var h=o[c++],u=o[c++];if(r>=h&&u>=r)return a.charcode=r,void(a.length=s+1)}}a.charcode=0,a.length=1},get length(){return this._map.length},get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var e=0;65536>e;e++)if(this._map[e]!==e)return!1;return!0}},e}(),y=function(){function e(e,t){v.call(this),this.vertical=e,this.addCodespaceRange(t,0,65535)}return n.inherit(e,v,{}),e.prototype={addCodespaceRange:v.prototype.addCodespaceRange,mapCidRange:function(e,t,a){o("should not call mapCidRange")},mapBfRange:function(e,t,a){o("should not call mapBfRange")},mapBfRangeToArray:function(e,t,a){o("should not call mapBfRangeToArray")},mapOne:function(e,t){o("should not call mapCidOne")},lookup:function(e){return c(e)&&65535>=e?e:void 0},contains:function(e){return c(e)&&65535>=e},forEach:function(e){for(var t=0;65535>=t;t++)e(t,t)},charCodeOf:function(e){return c(e)&&65535>=e?e:-1},getMap:function(){for(var e=new Array(65536),t=0;65535>=t;t++)e[t]=t;return e},readCharCode:v.prototype.readCharCode,get length(){return 65536},get isIdentityCMap(){o("should not access .isIdentityCMap")}},e}(),k=function(){function e(e){var t=PDFJS.disableWorker,a=new XMLHttpRequest;if(a.open("GET",e,!1),!t)try{a.responseType="arraybuffer",t="arraybuffer"!==a.responseType}catch(r){t=!0}if(t&&a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),(t?a.responseText:a.response)||o("Unable to get binary cMap at: "+e),t){var i=Array.prototype.map.call(a.responseText,function(e){return 255&e.charCodeAt(0)});return new Uint8Array(i)}return new Uint8Array(a.response)}function t(e,t){for(var a=0,r=0;t>=r;r++)a=a<<8|e[r];return a>>>0}function a(e,t){return 1===t?String.fromCharCode(e[0],e[1]):3===t?String.fromCharCode(e[0],e[1],e[2],e[3]):String.fromCharCode.apply(null,e.subarray(0,t+1))}function r(e,t,a){for(var r=0,i=a;i>=0;i--)r+=e[i]+t[i],e[i]=255&r,r>>=8}function i(e,t){for(var a=1,r=t;r>=0&&a>0;r--)a+=e[r],e[r]=255&a,a>>=8}function n(e){this.buffer=e,this.pos=0,this.end=e.length,this.tmpBuf=new Uint8Array(u)}function c(c,l,u){var f=e(c),d=new n(f),g=d.readByte();l.vertical=!!(1&g);for(var m,p,b=null,v=new Uint8Array(h),y=new Uint8Array(h),k=new Uint8Array(h),w=new Uint8Array(h),x=new Uint8Array(h);(p=d.readByte())>=0;){var C=p>>5;if(7!==C){var S=!!(16&p),A=15&p;s(h>=A+1);var I,B=1,T=d.readNumber();switch(C){case 0:for(d.readHex(v,A),d.readHexNumber(y,A),r(y,v,A),l.addCodespaceRange(A+1,t(v,A),t(y,A)),I=1;T>I;I++)i(y,A),d.readHexNumber(v,A),r(v,y,A),d.readHexNumber(y,A),r(y,v,A),l.addCodespaceRange(A+1,t(v,A),t(y,A));break;case 1:for(d.readHex(v,A),d.readHexNumber(y,A),r(y,v,A),m=d.readNumber(),I=1;T>I;I++)i(y,A),d.readHexNumber(v,A),r(v,y,A),d.readHexNumber(y,A),r(y,v,A),m=d.readNumber();break;case 2:for(d.readHex(k,A),m=d.readNumber(),l.mapOne(t(k,A),m),I=1;T>I;I++)i(k,A),S||(d.readHexNumber(x,A),r(k,x,A)),m=d.readSigned()+(m+1),l.mapOne(t(k,A),m);break;case 3:for(d.readHex(v,A),d.readHexNumber(y,A),r(y,v,A),m=d.readNumber(),l.mapCidRange(t(v,A),t(y,A),m),I=1;T>I;I++)i(y,A),S?v.set(y):(d.readHexNumber(v,A),r(v,y,A)),d.readHexNumber(y,A),r(y,v,A),m=d.readNumber(),l.mapCidRange(t(v,A),t(y,A),m);break;case 4:for(d.readHex(k,B),d.readHex(w,A),l.mapOne(t(k,B),a(w,A)),I=1;T>I;I++)i(k,B),S||(d.readHexNumber(x,B),r(k,x,B)),i(w,A),d.readHexSigned(x,A),r(w,x,A),l.mapOne(t(k,B),a(w,A));break;case 5:for(d.readHex(v,B),d.readHexNumber(y,B),r(y,v,B),d.readHex(w,A),l.mapBfRange(t(v,B),t(y,B),a(w,A)),I=1;T>I;I++)i(y,B),S?v.set(y):(d.readHexNumber(v,B),r(v,y,B)),d.readHexNumber(y,B),r(y,v,B),d.readHex(w,A),l.mapBfRange(t(v,B),t(y,B),a(w,A));break;default:o("Unknown type: "+C)}}else switch(31&p){case 0:d.readString();break;case 1:b=d.readString()}}return b&&u(b),l}function l(){}var h=16,u=19;return n.prototype={readByte:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]},readNumber:function(){var e,t=0;do{var a=this.readByte();0>a&&o("unexpected EOF in bcmap"),e=!(128&a),t=t<<7|127&a}while(!e);return t},readSigned:function(){var e=this.readNumber();return 1&e?~(e>>>1):e>>>1},readHex:function(e,t){e.set(this.buffer.subarray(this.pos,this.pos+t+1)),this.pos+=t+1},readHexNumber:function(e,t){var a,r=this.tmpBuf,i=0;do{var n=this.readByte();0>n&&o("unexpected EOF in bcmap"),a=!(128&n),r[i++]=127&n}while(!a);for(var s=t,c=0,l=0;s>=0;){for(;8>l&&r.length>0;)c=r[--i]<<l|c,l+=7;e[s]=255&c,s--,c>>=8,l-=8}},readHexSigned:function(e,t){this.readHexNumber(e,t);for(var a=1&e[t]?255:0,r=0,i=0;t>=i;i++)r=(1&r)<<8|e[i],e[i]=r>>1^a},readString:function(){for(var e=this.readNumber(),t="",a=0;e>a;a++)t+=String.fromCharCode(this.readNumber());return t}},l.prototype={read:c},l}(),w=function(){function e(e){for(var t=0,a=0;a<e.length;a++)t=t<<8|e.charCodeAt(a);return t>>>0}function t(e){l(e)||o("Malformed CMap: expected string.")}function a(e){c(e)||o("Malformed CMap: expected int.")}function r(a,r){for(;;){var i=r.getObj();if(p(i))break;if(f(i,"endbfchar"))return;t(i);var n=e(i);i=r.getObj(),t(i);var s=i;a.mapOne(n,s)}}function i(a,r){for(;;){var i=r.getObj();if(p(i))break;if(f(i,"endbfrange"))return;t(i);var n=e(i);i=r.getObj(),t(i);var s=e(i);if(i=r.getObj(),c(i)||l(i)){var h=c(i)?String.fromCharCode(i):i;a.mapBfRange(n,s,h)}else{if(!f(i,"["))break;i=r.getObj();for(var u=[];!f(i,"]")&&!p(i);)u.push(i),i=r.getObj();a.mapBfRangeToArray(n,s,u)}}o("Invalid bf range.")}function n(r,i){for(;;){var n=i.getObj();if(p(n))break;if(f(n,"endcidchar"))return;t(n);var s=e(n);n=i.getObj(),a(n);var o=n;r.mapOne(s,o)}}function w(r,i){for(;;){var n=i.getObj();if(p(n))break;if(f(n,"endcidrange"))return;t(n);var s=e(n);n=i.getObj(),t(n);var o=e(n);n=i.getObj(),a(n);var c=n;r.mapCidRange(s,o,c)}}function x(t,a){for(;;){var r=a.getObj();if(p(r))break;if(f(r,"endcodespacerange"))return;if(!l(r))break;var i=e(r);if(r=a.getObj(),!l(r))break;var n=e(r);t.addCodespaceRange(r.length,i,n)}o("Invalid codespace range.")}function C(e,t){var a=t.getObj();c(a)&&(e.vertical=!!a)}function S(e,t){var a=t.getObj();u(a)&&l(a.name)&&(e.name=a.name)}function A(e,t,a,s){var o,c;e:for(;;){var l=t.getObj();if(p(l))break;if(u(l))"WMode"===l.name?C(e,t):"CMapName"===l.name&&S(e,t),o=l;else if(f(l))switch(l.cmd){case"endcmap":break e;case"usecmap":u(o)&&(c=o.name);break;case"begincodespacerange":x(e,t);break;case"beginbfchar":r(e,t);break;case"begincidchar":n(e,t);break;case"beginbfrange":i(e,t);break;case"begincidrange":w(e,t)}}!s&&c&&(s=c),s&&I(e,a,s)}function I(e,t,a){if(e.useCMap=T(a,t),0===e.numCodespaceRanges){for(var r=e.useCMap.codespaceRanges,i=0;i<r.length;i++)e.codespaceRanges[i]=r[i].slice();e.numCodespaceRanges=e.useCMap.numCodespaceRanges}e.useCMap.forEach(function(t,a){e.contains(t)||e.mapOne(t,e.useCMap.lookup(t))})}function B(e,t){var a=t.url+e+".bcmap",r=new v(!0);return(new k).read(a,r,function(e){I(r,t,e)}),r}function T(e,t){if("Identity-H"===e)return new y(!1,2);if("Identity-V"===e)return new y(!0,2);if(-1===b.indexOf(e)&&o("Unknown cMap name: "+e),s(t,"built-in cMap parameters are not provided"),t.packed)return B(e,t);var a=new XMLHttpRequest,r=t.url+e;a.open("GET",r,!1),a.send(null),a.responseText||o("Unable to get cMap at: "+r);var i=new v(!0),n=new m(new g(a.responseText));return A(i,n,t,null),i}return{create:function(e,t,a){if(u(e))return T(e.name,t);if(d(e)){var r=new v,i=new m(e);try{A(r,i,t,a)}catch(n){h("Invalid CMap data. "+n)}return r.isIdentityCMap?T(r.name,t):r}o("Encoding required.")}}}();e.CMap=v,e.CMapFactory=w,e.IdentityCMap=y}),function(e,t){t(e.pdfjsCoreObj={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreCrypto,e.pdfjsCoreParser,e.pdfjsCoreChunkedStream)}(this,function(e,t,a,r,i,n){var s=t.InvalidPDFException,o=t.MissingDataException,c=t.XRefParseException,l=t.assert,h=t.bytesToString,u=t.createPromiseCapability,f=t.error,d=t.info,g=t.isArray,m=t.isInt,p=t.isString,b=t.shadow,v=t.stringToPDFString,y=t.stringToUTF8String,k=t.warn,w=t.isValidUrl,x=t.Util,C=a.Ref,S=a.RefSet,A=a.RefSetCache,I=a.isName,B=a.isCmd,T=a.isDict,P=a.isRef,R=a.isStream,L=r.CipherTransformFactory,O=i.Lexer,M=i.Parser,E=n.ChunkedStream,D=function(){function e(e,t,a){this.pdfManager=e,this.xref=t,this.catDict=t.getCatalogObj(),this.fontCache=new A,l(T(this.catDict),"catalog object is not a dictionary"),this.pageFactory=a,this.pagePromises=[]}return e.prototype={get metadata(){var e=this.catDict.getRaw("Metadata");if(!P(e))return b(this,"metadata",null);var t,a=this.xref.encrypt?this.xref.encrypt.encryptMetadata:!1,r=this.xref.fetch(e,!a);if(r&&T(r.dict)){var i=r.dict.get("Type"),n=r.dict.get("Subtype");if(I(i)&&I(n)&&"Metadata"===i.name&&"XML"===n.name)try{t=y(h(r.getBytes()))}catch(s){d("Skipping invalid metadata.")}}return b(this,"metadata",t)},get toplevelPagesDict(){var e=this.catDict.get("Pages");return l(T(e),"invalid top-level pages dictionary"),b(this,"toplevelPagesDict",e)},get documentOutline(){var e=null;try{e=this.readDocumentOutline()}catch(t){if(t instanceof o)throw t;k("Unable to read document outline")}return b(this,"documentOutline",e)},readDocumentOutline:function(){var e=this.xref,t=this.catDict.get("Outlines"),a={items:[]};if(T(t)){t=t.getRaw("First");var r=new S;if(P(t)){var i=[{obj:t,parent:a}];for(r.put(t);i.length>0;){var n=i.shift(),s=e.fetchIfRef(n.obj);if(null!==s){s.has("Title")||f("Invalid outline item");var o=s.get("A"),c=null,l=null;if(o){var h=o.get("D");if(h)c=h;else{var u=o.get("URI");p(u)&&w(u,!1)&&(l=u)}}else s.has("Dest")&&(c=s.getRaw("Dest"),I(c)&&(c=c.name));var d=s.get("Title"),g={dest:c,url:l,title:v(d),color:s.get("C")||[0,0,0],count:s.get("Count"),bold:!!(2&s.get("F")),italic:!!(1&s.get("F")),items:[]};n.parent.items.push(g),t=s.getRaw("First"),P(t)&&!r.has(t)&&(i.push({obj:t,parent:g}),r.put(t)),t=s.getRaw("Next"),P(t)&&!r.has(t)&&(i.push({obj:t,parent:n.parent}),r.put(t))}}}}return a.items.length>0?a.items:null},get numPages(){var e=this.toplevelPagesDict.get("Count");return l(m(e),"page count in top level pages object is not an integer"),b(this,"num",e)},get destinations(){function e(e){return T(e)?e.get("D"):e}var t,a,r=this.xref,i={},n=this.catDict.get("Names");if(n&&n.has("Dests")?t=n.getRaw("Dests"):this.catDict.has("Dests")&&(a=this.catDict.get("Dests")),a&&(n=a,n.forEach(function(t,a){a&&(i[t]=e(a))})),t){var s=new j(t,r),o=s.getAll();for(var c in o)o.hasOwnProperty(c)&&(i[c]=e(o[c]))}return b(this,"destinations",i)},getDestination:function(e){function t(e){return T(e)?e.get("D"):e}var a,r,i=this.xref,n=null,s=this.catDict.get("Names");if(s&&s.has("Dests")?a=s.getRaw("Dests"):this.catDict.has("Dests")&&(r=this.catDict.get("Dests")),r){var o=r.get(e);o&&(n=t(o))}if(a){var c=new j(a,i);n=t(c.get(e))}return n},get pageLabels(){var e=null;try{e=this.readPageLabels()}catch(t){if(t instanceof o)throw t;k("Unable to read page labels.")}return b(this,"pageLabels",e)},readPageLabels:function(){var e=this.catDict.getRaw("PageLabels");if(!e)return null;
for(var t=new Array(this.numPages),a=null,r="",i=1,n=new N(e,this.xref),s=n.getAll(),o="",c=1,h=0,u=this.numPages;u>h;h++){if(s.hasOwnProperty(h)){var f=s[h];l(T(f),"The PageLabel is not a dictionary.");var d=f.get("Type");l(!d||I(d)&&"PageLabel"===d.name,"Invalid type in PageLabel dictionary.");var g=f.get("S");l(!g||I(g),"Invalid style in PageLabel dictionary."),a=g?g.name:null,r=f.get("P")||"",l(p(r),"Invalid prefix in PageLabel dictionary."),i=f.get("St")||1,l(m(i),"Invalid start in PageLabel dictionary."),c=i}switch(a){case"D":o=c;break;case"R":case"r":o=x.toRoman(c,"r"===a);break;case"A":case"a":for(var b=26,v=65,y=97,k="a"===a?y:v,w=c-1,C=String.fromCharCode(k+w%b),S=[],A=0,B=w/b|0;B>=A;A++)S.push(C);o=S.join("");break;default:l(!a,'Invalid style "'+a+'" in PageLabel dictionary.')}t[h]=r+o,o="",c++}return t},get attachments(){var e,t=this.xref,a=null,r=this.catDict.get("Names");if(r&&(e=r.getRaw("EmbeddedFiles")),e){var i=new j(e,t),n=i.getAll();for(var s in n)if(n.hasOwnProperty(s)){var o=new q(n[s],t);a||(a={}),a[v(s)]=o.serializable}}return b(this,"attachments",a)},get javaScript(){function e(e){var t=e.get("S");if(I(t)&&"JavaScript"===t.name){var a=e.get("JS");if(R(a))a=h(a.getBytes());else if(!p(a))return;r.push(v(a))}}var t=this.xref,a=this.catDict.get("Names"),r=[];if(a&&a.has("JavaScript")){var i=new j(a.getRaw("JavaScript"),t),n=i.getAll();for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];T(o)&&e(o)}}var c=this.catDict.get("OpenAction");if(T(c,"Action")){var l=c.get("S");if(I(l)&&"Named"===l.name){var u=c.get("N");I(u)&&"Print"===u.name&&r.push("print({});")}else e(c)}return b(this,"javaScript",r)},cleanup:function(){var e=[];return this.fontCache.forEach(function(t){e.push(t)}),Promise.all(e).then(function(e){for(var t=0,a=e.length;a>t;t++){var r=e[t].dict;delete r.translated}this.fontCache.clear()}.bind(this))},getPage:function(e){return e in this.pagePromises||(this.pagePromises[e]=this.getPageDict(e).then(function(t){var a=t[0],r=t[1];return this.pageFactory.createPage(e,a,r,this.fontCache)}.bind(this))),this.pagePromises[e]},getPageDict:function(e){function t(){for(;r.length;){var o=r.pop();if(P(o))return void n.fetchAsync(o).then(function(n){return T(n,"Page")||T(n)&&!n.has("Kids")?void(e===i?a.resolve([n,o]):(i++,t())):(r.push(n),void t())},a.reject);l(T(o),"page dictionary kid reference points to wrong type of object");var c=o.get("Count");if(0===c&&(s=!0),e>=i+c)i+=c;else{var h=o.get("Kids");if(l(g(h),"page dictionary kids object is not an array"),s||c!==h.length)for(var u=h.length-1;u>=0;u--)r.push(h[u]);else r=[h[e-i]],i=e}}a.reject("Page index "+e+" not found.")}var a=u(),r=[this.catDict.getRaw("Pages")],i=0,n=this.xref,s=!1;return t(),a.promise},getPageIndex:function(e){function t(e){var t,a=0;return r.fetchAsync(e).then(function(e){return e?(t=e.getRaw("Parent"),e.getAsync("Parent")):null}).then(function(e){return e?e.getAsync("Kids"):null}).then(function(i){if(!i)return null;for(var n=[],s=!1,o=0;o<i.length;o++){var c=i[o];if(l(P(c),"kids must be a ref"),c.num===e.num){s=!0;break}n.push(r.fetchAsync(c).then(function(e){if(e.has("Count")){var t=e.get("Count");a+=t}else a++}))}return s||f("kid ref not found in parents kids"),Promise.all(n).then(function(){return[a,t]})})}function a(e){return t(e).then(function(e){if(!e)return i;var t=e[0],r=e[1];return i+=t,a(r)})}var r=this.xref,i=0;return a(e)}},e}(),U=function(){function e(e,t){this.stream=e,this.entries=[],this.xrefstms={},this.cache=[],this.password=t,this.stats={streamTypes:[],fontTypes:[]}}return e.prototype={setStartXRef:function(e){this.startXRefQueue=[e]},parse:function(e){var t;e?(k("Indexing all PDF objects"),t=this.indexObjects()):t=this.readXRef(),t.assignXref(this),this.trailer=t;var a=t.get("Encrypt");if(a){var r=t.get("ID"),i=r&&r.length?r[0]:"";this.encrypt=new L(a,i,this.password)}(this.root=t.get("Root"))||f("Invalid root reference")},processXRefTable:function(e){"tableState"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});var t=this.readXRefTable(e);B(t,"trailer")||f("Invalid XRef table: could not find trailer dictionary");var a=e.getObj();return!T(a)&&a.dict&&(a=a.dict),T(a)||f("Invalid XRef table: could not parse trailer dictionary"),delete this.tableState,a},readXRefTable:function(e){var t=e.lexer.stream,a=this.tableState;t.pos=a.streamPos,e.buf1=a.parserBuf1,e.buf2=a.parserBuf2;for(var r;;){if(!("firstEntryNum"in a&&"entryCount"in a)){if(B(r=e.getObj(),"trailer"))break;a.firstEntryNum=r,a.entryCount=e.getObj()}var i=a.firstEntryNum,n=a.entryCount;m(i)&&m(n)||f("Invalid XRef table: wrong types in subsection header");for(var s=a.entryNum;n>s;s++){a.streamPos=t.pos,a.entryNum=s,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2;var o={};o.offset=e.getObj(),o.gen=e.getObj();var c=e.getObj();B(c,"f")?o.free=!0:B(c,"n")&&(o.uncompressed=!0),m(o.offset)&&m(o.gen)&&(o.free||o.uncompressed)||f("Invalid entry in XRef subsection: "+i+", "+n),this.entries[s+i]||(this.entries[s+i]=o)}a.entryNum=0,a.streamPos=t.pos,a.parserBuf1=e.buf1,a.parserBuf2=e.buf2,delete a.firstEntryNum,delete a.entryCount}return 1===i&&this.entries[1]&&this.entries[1].free&&this.entries.shift(),this.entries[0]&&!this.entries[0].free&&f("Invalid XRef table: unexpected first object"),r},processXRefStream:function(e){if(!("streamState"in this)){var t=e.dict,a=t.get("W"),r=t.get("Index");r||(r=[0,t.get("Size")]),this.streamState={entryRanges:r,byteWidths:a,entryNum:0,streamPos:e.pos}}return this.readXRefStream(e),delete this.streamState,e.dict},readXRefStream:function(e){var t,a,r=this.streamState;e.pos=r.streamPos;for(var i=r.byteWidths,n=i[0],s=i[1],o=i[2],c=r.entryRanges;c.length>0;){var l=c[0],h=c[1];for(m(l)&&m(h)||f("Invalid XRef range fields: "+l+", "+h),m(n)&&m(s)&&m(o)||f("Invalid XRef entry fields length: "+l+", "+h),t=r.entryNum;h>t;++t){r.entryNum=t,r.streamPos=e.pos;var u=0,d=0,g=0;for(a=0;n>a;++a)u=u<<8|e.getByte();for(0===n&&(u=1),a=0;s>a;++a)d=d<<8|e.getByte();for(a=0;o>a;++a)g=g<<8|e.getByte();var p={};switch(p.offset=d,p.gen=g,u){case 0:p.free=!0;break;case 1:p.uncompressed=!0;break;case 2:break;default:f("Invalid XRef entry type: "+u)}this.entries[l+t]||(this.entries[l+t]=p)}r.entryNum=0,r.streamPos=e.pos,c.splice(0,2)}},indexObjects:function(){function e(e,t){for(var a="",n=e[t];n!==r&&n!==i&&n!==c&&!(++t>=e.length);)a+=String.fromCharCode(n),n=e[t];return a}function t(e,t,a){for(var r=a.length,i=e.length,n=0;i>t;){for(var s=0;r>s&&e[t+s]===a[s];)++s;if(s>=r)break;t++,n++}return n}var a=9,r=10,i=13,n=32,o=37,c=60,l=/^(\d+)\s+(\d+)\s+obj\b/,h=new Uint8Array([116,114,97,105,108,101,114]),u=new Uint8Array([115,116,97,114,116,120,114,101,102]),f=new Uint8Array([101,110,100,111,98,106]),d=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var g=this.stream;g.pos=0;for(var m=g.getBytes(),p=g.start,b=m.length,v=[],y=[];b>p;){var k=m[p];if(k!==a&&k!==r&&k!==i&&k!==n)if(k!==o){var w,x=e(m,p);if(0!==x.indexOf("xref")||4!==x.length&&!/\s/.test(x[4]))if(w=l.exec(x)){"undefined"==typeof this.entries[w[1]]&&(this.entries[w[1]]={offset:p-g.start,gen:0|w[2],uncompressed:!0});var C=t(m,p,f)+7,S=m.subarray(p,p+C),A=t(S,0,d);C>A&&S[A+5]<64&&(y.push(p-g.start),this.xrefstms[p-g.start]=1),p+=C}else 0!==x.indexOf("trailer")||7!==x.length&&!/\s/.test(x[7])?p+=x.length+1:(v.push(p),p+=t(m,p,u));else p+=t(m,p,h),v.push(p),p+=t(m,p,u)}else do{if(++p,p>=b)break;k=m[p]}while(k!==r&&k!==i);else++p}var I,P;for(I=0,P=y.length;P>I;++I)this.startXRefQueue.push(y[I]),this.readXRef(!0);var R;for(I=0,P=v.length;P>I;++I){g.pos=v[I];var L=new M(new O(g),!0,this),E=L.getObj();if(B(E,"trailer")&&T(R=L.getObj())&&R.has("ID"))return R}if(R)return R;throw new s("Invalid PDF structure")},readXRef:function(e){var t=this.stream;try{for(;this.startXRefQueue.length;){var a=this.startXRefQueue[0];t.pos=a+t.start;var r,i=new M(new O(t),!0,this),n=i.getObj();if(B(n,"xref")){if(r=this.processXRefTable(i),this.topDict||(this.topDict=r),n=r.get("XRefStm"),m(n)){var s=n;s in this.xrefstms||(this.xrefstms[s]=1,this.startXRefQueue.push(s))}}else m(n)?(m(i.getObj())&&B(i.getObj(),"obj")&&R(n=i.getObj())||f("Invalid XRef stream"),r=this.processXRefStream(n),this.topDict||(this.topDict=r),r||f("Failed to read XRef stream")):f("Invalid XRef stream header");n=r.get("Prev"),m(n)?this.startXRefQueue.push(n):P(n)&&this.startXRefQueue.push(n.num),this.startXRefQueue.shift()}return this.topDict}catch(l){if(l instanceof o)throw l;d("(while reading XRef): "+l)}if(!e)throw new c},getEntry:function(e){var t=this.entries[e];return t&&!t.free&&t.offset?t:null},fetchIfRef:function(e){return P(e)?this.fetch(e):e},fetch:function(e,t){l(P(e),"ref object is not a reference");var a=e.num;if(a in this.cache){var r=this.cache[a];return r}var i=this.getEntry(a);return null===i?this.cache[a]=null:(i=i.uncompressed?this.fetchUncompressed(e,i,t):this.fetchCompressed(i,t),T(i)?i.objId=e.toString():R(i)&&(i.dict.objId=e.toString()),i)},fetchUncompressed:function(e,t,a){var r=e.gen,i=e.num;t.gen!==r&&f("inconsistent generation in XRef");var n=this.stream.makeSubStream(t.offset+this.stream.start),s=new M(new O(n),!0,this),o=s.getObj(),c=s.getObj(),l=s.getObj();if(m(o)&&parseInt(o,10)===i&&m(c)&&parseInt(c,10)===r&&B(l)||f("bad XRef entry"),!B(l,"obj")){if(0===l.cmd.indexOf("obj")&&(i=parseInt(l.cmd.substring(3),10),!isNaN(i)))return i;f("bad XRef entry")}return t=this.encrypt&&!a?s.getObj(this.encrypt.createCipherTransform(i,r)):s.getObj(),R(t)||(this.cache[i]=t),t},fetchCompressed:function(e,t){var a=e.offset,r=this.fetch(new C(a,0));R(r)||f("bad ObjStm stream");var i=r.dict.get("First"),n=r.dict.get("N");m(i)&&m(n)||f("invalid first and n parameters for ObjStm stream");var s=new M(new O(r),!1,this);s.allowStreams=!0;var o,c,l=[],h=[];for(o=0;n>o;++o){c=s.getObj(),m(c)||f("invalid object number in the ObjStm stream: "+c),h.push(c);var u=s.getObj();m(u)||f("invalid object offset in the ObjStm stream: "+u)}for(o=0;n>o;++o){l.push(s.getObj()),c=h[o];var d=this.entries[c];d&&d.offset===a&&d.gen===o&&(this.cache[c]=l[o])}return e=l[e.gen],void 0===e&&f("bad XRef entry for compressed object"),e},fetchIfRefAsync:function(e){return P(e)?this.fetchAsync(e):Promise.resolve(e)},fetchAsync:function(e,t){var a=this.stream.manager,r=this;return new Promise(function i(n,s){try{n(r.fetch(e,t))}catch(c){if(c instanceof o)return void a.requestRange(c.begin,c.end).then(function(){i(n,s)},s);s(c)}})},getCatalogObj:function(){return this.root}},e}(),F=function(){function e(e,t){throw new Error("Cannot initialize NameOrNumberTree.")}return e.prototype={getAll:function(){var e={};if(!this.root)return e;var t=this.xref,a=new S;a.put(this.root);for(var r=[this.root];r.length>0;){var i,n,s=t.fetchIfRef(r.shift());if(T(s))if(s.has("Kids")){var o=s.get("Kids");for(i=0,n=o.length;n>i;i++){var c=o[i];l(!a.has(c),'Duplicate entry in "'+this._type+'" tree.'),r.push(c),a.put(c)}}else{var h=s.get(this._type);if(g(h))for(i=0,n=h.length;n>i;i+=2)e[t.fetchIfRef(h[i])]=t.fetchIfRef(h[i+1])}}return e},get:function(e){if(!this.root)return null;for(var t,a,r,i=this.xref,n=i.fetchIfRef(this.root),s=0,o=10;n.has("Kids");){if(++s>o)return k('Search depth limit reached for "'+this._type+'" tree.'),null;var c=n.get("Kids");if(!g(c))return null;for(t=0,a=c.length-1;a>=t;){r=t+a>>1;var l=i.fetchIfRef(c[r]),h=l.get("Limits");if(e<i.fetchIfRef(h[0]))a=r-1;else{if(!(e>i.fetchIfRef(h[1]))){n=i.fetchIfRef(c[r]);break}t=r+1}}if(t>a)return null}var u=n.get(this._type);if(g(u))for(t=0,a=u.length-2;a>=t;){r=t+a&-2;var f=i.fetchIfRef(u[r]);if(f>e)a=r-2;else{if(!(e>f))return i.fetchIfRef(u[r+1]);t=r+2}}return null}},e}(),j=function(){function e(e,t){this.root=e,this.xref=t,this._type="Names"}return x.inherit(e,F,{}),e}(),N=function(){function e(e,t){this.root=e,this.xref=t,this._type="Nums"}return x.inherit(e,F,{}),e}(),q=function(){function e(e,t){e&&T(e)&&(this.xref=t,this.root=e,e.has("FS")&&(this.fs=e.get("FS")),this.description=e.has("Desc")?v(e.get("Desc")):"",e.has("RF")&&k("Related file specifications are not supported"),this.contentAvailable=!0,e.has("EF")||(this.contentAvailable=!1,k("Non-embedded file specifications are not supported")))}function t(e){return e.has("UF")?e.get("UF"):e.has("F")?e.get("F"):e.has("Unix")?e.get("Unix"):e.has("Mac")?e.get("Mac"):e.has("DOS")?e.get("DOS"):null}return e.prototype={get filename(){if(!this._filename&&this.root){var e=t(this.root)||"unnamed";this._filename=v(e).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename},get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=t(this.root.get("EF")));var e=null;if(this.contentRef){var a=this.xref,r=a.fetchIfRef(this.contentRef);r&&R(r)?e=r.getBytes():k("Embedded file specification points to non-existing/invalid content")}else k("Embedded file specification does not have a content");return e},get serializable(){return{filename:this.filename,content:this.content}}},e}(),z=function(){function e(e){return P(e)||T(e)||g(e)||R(e)}function t(t,a){var r;if(T(t)||R(t)){var i;i=T(t)?t.map:t.dict.map;for(var n in i)r=i[n],e(r)&&a.push(r)}else if(g(t))for(var s=0,o=t.length;o>s;s++)r=t[s],e(r)&&a.push(r)}function a(e,t,a){this.obj=e,this.keys=t,this.xref=a,this.refSet=null,this.capability=null}return a.prototype={load:function(){var e=this.keys;if(this.capability=u(),!(this.xref.stream instanceof E)||0===this.xref.stream.getMissingChunks().length)return this.capability.resolve(),this.capability.promise;this.refSet=new S;for(var t=[],a=0;a<e.length;a++)t.push(this.obj[e[a]]);return this._walk(t),this.capability.promise},_walk:function(e){for(var a=[],r=[];e.length;){var i=e.pop();if(P(i)){if(this.refSet.has(i))continue;try{var n=i;this.refSet.put(n),i=this.xref.fetch(i)}catch(s){if(!(s instanceof o))throw s;a.push(i),r.push({begin:s.begin,end:s.end})}}if(i&&i.getBaseStreams){for(var c=i.getBaseStreams(),l=!1,h=0;h<c.length;h++){var u=c[h];u.getMissingChunks&&u.getMissingChunks().length&&(l=!0,r.push({begin:u.start,end:u.end}))}l&&a.push(i)}t(i,e)}return r.length?void this.xref.stream.manager.requestRanges(r).then(function(){e=a;for(var t=0;t<a.length;t++){var r=a[t];P(r)&&this.refSet.remove(r)}this._walk(e)}.bind(this),this.capability.reject):(this.refSet=null,void this.capability.resolve())}},a}();e.Catalog=D,e.ObjectLoader=z,e.XRef=U}),function(e,t){t(e.pdfjsCorePsParser={},e.pdfjsSharedUtil,e.pdfjsCoreParser)}(this,function(e,t,a){var r=t.error,i=a.EOF,n=a.Lexer,s=function(){function e(e){this.lexer=e,this.operators=[],this.token=null,this.prev=null}return e.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(e){return this.token.type===e?(this.nextToken(),!0):!1},expect:function(e){return this.accept(e)?!0:void r("Unexpected symbol: found "+this.token.type+" expected "+e+".")},parse:function(){return this.nextToken(),this.expect(o.LBRACE),this.parseBlock(),this.expect(o.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept(o.NUMBER))this.operators.push(this.prev.value);else if(this.accept(o.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(o.LBRACE))return;this.parseCondition()}},parseCondition:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(o.RBRACE),this.accept(o.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else if(this.accept(o.LBRACE)){var t=this.operators.length;this.operators.push(null,null);var a=this.operators.length;this.parseBlock(),this.expect(o.RBRACE),this.expect(o.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]="j",this.operators[e]=a,this.operators[e+1]="jz"}else r("PS Function: error parsing conditional.")}},e}(),o={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},c=function(){function e(e,t){this.type=e,this.value=t}var t={};return e.getOperator=function(a){var r=t[a];return r?r:t[a]=new e(o.OPERATOR,a)},e.LBRACE=new e(o.LBRACE,"{"),e.RBRACE=new e(o.RBRACE,"}"),e.IF=new e(o.IF,"IF"),e.IFELSE=new e(o.IFELSE,"IFELSE"),e}(),l=function(){function e(e){this.stream=e,this.nextChar(),this.strBuf=[]}return e.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var e=!1,t=this.currentChar;;){if(0>t)return i;if(e)(10===t||13===t)&&(e=!1);else if(37===t)e=!0;else if(!n.isSpace(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new c(o.NUMBER,this.getNumber());case 123:return this.nextChar(),c.LBRACE;case 125:return this.nextChar(),c.RBRACE}var a=this.strBuf;for(a.length=0,a[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=65&&90>=t||t>=97&&122>=t);)a.push(String.fromCharCode(t));var r=a.join("");switch(r.toLowerCase()){case"if":return c.IF;case"ifelse":return c.IFELSE;default:return c.getOperator(r)}},getNumber:function(){var e=this.currentChar,t=this.strBuf;for(t.length=0,t[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&57>=e||45===e||46===e);)t.push(String.fromCharCode(e));var a=parseFloat(t.join(""));return isNaN(a)&&r("Invalid floating point number: "+a),a}},e}();e.PostScriptLexer=l,e.PostScriptParser=s}),function(e,t){t(e.pdfjsCoreFonts={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream,e.pdfjsCoreParser,e.pdfjsCoreCMap,e.pdfjsCoreGlyphList,e.pdfjsCoreCharsets,e.pdfjsCoreFontRenderer)}(this,function(e,t,a,r,i,n,s,o,c){function l(e){return e>=65520&&65535>=e?0:e>=62976&&63743>=e?ie[e]||e:e}function h(e){for(var t=0,a=ne.length;a>t;t++){var r=ne[t];if(e>=r.begin&&e<r.end)return t}return-1}function u(e){var t=ne[13];return e>=t.begin&&e<t.end?!0:(t=ne[11],e>=t.begin&&e<t.end?!0:!1)}function f(e){var t=e.length;if(1>=t||!u(e.charCodeAt(0)))return e;for(var a="",r=t-1;r>=0;r--)a+=e[r];return a}function d(e){if(e.fontMatrix&&e.fontMatrix[0]!==b[0]){var t=.001/e.fontMatrix[0],a=e.widths;for(var r in a)a[r]*=t;e.defaultWidth*=t}}function g(e,t){switch(e){case"Type1":return"Type1C"===t?v.TYPE1C:v.TYPE1;case"CIDFontType0":return"CIDFontType0C"===t?v.CIDFONTTYPE0C:v.CIDFONTTYPE0;case"OpenType":return v.OPENTYPE;case"TrueType":return v.TRUETYPE;case"CIDFontType2":return v.CIDFONTTYPE2;case"MMType1":return v.MMTYPE1;case"Type0":return v.TYPE0;default:return v.UNKNOWN}}function m(e,t,a){var r,i,n,s=Object.create(null);if(e.baseEncodingName)for(n=Z[e.baseEncodingName],i=0;i<n.length;i++)r=a.indexOf(n[i]),r>=0?s[i]=r:s[i]=0;else if(e.flags&Y.Symbolic)for(i in t)s[i]=t[i];else for(n=Z.StandardEncoding,i=0;i<n.length;i++)r=a.indexOf(n[i]),r>=0?s[i]=r:s[i]=0;var o=e.differences;if(o)for(i in o){var c=o[i];r=a.indexOf(c),r>=0?s[i]=r:s[i]=0}return s}function p(t){e.SEAC_ANALYSIS_ENABLED=K=t}var b=t.FONT_IDENTITY_MATRIX,v=t.FontType,y=t.Util,k=t.assert,w=t.bytesToString,x=t.error,C=t.info,S=t.isArray,A=t.isInt,I=t.isNum,B=t.readUint32,T=t.shadow,P=t.stringToBytes,R=t.string32,L=t.warn,O=a.Name,M=r.Stream,E=i.Lexer,D=n.CMapFactory,U=n.IdentityCMap,F=s.GlyphsUnicode,j=s.DingbatsGlyphsUnicode,N=o.ISOAdobeCharset,q=o.ExpertCharset,z=o.ExpertSubsetCharset,H=c.FontRendererFactory,_=57344,G=63743,X=!1,W=1e3,V=!1,K=!1,J=10,Y={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},Z={ExpertEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],MacExpertEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall"],MacRomanEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],StandardEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],WinAnsiEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],SymbolSetEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt"],
ZapfDingbatsEncoding:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191"]},Q={ArialNarrow:"Helvetica","ArialNarrow-Bold":"Helvetica-Bold","ArialNarrow-BoldItalic":"Helvetica-BoldOblique","ArialNarrow-Italic":"Helvetica-Oblique",ArialBlack:"Helvetica","ArialBlack-Bold":"Helvetica-Bold","ArialBlack-BoldItalic":"Helvetica-BoldOblique","ArialBlack-Italic":"Helvetica-Oblique",Arial:"Helvetica","Arial-Bold":"Helvetica-Bold","Arial-BoldItalic":"Helvetica-BoldOblique","Arial-Italic":"Helvetica-Oblique","Arial-BoldItalicMT":"Helvetica-BoldOblique","Arial-BoldMT":"Helvetica-Bold","Arial-ItalicMT":"Helvetica-Oblique",ArialMT:"Helvetica","Courier-Bold":"Courier-Bold","Courier-BoldItalic":"Courier-BoldOblique","Courier-Italic":"Courier-Oblique",CourierNew:"Courier","CourierNew-Bold":"Courier-Bold","CourierNew-BoldItalic":"Courier-BoldOblique","CourierNew-Italic":"Courier-Oblique","CourierNewPS-BoldItalicMT":"Courier-BoldOblique","CourierNewPS-BoldMT":"Courier-Bold","CourierNewPS-ItalicMT":"Courier-Oblique",CourierNewPSMT:"Courier",Helvetica:"Helvetica","Helvetica-Bold":"Helvetica-Bold","Helvetica-BoldItalic":"Helvetica-BoldOblique","Helvetica-BoldOblique":"Helvetica-BoldOblique","Helvetica-Italic":"Helvetica-Oblique","Helvetica-Oblique":"Helvetica-Oblique","Symbol-Bold":"Symbol","Symbol-BoldItalic":"Symbol","Symbol-Italic":"Symbol",TimesNewRoman:"Times-Roman","TimesNewRoman-Bold":"Times-Bold","TimesNewRoman-BoldItalic":"Times-BoldItalic","TimesNewRoman-Italic":"Times-Italic",TimesNewRomanPS:"Times-Roman","TimesNewRomanPS-Bold":"Times-Bold","TimesNewRomanPS-BoldItalic":"Times-BoldItalic","TimesNewRomanPS-BoldItalicMT":"Times-BoldItalic","TimesNewRomanPS-BoldMT":"Times-Bold","TimesNewRomanPS-Italic":"Times-Italic","TimesNewRomanPS-ItalicMT":"Times-Italic",TimesNewRomanPSMT:"Times-Roman","TimesNewRomanPSMT-Bold":"Times-Bold","TimesNewRomanPSMT-BoldItalic":"Times-BoldItalic","TimesNewRomanPSMT-Italic":"Times-Italic"},$={CenturyGothic:"Helvetica","CenturyGothic-Bold":"Helvetica-Bold","CenturyGothic-BoldItalic":"Helvetica-BoldOblique","CenturyGothic-Italic":"Helvetica-Oblique",ComicSansMS:"Comic Sans MS","ComicSansMS-Bold":"Comic Sans MS-Bold","ComicSansMS-BoldItalic":"Comic Sans MS-BoldItalic","ComicSansMS-Italic":"Comic Sans MS-Italic",LucidaConsole:"Courier","LucidaConsole-Bold":"Courier-Bold","LucidaConsole-BoldItalic":"Courier-BoldOblique","LucidaConsole-Italic":"Courier-Oblique","MS-Gothic":"MS Gothic","MS-Gothic-Bold":"MS Gothic-Bold","MS-Gothic-BoldItalic":"MS Gothic-BoldItalic","MS-Gothic-Italic":"MS Gothic-Italic","MS-Mincho":"MS Mincho","MS-Mincho-Bold":"MS Mincho-Bold","MS-Mincho-BoldItalic":"MS Mincho-BoldItalic","MS-Mincho-Italic":"MS Mincho-Italic","MS-PGothic":"MS PGothic","MS-PGothic-Bold":"MS PGothic-Bold","MS-PGothic-BoldItalic":"MS PGothic-BoldItalic","MS-PGothic-Italic":"MS PGothic-Italic","MS-PMincho":"MS PMincho","MS-PMincho-Bold":"MS PMincho-Bold","MS-PMincho-BoldItalic":"MS PMincho-BoldItalic","MS-PMincho-Italic":"MS PMincho-Italic",Wingdings:"ZapfDingbats"},ee={"Adobe Jenson":!0,"Adobe Text":!0,Albertus:!0,Aldus:!0,Alexandria:!0,Algerian:!0,"American Typewriter":!0,Antiqua:!0,Apex:!0,Arno:!0,Aster:!0,Aurora:!0,Baskerville:!0,Bell:!0,Bembo:!0,"Bembo Schoolbook":!0,Benguiat:!0,"Berkeley Old Style":!0,"Bernhard Modern":!0,"Berthold City":!0,Bodoni:!0,"Bauer Bodoni":!0,"Book Antiqua":!0,Bookman:!0,"Bordeaux Roman":!0,"Californian FB":!0,Calisto:!0,Calvert:!0,Capitals:!0,Cambria:!0,Cartier:!0,Caslon:!0,Catull:!0,Centaur:!0,"Century Old Style":!0,"Century Schoolbook":!0,Chaparral:!0,"Charis SIL":!0,Cheltenham:!0,"Cholla Slab":!0,Clarendon:!0,Clearface:!0,Cochin:!0,Colonna:!0,"Computer Modern":!0,"Concrete Roman":!0,Constantia:!0,"Cooper Black":!0,Corona:!0,Ecotype:!0,Egyptienne:!0,Elephant:!0,Excelsior:!0,Fairfield:!0,"FF Scala":!0,Folkard:!0,Footlight:!0,FreeSerif:!0,"Friz Quadrata":!0,Garamond:!0,Gentium:!0,Georgia:!0,Gloucester:!0,"Goudy Old Style":!0,"Goudy Schoolbook":!0,"Goudy Pro Font":!0,Granjon:!0,"Guardian Egyptian":!0,Heather:!0,Hercules:!0,"High Tower Text":!0,Hiroshige:!0,"Hoefler Text":!0,"Humana Serif":!0,Imprint:!0,"Ionic No. 5":!0,Janson:!0,Joanna:!0,Korinna:!0,Lexicon:!0,"Liberation Serif":!0,"Linux Libertine":!0,Literaturnaya:!0,Lucida:!0,"Lucida Bright":!0,Melior:!0,Memphis:!0,Miller:!0,Minion:!0,Modern:!0,"Mona Lisa":!0,"Mrs Eaves":!0,"MS Serif":!0,"Museo Slab":!0,"New York":!0,"Nimbus Roman":!0,"NPS Rawlinson Roadway":!0,Palatino:!0,Perpetua:!0,Plantin:!0,"Plantin Schoolbook":!0,Playbill:!0,"Poor Richard":!0,"Rawlinson Roadway":!0,Renault:!0,Requiem:!0,Rockwell:!0,Roman:!0,"Rotis Serif":!0,Sabon:!0,Scala:!0,Seagull:!0,Sistina:!0,Souvenir:!0,STIX:!0,"Stone Informal":!0,"Stone Serif":!0,Sylfaen:!0,Times:!0,Trajan:!0,"Trinit":!0,"Trump Mediaeval":!0,Utopia:!0,"Vale Type":!0,"Bitstream Vera":!0,"Vera Serif":!0,Versailles:!0,Wanted:!0,Weiss:!0,"Wide Latin":!0,Windsor:!0,XITS:!0},te={Dingbats:!0,Symbol:!0,ZapfDingbats:!0},ae={2:10,3:32,4:33,5:34,6:35,7:36,8:37,9:38,10:39,11:40,12:41,13:42,14:43,15:44,16:45,17:46,18:47,19:48,20:49,21:50,22:51,23:52,24:53,25:54,26:55,27:56,28:57,29:58,30:894,31:60,32:61,33:62,34:63,35:64,36:65,37:66,38:67,39:68,40:69,41:70,42:71,43:72,44:73,45:74,46:75,47:76,48:77,49:78,50:79,51:80,52:81,53:82,54:83,55:84,56:85,57:86,58:87,59:88,60:89,61:90,62:91,63:92,64:93,65:94,66:95,67:96,68:97,69:98,70:99,71:100,72:101,73:102,74:103,75:104,76:105,77:106,78:107,79:108,80:109,81:110,82:111,83:112,84:113,85:114,86:115,87:116,88:117,89:118,90:119,91:120,92:121,93:122,94:123,95:124,96:125,97:126,98:196,99:197,100:199,101:201,102:209,103:214,104:220,105:225,106:224,107:226,108:228,109:227,110:229,111:231,112:233,113:232,114:234,115:235,116:237,117:236,118:238,119:239,120:241,121:243,122:242,123:244,124:246,125:245,126:250,127:249,128:251,129:252,130:8224,131:176,132:162,133:163,134:167,135:8226,136:182,137:223,138:174,139:169,140:8482,141:180,142:168,143:8800,144:198,145:216,146:8734,147:177,148:8804,149:8805,150:165,151:181,152:8706,153:8721,154:8719,156:8747,157:170,158:186,159:8486,160:230,161:248,162:191,163:161,164:172,165:8730,166:402,167:8776,168:8710,169:171,170:187,171:8230,210:218,223:711,224:321,225:322,227:353,229:382,234:253,252:263,253:268,254:269,258:258,260:260,261:261,265:280,266:281,268:283,269:313,275:323,276:324,278:328,284:345,285:346,286:347,292:367,295:377,296:378,298:380,305:963,306:964,307:966,308:8215,309:8252,310:8319,311:8359,312:8592,313:8593,337:9552,493:1039,494:1040,705:1524,706:8362,710:64288,711:64298,759:1617,761:1776,763:1778,775:1652,777:1764,778:1780,779:1781,780:1782,782:771,783:64726,786:8363,788:8532,790:768,791:769,792:768,795:803,797:64336,798:64337,799:64342,800:64343,801:64344,802:64345,803:64362,804:64363,805:64364,2424:7821,2425:7822,2426:7823,2427:7824,2428:7825,2429:7826,2430:7827,2433:7682,2678:8045,2679:8046,2830:1552,2838:686,2840:751,2842:753,2843:754,2844:755,2846:757,2856:767,2857:848,2858:849,2862:853,2863:854,2864:855,2865:861,2866:862,2906:7460,2908:7462,2909:7463,2910:7464,2912:7466,2913:7467,2914:7468,2916:7470,2917:7471,2918:7472,2920:7474,2921:7475,2922:7476,2924:7478,2925:7479,2926:7480,2928:7482,2929:7483,2930:7484,2932:7486,2933:7487,2934:7488,2936:7490,2937:7491,2938:7492,2940:7494,2941:7495,2942:7496,2944:7498,2946:7500,2948:7502,2950:7504,2951:7505,2952:7506,2954:7508,2955:7509,2956:7510,2958:7512,2959:7513,2960:7514,2962:7516,2963:7517,2964:7518,2966:7520,2967:7521,2968:7522,2970:7524,2971:7525,2972:7526,2974:7528,2975:7529,2976:7530,2978:1537,2979:1538,2980:1539,2982:1549,2983:1551,2984:1552,2986:1554,2987:1555,2988:1556,2990:1623,2991:1624,2995:1775,2999:1791,3002:64290,3003:64291,3004:64292,3006:64294,3007:64295,3008:64296,3011:1900,3014:8223,3015:8244,3017:7532,3018:7533,3019:7534,3075:7590,3076:7591,3079:7594,3080:7595,3083:7598,3084:7599,3087:7602,3088:7603,3091:7606,3092:7607,3095:7610,3096:7611,3099:7614,3100:7615,3103:7618,3104:7619,3107:8337,3108:8338,3116:1884,3119:1885,3120:1885,3123:1886,3124:1886,3127:1887,3128:1887,3131:1888,3132:1888,3135:1889,3136:1889,3139:1890,3140:1890,3143:1891,3144:1891,3147:1892,3148:1892,3153:580,3154:581,3157:584,3158:585,3161:588,3162:589,3165:891,3166:892,3169:1274,3170:1275,3173:1278,3174:1279,3181:7622,3182:7623,3282:11799,3316:578,3379:42785,3393:1159,3416:8377},re={227:322,264:261,291:346},ie={63721:169,63193:169,63720:174,63194:174,63722:8482,63195:8482,63729:9127,63730:9128,63731:9129,63740:9131,63741:9132,63742:9133,63726:9121,63727:9122,63728:9123,63737:9124,63738:9125,63739:9126,63723:9115,63724:9116,63725:9117,63734:9118,63735:9119,63736:9120},ne=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],se=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],oe={"":" ","":" ","":" ","":"","":" ","":"IJ","":"ij","":"L","":"l","":"n","":"s","":"D","":"D","":"d","":"LJ","":"Lj","":"lj","":"NJ","":"Nj","":"nj","":"DZ","":"Dz","":"dz","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"a","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":".","":"..","":"...","":"","":"","":"","":"","":"!!","":" ","":"??","":"?!","":"!?","":"","":" ","":"Rs","":"a/c","":"a/s","":"C","":"c/o","":"c/u","":"","":"F","":"No","":"TEL","":"","":"","":"","":"","":"FAX","":"I","":"II","":"III","":"IV","":"V","":"VI","":"VII","":"VIII","":"IX","":"X","":"XI","":"XII","":"L","":"C","":"D","":"M","":"i","":"ii","":"iii","":"iv","":"v","":"vi","":"vii","":"viii","":"ix","":"x","":"xi","":"xii","":"l","":"c","":"d","":"m","":"","":"","":"","":"","":"(1)","":"(2)","":"(3)","":"(4)","":"(5)","":"(6)","":"(7)","":"(8)","":"(9)","":"(10)","":"(11)","":"(12)","":"(13)","":"(14)","":"(15)","":"(16)","":"(17)","":"(18)","":"(19)","":"(20)","":"1.","":"2.","":"3.","":"4.","":"5.","":"6.","":"7.","":"8.","":"9.","":"10.","":"11.","":"12.","":"13.","":"14.","":"15.","":"16.","":"17.","":"18.","":"19.","":"20.","":"(a)","":"(b)","":"(c)","":"(d)","":"(e)","":"(f)","":"(g)","":"(h)","":"(i)","":"(j)","":"(k)","":"(l)","":"(m)","":"(n)","":"(o)","":"(p)","":"(q)","":"(r)","":"(s)","":"(t)","":"(u)","":"(v)","":"(w)","":"(x)","":"(y)","":"(z)","":"","":"::=","":"==","":"===","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" ","":" ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"21","":"22","":"23","":"24","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"21","":"22","":"23","":"24","":"25","":"26","":"27","":"28","":"29","":"30","":"31","":"ff","":"fi","":"fl","":"ffi","":"ffl","":"t","":"st","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" ","":" ","":" ","":" ","":" ","":" ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"_","":"_","":"_","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},ce=function(){function e(e,t,a,r,i,n,s){this.fontChar=e,this.unicode=t,this.accent=a,this.width=r,this.vmetric=i,this.operatorListId=n,this.isSpace=s}return e.prototype.matchesForCache=function(e,t,a,r,i,n,s){return this.fontChar===e&&this.unicode===t&&this.accent===a&&this.width===r&&this.vmetric===i&&this.operatorListId===n&&this.isSpace===s},e}(),le=function(){function e(e){this._map=e}return e.prototype={get length(){return this._map.length},forEach:function(e){for(var t in this._map)e(t,this._map[t].charCodeAt(0))},has:function(e){return void 0!==this._map[e]},get:function(e){return this._map[e]},charCodeOf:function(e){return this._map.indexOf(e)}},e}(),he=function(){function e(e,t){this.firstChar=e,this.lastChar=t}return e.prototype={get length(){return this.lastChar+1-this.firstChar},forEach:function(e){for(var t=this.firstChar,a=this.lastChar;a>=t;t++)e(t,t)},has:function(e){return this.firstChar<=e&&e<=this.lastChar},get:function(e){return this.firstChar<=e&&e<=this.lastChar?String.fromCharCode(e):void 0},charCodeOf:function(e){return A(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}},e}(),ue=function(){function e(e,t,a){e[t]=a>>8&255,e[t+1]=255&a}function t(e,t,a){e[t]=a>>24&255,e[t+1]=a>>16&255,e[t+2]=a>>8&255,e[t+3]=255&a}function a(e,t,a){var r,i;if(a instanceof Uint8Array)e.set(a,t);else if("string"==typeof a)for(r=0,i=a.length;i>r;r++)e[t++]=255&a.charCodeAt(r);else for(r=0,i=a.length;i>r;r++)e[t++]=255&a[r]}function r(e){this.sfnt=e,this.tables=Object.create(null)}r.getSearchParams=function(e,t){for(var a=1,r=0;(a^e)>a;)a<<=1,r++;var i=a*t;return{range:i,entry:r,rangeShift:t*e-i}};var i=12,n=16;return r.prototype={toArray:function(){var s=this.sfnt,o=this.tables,c=Object.keys(o);c.sort();var l,h,u,f,d,g=c.length,m=i+g*n,p=[m];for(l=0;g>l;l++){f=o[c[l]];var b=(f.length+3&-4)>>>0;m+=b,p.push(m)}var v=new Uint8Array(m);for(l=0;g>l;l++)f=o[c[l]],a(v,p[l],f);"true"===s&&(s=R(65536)),v[0]=255&s.charCodeAt(0),v[1]=255&s.charCodeAt(1),v[2]=255&s.charCodeAt(2),v[3]=255&s.charCodeAt(3),e(v,4,g);var y=r.getSearchParams(g,16);for(e(v,6,y.range),e(v,8,y.entry),e(v,10,y.rangeShift),m=i,l=0;g>l;l++){d=c[l],v[m]=255&d.charCodeAt(0),v[m+1]=255&d.charCodeAt(1),v[m+2]=255&d.charCodeAt(2),v[m+3]=255&d.charCodeAt(3);var k=0;for(h=p[l],u=p[l+1];u>h;h+=4){var w=(v[h]<<24)+(v[h+1]<<16)+(v[h+2]<<8)+v[h+3];k=k+w|0}t(v,m+4,k),t(v,m+8,p[l]),t(v,m+12,o[d].length),m+=n}return v},addTable:function(e,t){if(e in this.tables)throw new Error("Table "+e+" already exists");this.tables[e]=t}},r}(),fe=new Int32Array([0,32,127,161,173,174,1536,1920,2208,4256,6016,6144,8192,8208,8209,8210,8232,8240,8287,8304,9676,9677,43616,43648,65520,65536]),de=function(){function e(e,t,a){var r,i,c;this.name=e,this.loadedName=a.loadedName,this.isType3Font=a.isType3Font,this.sizes=[],this.glyphCache={};var l=e.split("+");l=l.length>1?l[1]:l[0],l=l.split(/[-,_]/g)[0],this.isSerifFont=!!(a.flags&Y.Serif),this.isSymbolicFont=!!(a.flags&Y.Symbolic),this.isMonospace=!!(a.flags&Y.FixedPitch);var h=a.type,u=a.subtype;if(this.type=h,this.fallbackName=this.isMonospace?"monospace":this.isSerifFont?"serif":"sans-serif",this.differences=a.differences,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.composite=a.composite,this.wideChars=a.wideChars,this.cMap=a.cMap,this.ascent=a.ascent/W,this.descent=a.descent/W,this.fontMatrix=a.fontMatrix,this.bbox=a.bbox,this.toUnicode=a.toUnicode=this.buildToUnicode(a),this.toFontChar=[],"Type3"===a.type){for(r=0;256>r;r++)this.toFontChar[r]=this.differences[r]||a.defaultEncoding[r];return void(this.fontType=v.TYPE3)}if(this.cidEncoding=a.cidEncoding,this.vertical=a.vertical,this.vertical&&(this.vmetrics=a.vmetrics,this.defaultVMetrics=a.defaultVMetrics),!t||t.isEmpty){t&&L('Font file is empty in "'+e+'" ('+this.loadedName+")"),this.missingFile=!0;var f=e.replace(/[,_]/g,"-"),m=!!Q[f]||!(!$[f]||!Q[$[f]]);if(f=Q[f]||$[f]||f,this.bold=-1!==f.search(/bold/gi),this.italic=-1!==f.search(/oblique/gi)||-1!==f.search(/italic/gi),this.black=-1!==e.search(/Black/g),this.remeasure=Object.keys(this.widths).length>0,m&&"CIDFontType2"===h&&0===a.cidEncoding.indexOf("Identity-")){var p=[];for(r in ae)p[+r]=ae[r];if(/ArialBlack/i.test(e))for(r in re)p[+r]=re[r];var b=this.toUnicode instanceof he;b||this.toUnicode.forEach(function(e,t){p[+e]=t}),this.toFontChar=p,this.toUnicode=new le(p)}else if(/Symbol/i.test(f)){var y=Z.SymbolSetEncoding;for(r in y)c=F[y[r]],c&&(this.toFontChar[r]=c);for(r in a.differences)c=F[a.differences[r]],c&&(this.toFontChar[r]=c)}else if(/Dingbats/i.test(f)){/Wingdings/i.test(e)&&L("Wingdings font without embedded font file, falling back to the ZapfDingbats encoding.");var k=Z.ZapfDingbatsEncoding;
for(r in k)c=j[k[r]],c&&(this.toFontChar[r]=c);for(r in a.differences)c=j[a.differences[r]],c&&(this.toFontChar[r]=c)}else if(m){this.toFontChar=[];for(r in a.defaultEncoding)i=a.differences[r]||a.defaultEncoding[r],this.toFontChar[r]=F[i]}else{var w=-1===h.indexOf("CIDFontType");this.toUnicode.forEach(function(e,t){w&&(i=a.differences[e]||a.defaultEncoding[e],t=F[i]||t),this.toFontChar[e]=t}.bind(this))}return this.loadedName=f.split("-")[0],this.loading=!1,void(this.fontType=g(h,u))}"Type1C"===u&&"Type1"!==h&&"MMType1"!==h&&(n(t)?u="TrueType":h="Type1"),"CIDFontType0C"===u&&"CIDFontType0"!==h&&(h="CIDFontType0"),"OpenType"===u&&(h="OpenType"),"CIDFontType0"===h&&(o(t)?u="CIDFontType0":s(t)?h=u="OpenType":u="CIDFontType0C");var S;switch(h){case"MMType1":C("MMType1 font ("+e+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var A="Type1C"===u||"CIDFontType0C"===u?new ye(t,a):new ve(e,t,a);d(a),S=this.convert(e,A,a);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",S=this.checkAndRepair(e,t,a),this.isOpenType&&(d(a),h="OpenType");break;default:x("Font "+h+" is not supported")}this.data=S,this.fontType=g(h,u),this.fontMatrix=a.fontMatrix,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.encoding=a.baseEncoding,this.seacMap=a.seacMap,this.loading=!0}function t(e,t){return(e<<8)+t}function a(e,t,a,r){return(e<<24)+(t<<16)+(a<<8)+r}function r(e){return String.fromCharCode(e>>8&255,255&e)}function i(e){return e=e>32767?32767:-32768>e?-32768:e,String.fromCharCode(e>>8&255,255&e)}function n(e){var t=e.peekBytes(4);return 65536===B(t,0)}function s(e){var t=e.peekBytes(4);return"OTTO"===w(t)}function o(e){var t=e.peekBytes(2);return 37===t[0]&&33===t[1]?!0:128===t[0]&&1===t[1]?!0:!1}function c(e){for(var t=0,a=fe.length-1;a>t;){var r=t+a+1>>1;e<fe[r]?a=r-1:t=r}return!(1&t)}function u(e,t){var a=t.toUnicode,r=!!(t.flags&Y.Symbolic),i=t.toUnicode instanceof he,n=Object.create(null),s=[],o=[],l=_;for(var h in e){h|=0;var u=e[h],f=h;if(!i&&a.has(h)){var d=a.get(f);1===d.length&&(f=d.charCodeAt(0))}if((void 0!==o[f]||c(f)||r&&i)&&G>=l)do f=l++,X&&61440===f&&(f=61472,l=f+1);while(void 0!==o[f]&&G>=l);n[f]=u,s[h]=f,o[f]=!0}return{toFontChar:s,charCodeToGlyphId:n,nextAvailableFontCharCode:l}}function f(e,t){var a=[];for(var r in e)e[r]>=t||a.push({fontCharCode:0|r,glyphId:e[r]});a.sort(function(e,t){return e.fontCharCode-t.fontCharCode});for(var i=[],n=a.length,s=0;n>s;){var o=a[s].fontCharCode,c=[a[s].glyphId];++s;for(var l=o;n>s&&l+1===a[s].fontCharCode&&(c.push(a[s].glyphId),++l,++s,65535!==l););i.push([o,l,c])}return i}function m(e,t){var a,i,n,s,o=f(e,t),c=o[o.length-1][1]>65535?2:1,l="\x00\x00"+r(c)+"\x00\x00"+R(4+8*c);for(a=o.length-1;a>=0&&!(o[a][0]<=65535);--a);var h=a+1;o[a][0]<65535&&65535===o[a][1]&&(o[a][1]=65534);var u,d,g,m,p=o[a][1]<65535?1:0,b=h+p,v=ue.getSearchParams(b,2),y="",k="",w="",x="",C="",S=0;for(a=0,i=h;i>a;a++){u=o[a],d=u[0],g=u[1],y+=r(d),k+=r(g),m=u[2];var A=!0;for(n=1,s=m.length;s>n;++n)if(m[n]!==m[n-1]+1){A=!1;break}if(A){var I=m[0];w+=r(I-d&65535),x+=r(0)}else{var B=2*(b-a)+2*S;for(S+=g-d+1,w+=r(0),x+=r(B),n=0,s=m.length;s>n;++n)C+=r(m[n])}}p>0&&(k+="",y+="",w+="\x00",x+="\x00\x00");var T="\x00\x00"+r(2*b)+r(v.range)+r(v.entry)+r(v.rangeShift)+k+"\x00\x00"+y+w+x+C,P="",L="";if(c>1){for(l+="\x00\x00\n"+R(4+8*c+4+T.length),P="",a=0,i=o.length;i>a;a++){u=o[a],d=u[0],m=u[2];var O=m[0];for(n=1,s=m.length;s>n;++n)m[n]!==m[n-1]+1&&(g=u[0]+n-1,P+=R(d)+R(g)+R(O),d=g+1,O=m[n]);P+=R(d)+R(u[1])+R(O)}L="\x00\f\x00\x00"+R(P.length+16)+"\x00\x00\x00\x00"+R(P.length/12)}return l+"\x00"+r(T.length+4)+T+L+P}function p(e){var t=new M(e.data),a=t.getUint16();t.getBytes(60);var r=t.getUint16();if(4>a&&768&r)return!1;var i=t.getUint16(),n=t.getUint16();if(i>n)return!1;t.getBytes(6);var s=t.getUint16();return 0===s?!1:(e.data[8]=e.data[9]=0,!0)}function y(e,t,a){a=a||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var i=0,n=0,s=0,o=0,c=null,l=0;if(t)for(var u in t){u|=0,(c>u||!c)&&(c=u),u>l&&(l=u);var f=h(u);32>f?i|=1<<f:64>f?n|=1<<f-32:96>f?s|=1<<f-64:123>f?o|=1<<f-96:x("Unicode ranges Bits > 123 are reserved for internal usage")}else c=0,l=255;var d=e.bbox||[0,0,0,0],g=a.unitsPerEm||1/(e.fontMatrix||b)[0],m=e.ascentScaled?1:g/W,p=a.ascent||Math.round(m*(e.ascent||d[3])),v=a.descent||Math.round(m*(e.descent||d[1]));v>0&&e.descent>0&&d[1]<0&&(v=-v);var y=a.yMax||p,k=-a.yMin||-v;return"\x00$\x00\x00\x00\x00\x00\x00\x00\x00\x001\x00\x00\x00\x00"+String.fromCharCode(e.fixedPitch?9:0)+"\x00\x00\x00\x00\x00\x00"+R(i)+R(n)+R(s)+R(o)+"*21*"+r(e.italicAngle?1:0)+r(c||e.firstChar)+r(l||e.lastChar)+r(p)+r(v)+"\x00d"+r(y)+r(k)+"\x00\x00\x00\x00\x00\x00\x00\x00"+r(e.xHeight)+r(e.capHeight)+r(0)+r(c||e.firstChar)+"\x00"}function S(e){var t=Math.floor(e.italicAngle*Math.pow(2,16));return"\x00\x00\x00"+R(t)+"\x00\x00\x00\x00"+R(e.fixedPitch)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"}function A(e,t){t||(t=[[],[]]);var a,i,n,s,o,c=[t[0][0]||"Original licence",t[0][1]||e,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||e,t[0][5]||"Version 0.11",t[0][6]||"",t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],l=[];for(a=0,i=c.length;i>a;a++){o=t[1][a]||c[a];var h=[];for(n=0,s=o.length;s>n;n++)h.push(r(o.charCodeAt(n)));l.push(h.join(""))}var u=[c,l],f=["\x00","\x00"],d=["\x00\x00","\x00"],g=["\x00\x00"," "],m=c.length*f.length,p="\x00\x00"+r(m)+r(12*m+6),b=0;for(a=0,i=f.length;i>a;a++){var v=u[a];for(n=0,s=v.length;s>n;n++){o=v[n];var y=f[a]+d[a]+g[a]+r(n)+r(o.length)+r(b);p+=y,b+=o.length}}return p+=c.join("")+l.join("")}return e.getFontID=function(){var e=1;return function(){return String(e++)}}(),e.prototype={name:null,font:null,mimetype:null,encoding:null,get renderer(){var e=H.create(this);return T(this,"renderer",e)},exportData:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},checkAndRepair:function(e,r,i){function n(e){var t=w(e.getBytes(4)),a=e.getInt32(),r=e.getInt32()>>>0,i=e.getInt32()>>>0,n=e.pos;e.pos=e.start?e.start:0,e.skip(r);var s=e.getBytes(i);return e.pos=n,"head"===t&&(s[8]=s[9]=s[10]=s[11]=0,s[17]|=32),{tag:t,checksum:a,length:i,offset:r,data:s}}function s(e){return{version:w(e.getBytes(4)),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function o(e,t,a,r){if(!e)return L("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var i,n=(t.start?t.start:0)+e.offset;t.pos=n;for(var s,o=(t.getUint16(),t.getUint16()),c=!1,l=0;o>l;l++){var h=t.getUint16(),u=t.getUint16(),f=t.getInt32()>>>0,d=!1;if(0===h&&0===u?d=!0:1===h&&0===u?d=!0:3!==h||1!==u||(a||!r)&&s?a&&3===h&&0===u&&(d=!0,c=!0):(d=!0,a||(c=!0)),d&&(s={platformId:h,encodingId:u,offset:f}),c)break}if(s&&(t.pos=n+s.offset),!s||-1===t.peekByte())return L("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var g,m,p=t.getUint16(),b=(t.getUint16(),t.getUint16(),!1),v=[];if(0===p){for(g=0;256>g;g++){var y=t.getByte();y&&v.push({charCode:g,glyphId:y})}b=!0}else if(4===p){var k=t.getUint16()>>1;t.getBytes(6);var w,x=[];for(w=0;k>w;w++)x.push({end:t.getUint16()});for(t.getUint16(),w=0;k>w;w++)x[w].start=t.getUint16();for(w=0;k>w;w++)x[w].delta=t.getUint16();var C=0;for(w=0;k>w;w++){i=x[w];var S=t.getUint16();if(S){var A=(S>>1)-(k-w);i.offsetIndex=A,C=Math.max(C,A+i.end-i.start+1)}else i.offsetIndex=-1}var I=[];for(g=0;C>g;g++)I.push(t.getUint16());for(w=0;k>w;w++){i=x[w],n=i.start;var B=i.end,T=i.delta;for(A=i.offsetIndex,g=n;B>=g;g++)65535!==g&&(m=0>A?g:I[A+g-n],m=m+T&65535,0!==m&&v.push({charCode:g,glyphId:m}))}}else{if(6!==p)return L("cmap table has unsupported format: "+p),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var P=t.getUint16(),R=t.getUint16();for(g=0;R>g;g++){m=t.getUint16();var O=P+g;v.push({charCode:O,glyphId:m})}}for(v.sort(function(e,t){return e.charCode-t.charCode}),l=1;l<v.length;l++)v[l-1].charCode===v[l].charCode&&(v.splice(l,1),l--);return{platformId:s.platformId,encodingId:s.encodingId,mappings:v,hasShortCmap:b}}function c(e,t,a,r){if(!t)return void(a&&(a.data=null));e.pos=(e.start?e.start:0)+t.offset,e.pos+=t.length-2;var i=e.getUint16();i>r&&(C("The numOfMetrics ("+i+") should not be greater than the numGlyphs ("+r+")"),i=r,t.data[34]=(65280&i)>>8,t.data[35]=255&i);var n=r-i,s=n-(a.length-4*i>>1);if(s>0){var o=new Uint8Array(a.length+2*s);o.set(a.data),a.data=o}}function l(e,t,a,r,i,n){if(12>=a-t)return 0;var s=e.subarray(t,a),o=s[0]<<8|s[1];if(32768&o)return r.set(s,i),s.length;var c,l=10,h=0;for(c=0;o>c;c++){var u=s[l]<<8|s[l+1];h=u+1,l+=2}var f=l,d=s[l]<<8|s[l+1];l+=2+d;var g=l,m=0;for(c=0;h>c;c++){var p=s[l++];192&p&&(s[l-1]=63&p);var b=(2&p?1:16&p?0:2)+(4&p?1:32&p?0:2);if(m+=b,8&p){var v=s[l++];c+=v,m+=v*b}}if(0===m)return 0;var y=l+m;return y>s.length?0:!n&&d>0?(r.set(s.subarray(0,f),i),r.set([0,0],i+f),r.set(s.subarray(g,y),i+f+2),y-=d,s.length-y>3&&(y=y+3&-4),y):s.length-y>3?(y=y+3&-4,r.set(s.subarray(0,y),i),y):(r.set(s,i),s.length)}function h(e,r,i){var n=e.data,s=a(n[0],n[1],n[2],n[3]);s>>16!==1&&(C("Attempting to fix invalid version in head table: "+s),n[0]=0,n[1]=1,n[2]=0,n[3]=0);var o=t(n[50],n[51]);if(0>o||o>1){C("Attempting to fix invalid indexToLocFormat in head table: "+o);var c=r+1;i===c<<1?(n[50]=0,n[51]=0):i===c<<2?(n[50]=0,n[51]=1):L("Could not fix indexToLocFormat: "+o)}}function f(e,t,a,r,i,n){var s,o,c;r?(s=4,o=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]},c=function(e,t,a){e[t]=a>>>24&255,e[t+1]=a>>16&255,e[t+2]=a>>8&255,e[t+3]=255&a}):(s=2,o=function(e,t){return e[t]<<9|e[t+1]<<1},c=function(e,t,a){e[t]=a>>9&255,e[t+1]=a>>1&255});var h=e.data,u=s*(1+a);h.length!==u&&(h=new Uint8Array(u),h.set(e.data.subarray(0,u)),e.data=h);var f=t.data,d=f.length,g=new Uint8Array(d),m=o(h,0),p=0,b={};c(h,0,p);var v,y;for(v=0,y=s;a>v;v++,y+=s){var k=o(h,y);if(k>d&&(d+3&-4)===k&&(k=d),k>d)c(h,y,p),m=k;else{m===k&&(b[v]=!0);var w=l(f,m,k,g,p,i);p+=w,c(h,y,p),m=k}}if(0===p){var x=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(v=0,y=s;a>v;v++,y+=s)c(h,y,x.length);return t.data=x,b}if(n){var C=o(h,s);g.length>C+p?t.data=g.subarray(0,C+p):(t.data=new Uint8Array(C+p),t.data.set(g.subarray(0,p))),t.data.set(g.subarray(0,C),p),c(e.data,h.length-s,p+C)}else t.data=g.subarray(0,p);return b}function g(e,t,a){var i=(r.start?r.start:0)+e.offset;r.pos=i;var n=e.length,s=i+n,o=r.getInt32();r.getBytes(28);var c,l,h=!0;switch(o){case 65536:c=se;break;case 131072:var u=r.getUint16();if(u!==a){h=!1;break}var f=[];for(l=0;u>l;++l){var d=r.getUint16();if(d>=32768){h=!1;break}f.push(d)}if(!h)break;for(var g=[],m=[];r.pos<s;){var p=r.getByte();for(m.length=p,l=0;p>l;++l)m[l]=String.fromCharCode(r.getByte());g.push(m.join(""))}for(c=[],l=0;u>l;++l){var b=f[l];258>b?c.push(se[b]):c.push(g[b-258])}break;case 196608:break;default:L("Unknown/unsupported post table version "+o),h=!1,t.defaultEncoding&&(c=t.defaultEncoding)}return t.glyphNames=c,h}function b(e){var t=(r.start?r.start:0)+e.offset;r.pos=t;var a=[[],[]],i=e.length,n=t+i,s=r.getUint16(),o=6;if(0!==s||o>i)return a;var c,l,h=r.getUint16(),u=r.getUint16(),f=[],d=12;for(c=0;h>c&&r.pos+d<=n;c++){var g={platform:r.getUint16(),encoding:r.getUint16(),language:r.getUint16(),name:r.getUint16(),length:r.getUint16(),offset:r.getUint16()};(1===g.platform&&0===g.encoding&&0===g.language||3===g.platform&&1===g.encoding&&1033===g.language)&&f.push(g)}for(c=0,l=f.length;l>c;c++){var m=f[c],p=t+u+m.offset;if(!(p+m.length>n)){r.pos=p;var b=m.name;if(m.encoding){for(var v="",y=0,k=m.length;k>y;y+=2)v+=String.fromCharCode(r.getUint16());a[1][b]=v}else a[0][b]=w(r.getBytes(m.length))}}return a}function v(e,t){for(var a,r,i,n,s,o=e.data,c=0,l=0,h=0,u=[],f=[],d=[],g=t.tooComplexToFollowFunctions,m=!1,p=0,b=0,v=o.length;v>c;){var y=o[c++];if(64===y)if(r=o[c++],m||b)c+=r;else for(a=0;r>a;a++)u.push(o[c++]);else if(65===y)if(r=o[c++],m||b)c+=2*r;else for(a=0;r>a;a++)i=o[c++],u.push(i<<8|o[c++]);else if(176===(248&y))if(r=y-176+1,m||b)c+=r;else for(a=0;r>a;a++)u.push(o[c++]);else if(184===(248&y))if(r=y-184+1,m||b)c+=2*r;else for(a=0;r>a;a++)i=o[c++],u.push(i<<8|o[c++]);else if(43!==y||g)if(44!==y||g){if(45===y)if(m)m=!1,l=c;else{if(s=f.pop(),!s)return L("TT: ENDF bad stack"),void(t.hintsValid=!1);n=d.pop(),o=s.data,c=s.i,t.functionsStackDeltas[n]=u.length-s.stackTop}else if(137===y)(m||b)&&(L("TT: nested IDEFs not allowed"),g=!0),m=!0,h=c;else if(88===y)++p;else if(27===y)b=p;else if(89===y)b===p&&(b=0),--p;else if(28===y&&!m&&!b){var k=u[u.length-1];k>0&&(c+=k-1)}}else(m||b)&&(L("TT: nested FDEFs not allowed"),g=!0),m=!0,h=c,n=u.pop(),t.functionsDefined[n]={data:o,i:c};else if(!m&&!b)if(n=u[u.length-1],t.functionsUsed[n]=!0,n in t.functionsStackDeltas)u.length+=t.functionsStackDeltas[n];else if(n in t.functionsDefined&&d.indexOf(n)<0){if(f.push({data:o,i:c,stackTop:u.length-1}),d.push(n),s=t.functionsDefined[n],!s)return L("TT: CALL non-existent function"),void(t.hintsValid=!1);o=s.data,c=s.i}if(!m&&!b){var w=142>=y?O[y]:y>=192&&223>=y?-1:y>=224?-2:0;for(y>=113&&117>=y&&(r=u.pop(),r===r&&(w=2*-r));0>w&&u.length>0;)u.pop(),w++;for(;w>0;)u.push(NaN),w--}}t.tooComplexToFollowFunctions=g;var x=[o];c>o.length&&x.push(new Uint8Array(c-o.length)),h>l&&(L("TT: complementing a missing function tail"),x.push(new Uint8Array([34,45]))),T(e,x)}function B(e,t){if(!e.tooComplexToFollowFunctions){if(e.functionsDefined.length>t)return L("TT: more functions defined than expected"),void(e.hintsValid=!1);for(var a=0,r=e.functionsUsed.length;r>a;a++){if(a>t)return L("TT: invalid function id: "+a),void(e.hintsValid=!1);if(e.functionsUsed[a]&&!e.functionsDefined[a])return L("TT: undefined function: "+a),void(e.hintsValid=!1)}}}function T(e,t){if(t.length>1){var a,r,i=0;for(a=0,r=t.length;r>a;a++)i+=t[a].length;i=i+3&-4;var n=new Uint8Array(i),s=0;for(a=0,r=t.length;r>a;a++)n.set(t[a],s),s+=t[a].length;e.data=n,e.length=i}}function P(e,t,a){var r={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(e&&v(e,r),t&&v(t,r),e&&B(r,W),a&&1&a.length){var i=new Uint8Array(a.length+1);i.set(a.data),a.data=i}return r.hintsValid}function R(e,t,a){return Y[e]?!ne&&t>=0&&re.has(t)?!0:ie&&a>=0&&I(ie[a])?!0:!1:!0}var O=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];r=new M(new Uint8Array(r.getBytes()));for(var E,D,U,j=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "],N=s(r),q=N.numTables,z={"OS/2":null,cmap:null,head:null,hhea:null,hmtx:null,maxp:null,name:null,post:null},H=0;q>H;H++)U=n(r),j.indexOf(U.tag)<0||0!==U.length&&(z[U.tag]=U);var _=!z["CFF "];if(_)z.loca||x('Required "loca" table is not found'),z.glyf||(L('Required "glyf" table is not found -- trying to recover.'),z.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1;else{if("OTTO"===N.version&&"CIDFontType2"!==i.type||!z.head||!z.hhea||!z.maxp||!z.post)return D=new M(z["CFF "].data),E=new ye(D,i),d(i),this.convert(e,E,i);delete z.glyf,delete z.loca,delete z.fpgm,delete z.prep,delete z["cvt "],this.isOpenType=!0}z.maxp||x('Required "maxp" table is not found'),r.pos=(r.start||0)+z.maxp.offset;var G=r.getInt32(),X=r.getUint16(),W=0;if(G>=65536&&z.maxp.length>=22){r.pos+=8;var V=r.getUint16();V>2&&(z.maxp.data[14]=0,z.maxp.data[15]=2),r.pos+=4,W=r.getUint16()}var K=!1;"CIDFontType2"===i.type&&i.toUnicode&&i.toUnicode.get(0)>"\x00"&&(K=!0,X++,z.maxp.data[4]=X>>8,z.maxp.data[5]=255&X);var J=P(z.fpgm,z.prep,z["cvt "],W);J||(delete z.fpgm,delete z.prep,delete z["cvt "]),c(r,z.hhea,z.hmtx,X),z.head||x('Required "head" table is not found'),h(z.head,X,_?z.loca.length:0);var Y={};if(_){var Q=t(z.head.data[50],z.head.data[51]);Y=f(z.loca,z.glyf,X,Q,J,K)}z.hhea||x('Required "hhea" table is not found'),0===z.hhea.data[10]&&0===z.hhea.data[11]&&(z.hhea.data[10]=255,z.hhea.data[11]=255);var $={unitsPerEm:t(z.head.data[18],z.head.data[19]),yMax:t(z.head.data[42],z.head.data[43]),yMin:t(z.head.data[38],z.head.data[39])-65536,ascent:t(z.hhea.data[4],z.hhea.data[5]),descent:t(z.hhea.data[6],z.hhea.data[7])-65536};if(this.ascent=$.ascent/$.unitsPerEm,this.descent=$.descent/$.unitsPerEm,z.post){var ee=g(z.post,i,X);ee||(z.post=null)}var te,ae=[],re=i.toUnicode,ie=i.widths,ne=re instanceof he||65536===re.length;if("CIDFontType2"===i.type){var oe=i.cidToGidMap||[],ce=0===oe.length;i.cMap.forEach(function(e,t){k(65535>=t,"Max size of CID is 65,535");var a=-1;ce?a=e:void 0!==oe[t]&&(a=oe[t]),a>=0&&X>a&&R(a,e,t)&&(ae[e]=a)}),K&&(ae[0]=X-1)}else{var le=i.differences.length>0||!!i.baseEncodingName,fe=o(z.cmap,r,this.isSymbolicFont,le),de=fe.platformId,ge=fe.encodingId,me=fe.mappings,pe=me.length;if(le&&(3===de&&1===ge||1===de&&0===ge)||-1===de&&-1===ge&&Z[i.baseEncodingName]){var be=[];for(("MacRomanEncoding"===i.baseEncodingName||"WinAnsiEncoding"===i.baseEncodingName)&&(be=Z[i.baseEncodingName]),te=0;256>te;te++){var ve;if(ve=this.differences&&te in this.differences?this.differences[te]:te in be&&""!==be[te]?be[te]:Z.StandardEncoding[te]){var we,xe=!1;3===de&&1===ge?(we=F[ve],xe=!0):1===de&&0===ge&&(we=Z.MacRomanEncoding.indexOf(ve));var Ce=!1;for(H=0;pe>H;++H)if(me[H].charCode===we){var Se=xe?te:we;if(R(me[H].glyphId,Se,-1)){ae[te]=me[H].glyphId,Ce=!0;break}}if(!Ce&&i.glyphNames){var Ae=i.glyphNames.indexOf(ve);Ae>0&&R(Ae,-1,-1)&&(ae[te]=Ae,Ce=!0)}Ce||(ae[te]=0)}}}else if(0===de&&0===ge)for(H=0;pe>H;++H)ae[me[H].charCode]=me[H].glyphId;else for(H=0;pe>H;++H)te=255&me[H].charCode,ae[te]=me[H].glyphId}0===ae.length&&(ae[0]=0);var Ie=u(ae,i);if(this.toFontChar=Ie.toFontChar,z.cmap={tag:"cmap",data:m(Ie.charCodeToGlyphId,X)},z["OS/2"]&&p(z["OS/2"])||(z["OS/2"]={tag:"OS/2",data:y(i,Ie.charCodeToGlyphId,$)}),z.post||(z.post={tag:"post",data:S(i)}),!_)try{D=new M(z["CFF "].data);var Be=new ke(D,i);E=Be.parse();var Te=new Me(E);z["CFF "].data=Te.compile()}catch(Pe){L("Failed to compile font "+i.loadedName)}if(z.name){var Re=b(z.name);z.name.data=A(e,Re)}else z.name={tag:"name",data:A(this.name)};var Le=new ue(N.version);for(var Oe in z)Le.addTable(Oe,z[Oe].data);return Le.toArray()},convert:function(e,t,a){function n(e,t){var a=null;for(var r in e)t===e[r]&&(a||(a=[]),a.push(0|r));return a}function s(e,t){for(var a in e)if(t===e[a])return 0|a;return c.charCodeToGlyphId[c.nextAvailableFontCharCode]=t,c.nextAvailableFontCharCode++}a.fixedPitch=!1;var o=t.getGlyphMapping(a),c=u(o,a);this.toFontChar=c.toFontChar;var l=t.numGlyphs,h=t.seacs;if(K&&h&&h.length){var f=a.fontMatrix||b,d=t.getCharset(),g=Object.create(null);for(var p in h){p|=0;var v=h[p],k=Z.StandardEncoding[v[2]],w=Z.StandardEncoding[v[3]],x=d.indexOf(k),C=d.indexOf(w);if(!(0>x||0>C)){var I={x:v[0]*f[0]+v[1]*f[2]+f[4],y:v[0]*f[1]+v[1]*f[3]+f[5]},B=n(o,p);if(B)for(var T=0,P=B.length;P>T;T++){var R=B[T],L=c.charCodeToGlyphId,O=s(L,x),M=s(L,C);g[R]={baseFontCharCode:O,accentFontCharCode:M,accentOffset:I}}}}a.seacMap=g}var E=1/(a.fontMatrix||b)[0],D=new ue("OTTO");return D.addTable("CFF ",t.data),D.addTable("OS/2",y(a,c.charCodeToGlyphId)),D.addTable("cmap",m(c.charCodeToGlyphId,l)),D.addTable("head","\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00_<\x00\x00"+i(E)+"\x00\x00\x00\x00~'\x00\x00\x00\x00~'\x00\x00"+i(a.descent)+""+i(a.ascent)+r(a.italicAngle?2:0)+"\x00\x00\x00\x00\x00\x00\x00"),D.addTable("hhea","\x00\x00\x00"+i(a.ascent)+i(a.descent)+"\x00\x00\x00\x00\x00\x00\x00\x00"+i(a.capHeight)+i(Math.tan(a.italicAngle)*a.xHeight)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"+r(l)),D.addTable("hmtx",function(){for(var e=t.charstrings,a=t.cff?t.cff.widths:null,i="\x00\x00\x00\x00",n=1,s=l;s>n;n++){var o=0;if(e){var c=e[n-1];o="width"in c?c.width:0}else a&&(o=Math.ceil(a[n]||0));i+=r(o)+r(0)}return i}()),D.addTable("maxp","\x00\x00P\x00"+r(l)),D.addTable("name",A(e)),D.addTable("post",S(a)),D.toArray()},buildToUnicode:function(e){if(e.toUnicode&&0!==e.toUnicode.length)return e.toUnicode;var t,a;if(!e.composite){t=[];var r=e.defaultEncoding.slice(),i=e.baseEncodingName,n=e.differences;for(a in n)r[a]=n[a];for(a in r){var s=r[a];if(""!==s)if(void 0!==F[s])t[a]=String.fromCharCode(F[s]);else{var o=0;switch(s[0]){case"G":3===s.length&&(o=parseInt(s.substr(1),16));break;case"g":5===s.length&&(o=parseInt(s.substr(1),16));break;case"C":case"c":s.length>=3&&(o=+s.substr(1))}if(o){if(i&&o===+a){var c=Z[i];if(c&&(s=c[a])){t[a]=String.fromCharCode(F[s]);continue}}t[a]=String.fromCharCode(o)}}}return new le(t)}if(e.composite&&(e.cMap.builtInCMap&&!(e.cMap instanceof U)||"Adobe"===e.cidSystemInfo.registry&&("GB1"===e.cidSystemInfo.ordering||"CNS1"===e.cidSystemInfo.ordering||"Japan1"===e.cidSystemInfo.ordering||"Korea1"===e.cidSystemInfo.ordering))){var l=e.cidSystemInfo.registry,h=e.cidSystemInfo.ordering,u=new O(l+"-"+h+"-UCS2"),f=D.create(u,{url:PDFJS.cMapUrl,packed:PDFJS.cMapPacked},null),d=e.cMap;return t=[],d.forEach(function(e,a){k(65535>=a,"Max size of CID is 65,535");var r=f.lookup(a);r&&(t[e]=String.fromCharCode((r.charCodeAt(0)<<8)+r.charCodeAt(1)))}),new le(t)}return new he(e.firstChar,e.lastChar)},get spaceWidth(){if("_shadowWidth"in this)return this._shadowWidth;for(var e,t=["space","minus","one","i"],a=0,r=t.length;r>a;a++){var i=t[a];if(i in this.widths){e=this.widths[i];break}var n=F[i],s=0;if(this.composite&&this.cMap.contains(n)&&(s=this.cMap.lookup(n)),!s&&this.toUnicode&&(s=this.toUnicode.charCodeOf(n)),0>=s&&(s=n),e=this.widths[s])break}return e=e||this.defaultWidth,this._shadowWidth=e,e},charToGlyph:function(e,t){var a,r,i,n=e;this.cMap&&this.cMap.contains(e)&&(n=this.cMap.lookup(e)),r=this.widths[n],r=I(r)?r:this.defaultWidth;var s=this.vmetrics&&this.vmetrics[n],o=this.toUnicode.get(e)||e;"number"==typeof o&&(o=String.fromCharCode(o)),a=this.toFontChar[e]||e,this.missingFile&&(a=l(a)),this.isType3Font&&(i=a);var c=null;if(this.seacMap&&this.seacMap[e]){var h=this.seacMap[e];a=h.baseFontCharCode,c={fontChar:String.fromCharCode(h.accentFontCharCode),offset:h.accentOffset}}var u=String.fromCharCode(a),f=this.glyphCache[e];return f&&f.matchesForCache(u,o,c,r,s,i,t)||(f=new ce(u,o,c,r,s,i,t),this.glyphCache[e]=f),f},charsToGlyphs:function(e){var t,a,r,i=this.charsCache;if(i&&(t=i[e]))return t;i||(i=this.charsCache=Object.create(null)),t=[];var n,s=e,o=0;if(this.cMap)for(var c={};o<e.length;){this.cMap.readCharCode(e,o,c),r=c.charcode;var l=c.length;o+=l;var h=1===l&&32===e.charCodeAt(o-1);a=this.charToGlyph(r,h),t.push(a)}else for(o=0,n=e.length;n>o;++o)r=e.charCodeAt(o),a=this.charToGlyph(r,32===r),t.push(a);return i[s]=t}},e}(),ge=function(){function e(e){this.error=e,this.loadedName="g_font_error",this.loading=!1}return e.prototype={charsToGlyphs:function(){return[]},exportData:function(){return{error:this.error}}},e}(),me=function(){function e(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}var t={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};return e.prototype={convert:function(e,a){for(var r,i,n,s=e.length,o=!1,c=0;s>c;c++){var l=e[c];if(32>l){switch(12===l&&(l=(l<<8)+e[++c]),l){case 1:if(!V){this.stack=[];break}o=this.executeCommand(2,t.hstem);break;case 3:if(!V){this.stack=[];break}o=this.executeCommand(2,t.vstem);break;case 4:if(this.flexing){if(this.stack.length<1){o=!0;break}var h=this.stack.pop();this.stack.push(0,h);break}o=this.executeCommand(1,t.vmoveto);break;case 5:o=this.executeCommand(2,t.rlineto);break;case 6:o=this.executeCommand(1,t.hlineto);break;case 7:o=this.executeCommand(1,t.vlineto);break;case 8:o=this.executeCommand(6,t.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){o=!0;break}n=this.stack.pop(),o=this.convert(a[n],a);break;case 11:return o;case 13:if(this.stack.length<2){o=!0;break}r=this.stack.pop(),i=this.stack.pop(),this.lsb=i,this.width=r,this.stack.push(r,i),o=this.executeCommand(2,t.hmoveto);break;case 14:this.output.push(t.endchar[0]);break;case 21:if(this.flexing)break;o=this.executeCommand(2,t.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}o=this.executeCommand(1,t.hmoveto);break;case 30:o=this.executeCommand(4,t.vhcurveto);break;case 31:o=this.executeCommand(4,t.hvcurveto);break;case 3072:this.stack=[];break;case 3073:if(!V){this.stack=[];break}o=this.executeCommand(2,t.vstem);break;case 3074:if(!V){this.stack=[];break}o=this.executeCommand(2,t.hstem);break;case 3078:K?(this.seac=this.stack.splice(-4,4),o=this.executeCommand(0,t.endchar)):o=this.executeCommand(4,t.endchar);break;case 3079:if(this.stack.length<4){o=!0;break}this.stack.pop();r=this.stack.pop();var u=this.stack.pop();i=this.stack.pop(),this.lsb=i,this.width=r,this.stack.push(r,i,u),o=this.executeCommand(3,t.rmoveto);break;case 3084:if(this.stack.length<2){o=!0;break}var f=this.stack.pop(),d=this.stack.pop();this.stack.push(d/f);break;case 3088:if(this.stack.length<2){o=!0;break}n=this.stack.pop();var g=this.stack.pop();if(0===n&&3===g){var m=this.stack.splice(this.stack.length-17,17);this.stack.push(m[2]+m[0],m[3]+m[1],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14]),o=this.executeCommand(13,t.flex,!0),this.flexing=!1,this.stack.push(m[15],m[16])}else 1===n&&0===g&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:L('Unknown type 1 charstring command of "'+l+'"')}if(o)break}else 246>=l?l-=139:l=250>=l?256*(l-247)+e[++c]+108:254>=l?-(256*(l-251))-e[++c]-108:(255&e[++c])<<24|(255&e[++c])<<16|(255&e[++c])<<8|(255&e[++c])<<0,this.stack.push(l)}return o},executeCommand:function(e,t,a){var r=this.stack.length;if(e>r)return!0;for(var i=r-e,n=i;r>n;n++){var s=this.stack[n];s===(0|s)?this.output.push(28,s>>8&255,255&s):(s=65536*s|0,this.output.push(255,s>>24&255,s>>16&255,s>>8&255,255&s))}return this.output.push.apply(this.output,t),a?this.stack.splice(i,e):this.stack.length=0,!1}},e}(),pe=function(){function e(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function t(e,t,a){for(var r=0|t,i=52845,n=22719,s=e.length,o=new Uint8Array(s),c=0;s>c;c++){var l=e[c];o[c]=l^r>>8,r=(l+r)*i+n&65535}return Array.prototype.slice.call(o,a)}function a(t,a,r){var i,n,s=0|a,o=52845,c=22719,l=t.length,h=l>>>1,u=new Uint8Array(h);for(i=0,n=0;l>i;i++){var f=t[i];if(e(f)){i++;for(var d;l>i&&!e(d=t[i]);)i++;if(l>i){var g=parseInt(String.fromCharCode(f,d),16);u[n++]=g^s>>8,s=(g+s)*o+c&65535}}}return Array.prototype.slice.call(u,r,n)}function r(e){return 47===e||91===e||93===e||123===e||125===e||40===e||41===e}function i(r,i){if(i){var s=r.getBytes(),o=!(e(s[0])&&e(s[1])&&e(s[2])&&e(s[3]));r=new M(o?t(s,n,4):a(s,n,4))}this.stream=r,this.nextChar()}var n=55665,s=4330;return i.prototype={readNumberArray:function(){this.getToken();for(var e=[];;){var t=this.getToken();if(null===t||"]"===t||"}"===t)break;e.push(parseFloat(t||0))}return e},readNumber:function(){var e=this.getToken();return parseFloat(e||0)},readInt:function(){var e=this.getToken();return 0|parseInt(e||0,10)},readBoolean:function(){var e=this.getToken();return"true"===e?1:0},nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var e=!1,t=this.currentChar;;){if(-1===t)return null;if(e)(10===t||13===t)&&(e=!1);else if(37===t)e=!0;else if(!E.isSpace(t))break;t=this.nextChar()}if(r(t))return this.nextChar(),String.fromCharCode(t);var a="";do a+=String.fromCharCode(t),t=this.nextChar();while(t>=0&&!E.isSpace(t)&&!r(t));return a},extractFontProgram:function(){for(var e,a,r,i,n,o=this.stream,c=[],l=[],h={subrs:[],charstrings:[],properties:{privateData:{lenIV:4}}};null!==(e=this.getToken());)if("/"===e)switch(e=this.getToken()){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();;){if(e=this.getToken(),null===e||"end"===e)break;if("/"===e){var u=this.getToken();a=this.readInt(),this.getToken(),r=o.makeSubStream(o.pos,a),i=h.properties.privateData.lenIV,n=t(r.getBytes(),s,i),o.skip(a),this.nextChar(),e=this.getToken(),"noaccess"===e&&this.getToken(),l.push({glyph:u,encoded:n})}}break;case"Subrs":this.readInt();for(this.getToken();"dup"===(e=this.getToken());){var f=this.readInt();a=this.readInt(),this.getToken(),r=o.makeSubStream(o.pos,a),i=h.properties.privateData.lenIV,n=t(r.getBytes(),s,i),o.skip(a),this.nextChar(),e=this.getToken(),"noaccess"===e&&this.getToken(),c[f]=n}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var d=this.readNumberArray();d.length>0&&d.length%2===0&&V&&(h.properties.privateData[e]=d);break;case"StemSnapH":case"StemSnapV":h.properties.privateData[e]=this.readNumberArray();break;case"StdHW":case"StdVW":h.properties.privateData[e]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":h.properties.privateData[e]=this.readNumber();break;case"ForceBold":h.properties.privateData[e]=this.readBoolean()}for(var g=0;g<l.length;g++){u=l[g].glyph,n=l[g].encoded;var m=new me,p=m.convert(n,c),b=m.output;p&&(b=[14]),h.charstrings.push({glyphName:u,charstring:b,width:m.width,lsb:m.lsb,seac:m.seac})}return h},extractFontHeader:function(e){for(var t;null!==(t=this.getToken());)if("/"===t)switch(t=this.getToken()){case"FontMatrix":var a=this.readNumberArray();e.fontMatrix=a;break;case"Encoding":var r,i=this.getToken();if(/^\d+$/.test(i)){r=[];var n=0|parseInt(i,10);this.getToken();for(var s=0;n>s;s++){for(t=this.getToken();"dup"!==t&&"def"!==t;)if(t=this.getToken(),null===t)return;if("def"===t)break;var o=this.readInt();this.getToken();var c=this.getToken();r[o]=c,this.getToken()}}else r=Z[i];e.builtInEncoding=r;break;case"FontBBox":var l=this.readNumberArray();e.ascent=l[3],e.descent=l[1],e.ascentScaled=!0}}},i}(),be=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ve=function(e,t,a){
var r=6,i=a.length1,n=a.length2,s=t.peekBytes(r),o=128===s[0]&&1===s[1];o&&(t.skip(r),i=s[5]<<24|s[4]<<16|s[3]<<8|s[2]);var c=new M(t.getBytes(i)),l=new pe(c);l.extractFontHeader(a),o&&(s=t.getBytes(r),n=s[5]<<24|s[4]<<16|s[3]<<8|s[2]);var h=new M(t.getBytes(n)),u=new pe(h,!0),f=u.extractFontProgram();for(var d in f.properties)a[d]=f.properties[d];var g=f.charstrings,m=this.getType2Charstrings(g),p=this.getType2Subrs(f.subrs);this.charstrings=g,this.data=this.wrap(e,m,this.charstrings,p,a),this.seacs=this.getSeacs(f.charstrings)};ve.prototype={get numGlyphs(){return this.charstrings.length+1},getCharset:function(){for(var e=[".notdef"],t=this.charstrings,a=0;a<t.length;a++)e.push(t[a].glyphName);return e},getGlyphMapping:function(e){var t,a=this.charstrings,r=[".notdef"];for(t=0;t<a.length;t++)r.push(a[t].glyphName);var i=e.builtInEncoding;if(i){var n={};for(var s in i)t=r.indexOf(i[s]),t>=0&&(n[s]=t)}return m(e,n,r)},getSeacs:function(e){var t,a,r=[];for(t=0,a=e.length;a>t;t++){var i=e[t];i.seac&&(r[t+1]=i.seac)}return r},getType2Charstrings:function(e){for(var t=[],a=0,r=e.length;r>a;a++)t.push(e[a].charstring);return t},getType2Subrs:function(e){var t=0,a=e.length;t=1133>a?107:33769>a?1131:32768;var r,i=[];for(r=0;t>r;r++)i.push([11]);for(r=0;a>r;r++)i.push(e[r]);return i},wrap:function(e,t,a,r,i){var n=new we;n.header=new xe(1,0,4,4),n.names=[e];var s=new Ie;s.setByName("version",391),s.setByName("Notice",392),s.setByName("FullName",393),s.setByName("FamilyName",394),s.setByName("Weight",395),s.setByName("Encoding",null),s.setByName("FontMatrix",i.fontMatrix),s.setByName("FontBBox",i.bbox),s.setByName("charset",null),s.setByName("CharStrings",null),s.setByName("Private",null),n.topDict=s;var o=new Ce;o.add("Version 0.11"),o.add("See original notice"),o.add(e),o.add(e),o.add("Medium"),n.strings=o,n.globalSubrIndex=new Se;var c,l,h=t.length,u=[0];for(c=0;h>c;c++){var f=be.indexOf(a[c].glyphName);-1===f&&(f=0),u.push(f>>8&255,255&f)}n.charset=new Pe(!1,0,[],u);var d=new Se;for(d.add([139,14]),c=0;h>c;c++)d.add(t[c]);n.charStrings=d;var g=new Be;g.setByName("Subrs",null);var m=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(c=0,l=m.length;l>c;c++){var p=m[c];if(i.privateData.hasOwnProperty(p)){var b=i.privateData[p];if(S(b))for(var v=b.length-1;v>0;v--)b[v]-=b[v-1];g.setByName(p,b)}}n.topDict.privateDict=g;var y=new Se;for(c=0,l=r.length;l>c;c++)y.add(r[c]);g.subrsIndex=y;var k=new Me(n);return k.compile()}};var ye=function(){function e(e,t){this.properties=t;var a=new ke(e,t);this.cff=a.parse();var r=new Me(this.cff);this.seacs=this.cff.seacs;try{this.data=r.compile()}catch(i){L("Failed to compile font "+t.loadedName),this.data=e}}return e.prototype={get numGlyphs(){return this.cff.charStrings.count},getCharset:function(){return this.cff.charset.charset},getGlyphMapping:function(){var e,t,a=this.cff,r=this.properties,i=a.charset.charset;if(r.composite){if(e=Object.create(null),a.isCIDFont)for(t=0;t<i.length;t++){var n=i[t],s=r.cMap.charCodeOf(n);e[s]=t}else for(t=0;t<a.charStrings.count;t++)e[t]=t;return e}var o=a.encoding?a.encoding.encoding:null;return e=m(r,o,i)}},e}(),ke=function(){function e(e,t){this.bytes=e.getBytes(),this.properties=t}var t=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],a=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]+e[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]-e[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]/e[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(e,t){e[t-1]=-e[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(e,t){e[t-2]=e[t-2]*e[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];return e.prototype={parse:function(){var e=this.properties,t=new we;this.cff=t;var a=this.parseHeader(),r=this.parseIndex(a.endPos),i=this.parseIndex(r.endPos),n=this.parseIndex(i.endPos),s=this.parseIndex(n.endPos),o=this.parseDict(i.obj.get(0)),c=this.createDict(Ie,o,t.strings);t.header=a.obj,t.names=this.parseNameIndex(r.obj),t.strings=this.parseStringIndex(n.obj),t.topDict=c,t.globalSubrIndex=s.obj,this.parsePrivateDict(t.topDict),t.isCIDFont=c.hasName("ROS");var l=c.getByName("CharStrings"),h=this.parseIndex(l).obj,u=c.getByName("FontMatrix");u&&(e.fontMatrix=u);var f=c.getByName("FontBBox");f&&(e.ascent=f[3],e.descent=f[1],e.ascentScaled=!0);var d,g;if(t.isCIDFont){for(var m=this.parseIndex(c.getByName("FDArray")).obj,p=0,b=m.count;b>p;++p){var v=m.get(p),y=this.createDict(Ie,this.parseDict(v),t.strings);this.parsePrivateDict(y),t.fdArray.push(y)}g=null,d=this.parseCharsets(c.getByName("charset"),h.count,t.strings,!0),t.fdSelect=this.parseFDSelect(c.getByName("FDSelect"),h.count)}else d=this.parseCharsets(c.getByName("charset"),h.count,t.strings,!1),g=this.parseEncoding(c.getByName("Encoding"),e,t.strings,d.charset);t.charset=d,t.encoding=g;var k=this.parseCharStrings(h,c.privateDict.subrsIndex,s.obj,t.fdSelect,t.fdArray);return t.charStrings=k.charStrings,t.seacs=k.seacs,t.widths=k.widths,t},parseHeader:function(){for(var e=this.bytes,t=e.length,a=0;t>a&&1!==e[a];)++a;a>=t?x("Invalid CFF header"):0!==a&&(C("cff data is shifted"),e=e.subarray(a),this.bytes=e);var r=e[0],i=e[1],n=e[2],s=e[3],o=new xe(r,i,n,s);return{obj:o,endPos:n}},parseDict:function(e){function t(){var t=e[r++];return 30===t?a(r):28===t?(t=e[r++],t=(t<<24|e[r++]<<16)>>16):29===t?(t=e[r++],t=t<<8|e[r++],t=t<<8|e[r++],t=t<<8|e[r++]):t>=32&&246>=t?t-139:t>=247&&250>=t?256*(t-247)+e[r++]+108:t>=251&&254>=t?-(256*(t-251))-e[r++]-108:(x("255 is not a valid DICT command"),-1)}function a(){for(var t="",a=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],n=e.length;n>r;){var s=e[r++],o=s>>4,c=15&s;if(o===a)break;if(t+=i[o],c===a)break;t+=i[c]}return parseFloat(t)}var r=0,i=[],n=[];r=0;for(var s=e.length;s>r;){var o=e[r];21>=o?(12===o&&(o=o<<8|e[++r]),n.push([o,i]),i=[],++r):i.push(t())}return n},parseIndex:function(e){var t,a,r=new Se,i=this.bytes,n=i[e++]<<8|i[e++],s=[],o=e;if(0!==n){var c=i[e++],l=e+(n+1)*c-1;for(t=0,a=n+1;a>t;++t){for(var h=0,u=0;c>u;++u)h<<=8,h+=i[e++];s.push(l+h)}o=s[n]}for(t=0,a=s.length-1;a>t;++t){var f=s[t],d=s[t+1];r.add(i.subarray(f,d))}return{obj:r,endPos:o}},parseNameIndex:function(e){for(var t=[],a=0,r=e.count;r>a;++a){for(var i=e.get(a),n=Math.min(i.length,127),s=[],o=0;n>o;++o){var c=i[o];(0!==o||0!==c)&&(33>c||c>126||91===c||93===c||40===c||41===c||123===c||125===c||60===c||62===c||47===c||37===c||35===c)?s[o]=95:s[o]=c}t.push(w(s))}return t},parseStringIndex:function(e){for(var t=new Ce,a=0,r=e.count;r>a;++a){var i=e.get(a);t.add(w(i))}return t},createDict:function(e,t,a){for(var r=new e(a),i=0,n=t.length;n>i;++i){var s=t[i],o=s[0],c=s[1];r.setByKey(o,c)}return r},parseCharString:function(e,r,i,n){if(e.callDepth>J)return!1;for(var s=e.stackSize,o=e.stack,c=r.length,l=0;c>l;){var h=r[l++],u=null;if(12===h){var f=r[l++];0===f?(r[l-2]=139,r[l-1]=22,s=0):u=a[f]}else if(28===h)o[s]=(r[l]<<24|r[l+1]<<16)>>16,l+=2,s++;else if(14===h){if(s>=4&&(s-=4,K))return e.seac=o.slice(s,s+4),!1;u=t[h]}else if(h>=32&&246>=h)o[s]=h-139,s++;else if(h>=247&&254>=h)o[s]=251>h?(h-247<<8)+r[l]+108:-(h-251<<8)-r[l]-108,l++,s++;else if(255===h)o[s]=(r[l]<<24|r[l+1]<<16|r[l+2]<<8|r[l+3])/65536,l+=4,s++;else if(19===h||20===h)e.hints+=s>>1,l+=e.hints+7>>3,s%=2,u=t[h];else{if(10===h||29===h){var d;if(d=10===h?i:n,!d)return u=t[h],L("Missing subrsIndex for "+u.id),!1;var g=32768;d.count<1240?g=107:d.count<33900&&(g=1131);var m=o[--s]+g;if(0>m||m>=d.count)return u=t[h],L("Out of bounds subrIndex for "+u.id),!1;e.stackSize=s,e.callDepth++;var p=this.parseCharString(e,d.get(m),i,n);if(!p)return!1;e.callDepth--,s=e.stackSize;continue}if(11===h)return e.stackSize=s,!0;u=t[h]}if(u){if(u.stem&&(e.hints+=s>>1),"min"in u&&!e.undefStack&&s<u.min)return L("Not enough parameters for "+u.id+"; actual: "+s+", expected: "+u.min),!1;e.firstStackClearing&&u.stackClearing&&(e.firstStackClearing=!1,s-=u.min,s>=2&&u.stem?s%=2:s>1&&L("Found too many parameters for stack-clearing command"),s>0&&o[s-1]>=0&&(e.width=o[s-1])),"stackDelta"in u?("stackFn"in u&&u.stackFn(o,s),s+=u.stackDelta):u.stackClearing?s=0:u.resetStack?(s=0,e.undefStack=!1):u.undefStack&&(s=0,e.undefStack=!0,e.firstStackClearing=!1)}}return e.stackSize=s,!0},parseCharStrings:function(e,t,a,r,i){for(var n=[],s=[],o=e.count,c=0;o>c;c++){var l=e.get(c),h={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null},u=!0,f=null;if(r&&i.length){var d=r.getFDIndex(c);-1===d&&(L("Glyph index is not in fd select."),u=!1),d>=i.length&&(L("Invalid fd index for glyph index."),u=!1),u&&(f=i[d].privateDict.subrsIndex)}else t&&(f=t);u&&(u=this.parseCharString(h,l,f,a)),null!==h.width&&(s[c]=h.width),null!==h.seac&&(n[c]=h.seac),u||e.set(c,new Uint8Array([14]))}return{charStrings:e,seacs:n,widths:s}},emptyPrivateDictionary:function(e){var t=this.createDict(Be,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=t},parsePrivateDict:function(e){if(!e.hasName("Private"))return void this.emptyPrivateDictionary(e);var t=e.getByName("Private");if(!S(t)||2!==t.length)return void e.removeByName("Private");var a=t[0],r=t[1];if(0===a||r>=this.bytes.length)return void this.emptyPrivateDictionary(e);var i=r+a,n=this.bytes.subarray(r,i),s=this.parseDict(n),o=this.createDict(Be,s,e.strings);if(e.privateDict=o,o.getByName("Subrs")){var c=o.getByName("Subrs"),l=r+c;if(0===c||l>=this.bytes.length)return void this.emptyPrivateDictionary(e);var h=this.parseIndex(l);o.subrsIndex=h.obj}},parseCharsets:function(e,t,a,r){if(0===e)return new Pe(!0,Te.ISO_ADOBE,N);if(1===e)return new Pe(!0,Te.EXPERT,q);if(2===e)return new Pe(!0,Te.EXPERT_SUBSET,z);var i,n,s,o=this.bytes,c=e,l=o[e++],h=[".notdef"];switch(t-=1,l){case 0:for(s=0;t>s;s++)i=o[e++]<<8|o[e++],h.push(r?i:a.get(i));break;case 1:for(;h.length<=t;)for(i=o[e++]<<8|o[e++],n=o[e++],s=0;n>=s;s++)h.push(r?i++:a.get(i++));break;case 2:for(;h.length<=t;)for(i=o[e++]<<8|o[e++],n=o[e++]<<8|o[e++],s=0;n>=s;s++)h.push(r?i++:a.get(i++));break;default:x("Unknown charset format")}var u=e,f=o.subarray(c,u);return new Pe(!1,l,h,f)},parseEncoding:function(e,t,a,r){function i(){var t=l[e++];for(s=0;t>s;s++){var i=l[e++],n=(l[e++]<<8)+(255&l[e++]);c[i]=r.indexOf(a.get(n))}}var n,s,o,c={},l=this.bytes,h=!1,u=!1,f=null;if(0===e||1===e){h=!0,n=e;var d=e?Z.ExpertEncoding:Z.StandardEncoding;for(s=0,o=r.length;o>s;s++){var g=d.indexOf(r[s]);-1!==g&&(c[g]=s)}}else{var m=e;switch(n=l[e++],127&n){case 0:var p=l[e++];for(s=1;p>=s;s++)c[l[e++]]=s;break;case 1:var b=l[e++],v=1;for(s=0;b>s;s++)for(var y=l[e++],k=l[e++],w=y;y+k>=w;w++)c[w]=v++;break;default:x("Unknow encoding format: "+n+" in CFF")}var C=e;128&n&&(l[m]&=127,i(),u=!0),f=l.subarray(m,C)}return n=127&n,new Re(h,n,c,f)},parseFDSelect:function(e,t){var a,r=e,i=this.bytes,n=i[e++],s=[];switch(n){case 0:for(a=0;t>a;++a){var o=i[e++];s.push(o)}break;case 3:var c=i[e++]<<8|i[e++];for(a=0;c>a;++a)for(var l=i[e++]<<8|i[e++],h=i[e++],u=i[e]<<8|i[e+1],f=l;u>f;++f)s.push(h);e+=2;break;default:x("Unknown fdselect format "+n)}var d=e;return new Le(s,i.subarray(r,d))}},e}(),we=function(){function e(){this.header=null,this.names=[],this.topDict=null,this.strings=new Ce,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}return e}(),xe=function(){function e(e,t,a,r){this.major=e,this.minor=t,this.hdrSize=a,this.offSize=r}return e}(),Ce=function(){function e(){this.strings=[]}return e.prototype={get:function(e){return e>=0&&390>=e?be[e]:e-391<=this.strings.length?this.strings[e-391]:be[0]},add:function(e){this.strings.push(e)},get count(){return this.strings.length}},e}(),Se=function(){function e(){this.objects=[],this.length=0}return e.prototype={add:function(e){this.length+=e.length,this.objects.push(e)},set:function(e,t){this.length+=t.length-this.objects[e].length,this.objects[e]=t},get:function(e){return this.objects[e]},get count(){return this.objects.length}},e}(),Ae=function(){function e(e,t){this.keyToNameMap=e.keyToNameMap,this.nameToKeyMap=e.nameToKeyMap,this.defaults=e.defaults,this.types=e.types,this.opcodes=e.opcodes,this.order=e.order,this.strings=t,this.values={}}return e.prototype={setByKey:function(e,t){if(!(e in this.keyToNameMap))return!1;if(0===t.length)return!0;var a=this.types[e];return("num"===a||"sid"===a||"offset"===a)&&(t=t[0]),this.values[e]=t,!0},setByName:function(e,t){e in this.nameToKeyMap||x('Invalid dictionary name "'+e+'"'),this.values[this.nameToKeyMap[e]]=t},hasName:function(e){return this.nameToKeyMap[e]in this.values},getByName:function(e){e in this.nameToKeyMap||x('Invalid dictionary name "'+e+'"');var t=this.nameToKeyMap[e];return t in this.values?this.values[t]:this.defaults[t]},removeByName:function(e){delete this.values[this.nameToKeyMap[e]]}},e.createTables=function(e){for(var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},a=0,r=e.length;r>a;++a){var i=e[a],n=S(i[0])?(i[0][0]<<8)+i[0][1]:i[0];t.keyToNameMap[n]=i[1],t.nameToKeyMap[i[1]]=n,t.types[n]=i[2],t.defaults[n]=i[3],t.opcodes[n]=S(i[0])?i[0]:[i[0]],t.order.push(n)}return t},e}(),Ie=function(){function e(e){null===a&&(a=Ae.createTables(t)),Ae.call(this,a,e),this.privateDict=null}var t=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]],a=null;return e.prototype=Object.create(Ae.prototype),e}(),Be=function(){function e(e){null===a&&(a=Ae.createTables(t)),Ae.call(this,a,e),this.subrsIndex=null}var t=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]],a=null;return e.prototype=Object.create(Ae.prototype),e}(),Te={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},Pe=function(){function e(e,t,a,r){this.predefined=e,this.format=t,this.charset=a,this.raw=r}return e}(),Re=function(){function e(e,t,a,r){this.predefined=e,this.format=t,this.encoding=a,this.raw=r}return e}(),Le=function(){function e(e,t){this.fdSelect=e,this.raw=t}return e.prototype={getFDIndex:function(e){return 0>e||e>=this.fdSelect.length?-1:this.fdSelect[e]}},e}(),Oe=function(){function e(){this.offsets={}}return e.prototype={isTracking:function(e){return e in this.offsets},track:function(e,t){e in this.offsets&&x("Already tracking location of "+e),this.offsets[e]=t},offset:function(e){for(var t in this.offsets)this.offsets[t]+=e},setEntryLocation:function(e,t,a){e in this.offsets||x("Not tracking location of "+e);for(var r=a.data,i=this.offsets[e],n=5,s=0,o=t.length;o>s;++s){var c=s*n+i,l=c+1,h=c+2,u=c+3,f=c+4;(29!==r[c]||0!==r[l]||0!==r[h]||0!==r[u]||0!==r[f])&&x("writing to an offset that is not empty");var d=t[s];r[c]=29,r[l]=d>>24&255,r[h]=d>>16&255,r[u]=d>>8&255,r[f]=255&d}}},e}(),Me=function(){function e(e){this.cff=e}return e.prototype={compile:function(){var e=this.cff,t={data:[],length:0,add:function(e){this.data=this.data.concat(e),this.length=this.data.length}},a=this.compileHeader(e.header);t.add(a);var r=this.compileNameIndex(e.names);if(t.add(r),e.isCIDFont&&e.topDict.hasName("FontMatrix")){var i=e.topDict.getByName("FontMatrix");e.topDict.removeByName("FontMatrix");for(var n=0,s=e.fdArray.length;s>n;n++){var o=e.fdArray[n],c=i.slice(0);o.hasName("FontMatrix")&&(c=y.transform(c,o.getByName("FontMatrix"))),o.setByName("FontMatrix",c)}}var l=this.compileTopDicts([e.topDict],t.length,e.isCIDFont);t.add(l.output);var h=l.trackers[0],u=this.compileStringIndex(e.strings.strings);t.add(u);var f=this.compileIndex(e.globalSubrIndex);if(t.add(f),e.encoding&&e.topDict.hasName("Encoding"))if(e.encoding.predefined)h.setEntryLocation("Encoding",[e.encoding.format],t);else{var d=this.compileEncoding(e.encoding);h.setEntryLocation("Encoding",[t.length],t),t.add(d)}if(e.charset&&e.topDict.hasName("charset"))if(e.charset.predefined)h.setEntryLocation("charset",[e.charset.format],t);else{var g=this.compileCharset(e.charset);h.setEntryLocation("charset",[t.length],t),t.add(g)}var m=this.compileCharStrings(e.charStrings);if(h.setEntryLocation("CharStrings",[t.length],t),t.add(m),e.isCIDFont){h.setEntryLocation("FDSelect",[t.length],t);var p=this.compileFDSelect(e.fdSelect.raw);t.add(p),l=this.compileTopDicts(e.fdArray,t.length,!0),h.setEntryLocation("FDArray",[t.length],t),t.add(l.output);var b=l.trackers;this.compilePrivateDicts(e.fdArray,b,t)}return this.compilePrivateDicts([e.topDict],[h],t),t.add([0]),t.data},encodeNumber:function(e){return parseFloat(e)!==parseInt(e,10)||isNaN(e)?this.encodeFloat(e):this.encodeInteger(e)},encodeFloat:function(e){var t=e.toString(),a=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(a){var r=parseFloat("1e"+((a[2]?+a[2]:0)+a[1].length));t=(Math.round(e*r)/r).toString()}var i,n,s="";for(i=0,n=t.length;n>i;++i){var o=t[i];s+="e"===o?"-"===t[++i]?"c":"b":"."===o?"a":"-"===o?"e":o}s+=1&s.length?"f":"ff";var c=[30];for(i=0,n=s.length;n>i;i+=2)c.push(parseInt(s.substr(i,2),16));return c},encodeInteger:function(e){var t;return e>=-107&&107>=e?t=[e+139]:e>=108&&1131>=e?(e=[e-108],t=[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,t=[(e>>8)+251,255&e]):t=e>=-32768&&32767>=e?[28,e>>8&255,255&e]:[29,e>>24&255,e>>16&255,e>>8&255,255&e],t},compileHeader:function(e){return[e.major,e.minor,e.hdrSize,e.offSize]},compileNameIndex:function(e){for(var t=new Se,a=0,r=e.length;r>a;++a)t.add(P(e[a]));return this.compileIndex(t)},compileTopDicts:function(e,t,a){for(var r=[],i=new Se,n=0,s=e.length;s>n;++n){var o=e[n];a&&(o.removeByName("CIDFontVersion"),o.removeByName("CIDFontRevision"),o.removeByName("CIDFontType"),o.removeByName("CIDCount"),o.removeByName("UIDBase"));var c=new Oe,l=this.compileDict(o,c);r.push(c),i.add(l),c.offset(t)}return i=this.compileIndex(i,r),{trackers:r,output:i}},compilePrivateDicts:function(e,t,a){for(var r=0,i=e.length;i>r;++r){var n=e[r];k(n.privateDict&&n.hasName("Private"),"There must be an private dictionary.");var s=n.privateDict,o=new Oe,c=this.compileDict(s,o),l=a.length;if(o.offset(l),c.length||(l=0),t[r].setEntryLocation("Private",[c.length,l],a),a.add(c),s.subrsIndex&&s.hasName("Subrs")){var h=this.compileIndex(s.subrsIndex);o.setEntryLocation("Subrs",[c.length],a),a.add(h)}}},compileDict:function(e,t){for(var a=[],r=e.order,i=0;i<r.length;++i){var n=r[i];if(n in e.values){var s=e.values[n],o=e.types[n];if(S(o)||(o=[o]),S(s)||(s=[s]),0!==s.length){for(var c=0,l=o.length;l>c;++c){var h=o[c],u=s[c];switch(h){case"num":case"sid":a=a.concat(this.encodeNumber(u));break;case"offset":var f=e.keyToNameMap[n];t.isTracking(f)||t.track(f,a.length),a=a.concat([29,0,0,0,0]);break;case"array":case"delta":a=a.concat(this.encodeNumber(u));for(var d=1,g=s.length;g>d;++d)a=a.concat(this.encodeNumber(s[d]));break;default:x("Unknown data type of "+h)}}a=a.concat(e.opcodes[n])}}}return a},compileStringIndex:function(e){for(var t=new Se,a=0,r=e.length;r>a;++a)t.add(P(e[a]));return this.compileIndex(t)},compileGlobalSubrIndex:function(){var e=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(e))},compileCharStrings:function(e){return this.compileIndex(e)},compileCharset:function(e){return this.compileTypedArray(e.raw)},compileEncoding:function(e){return this.compileTypedArray(e.raw)},compileFDSelect:function(e){return this.compileTypedArray(e)},compileTypedArray:function(e){for(var t=[],a=0,r=e.length;r>a;++a)t[a]=e[a];return t},compileIndex:function(e,t){t=t||[];var a=e.objects,r=a.length;if(0===r)return[0,0,0];var i,n=[r>>8&255,255&r],s=1;for(i=0;r>i;++i)s+=a[i].length;var o;o=256>s?1:65536>s?2:16777216>s?3:4,n.push(o);var c=1;for(i=0;r+1>i;i++)1===o?n.push(255&c):2===o?n.push(c>>8&255,255&c):3===o?n.push(c>>16&255,c>>8&255,255&c):n.push(c>>>24&255,c>>16&255,c>>8&255,255&c),a[i]&&(c+=a[i].length);for(i=0;r>i;i++){t[i]&&t[i].offset(n.length);for(var l=0,h=a[i].length;h>l;l++)n.push(a[i][l])}return n}},e}();!function(){"undefined"!=typeof navigator&&/Windows/.test(navigator.userAgent)&&(K=!0)}(),function(){"undefined"!=typeof navigator&&/Windows.*Chrome/.test(navigator.userAgent)&&(X=!0)}(),e.SEAC_ANALYSIS_ENABLED=K,e.CFFCompiler=Me,e.CFFIndex=Se,e.CFFParser=ke,e.CFFStrings=Ce,e.Encodings=Z,e.ErrorFont=ge,e.FontFlags=Y,e.Font=de,e.IdentityToUnicodeMap=he,e.NormalizedUnicodes=oe,e.ToUnicodeMap=le,e.Type1Parser=pe,e.getFontType=g,e.reverseIfRtl=f,e.serifFonts=ee,e.symbolsFonts=te,e.stdFontMap=Q,e._enableSeacAnalysis=p,c._setCoreFonts(e)}),function(e,t){t(e.pdfjsCoreFunction={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCorePsParser)}(this,function(e,t,a,r){function i(e){var t;if("object"!=typeof e)return!1;if(l(e))t=e;else{if(!h(e))return!1;t=e.dict}return t.has("FunctionType")}var n=t.error,s=t.info,o=t.isArray,c=t.isBool,l=a.isDict,h=a.isStream,u=r.PostScriptLexer,f=r.PostScriptParser,d=function(){var e=0,t=2,a=3,r=4;return{getSampleArray:function(e,t,a,r){var i,n,s=1;for(i=0,n=e.length;n>i;i++)s*=e[i];s*=t;var o=new Array(s),c=0,l=0,h=1/(Math.pow(2,a)-1),u=r.getBytes((s*a+7)/8),f=0;for(i=0;s>i;i++){for(;a>c;)l<<=8,l|=u[f++],c+=8;c-=a,o[i]=(l>>c)*h,l&=(1<<c)-1}return o},getIR:function(e,t){var a=t.dict;a||(a=t);var r=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],i=a.get("FunctionType"),s=r[i];return s||n("Unknown type of function"),s.call(this,t,a,e)},fromIR:function(r){var i=r[0];switch(i){case e:return this.constructSampledFromIR(r);case t:return this.constructInterpolatedFromIR(r);case a:return this.constructStichedFromIR(r);default:return this.constructPostScriptFromIR(r)}},parse:function(e,t){var a=this.getIR(e,t);return this.fromIR(a)},parseArray:function(e,t){if(!o(t))return this.parse(e,t);for(var a=[],r=0,i=t.length;i>r;r++){var n=e.fetchIfRef(t[r]);a.push(d.parse(e,n))}return function(e,t,r,i){for(var n=0,s=a.length;s>n;n++)a[n](e,t,r,i+n)}},constructSampled:function(t,a){function r(e){for(var t=e.length,a=[],r=0,i=0;t>i;i+=2)a[r]=[e[i],e[i+1]],++r;return a}var i=a.get("Domain"),o=a.get("Range");i&&o||n("No domain or range");var c=i.length/2,l=o.length/2;i=r(i),o=r(o);var h=a.get("Size"),u=a.get("BitsPerSample"),f=a.get("Order")||1;1!==f&&s("No support for cubic spline interpolation: "+f);var d=a.get("Encode");if(!d){d=[];for(var g=0;c>g;++g)d.push(0),d.push(h[g]-1)}d=r(d);var m=a.get("Decode");m=m?r(m):o;var p=this.getSampleArray(h,l,u,t);return[e,c,i,d,m,p,h,l,Math.pow(2,u)-1,o]},constructSampledFromIR:function(e){function t(e,t,a,r,i){return r+(e-t)*((i-r)/(a-t))}return function(a,r,i,n){var s,o,c=e[1],l=e[2],h=e[3],u=e[4],f=e[5],d=e[6],g=e[7],m=e[9],p=1<<c,b=new Float64Array(p),v=new Uint32Array(p);for(o=0;p>o;o++)b[o]=1;var y=g,k=1;for(s=0;c>s;++s){var w=l[s][0],x=l[s][1],C=Math.min(Math.max(a[r+s],w),x),S=t(C,w,x,h[s][0],h[s][1]),A=d[s];S=Math.min(Math.max(S,0),A-1);var I=A-1>S?Math.floor(S):S-1,B=I+1-S,T=S-I,P=I*y,R=P+y;for(o=0;p>o;o++)o&k?(b[o]*=T,v[o]+=R):(b[o]*=B,v[o]+=P);y*=A,k<<=1}for(o=0;g>o;++o){var L=0;for(s=0;p>s;s++)L+=f[v[s]+o]*b[s];L=t(L,0,1,u[o][0],u[o][1]),i[n+o]=Math.min(Math.max(L,m[o][0]),m[o][1])}}},constructInterpolated:function(e,a){var r=a.get("C0")||[0],i=a.get("C1")||[1],s=a.get("N");o(r)&&o(i)||n("Illegal dictionary for interpolated function");for(var c=r.length,l=[],h=0;c>h;++h)l.push(i[h]-r[h]);return[t,r,l,s]},constructInterpolatedFromIR:function(e){var t=e[1],a=e[2],r=e[3],i=a.length;return function(e,n,s,o){for(var c=1===r?e[n]:Math.pow(e[n],r),l=0;i>l;++l)s[o+l]=t[l]+c*a[l]}},constructStiched:function(e,t,r){var i=t.get("Domain");i||n("No domain");var s=i.length/2;1!==s&&n("Bad domain for stiched function");for(var o=t.get("Functions"),c=[],l=0,h=o.length;h>l;++l)c.push(d.getIR(r,r.fetchIfRef(o[l])));var u=t.get("Bounds"),f=t.get("Encode");return[a,i,u,f,c]},constructStichedFromIR:function(e){for(var t=e[1],a=e[2],r=e[3],i=e[4],n=[],s=new Float32Array(1),o=0,c=i.length;c>o;o++)n.push(d.fromIR(i[o]));return function(e,i,o,c){for(var l=function(e,t,a){return e>a?e=a:t>e&&(e=t),e},h=l(e[i],t[0],t[1]),u=0,f=a.length;f>u&&!(h<a[u]);++u);var d=t[0];u>0&&(d=a[u-1]);var g=t[1];u<a.length&&(g=a[u]);var m=r[2*u],p=r[2*u+1];s[0]=d===g?m:m+(h-d)*(p-m)/(g-d),n[u](s,0,o,c)}},constructPostScript:function(e,t,a){var i=t.get("Domain"),s=t.get("Range");i||n("No domain."),s||n("No range.");var o=new u(e),c=new f(o),l=c.parse();return[r,i,s,l]},constructPostScriptFromIR:function(e){var t=e[1],a=e[2],r=e[3],i=(new p).compile(r,t,a);if(i)return new Function("src","srcOffset","dest","destOffset",i);s("Unable to compile PS function");var n=a.length>>1,o=t.length>>1,c=new m(r),l={},h=8192,u=h,f=new Float32Array(o);return function(e,t,r,i){var s,h,d="",g=f;for(s=0;o>s;s++)h=e[t+s],g[s]=h,d+=h+"_";var m=l[d];if(void 0!==m)return void r.set(m,i);var p=new Float32Array(n),b=c.execute(g),v=b.length-n;for(s=0;n>s;s++){h=b[v+s];var y=a[2*s];y>h?h=y:(y=a[2*s+1],h>y&&(h=y)),p[s]=h}u>0&&(u--,l[d]=p),r.set(p,i)}}}}(),g=function(){function e(e){this.stack=e?Array.prototype.slice.call(e,0):[]}var t=100;return e.prototype={push:function(e){this.stack.length>=t&&n("PostScript function stack overflow."),this.stack.push(e)},pop:function(){return this.stack.length<=0&&n("PostScript function stack underflow."),this.stack.pop()},copy:function(e){this.stack.length+e>=t&&n("PostScript function stack overflow.");for(var a=this.stack,r=a.length-e,i=e-1;i>=0;i--,r++)a.push(a[r])},index:function(e){this.push(this.stack[this.stack.length-e-1])},roll:function(e,t){var a,r,i,n=this.stack,s=n.length-e,o=n.length-1,c=s+(t-Math.floor(t/e)*e);for(a=s,r=o;r>a;a++,r--)i=n[a],n[a]=n[r],n[r]=i;for(a=s,r=c-1;r>a;a++,r--)i=n[a],n[a]=n[r],n[r]=i;for(a=c,r=o;r>a;a++,r--)i=n[a],n[a]=n[r],n[r]=i}},e}(),m=function(){function e(e){this.operators=e}return e.prototype={execute:function(e){for(var t,a,r,i=new g(e),s=0,o=this.operators,l=o.length;l>s;)if(t=o[s++],"number"!=typeof t)switch(t){case"jz":r=i.pop(),a=i.pop(),a||(s=r);break;case"j":a=i.pop(),s=a;break;case"abs":a=i.pop(),i.push(Math.abs(a));break;case"add":r=i.pop(),a=i.pop(),i.push(a+r);break;case"and":r=i.pop(),a=i.pop(),c(a)&&c(r)?i.push(a&&r):i.push(a&r);break;case"atan":a=i.pop(),i.push(Math.atan(a));break;case"bitshift":r=i.pop(),a=i.pop(),a>0?i.push(a<<r):i.push(a>>r);break;case"ceiling":a=i.pop(),i.push(Math.ceil(a));break;case"copy":a=i.pop(),i.copy(a);break;case"cos":a=i.pop(),i.push(Math.cos(a));break;case"cvi":a=0|i.pop(),i.push(a);break;case"cvr":break;case"div":r=i.pop(),a=i.pop(),i.push(a/r);break;case"dup":i.copy(1);break;case"eq":r=i.pop(),a=i.pop(),i.push(a===r);break;case"exch":i.roll(2,1);break;case"exp":r=i.pop(),a=i.pop(),i.push(Math.pow(a,r));break;case"false":i.push(!1);break;case"floor":a=i.pop(),i.push(Math.floor(a));break;case"ge":r=i.pop(),a=i.pop(),i.push(a>=r);break;case"gt":r=i.pop(),a=i.pop(),i.push(a>r);break;case"idiv":r=i.pop(),a=i.pop(),i.push(a/r|0);break;case"index":a=i.pop(),i.index(a);break;case"le":r=i.pop(),a=i.pop(),i.push(r>=a);break;case"ln":a=i.pop(),i.push(Math.log(a));break;case"log":a=i.pop(),i.push(Math.log(a)/Math.LN10);break;case"lt":r=i.pop(),a=i.pop(),i.push(r>a);break;case"mod":r=i.pop(),a=i.pop(),i.push(a%r);break;case"mul":r=i.pop(),a=i.pop(),i.push(a*r);break;case"ne":r=i.pop(),a=i.pop(),i.push(a!==r);break;case"neg":a=i.pop(),i.push(-a);break;case"not":a=i.pop(),c(a)?i.push(!a):i.push(~a);break;case"or":r=i.pop(),a=i.pop(),c(a)&&c(r)?i.push(a||r):i.push(a|r);break;case"pop":i.pop();break;case"roll":r=i.pop(),a=i.pop(),i.roll(a,r);break;case"round":a=i.pop(),i.push(Math.round(a));break;case"sin":a=i.pop(),i.push(Math.sin(a));break;case"sqrt":a=i.pop(),i.push(Math.sqrt(a));break;case"sub":r=i.pop(),a=i.pop(),i.push(a-r);break;case"true":i.push(!0);break;case"truncate":a=i.pop(),a=0>a?Math.ceil(a):Math.floor(a),i.push(a);break;case"xor":r=i.pop(),a=i.pop(),c(a)&&c(r)?i.push(a!==r):i.push(a^r);break;default:n("Unknown operator "+t)}else i.push(t);return i.stack}},e}(),p=function(){function e(e){this.type=e}function t(t,a,r){e.call(this,"args"),this.index=t,this.min=a,this.max=r}function a(t){e.call(this,"literal"),this.number=t,this.min=t,this.max=t}function r(t,a,r,i,n){e.call(this,"binary"),this.op=t,this.arg1=a,this.arg2=r,this.min=i,this.max=n}function i(t,a){e.call(this,"max"),this.arg=t,this.min=t.min,this.max=a}function n(t,a,r){e.call(this,"var"),this.index=t,this.min=a,this.max=r}function s(t,a){e.call(this,"definition"),this.variable=t,this.arg=a}function o(){this.parts=[]}function c(e,t){return"literal"===t.type&&0===t.number?e:"literal"===e.type&&0===e.number?t:"literal"===t.type&&"literal"===e.type?new a(e.number+t.number):new r("+",e,t,e.min+t.min,e.max+t.max)}function l(e,t){if("literal"===t.type){if(0===t.number)return new a(0);if(1===t.number)return e;if("literal"===e.type)return new a(e.number*t.number)}if("literal"===e.type){if(0===e.number)return new a(0);if(1===e.number)return t}var i=Math.min(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max),n=Math.max(e.min*t.min,e.min*t.max,e.max*t.min,e.max*t.max);return new r("*",e,t,i,n);
}function h(e,t){if("literal"===t.type){if(0===t.number)return e;if("literal"===e.type)return new a(e.number-t.number)}return"binary"===t.type&&"-"===t.op&&"literal"===e.type&&1===e.number&&"literal"===t.arg1.type&&1===t.arg1.number?t.arg2:new r("-",e,t,e.min-t.max,e.max-t.min)}function u(e,t){return e.min>=t?new a(t):e.max<=t?e:new i(e,t)}function f(){}return e.prototype.visit=function(e){throw new Error("abstract method")},t.prototype=Object.create(e.prototype),t.prototype.visit=function(e){e.visitArgument(this)},a.prototype=Object.create(e.prototype),a.prototype.visit=function(e){e.visitLiteral(this)},r.prototype=Object.create(e.prototype),r.prototype.visit=function(e){e.visitBinaryOperation(this)},i.prototype=Object.create(e.prototype),i.prototype.visit=function(e){e.visitMin(this)},n.prototype=Object.create(e.prototype),n.prototype.visit=function(e){e.visitVariable(this)},s.prototype=Object.create(e.prototype),s.prototype.visit=function(e){e.visitVariableDefinition(this)},o.prototype={visitArgument:function(e){this.parts.push("Math.max(",e.min,", Math.min(",e.max,", src[srcOffset + ",e.index,"]))")},visitVariable:function(e){this.parts.push("v",e.index)},visitLiteral:function(e){this.parts.push(e.number)},visitBinaryOperation:function(e){this.parts.push("("),e.arg1.visit(this),this.parts.push(" ",e.op," "),e.arg2.visit(this),this.parts.push(")")},visitVariableDefinition:function(e){this.parts.push("var "),e.variable.visit(this),this.parts.push(" = "),e.arg.visit(this),this.parts.push(";")},visitMin:function(e){this.parts.push("Math.min("),e.arg.visit(this),this.parts.push(", ",e.max,")")},toString:function(){return this.parts.join("")}},f.prototype={compile:function(e,r,i){var f,d,g,m,p,b,v,y,k,w,x=[],C=[],S=r.length>>1,A=i.length>>1,I=0;for(f=0;S>f;f++)x.push(new t(f,r[2*f],r[2*f+1]));for(f=0,d=e.length;d>f;f++)if(w=e[f],"number"!=typeof w)switch(w){case"add":if(x.length<2)return null;b=x.pop(),p=x.pop(),x.push(c(p,b));break;case"cvr":if(x.length<1)return null;break;case"mul":if(x.length<2)return null;b=x.pop(),p=x.pop(),x.push(l(p,b));break;case"sub":if(x.length<2)return null;b=x.pop(),p=x.pop(),x.push(h(p,b));break;case"exch":if(x.length<2)return null;v=x.pop(),y=x.pop(),x.push(v,y);break;case"pop":if(x.length<1)return null;x.pop();break;case"index":if(x.length<1)return null;if(p=x.pop(),"literal"!==p.type)return null;if(g=p.number,0>g||(0|g)!==g||x.length<g)return null;if(v=x[x.length-g-1],"literal"===v.type||"var"===v.type){x.push(v);break}k=new n(I++,v.min,v.max),x[x.length-g-1]=k,x.push(k),C.push(new s(k,v));break;case"dup":if(x.length<1)return null;if("number"==typeof e[f+1]&&"gt"===e[f+2]&&e[f+3]===f+7&&"jz"===e[f+4]&&"pop"===e[f+5]&&e[f+6]===e[f+1]){p=x.pop(),x.push(u(p,e[f+1])),f+=6;break}if(v=x[x.length-1],"literal"===v.type||"var"===v.type){x.push(v);break}k=new n(I++,v.min,v.max),x[x.length-1]=k,x.push(k),C.push(new s(k,v));break;case"roll":if(x.length<2)return null;if(b=x.pop(),p=x.pop(),"literal"!==b.type||"literal"!==p.type)return null;if(m=b.number,g=p.number,0>=g||(0|g)!==g||(0|m)!==m||x.length<g)return null;if(m=(m%g+g)%g,0===m)break;Array.prototype.push.apply(x,x.splice(x.length-g,g-m));break;default:return null}else x.push(new a(w));if(x.length!==A)return null;var B=[];return C.forEach(function(e){var t=new o;e.visit(t),B.push(t.toString())}),x.forEach(function(e,t){var a=new o;e.visit(a);var r=i[2*t],n=i[2*t+1],s=[a.toString()];r>e.min&&(s.unshift("Math.max(",r,", "),s.push(")")),n<e.max&&(s.unshift("Math.min(",n,", "),s.push(")")),s.unshift("dest[destOffset + ",t,"] = "),s.push(";"),B.push(s.join(""))}),B.join("\n")}},f}();e.isPDFFunction=i,e.PDFFunction=d,e.PostScriptEvaluator=m,e.PostScriptCompiler=p}),function(e,t){t(e.pdfjsCoreColorSpace={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreFunction,e.pdfjsCoreStream)}(this,function(e,t,a,r,i){function n(e){s=e,o=e.PDFImage}var s,o,c=t.error,l=t.info,h=t.isArray,u=t.isString,f=t.shadow,d=t.warn,g=a.isDict,m=a.isName,p=a.isStream,b=r.PDFFunction,v=function(){function e(){c("should not call ColorSpace constructor")}return e.prototype={getRgb:function(e,t){var a=new Uint8Array(3);return this.getRgbItem(e,t,a,0),a},getRgbItem:function(e,t,a,r){c("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(e,t,a,r,i,n,s){c("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(e,t){c("Should not call ColorSpace.getOutputLength")},isPassthrough:function(e){return!1},fillRgb:function(e,t,a,r,i,n,s,c,l){var h,u,f=t*a,d=null,g=1<<s,m=a!==i||t!==r;if(this.isPassthrough(s))d=c;else if(1===this.numComps&&f>g&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){var p,b=8>=s?new Uint8Array(g):new Uint16Array(g);for(h=0;g>h;h++)b[h]=h;var v=new Uint8Array(3*g);this.getRgbBuffer(b,0,g,v,0,s,0);var y,k;if(m)for(d=new Uint8Array(3*f),k=0,h=0;f>h;++h)p=3*c[h],d[k++]=v[p],d[k++]=v[p+1],d[k++]=v[p+2];else for(y=0,h=0;f>h;++h)p=3*c[h],e[y++]=v[p],e[y++]=v[p+1],e[y++]=v[p+2],y+=l}else m?(d=new Uint8Array(3*f),this.getRgbBuffer(c,0,f,d,0,s,0)):this.getRgbBuffer(c,0,r*n,e,0,s,l);if(d)if(m)o.resize(d,s,3,t,a,r,i,e,l);else for(k=0,y=0,h=0,u=r*n;u>h;h++)e[y++]=d[k++],e[y++]=d[k++],e[y++]=d[k++],y+=l},usesZeroToOneRange:!0},e.parse=function(t,a,r){var i=e.parseToIR(t,a,r);return i instanceof y?i:e.fromIR(i)},e.fromIR=function(t){var a,r,i,n=h(t)?t[0]:t;switch(n){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":return a=t[1].WhitePoint,r=t[1].BlackPoint,i=t[1].Gamma,new A(a,r,i);case"CalRGBCS":a=t[1].WhitePoint,r=t[1].BlackPoint,i=t[1].Gamma;var s=t[1].Matrix;return new I(a,r,i,s);case"PatternCS":var o=t[1];return o&&(o=e.fromIR(o)),new k(o);case"IndexedCS":var l=t[1],u=t[2],f=t[3];return new w(e.fromIR(l),u,f);case"AlternateCS":var d=t[1],g=t[2],m=t[3];return new y(d,e.fromIR(g),b.fromIR(m));case"LabCS":a=t[1].WhitePoint,r=t[1].BlackPoint;var p=t[1].Range;return new B(a,r,p);default:c("Unknown name "+n)}return null},e.parseToIR=function(t,a,r){if(m(t)){var i=r.get("ColorSpace");if(g(i)){var n=i.get(t.name);n&&(t=n)}}t=a.fetchIfRef(t);var s;if(m(t))switch(s=t.name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:c("unrecognized colorspace "+s)}else if(h(t)){s=a.fetchIfRef(t[0]).name,this.mode=s;var o,l,u;switch(s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return l=a.fetchIfRef(t[1]).getAll(),["CalGrayCS",l];case"CalRGB":return l=a.fetchIfRef(t[1]).getAll(),["CalRGBCS",l];case"ICCBased":var f=a.fetchIfRef(t[1]),v=f.dict;if(o=v.get("N"),u=v.get("Alternate")){var y=e.parseToIR(u,a,r),k=e.fromIR(y);if(k.numComps===o)return y;d("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===o)return"DeviceGrayCS";if(3===o)return"DeviceRgbCS";if(4===o)return"DeviceCmykCS";break;case"Pattern":var w=t[1]||null;return w&&(w=e.parseToIR(w,a,r)),["PatternCS",w];case"Indexed":case"I":var x=e.parseToIR(t[1],a,r),C=a.fetchIfRef(t[2])+1,S=a.fetchIfRef(t[3]);return p(S)&&(S=S.getBytes()),["IndexedCS",x,C,S];case"Separation":case"DeviceN":var A=a.fetchIfRef(t[1]);o=1,m(A)?o=1:h(A)&&(o=A.length),u=e.parseToIR(t[2],a,r);var I=b.getIR(a,a.fetchIfRef(t[3]));return["AlternateCS",o,u,I];case"Lab":return l=a.fetchIfRef(t[1]).getAll(),["LabCS",l];default:c('unimplemented color space object "'+s+'"')}}else c('unrecognized color space object: "'+t+'"');return null},e.isDefaultDecode=function(e,t){if(!h(e))return!0;if(2*t!==e.length)return d("The decode map is not the correct length"),!0;for(var a=0,r=e.length;r>a;a+=2)if(0!==e[a]||1!==e[a+1])return!1;return!0},e.singletons={get gray(){return f(this,"gray",new x)},get rgb(){return f(this,"rgb",new C)},get cmyk(){return f(this,"cmyk",new S)}},e}(),y=function(){function e(e,t,a){this.name="Alternate",this.numComps=e,this.defaultColor=new Float32Array(e);for(var r=0;e>r;++r)this.defaultColor[r]=1;this.base=t,this.tintFn=a,this.tmpBuf=new Float32Array(t.numComps)}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,t,a,r){var i=this.tmpBuf;this.tintFn(e,t,i,0),this.base.getRgbItem(i,0,a,r)},getRgbBuffer:function(e,t,a,r,i,n,s){var o,c,l=this.tintFn,h=this.base,u=1/((1<<n)-1),f=h.numComps,d=h.usesZeroToOneRange,g=(h.isPassthrough(8)||!d)&&0===s,m=g?i:0,p=g?r:new Uint8Array(f*a),b=this.numComps,v=new Float32Array(b),y=new Float32Array(f);if(d)for(o=0;a>o;o++){for(c=0;b>c;c++)v[c]=e[t++]*u;for(l(v,0,y,0),c=0;f>c;c++)p[m++]=255*y[c]}else for(o=0;a>o;o++){for(c=0;b>c;c++)v[c]=e[t++]*u;l(v,0,y,0),h.getRgbItem(y,0,p,m),m+=f}g||h.getRgbBuffer(p,0,a,r,i,8,s)},getOutputLength:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),k=function(){function e(e){this.name="Pattern",this.base=e}return e.prototype={},e}(),w=function(){function e(e,t,a){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=e,this.highVal=t;var r,i=e.numComps,n=i*t;if(p(a)){r=new Uint8Array(n);var s=a.getBytes(n);r.set(s)}else if(u(a)){r=new Uint8Array(n);for(var o=0;n>o;++o)r[o]=a.charCodeAt(o)}else a instanceof Uint8Array||a instanceof Array?r=a:c("Unrecognized lookup table: "+a);this.lookup=r}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,t,a,r){var i=this.base.numComps,n=e[t]*i;this.base.getRgbItem(this.lookup,n,a,r)},getRgbBuffer:function(e,t,a,r,i,n,s){for(var o=this.base,c=o.numComps,l=o.getOutputLength(c,s),h=this.lookup,u=0;a>u;++u){var f=e[t++]*c;o.getRgbBuffer(h,f,1,r,i,8,s),i+=l}},getOutputLength:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return!0},usesZeroToOneRange:!0},e}(),x=function(){function e(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,t,a,r){var i=255*e[t]|0;i=0>i?0:i>255?255:i,a[r]=a[r+1]=a[r+2]=i},getRgbBuffer:function(e,t,a,r,i,n,s){for(var o=255/((1<<n)-1),c=t,l=i,h=0;a>h;++h){var u=o*e[c++]|0;r[l++]=u,r[l++]=u,r[l++]=u,l+=s}},getOutputLength:function(e,t){return e*(3+t)},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),C=function(){function e(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,t,a,r){var i=255*e[t]|0,n=255*e[t+1]|0,s=255*e[t+2]|0;a[r]=0>i?0:i>255?255:i,a[r+1]=0>n?0:n>255?255:n,a[r+2]=0>s?0:s>255?255:s},getRgbBuffer:function(e,t,a,r,i,n,s){if(8===n&&0===s)return void r.set(e.subarray(t,t+3*a),i);for(var o=255/((1<<n)-1),c=t,l=i,h=0;a>h;++h)r[l++]=o*e[c++]|0,r[l++]=o*e[c++]|0,r[l++]=o*e[c++]|0,l+=s},getOutputLength:function(e,t){return e*(3+t)/3|0},isPassthrough:function(e){return 8===e},fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),S=function(){function e(e,t,a,r,i){var n=e[t+0]*a,s=e[t+1]*a,o=e[t+2]*a,c=e[t+3]*a,l=n*(-4.387332384609988*n+54.48615194189176*s+18.82290502165302*o+212.25662451639585*c+-285.2331026137004)+s*(1.7149763477362134*s-5.6096736904047315*o+-17.873870861415444*c-5.497006427196366)+o*(-2.5217340131683033*o-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747)+255|0,h=n*(8.841041422036149*n+60.118027045597366*s+6.871425592049007*o+31.159100130055922*c+-79.2970844816548)+s*(-15.310361306967817*s+17.575251261109482*o+131.35250912493976*c-190.9453302588951)+o*(4.444339102852739*o+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578)+255|0,u=n*(.8842522430003296*n+8.078677503112928*s+30.89978309703729*o-.23883238689178934*c+-14.183576799673286)+s*(10.49593273432072*s+63.02378494754052*o+50.606957656360734*c-112.23884253719248)+o*(.03296041114873217*o+115.60384449646641*c+-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)+255|0;r[i]=l>255?255:0>l?0:l,r[i+1]=h>255?255:0>h?0:h,r[i+2]=u>255?255:0>u?0:u}function t(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return t.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(t,a,r,i){e(t,a,1,r,i)},getRgbBuffer:function(t,a,r,i,n,s,o){for(var c=1/((1<<s)-1),l=0;r>l;l++)e(t,a,c,i,n),a+=4,n+=3+o},getOutputLength:function(e,t){return e/4*(3+t)|0},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},t}(),A=function(){function e(e,t,a){this.name="CalGray",this.numComps=1,this.defaultColor=new Float32Array([0]),e||c("WhitePoint missing - required for color space CalGray"),t=t||[0,0,0],a=a||1,this.XW=e[0],this.YW=e[1],this.ZW=e[2],this.XB=t[0],this.YB=t[1],this.ZB=t[2],this.G=a,(this.XW<0||this.ZW<0||1!==this.YW)&&c("Invalid WhitePoint components for "+this.name+", no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(l("Invalid BlackPoint for "+this.name+", falling back to default"),this.XB=this.YB=this.ZB=0),(0!==this.XB||0!==this.YB||0!==this.ZB)&&d(this.name+", BlackPoint: XB: "+this.XB+", YB: "+this.YB+", ZB: "+this.ZB+", only default values are supported."),this.G<1&&(l("Invalid Gamma: "+this.G+" for "+this.name+", falling back to default"),this.G=1)}function t(e,t,a,r,i,n){var s=t[a]*n,o=Math.pow(s,e.G),c=e.YW*o,l=0|Math.max(295.8*Math.pow(c,.3333333333333333)-40.8,0);r[i]=l,r[i+1]=l,r[i+2]=l}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,a,r,i){t(this,e,a,r,i,1)},getRgbBuffer:function(e,a,r,i,n,s,o){for(var c=1/((1<<s)-1),l=0;r>l;++l)t(this,e,a,i,n,c),a+=1,n+=3+o},getOutputLength:function(e,t){return e*(3+t)},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),I=function(){function e(e,t,a,r){this.name="CalRGB",this.numComps=3,this.defaultColor=new Float32Array(3),e||c("WhitePoint missing - required for color space CalRGB"),t=t||new Float32Array(3),a=a||new Float32Array([1,1,1]),r=r||new Float32Array([1,0,0,0,1,0,0,0,1]);var i=e[0],n=e[1],s=e[2];this.whitePoint=e;var o=t[0],h=t[1],u=t[2];this.blackPoint=t,this.GR=a[0],this.GG=a[1],this.GB=a[2],this.MXA=r[0],this.MYA=r[1],this.MZA=r[2],this.MXB=r[3],this.MYB=r[4],this.MZB=r[5],this.MXC=r[6],this.MYC=r[7],this.MZC=r[8],(0>i||0>s||1!==n)&&c("Invalid WhitePoint components for "+this.name+", no fallback available"),(0>o||0>h||0>u)&&(l("Invalid BlackPoint for "+this.name+" ["+o+", "+h+", "+u+"], falling back to default"),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(l("Invalid Gamma ["+this.GR+", "+this.GG+", "+this.GB+"] for "+this.name+", falling back to default"),this.GR=this.GG=this.GB=1),(this.MXA<0||this.MYA<0||this.MZA<0||this.MXB<0||this.MYB<0||this.MZB<0||this.MXC<0||this.MYC<0||this.MZC<0)&&(l("Invalid Matrix for "+this.name+" ["+this.MXA+", "+this.MYA+", "+this.MZA+this.MXB+", "+this.MYB+", "+this.MZB+this.MXC+", "+this.MYC+", "+this.MZC+"], falling back to default"),this.MXA=this.MYB=this.MZC=1,this.MXB=this.MYA=this.MZA=this.MXC=this.MYC=this.MZB=0)}function t(e,t,a){a[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],a[1]=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],a[2]=e[6]*t[0]+e[7]*t[1]+e[8]*t[2]}function a(e,t,a){a[0]=1*t[0]/e[0],a[1]=1*t[1]/e[1],a[2]=1*t[2]/e[2]}function r(e,t,a){var r=.95047,i=1,n=1.08883;a[0]=t[0]*r/e[0],a[1]=t[1]*i/e[1],a[2]=t[2]*n/e[2]}function i(e){return.0031308>=e?n(0,1,12.92*e):n(0,1,1.055*Math.pow(e,1/2.4)-.055)}function n(e,t,a){return Math.max(e,Math.min(t,a))}function s(e){return 0>e?-s(-e):e>8?Math.pow((e+16)/116,3):e*w}function o(e,t,a){if(0===e[0]&&0===e[1]&&0===e[2])return a[0]=t[0],a[1]=t[1],void(a[2]=t[2]);var r=s(0),i=r,n=s(e[0]),o=r,c=s(e[1]),l=r,h=s(e[2]),u=(1-i)/(1-n),f=1-u,d=(1-o)/(1-c),g=1-d,m=(1-l)/(1-h),p=1-m;a[0]=t[0]*u+f,a[1]=t[1]*d+g,a[2]=t[2]*m+p}function h(e,r,i){if(1===e[0]&&1===e[2])return i[0]=r[0],i[1]=r[1],void(i[2]=r[2]);var n=i;t(d,r,n);var s=b;a(e,n,s),t(g,s,i)}function u(e,a,i){var n=i;t(d,a,n);var s=b;r(e,n,s),t(g,s,i)}function f(e,a,r,s,c,l){var f=n(0,1,a[r]*l),d=n(0,1,a[r+1]*l),g=n(0,1,a[r+2]*l),b=Math.pow(f,e.GR),v=Math.pow(d,e.GG),w=Math.pow(g,e.GB),x=e.MXA*b+e.MXB*v+e.MXC*w,C=e.MYA*b+e.MYB*v+e.MYC*w,S=e.MZA*b+e.MZB*v+e.MZC*w,A=y;A[0]=x,A[1]=C,A[2]=S;var I=k;h(e.whitePoint,A,I);var B=y;o(e.blackPoint,I,B);var T=k;u(p,B,T);var P=y;t(m,T,P);var R=i(P[0]),L=i(P[1]),O=i(P[2]);s[c]=Math.round(255*R),s[c+1]=Math.round(255*L),s[c+2]=Math.round(255*O)}var d=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),g=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),m=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),p=new Float32Array([1,1,1]),b=new Float32Array(3),y=new Float32Array(3),k=new Float32Array(3),w=Math.pow(24/116,3)/8;return e.prototype={getRgb:function(e,t){var a=new Uint8Array(3);return this.getRgbItem(e,t,a,0),a},getRgbItem:function(e,t,a,r){f(this,e,t,a,r,1)},getRgbBuffer:function(e,t,a,r,i,n,s){for(var o=1/((1<<n)-1),c=0;a>c;++c)f(this,e,t,r,i,o),t+=3,i+=3+s},getOutputLength:function(e,t){return e*(3+t)/3|0},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return v.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),B=function(){function e(e,t,a){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),e||c("WhitePoint missing - required for color space Lab"),t=t||[0,0,0],a=a||[-100,100,-100,100],this.XW=e[0],this.YW=e[1],this.ZW=e[2],this.amin=a[0],this.amax=a[1],this.bmin=a[2],this.bmax=a[3],this.XB=t[0],this.YB=t[1],this.ZB=t[2],(this.XW<0||this.ZW<0||1!==this.YW)&&c("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(l("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(l("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function t(e){return e>=6/29?e*e*e:108/841*(e-4/29)}function a(e,t,a,r){return a+e*(r-a)/t}function r(e,r,i,n,s,o){var c=r[i],l=r[i+1],h=r[i+2];n!==!1&&(c=a(c,n,0,100),l=a(l,n,e.amin,e.amax),h=a(h,n,e.bmin,e.bmax)),l=l>e.amax?e.amax:l<e.amin?e.amin:l,h=h>e.bmax?e.bmax:h<e.bmin?e.bmin:h;var u,f,d,g=(c+16)/116,m=g+l/500,p=g-h/200,b=e.XW*t(m),v=e.YW*t(g),y=e.ZW*t(p);e.ZW<1?(u=3.1339*b+-1.617*v+y*-.4906,f=b*-.9785+1.916*v+.0333*y,d=.072*b+v*-.229+1.4057*y):(u=3.2406*b+-1.5372*v+y*-.4986,f=b*-.9689+1.8758*v+.0415*y,d=.0557*b+v*-.204+1.057*y),s[o]=0>=u?0:u>=1?255:255*Math.sqrt(u)|0,s[o+1]=0>=f?0:f>=1?255:255*Math.sqrt(f)|0,s[o+2]=0>=d?0:d>=1?255:255*Math.sqrt(d)|0}return e.prototype={getRgb:v.prototype.getRgb,getRgbItem:function(e,t,a,i){r(this,e,t,!1,a,i)},getRgbBuffer:function(e,t,a,i,n,s,o){for(var c=(1<<s)-1,l=0;a>l;l++)r(this,e,t,c,i,n),t+=3,n+=3+o},getOutputLength:function(e,t){return e*(3+t)/3|0},isPassthrough:v.prototype.isPassthrough,fillRgb:v.prototype.fillRgb,isDefaultDecode:function(e){return!0},usesZeroToOneRange:!1},e}();e._setCoreImage=n,e.ColorSpace=v,i._setCoreColorSpace(e)}),function(e,t){t(e.pdfjsCoreImage={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreColorSpace,e.pdfjsCoreStream,e.pdfjsCoreJpx)}(this,function(e,t,a,r,i,n){var s=t.ImageKind,o=t.assert,c=t.error,l=t.info,h=t.isArray,u=t.warn,f=a.Name,d=a.isStream,g=r.ColorSpace,m=i.DecodeStream,p=i.Stream,b=i.JpegStream,v=n.JpxImage,y=function(){function e(e,t,a,r){if(r instanceof b&&r.isNativelyDecodable(t,a)){var i=r.dict,n=i.get("ColorSpace","CS");n=g.parse(n,t,a);var s=n.numComps,o=e.sendWithPromise("JpegDecode",[r.getIR(),s]);return o.then(function(e){var t=e.data;return new p(t,0,t.length,r.dict)})}return Promise.resolve(r)}function t(e,t,a,r){return e=t+e*a,0>e?0:e>r?r:e}function a(e,t,r,i,n,s,o){this.image=r;var h=r.dict;if(h.has("Filter")){var m=h.get("Filter").name;if("JPXDecode"===m){var p=new v;p.parseImageProperties(r.stream),r.stream.reset(),r.bitsPerComponent=p.bitsPerComponent,r.numComps=p.componentsCount}else"JBIG2Decode"===m&&(r.bitsPerComponent=1,r.numComps=1)}this.width=h.get("Width","W"),this.height=h.get("Height","H"),(this.width<1||this.height<1)&&c("Invalid image width: "+this.width+" or height: "+this.height),this.interpolate=h.get("Interpolate","I")||!1,this.imageMask=h.get("ImageMask","IM")||!1,this.matte=h.get("Matte")||!1;var b=r.bitsPerComponent;if(b||(b=h.get("BitsPerComponent","BPC"),b||(this.imageMask?b=1:c("Bits per component missing in image: "+this.imageMask))),this.bpc=b,!this.imageMask){var y=h.get("ColorSpace","CS");if(!y)switch(l("JPX images (which do not require color spaces)"),r.numComps){case 1:y=f.get("DeviceGray");break;case 3:y=f.get("DeviceRGB");break;case 4:y=f.get("DeviceCMYK");break;default:c("JPX images with "+this.numComps+" color components not supported.")}this.colorSpace=g.parse(y,e,t),this.numComps=this.colorSpace.numComps}if(this.decode=h.get("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode)||o&&!g.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var k=(1<<b)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var w=0,x=0;w<this.decode.length;w+=2,++x){var C=this.decode[w],S=this.decode[w+1];this.decodeCoefficients[x]=S-C,this.decodeAddends[x]=k*C}}if(n)this.smask=new a(e,t,n,!1);else if(s)if(d(s)){var A=s.dict,I=A.get("ImageMask","IM");I?this.mask=new a(e,t,s,!1,null,null,!0):u("Ignoring /Mask in image without /ImageMask.")}else this.mask=s}return a.buildImage=function(t,r,i,n,s){var o,c,l=e(t,r,i,n),f=n.dict.get("SMask"),g=n.dict.get("Mask");return f?(o=e(t,r,i,f),c=Promise.resolve(null)):(o=Promise.resolve(null),g?d(g)?c=e(t,r,i,g):h(g)?c=Promise.resolve(g):(u("Unsupported mask format."),c=Promise.resolve(null)):c=Promise.resolve(null)),Promise.all([l,o,c]).then(function(e){var t=e[0],n=e[1],o=e[2];return new a(r,i,t,s,n,o)})},a.resize=function(e,t,a,r,i,n,s,o,l){1!==a&&3!==a&&c("Unsupported component count for resizing.");var h,u,f,d,g=n*s*a,m=o?o:8>=t?new Uint8Array(g):16>=t?new Uint16Array(g):new Uint32Array(g),p=r/n,b=i/s,v=0,y=new Uint16Array(n),k=r*a;for(1!==l&&(l=0),u=0;n>u;u++)y[u]=Math.floor(u*p)*a;if(1===a)for(h=0;s>h;h++)for(f=Math.floor(h*b)*k,u=0;n>u;u++)d=f+y[u],m[v++]=e[d];else if(3===a)for(h=0;s>h;h++)for(f=Math.floor(h*b)*k,u=0;n>u;u++)d=f+y[u],m[v++]=e[d++],m[v++]=e[d++],m[v++]=e[d++],v+=l;return m},a.createMask=function(e,t,a,r,i){var n,s,o=(t+7>>3)*a,c=e.byteLength,l=o===c;if(!r||i&&!l)if(i)for(n=new Uint8Array(o),n.set(e),s=c;o>s;s++)n[s]=255;else n=new Uint8Array(c),n.set(e);else n=e;if(i)for(s=0;c>s;s++)n[s]=~n[s];return{data:n,width:t,height:a}},a.prototype={get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)},get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)},decodeBuffer:function(e){var a,r,i=this.bpc,n=this.numComps,s=this.decodeAddends,o=this.decodeCoefficients,c=(1<<i)-1;if(1!==i){var l=0;for(a=0,r=this.width*this.height;r>a;a++)for(var h=0;n>h;h++)e[l]=t(e[l],s[h],o[h],c),l++}else for(a=0,r=e.length;r>a;a++)e[a]=+!e[a]},getComponents:function(e){var t=this.bpc;if(8===t)return e;var a,r,i=this.width,n=this.height,s=this.numComps,o=i*n*s,c=0,l=8>=t?new Uint8Array(o):16>=t?new Uint16Array(o):new Uint32Array(o),h=i*s,u=(1<<t)-1,f=0;if(1===t)for(var d,g,m,p=0;n>p;p++){for(g=f+(-8&h),m=f+h;g>f;)r=e[c++],l[f]=r>>7&1,l[f+1]=r>>6&1,l[f+2]=r>>5&1,l[f+3]=r>>4&1,l[f+4]=r>>3&1,l[f+5]=r>>2&1,l[f+6]=r>>1&1,l[f+7]=1&r,f+=8;if(m>f)for(r=e[c++],d=128;m>f;)l[f++]=+!!(r&d),d>>=1}else{var b=0;for(r=0,f=0,a=o;a>f;++f){for(f%h===0&&(r=0,b=0);t>b;)r=r<<8|e[c++],b+=8;var v=b-t,y=r>>v;l[f]=0>y?0:y>u?u:y,r&=(1<<v)-1,b=v}}return l},fillOpacity:function(e,t,r,i,n){var s,o,l,u,f,d,g=this.smask,m=this.mask;if(g)o=g.width,l=g.height,s=new Uint8Array(o*l),g.fillGrayBuffer(s),(o!==t||l!==r)&&(s=a.resize(s,g.bpc,1,o,l,t,r));else if(m)if(m instanceof a){for(o=m.width,l=m.height,s=new Uint8Array(o*l),m.numComps=1,m.fillGrayBuffer(s),u=0,f=o*l;f>u;++u)s[u]=255-s[u];(o!==t||l!==r)&&(s=a.resize(s,m.bpc,1,o,l,t,r))}else if(h(m)){s=new Uint8Array(t*r);var p=this.numComps;for(u=0,f=t*r;f>u;++u){var b=0,v=u*p;for(d=0;p>d;++d){var y=n[v+d],k=2*d;if(y<m[k]||y>m[k+1]){b=255;break}}s[u]=b}}else c("Unknown mask format.");if(s)for(u=0,d=3,f=t*i;f>u;++u,d+=4)e[d]=s[u];else for(u=0,d=3,f=t*i;f>u;++u,d+=4)e[d]=255},undoPreblend:function(e,t,a){var r=this.smask&&this.smask.matte;if(r)for(var i,n,s,o=this.colorSpace.getRgb(r,0),c=o[0],l=o[1],h=o[2],u=t*a*4,f=0;u>f;f+=4){var d=e[f+3];if(0!==d){var g=255/d;i=(e[f]-c)*g+c,n=(e[f+1]-l)*g+l,s=(e[f+2]-h)*g+h,e[f]=0>=i?0:i>=255?255:0|i,e[f+1]=0>=n?0:n>=255?255:0|n,e[f+2]=0>=s?0:s>=255?255:0|s}else e[f]=255,e[f+1]=255,e[f+2]=255}},createImageData:function(e){var t,a=this.drawWidth,r=this.drawHeight,i={width:a,height:r},n=this.numComps,c=this.width,l=this.height,h=this.bpc,u=c*n*h+7>>3;if(!e){var f;if("DeviceGray"===this.colorSpace.name&&1===h?f=s.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==h||this.needsDecode||(f=s.RGB_24BPP),f&&!this.smask&&!this.mask&&a===c&&r===l){if(i.kind=f,t=this.getImageBytes(l*u),this.image instanceof m)i.data=t;else{var d=new Uint8Array(t.length);d.set(t),i.data=d}if(this.needsDecode){o(f===s.GRAYSCALE_1BPP);for(var g=i.data,p=0,v=g.length;v>p;p++)g[p]^=255}return i}if(this.image instanceof b&&!this.smask&&!this.mask&&("DeviceGray"===this.colorSpace.name||"DeviceRGB"===this.colorSpace.name||"DeviceCMYK"===this.colorSpace.name))return i.kind=s.RGB_24BPP,i.data=this.getImageBytes(l*u,a,r,!0),i}t=this.getImageBytes(l*u);var y,k,w=0|t.length/u*r/l,x=this.getComponents(t);return e||this.smask||this.mask?(i.kind=s.RGBA_32BPP,i.data=new Uint8Array(a*r*4),y=1,k=!0,this.fillOpacity(i.data,a,r,w,x)):(i.kind=s.RGB_24BPP,i.data=new Uint8Array(a*r*3),y=0,k=!1),this.needsDecode&&this.decodeBuffer(x),this.colorSpace.fillRgb(i.data,c,l,a,r,w,h,x,y),k&&this.undoPreblend(i.data,a,w),i},fillGrayBuffer:function(e){var t=this.numComps;1!==t&&c("Reading gray scale from a color image: "+t);var a,r,i=this.width,n=this.height,s=this.bpc,o=i*t*s+7>>3,l=this.getImageBytes(n*o),h=this.getComponents(l);if(1!==s){this.needsDecode&&this.decodeBuffer(h),r=i*n;var u=255/((1<<s)-1);for(a=0;r>a;++a)e[a]=u*h[a]|0}else if(r=i*n,this.needsDecode)for(a=0;r>a;++a)e[a]=h[a]-1&255;else for(a=0;r>a;++a)e[a]=255&-h[a]},getImageBytes:function(e,t,a,r){return this.image.reset(),this.image.drawWidth=t||this.width,this.image.drawHeight=a||this.height,this.image.forceRGB=!!r,this.image.getBytes(e)}},a}();e.PDFImage=y,r._setCoreImage(e)}),function(e,t){t(e.pdfjsCorePattern={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreFunction,e.pdfjsCoreColorSpace)}(this,function(e,t,a,r,i){function n(e,t,a){var r=t.get("Matrix"),i=t.get("BBox"),n=t.get("XStep"),s=t.get("YStep"),o=t.get("PaintType"),c=t.get("TilingType");return["TilingPattern",a,e,r,i,n,s,o,c]}var s=t.UNSUPPORTED_FEATURES,o=t.MissingDataException,c=t.Util,l=t.assert,h=t.error,u=t.info,f=t.warn,d=a.isStream,g=r.PDFFunction,m=i.ColorSpace,p={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7},b=function(){function e(){h("should not call Pattern constructor")}return e.prototype={getPattern:function(e){h("Should not call Pattern.getStyle: "+e)}},e.parseShading=function(e,t,a,r,i){var n=d(e)?e.dict:e,c=n.get("ShadingType");try{switch(c){case p.AXIAL:case p.RADIAL:return new v.RadialAxial(n,t,a,r);case p.FREE_FORM_MESH:case p.LATTICE_FORM_MESH:case p.COONS_PATCH_MESH:case p.TENSOR_PATCH_MESH:return new v.Mesh(e,t,a,r);default:throw new Error("Unsupported ShadingType: "+c)}}catch(l){if(l instanceof o)throw l;return i.send("UnsupportedFeature",{featureId:s.shadingPattern}),f(l),new v.Dummy}},e}(),v={};v.SMALL_NUMBER=1e-6,v.RadialAxial=function(){function e(e,t,a,r){this.matrix=t,this.coordsArr=e.get("Coords"),this.shadingType=e.get("ShadingType"),this.type="Pattern";var i=e.get("ColorSpace","CS");i=m.parse(i,a,r),this.cs=i;var n=0,s=1;if(e.has("Domain")){var o=e.get("Domain");n=o[0],s=o[1]}var l=!1,h=!1;if(e.has("Extend")){var d=e.get("Extend");l=d[0],h=d[1]}if(!(this.shadingType!==p.RADIAL||l&&h)){var b=this.coordsArr[0],y=this.coordsArr[1],k=this.coordsArr[2],w=this.coordsArr[3],x=this.coordsArr[4],C=this.coordsArr[5],S=Math.sqrt((b-w)*(b-w)+(y-x)*(y-x));C+S>=k&&k+S>=C&&f("Unsupported radial gradient.")}this.extendStart=l,this.extendEnd=h;var A=e.get("Function"),I=g.parseArray(a,A),B=s-n,T=B/10,P=this.colorStops=[];if(n>=s||0>=T)return void u("Bad shading domain.");for(var R,L=new Float32Array(i.numComps),O=new Float32Array(1),M=n;s>=M;M+=T){O[0]=M,I(O,0,L,0),R=i.getRgb(L,0);var E=c.makeCssRgb(R[0],R[1],R[2]);P.push([(M-n)/B,E])}var D="transparent";e.has("Background")&&(R=i.getRgb(e.get("Background"),0),D=c.makeCssRgb(R[0],R[1],R[2])),l||(P.unshift([0,D]),P[1][0]+=v.SMALL_NUMBER),h||(P[P.length-1][0]-=v.SMALL_NUMBER,P.push([1,D])),this.colorStops=P}return e.prototype={getIR:function(){var e,t,a,r,i,n=this.coordsArr,s=this.shadingType;s===p.AXIAL?(t=[n[0],n[1]],a=[n[2],n[3]],r=null,i=null,e="axial"):s===p.RADIAL?(t=[n[0],n[1]],a=[n[3],n[4]],r=n[2],i=n[5],e="radial"):h("getPattern type unknown: "+s);var o=this.matrix;if(o&&(t=c.applyTransform(t,o),a=c.applyTransform(a,o),s===p.RADIAL)){var l=c.singularValueDecompose2dScale(o);r*=l[0],i*=l[1]}return["RadialAxial",e,this.colorStops,t,a,r,i]}},e}(),v.Mesh=function(){function e(e,t){this.stream=e,this.context=t,this.buffer=0,this.bufferLength=0;var a=t.numComps;this.tmpCompsBuf=new Float32Array(a);var r=t.colorSpace.numComps;this.tmpCsCompsBuf=t.colorFn?new Float32Array(r):this.tmpCompsBuf}function t(e,t){for(var a=e.coords,r=e.colors,i=[],n=[],s=0;t.hasData;){var o=t.readFlag(),c=t.readCoordinate(),h=t.readComponents();if(0===s){switch(l(o>=0&&2>=o,"Unknown type4 flag"),o){case 0:s=3;break;case 1:n.push(n[n.length-2],n[n.length-1]),s=1;break;case 2:n.push(n[n.length-3],n[n.length-1]),s=1}i.push(o)}n.push(a.length),a.push(c),r.push(h),s--,t.align()}e.figures.push({type:"triangles",coords:new Int32Array(n),colors:new Int32Array(n)})}function a(e,t,a){for(var r=e.coords,i=e.colors,n=[];t.hasData;){var s=t.readCoordinate(),o=t.readComponents();n.push(r.length),r.push(s),i.push(o)}e.figures.push({type:"lattice",coords:new Int32Array(n),colors:new Int32Array(n),verticesPerRow:a})}function r(e,t){var a=e.figures[t];l("patch"===a.type,"Unexpected patch mesh figure");var r=e.coords,i=e.colors,n=a.coords,s=a.colors,o=Math.min(r[n[0]][0],r[n[3]][0],r[n[12]][0],r[n[15]][0]),c=Math.min(r[n[0]][1],r[n[3]][1],r[n[12]][1],r[n[15]][1]),h=Math.max(r[n[0]][0],r[n[3]][0],r[n[12]][0],r[n[15]][0]),d=Math.max(r[n[0]][1],r[n[3]][1],r[n[12]][1],r[n[15]][1]),g=Math.ceil((h-o)*b/(e.bounds[2]-e.bounds[0]));g=Math.max(u,Math.min(f,g));var m=Math.ceil((d-c)*b/(e.bounds[3]-e.bounds[1]));m=Math.max(u,Math.min(f,m));for(var p=g+1,y=new Int32Array((m+1)*p),k=new Int32Array((m+1)*p),w=0,x=new Uint8Array(3),C=new Uint8Array(3),S=i[s[0]],A=i[s[1]],I=i[s[2]],B=i[s[3]],T=v(m),P=v(g),R=0;m>=R;R++){x[0]=(S[0]*(m-R)+I[0]*R)/m|0,x[1]=(S[1]*(m-R)+I[1]*R)/m|0,x[2]=(S[2]*(m-R)+I[2]*R)/m|0,C[0]=(A[0]*(m-R)+B[0]*R)/m|0,C[1]=(A[1]*(m-R)+B[1]*R)/m|0,C[2]=(A[2]*(m-R)+B[2]*R)/m|0;for(var L=0;g>=L;L++,w++)if(0!==R&&R!==m||0!==L&&L!==g){for(var O=0,M=0,E=0,D=0;3>=D;D++)for(var U=0;3>=U;U++,E++){var F=T[R][D]*P[L][U];O+=r[n[E]][0]*F,M+=r[n[E]][1]*F}y[w]=r.length,r.push([O,M]),k[w]=i.length;var j=new Uint8Array(3);
j[0]=(x[0]*(g-L)+C[0]*L)/g|0,j[1]=(x[1]*(g-L)+C[1]*L)/g|0,j[2]=(x[2]*(g-L)+C[2]*L)/g|0,i.push(j)}}y[0]=n[0],k[0]=s[0],y[g]=n[3],k[g]=s[1],y[p*m]=n[12],k[p*m]=s[2],y[p*m+g]=n[15],k[p*m+g]=s[3],e.figures[t]={type:"lattice",coords:y,colors:k,verticesPerRow:p}}function i(e,t){for(var a=e.coords,r=e.colors,i=new Int32Array(16),n=new Int32Array(4);t.hasData;){var s=t.readFlag();l(s>=0&&3>=s,"Unknown type6 flag");var o,c,h=a.length;for(o=0,c=0!==s?8:12;c>o;o++)a.push(t.readCoordinate());var u=r.length;for(o=0,c=0!==s?2:4;c>o;o++)r.push(t.readComponents());var f,d,g,m;switch(s){case 0:i[12]=h+3,i[13]=h+4,i[14]=h+5,i[15]=h+6,i[8]=h+2,i[11]=h+7,i[4]=h+1,i[7]=h+8,i[0]=h,i[1]=h+11,i[2]=h+10,i[3]=h+9,n[2]=u+1,n[3]=u+2,n[0]=u,n[1]=u+3;break;case 1:f=i[12],d=i[13],g=i[14],m=i[15],i[12]=m,i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=g,i[11]=h+3,i[4]=d,i[7]=h+4,i[0]=f,i[1]=h+7,i[2]=h+6,i[3]=h+5,f=n[2],d=n[3],n[2]=d,n[3]=u,n[0]=f,n[1]=u+1;break;case 2:f=i[15],d=i[11],i[12]=i[3],i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=i[7],i[11]=h+3,i[4]=d,i[7]=h+4,i[0]=f,i[1]=h+7,i[2]=h+6,i[3]=h+5,f=n[3],n[2]=n[1],n[3]=u,n[0]=f,n[1]=u+1;break;case 3:i[12]=i[0],i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=i[1],i[11]=h+3,i[4]=i[2],i[7]=h+4,i[0]=i[3],i[1]=h+7,i[2]=h+6,i[3]=h+5,n[2]=n[0],n[3]=u,n[0]=n[1],n[1]=u+1}i[5]=a.length,a.push([(-4*a[i[0]][0]-a[i[15]][0]+6*(a[i[4]][0]+a[i[1]][0])-2*(a[i[12]][0]+a[i[3]][0])+3*(a[i[13]][0]+a[i[7]][0]))/9,(-4*a[i[0]][1]-a[i[15]][1]+6*(a[i[4]][1]+a[i[1]][1])-2*(a[i[12]][1]+a[i[3]][1])+3*(a[i[13]][1]+a[i[7]][1]))/9]),i[6]=a.length,a.push([(-4*a[i[3]][0]-a[i[12]][0]+6*(a[i[2]][0]+a[i[7]][0])-2*(a[i[0]][0]+a[i[15]][0])+3*(a[i[4]][0]+a[i[14]][0]))/9,(-4*a[i[3]][1]-a[i[12]][1]+6*(a[i[2]][1]+a[i[7]][1])-2*(a[i[0]][1]+a[i[15]][1])+3*(a[i[4]][1]+a[i[14]][1]))/9]),i[9]=a.length,a.push([(-4*a[i[12]][0]-a[i[3]][0]+6*(a[i[8]][0]+a[i[13]][0])-2*(a[i[0]][0]+a[i[15]][0])+3*(a[i[11]][0]+a[i[1]][0]))/9,(-4*a[i[12]][1]-a[i[3]][1]+6*(a[i[8]][1]+a[i[13]][1])-2*(a[i[0]][1]+a[i[15]][1])+3*(a[i[11]][1]+a[i[1]][1]))/9]),i[10]=a.length,a.push([(-4*a[i[15]][0]-a[i[0]][0]+6*(a[i[11]][0]+a[i[14]][0])-2*(a[i[12]][0]+a[i[3]][0])+3*(a[i[2]][0]+a[i[8]][0]))/9,(-4*a[i[15]][1]-a[i[0]][1]+6*(a[i[11]][1]+a[i[14]][1])-2*(a[i[12]][1]+a[i[3]][1])+3*(a[i[2]][1]+a[i[8]][1]))/9]),e.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(n)})}}function n(e,t){for(var a=e.coords,r=e.colors,i=new Int32Array(16),n=new Int32Array(4);t.hasData;){var s=t.readFlag();l(s>=0&&3>=s,"Unknown type7 flag");var o,c,h=a.length;for(o=0,c=0!==s?12:16;c>o;o++)a.push(t.readCoordinate());var u=r.length;for(o=0,c=0!==s?2:4;c>o;o++)r.push(t.readComponents());var f,d,g,m;switch(s){case 0:i[12]=h+3,i[13]=h+4,i[14]=h+5,i[15]=h+6,i[8]=h+2,i[9]=h+13,i[10]=h+14,i[11]=h+7,i[4]=h+1,i[5]=h+12,i[6]=h+15,i[7]=h+8,i[0]=h,i[1]=h+11,i[2]=h+10,i[3]=h+9,n[2]=u+1,n[3]=u+2,n[0]=u,n[1]=u+3;break;case 1:f=i[12],d=i[13],g=i[14],m=i[15],i[12]=m,i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=g,i[9]=h+9,i[10]=h+10,i[11]=h+3,i[4]=d,i[5]=h+8,i[6]=h+11,i[7]=h+4,i[0]=f,i[1]=h+7,i[2]=h+6,i[3]=h+5,f=n[2],d=n[3],n[2]=d,n[3]=u,n[0]=f,n[1]=u+1;break;case 2:f=i[15],d=i[11],i[12]=i[3],i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=i[7],i[9]=h+9,i[10]=h+10,i[11]=h+3,i[4]=d,i[5]=h+8,i[6]=h+11,i[7]=h+4,i[0]=f,i[1]=h+7,i[2]=h+6,i[3]=h+5,f=n[3],n[2]=n[1],n[3]=u,n[0]=f,n[1]=u+1;break;case 3:i[12]=i[0],i[13]=h+0,i[14]=h+1,i[15]=h+2,i[8]=i[1],i[9]=h+9,i[10]=h+10,i[11]=h+3,i[4]=i[2],i[5]=h+8,i[6]=h+11,i[7]=h+4,i[0]=i[3],i[1]=h+7,i[2]=h+6,i[3]=h+5,n[2]=n[0],n[3]=u,n[0]=n[1],n[1]=u+1}e.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(n)})}}function s(e){for(var t=e.coords[0][0],a=e.coords[0][1],r=t,i=a,n=1,s=e.coords.length;s>n;n++){var o=e.coords[n][0],c=e.coords[n][1];t=t>o?o:t,a=a>c?c:a,r=o>r?o:r,i=c>i?c:i}e.bounds=[t,a,r,i]}function o(e){var t,a,r,i,n=e.coords,s=new Float32Array(2*n.length);for(t=0,r=0,a=n.length;a>t;t++){var o=n[t];s[r++]=o[0],s[r++]=o[1]}e.coords=s;var c=e.colors,l=new Uint8Array(3*c.length);for(t=0,r=0,a=c.length;a>t;t++){var h=c[t];l[r++]=h[0],l[r++]=h[1],l[r++]=h[2]}e.colors=l;var u=e.figures;for(t=0,a=u.length;a>t;t++){var f=u[t],d=f.coords,g=f.colors;for(r=0,i=d.length;i>r;r++)d[r]*=2,g[r]*=3}}function c(c,u,f,b){l(d(c),"Mesh data is not a stream");var v=c.dict;this.matrix=u,this.shadingType=v.get("ShadingType"),this.type="Pattern",this.bbox=v.get("BBox");var y=v.get("ColorSpace","CS");y=m.parse(y,f,b),this.cs=y,this.background=v.has("Background")?y.getRgb(v.get("Background"),0):null;var k=v.get("Function"),w=k?g.parseArray(f,k):null;this.coords=[],this.colors=[],this.figures=[];var x={bitsPerCoordinate:v.get("BitsPerCoordinate"),bitsPerComponent:v.get("BitsPerComponent"),bitsPerFlag:v.get("BitsPerFlag"),decode:v.get("Decode"),colorFn:w,colorSpace:y,numComps:w?1:y.numComps},C=new e(c,x),S=!1;switch(this.shadingType){case p.FREE_FORM_MESH:t(this,C);break;case p.LATTICE_FORM_MESH:var A=0|v.get("VerticesPerRow");l(A>=2,"Invalid VerticesPerRow"),a(this,C,A);break;case p.COONS_PATCH_MESH:i(this,C),S=!0;break;case p.TENSOR_PATCH_MESH:n(this,C),S=!0;break;default:h("Unsupported mesh type.")}if(S){s(this);for(var I=0,B=this.figures.length;B>I;I++)r(this,I)}s(this),o(this)}e.prototype={get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;var e=this.stream.getByte();return 0>e?!1:(this.buffer=e,this.bufferLength=8,!0)},readBits:function(e){var t=this.buffer,a=this.bufferLength;if(32===e){if(0===a)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var r=this.stream.getByte();return this.buffer=r&(1<<a)-1,(t<<8-a|(255&r)>>a)>>>0}if(8===e&&0===a)return this.stream.getByte();for(;e>a;)t=t<<8|this.stream.getByte(),a+=8;return a-=e,this.bufferLength=a,this.buffer=t&(1<<a)-1,t>>a},align:function(){this.buffer=0,this.bufferLength=0},readFlag:function(){return this.readBits(this.context.bitsPerFlag)},readCoordinate:function(){var e=this.context.bitsPerCoordinate,t=this.readBits(e),a=this.readBits(e),r=this.context.decode,i=32>e?1/((1<<e)-1):2.3283064365386963e-10;return[t*i*(r[1]-r[0])+r[0],a*i*(r[3]-r[2])+r[2]]},readComponents:function(){for(var e=this.context.numComps,t=this.context.bitsPerComponent,a=32>t?1/((1<<t)-1):2.3283064365386963e-10,r=this.context.decode,i=this.tmpCompsBuf,n=0,s=4;e>n;n++,s+=2){var o=this.readBits(t);i[n]=o*a*(r[s+1]-r[s])+r[s]}var c=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(i,0,c,0),this.context.colorSpace.getRgb(c,0)}};var u=3,f=20,b=20,v=function(){function e(e){for(var t=[],a=0;e>=a;a++){var r=a/e,i=1-r;t.push(new Float32Array([i*i*i,3*r*i*i,3*r*r*i,r*r*r]))}return t}var t=[];return function(a){return t[a]||(t[a]=e(a)),t[a]}}();return c.prototype={getIR:function(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}},c}(),v.Dummy=function(){function e(){this.type="Pattern"}return e.prototype={getIR:function(){return["Dummy"]}},e}(),e.Pattern=b,e.getTilingPatternIR=n}),function(e,t){t(e.pdfjsCoreEvaluator={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream,e.pdfjsCoreParser,e.pdfjsCoreImage,e.pdfjsCoreColorSpace,e.pdfjsCoreMurmurHash3,e.pdfjsCoreFonts,e.pdfjsCoreFunction,e.pdfjsCorePattern,e.pdfjsCoreCMap,e.pdfjsCoreMetrics,e.pdfjsCoreBidi)}(this,function(e,t,a,r,i,n,s,o,c,l,h,u,f,d){var g=t.FONT_IDENTITY_MATRIX,m=t.IDENTITY_MATRIX,p=t.UNSUPPORTED_FEATURES,b=t.ImageKind,v=t.OPS,y=t.TextRenderingMode,k=t.Util,w=t.assert,x=t.createPromiseCapability,C=t.error,S=t.info,A=t.isArray,I=t.isNum,B=t.isString,T=t.warn,P=a.Dict,R=a.Name,L=a.isCmd,O=a.isDict,M=a.isName,E=a.isRef,D=a.isStream,U=r.DecodeStream,F=r.JpegStream,j=i.Lexer,N=i.Parser,q=i.isEOF,z=n.PDFImage,H=s.ColorSpace,_=o.MurmurHash3_64,G=c.Encodings,X=c.ErrorFont,W=c.FontFlags,V=c.Font,K=c.IdentityToUnicodeMap,J=c.NormalizedUnicodes,Y=c.ToUnicodeMap,Z=c.getFontType,Q=c.reverseIfRtl,$=c.serifFonts,ee=c.symbolsFonts,te=c.stdFontMap,ae=l.isPDFFunction,re=l.PDFFunction,ie=h.Pattern,ne=h.getTilingPatternIR,se=u.CMapFactory,oe=u.IdentityCMap,ce=f.Metrics,le=(d.bidi,function(){function e(e,t,a,r,i,n,s){this.pdfManager=e,this.xref=t,this.handler=a,this.pageIndex=r,this.uniquePrefix=i,this.idCounters=n,this.fontCache=s}function t(){this.reset()}var a=20,r=100;t.prototype={check:function(){return++this.checked<r?!1:(this.checked=0,this.endTime<=Date.now())},reset:function(){this.endTime=Date.now()+a,this.checked=0}};var i=Promise.resolve(),n=1,s=2;return e.prototype={hasBlendModes:function(e){if(!O(e))return!1;var t=Object.create(null);e.objId&&(t[e.objId]=!0);for(var a=[e];a.length;){var r,i=a.shift(),n=i.get("ExtGState");if(O(n)){n=n.getAll();for(r in n){var s=n[r],o=s.BM;if(M(o)&&"Normal"!==o.name)return!0}}var c=i.get("XObject");if(O(c)){c=c.getAll();for(r in c){var l=c[r];if(D(l)){if(l.dict.objId){if(t[l.dict.objId])continue;t[l.dict.objId]=!0}var h=l.dict.get("Resources");!O(h)||h.objId&&t[h.objId]||(a.push(h),h.objId&&(t[h.objId]=!0))}}}}return!1},buildFormXObject:function(e,t,a,r,i,n){var s=t.dict.getArray("Matrix"),o=t.dict.getArray("BBox"),c=t.dict.get("Group");if(c){var l,h={matrix:s,bbox:o,smask:a,isolated:!1,knockout:!1},u=c.get("S");M(u)&&"Transparency"===u.name&&(h.isolated=c.get("I")||!1,h.knockout=c.get("K")||!1,l=c.has("CS")?H.parse(c.get("CS"),this.xref,e):null),a&&a.backdrop&&(l=l||H.singletons.rgb,a.backdrop=l.getRgb(a.backdrop,0)),r.addOp(v.beginGroup,[h])}return r.addOp(v.paintFormXObjectBegin,[s,o]),this.getOperatorList(t,i,t.dict.get("Resources")||e,r,n).then(function(){r.addOp(v.paintFormXObjectEnd,[]),c&&r.addOp(v.endGroup,[h])})},buildPaintImageXObject:function(e,t,a,r,i,n){var s=this,o=t.dict,c=o.get("Width","W"),l=o.get("Height","H");if(!(c&&I(c)&&l&&I(l)))return void T("Image dimensions are missing, or not numbers.");if(-1!==PDFJS.maxImageSize&&c*l>PDFJS.maxImageSize)return void T("Image exceeded maximum allowed size and was removed.");var h,u,f=o.get("ImageMask","IM")||!1;if(f){var d=o.get("Width","W"),g=o.get("Height","H"),m=d+7>>3,p=t.getBytes(m*g),b=o.get("Decode","D"),y=!!b&&b[0]>0;return h=z.createMask(p,d,g,t instanceof U,y),h.cached=!0,u=[h],r.addOp(v.paintImageMaskXObject,u),void(i&&(n[i]={fn:v.paintImageMaskXObject,args:u}))}var k=o.get("SMask","SM")||!1,w=o.get("Mask")||!1,x=200;if(a&&!k&&!w&&!(t instanceof F)&&x>c+l){var C=new z(this.xref,e,t,a,null,null);return h=C.createImageData(!0),void r.addOp(v.paintInlineImageXObject,[h])}var S=this.uniquePrefix||"",A="img_"+S+ ++this.idCounters.obj;return r.addDependency(A),u=[A,c,l],!k&&!w&&t instanceof F&&t.isNativelySupported(this.xref,e)?(r.addOp(v.paintJpegXObject,u),void this.handler.send("obj",[A,this.pageIndex,"JpegStream",t.getIR()])):(z.buildImage(s.handler,s.xref,e,t,a).then(function(e){var t=e.createImageData(!1);s.handler.send("obj",[A,s.pageIndex,"Image",t],[t.data.buffer])}).then(void 0,function(e){T("Unable to decode image: "+e),s.handler.send("obj",[A,s.pageIndex,"Image",null])}),r.addOp(v.paintImageXObject,u),void(i&&(n[i]={fn:v.paintImageXObject,args:u})))},handleSMask:function(e,t,a,r,i){var n=e.get("G"),s={subtype:e.get("S").name,backdrop:e.get("BC")},o=e.get("TR");if(ae(o)){for(var c=re.parse(this.xref,o),l=new Uint8Array(256),h=new Float32Array(1),u=0;255>u;u++)h[0]=u/255,c(h,0,h,0),l[u]=255*h[0]|0;s.transferMap=l}return this.buildFormXObject(t,n,s,a,r,i.state.clone())},handleTilingType:function(e,t,a,r,i,n,s){var o=new ue,c=[i.get("Resources"),a],l=P.merge(this.xref,c);return this.getOperatorList(r,s,l,o).then(function(){n.addDependencies(o.dependencies),n.addOp(e,ne({fnArray:o.fnArray,argsArray:o.argsArray},i,t))})},handleSetFont:function(e,t,a,r,i,n){var s;t&&(t=t.slice(),s=t[0].name);var o=this;return this.loadFont(s,a,this.xref,e).then(function(t){return t.font.isType3Font?t.loadType3Data(o,e,r,i).then(function(){return t},function(e){return o.handler.send("UnsupportedFeature",{featureId:p.font}),new he("g_font_error",new X("Type3 font load error: "+e),t.font)}):t}).then(function(e){return n.font=e.font,e.send(o.handler),e.loadedName})},handleText:function(e,t){var a=t.font,r=a.charsToGlyphs(e),i=!!(t.textRenderingMode&y.ADD_TO_PATH_FLAG);if(a.data&&(i||PDFJS.disableFontFace))for(var n=function(e){if(!a.renderer.hasBuiltPath(e)){var t=a.renderer.getPathJs(e);this.handler.send("commonobj",[a.loadedName+"_path_"+e,"FontPath",t])}}.bind(this),s=0,o=r.length;o>s;s++){var c=r[s];n(c.fontChar);var l=c.accent;l&&l.fontChar&&n(l.fontChar)}return r},setGState:function(e,t,a,r,i,n){var s=[],o=t.map,c=this,l=Promise.resolve();for(var h in o){var u=o[h];switch(h){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":s.push([h,u]);break;case"Font":l=l.then(function(){return c.handleSetFont(e,null,u[0],a,r,n.state).then(function(e){a.addDependency(e),s.push([h,[e,u[1]]])})});break;case"BM":s.push([h,u]);break;case"SMask":if(M(u)&&"None"===u.name){s.push([h,!1]);break}var f=i.fetchIfRef(u);O(f)?(l=l.then(function(){return c.handleSMask(f,e,a,r,n)}),s.push([h,!0])):T("Unsupported SMask type");break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":S("graphic state operator "+h);break;default:S("Unknown graphic state operator "+h)}}return l.then(function(){s.length>=0&&a.addOp(v.setGState,[s])})},loadFont:function(e,t,a,r){function i(){return Promise.resolve(new he("g_font_error",new X("Font "+e+" is not available"),t))}var n;if(t)w(E(t)),n=t;else{var s=r.get("Font");if(!s)return T("fontRes not available"),i();n=s.getRaw(e)}if(!n)return T("fontRef not available"),i();if(this.fontCache.has(n))return this.fontCache.get(n);if(t=a.fetchIfRef(n),!O(t))return i();if(t.translated)return t.translated;var o=x(),c=this.preEvaluateFont(t,a),l=c.descriptor,h=n.num+"_"+n.gen;if(O(l)){l.fontAliases||(l.fontAliases=Object.create(null));var u=l.fontAliases,f=c.hash;if(u[f]){var d=u[f].aliasRef;if(d&&this.fontCache.has(d))return this.fontCache.putAlias(n,d),this.fontCache.get(n)}u[f]||(u[f]={fontID:V.getFontID()}),u[f].aliasRef=n,h=u[f].fontID}var g=O(n);g||this.fontCache.put(n,o.promise),t.loadedName="g_"+this.pdfManager.docId+"_f"+(g?e.replace(/\W/g,""):h),t.translated=o.promise;var m;try{m=Promise.resolve(this.translateFont(c,a))}catch(b){m=Promise.reject(b)}var v=this;return m.then(function(e){if(void 0!==e.fontType){var r=a.stats.fontTypes;r[e.fontType]=!0}o.resolve(new he(t.loadedName,e,t))},function(e){v.handler.send("UnsupportedFeature",{featureId:p.font});try{var r=c.descriptor,i=r&&r.get("FontFile3"),n=i&&i.get("Subtype"),s=Z(c.type,n&&n.name),l=a.stats.fontTypes;l[s]=!0}catch(h){}o.resolve(new he(t.loadedName,new X(e instanceof Error?e.message:e),t))}),o.promise},buildPath:function(e,t,a){var r=e.length-1;if(a||(a=[]),0>r||e.fnArray[r]!==v.constructPath)e.addOp(v.constructPath,[[t],a]);else{var i=e.argsArray[r];i[0].push(t),Array.prototype.push.apply(i[1],a)}},handleColorN:function(e,t,a,r,i,o,c,l){var h,u=a[a.length-1];if(M(u)&&(h=i.get(u.name))){var f=D(h)?h.dict:h,d=f.get("PatternType");if(d===n){var g=r.base?r.base.getRgb(a,0):null;return this.handleTilingType(t,g,o,h,f,e,c)}if(d===s){var m=f.get("Shading"),p=f.get("Matrix");return h=ie.parseShading(m,p,l,o,this.handler),e.addOp(t,h.getIR()),Promise.resolve()}return Promise.reject("Unknown PatternType: "+d)}return e.addOp(t,a),Promise.resolve()},getOperatorList:function(e,a,r,n,s){var o=this,c=this.xref,l={};w(n),r=r||P.empty;var h=r.get("XObject")||P.empty,u=r.get("Pattern")||P.empty,f=new fe(s||new ge),d=new me(e,c,f),g=new t;return new Promise(function m(e,t){a.ensureNotTerminated(),g.reset();for(var s,p,b,y,k={};!(s=g.check())&&(k.args=null,d.read(k));){var x=k.args,A=k.fn;switch(0|A){case v.paintXObject:if(x[0].code)break;var P=x[0].name;if(!P){T("XObject must be referred to by name.");continue}if(void 0!==l[P]){n.addOp(l[P].fn,l[P].args),x=null;continue}var R=h.get(P);if(R){w(D(R),"XObject should be a stream");var L=R.dict.get("Subtype");if(w(M(L),"XObject should have a Name subtype"),"Form"===L.name)return f.save(),o.buildFormXObject(r,R,null,n,a,f.state.clone()).then(function(){f.restore(),m(e,t)},t);if("Image"===L.name){o.buildPaintImageXObject(r,R,!1,n,P,l),x=null;continue}if("PS"===L.name){S("Ignored XObject subtype PS");continue}C("Unhandled XObject subtype "+L.name)}break;case v.setFont:var E=x[1];return o.handleSetFont(r,x,null,n,a,f.state).then(function(a){n.addDependency(a),n.addOp(v.setFont,[a,E]),m(e,t)},t);case v.endInlineImage:var U=x[0].cacheKey;if(U){var F=l[U];if(void 0!==F){n.addOp(F.fn,F.args),x=null;continue}}o.buildPaintImageXObject(r,x[0],!0,n,U,l),x=null;continue;case v.showText:x[0]=o.handleText(x[0],f.state);break;case v.showSpacedText:var j=x[0],N=[],q=j.length,z=f.state;for(p=0;q>p;++p){var _=j[p];B(_)?Array.prototype.push.apply(N,o.handleText(_,z)):I(_)&&N.push(_)}x[0]=N,A=v.showText;break;case v.nextLineShowText:n.addOp(v.nextLine),x[0]=o.handleText(x[0],f.state),A=v.showText;break;case v.nextLineSetSpacingShowText:n.addOp(v.nextLine),n.addOp(v.setWordSpacing,[x.shift()]),n.addOp(v.setCharSpacing,[x.shift()]),x[0]=o.handleText(x[0],f.state),A=v.showText;break;case v.setTextRenderingMode:f.state.textRenderingMode=x[0];break;case v.setFillColorSpace:f.state.fillColorSpace=H.parse(x[0],c,r);continue;case v.setStrokeColorSpace:f.state.strokeColorSpace=H.parse(x[0],c,r);continue;case v.setFillColor:y=f.state.fillColorSpace,x=y.getRgb(x,0),A=v.setFillRGBColor;break;case v.setStrokeColor:y=f.state.strokeColorSpace,x=y.getRgb(x,0),A=v.setStrokeRGBColor;break;case v.setFillGray:f.state.fillColorSpace=H.singletons.gray,x=H.singletons.gray.getRgb(x,0),A=v.setFillRGBColor;break;case v.setStrokeGray:f.state.strokeColorSpace=H.singletons.gray,x=H.singletons.gray.getRgb(x,0),A=v.setStrokeRGBColor;break;case v.setFillCMYKColor:f.state.fillColorSpace=H.singletons.cmyk,x=H.singletons.cmyk.getRgb(x,0),A=v.setFillRGBColor;break;case v.setStrokeCMYKColor:f.state.strokeColorSpace=H.singletons.cmyk,x=H.singletons.cmyk.getRgb(x,0),A=v.setStrokeRGBColor;break;case v.setFillRGBColor:f.state.fillColorSpace=H.singletons.rgb,x=H.singletons.rgb.getRgb(x,0);break;case v.setStrokeRGBColor:f.state.strokeColorSpace=H.singletons.rgb,x=H.singletons.rgb.getRgb(x,0);break;case v.setFillColorN:if(y=f.state.fillColorSpace,"Pattern"===y.name)return o.handleColorN(n,v.setFillColorN,x,y,u,r,a,c).then(function(){m(e,t)},t);x=y.getRgb(x,0),A=v.setFillRGBColor;break;case v.setStrokeColorN:if(y=f.state.strokeColorSpace,"Pattern"===y.name)return o.handleColorN(n,v.setStrokeColorN,x,y,u,r,a,c).then(function(){m(e,t)},t);x=y.getRgb(x,0),A=v.setStrokeRGBColor;break;case v.shadingFill:var G=r.get("Shading");G||C("No shading resource found");var X=G.get(x[0].name);X||C("No shading object found");var W=ie.parseShading(X,null,c,r,o.handler),V=W.getIR();x=[V],A=v.shadingFill;break;case v.setGState:var K=x[0],J=r.get("ExtGState");if(!O(J)||!J.has(K.name))break;var Y=J.get(K.name);return o.setGState(r,Y,n,a,c,f).then(function(){m(e,t)},t);case v.moveTo:case v.lineTo:case v.curveTo:case v.curveTo2:case v.curveTo3:case v.closePath:o.buildPath(n,A,x);continue;case v.rectangle:o.buildPath(n,A,x);continue;case v.markPoint:case v.markPointProps:case v.beginMarkedContent:case v.beginMarkedContentProps:case v.endMarkedContent:case v.beginCompat:case v.endCompat:continue}n.addOp(A,x)}if(s)return void i.then(function(){m(e,t)},t);for(p=0,b=d.savedStatesDepth;b>p;p++)n.addOp(v.restore,[]);e()})},getTextContent:function(e,a,r,n,s){function o(){if(y.initialized)return y;var e=T.font;e.loadedName in b.styles||(b.styles[e.loadedName]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:e.vertical}),y.fontName=e.loadedName;var t=[T.fontSize*T.textHScale,0,0,T.fontSize,0,T.textRise];if(e.isType3Font&&T.fontMatrix!==g&&1===T.fontSize){var a=e.bbox[3]-e.bbox[1];a>0&&(a*=T.fontMatrix[3],t[3]*=a)}var r=k.transform(T.ctm,k.transform(T.textMatrix,t));y.transform=r,e.vertical?(y.width=Math.sqrt(r[0]*r[0]+r[1]*r[1]),y.height=0,y.vertical=!0):(y.width=0,y.height=Math.sqrt(r[2]*r[2]+r[3]*r[3]),y.vertical=!1);var i=T.textLineMatrix[0],n=T.textLineMatrix[1],s=Math.sqrt(i*i+n*n);i=T.ctm[0],n=T.ctm[1];var o=Math.sqrt(i*i+n*n);y.textAdvanceScale=o*s,y.lastAdvanceWidth=0,y.lastAdvanceHeight=0;var c=e.spaceWidth/1e3*T.fontSize;return c?(y.spaceWidth=c,y.fakeSpaceMin=c*x,y.fakeMultiSpaceMin=c*C,y.fakeMultiSpaceMax=c*S,y.textRunBreakAllowed=!e.isMonospace):(y.spaceWidth=0,y.fakeSpaceMin=1/0,y.fakeMultiSpaceMin=1/0,y.fakeMultiSpaceMax=0,y.textRunBreakAllowed=!1),y.initialized=!0,y}function c(e){for(var t,a=0,r=e.length;r>a&&(t=e.charCodeAt(a))>=32&&127>=t;)a++;return r>a?e.replace(p," "):e}function l(e){var t=e.str.join(""),a=PDFJS.bidi(t,-1,e.vertical);return{str:s?c(a.str):a.str,dir:a.dir,width:e.width,height:e.height,transform:e.transform,fontName:e.fontName}}function h(e,t){return I.loadFont(e,t,B,r).then(function(e){T.font=e.font,T.fontMatrix=e.font.fontMatrix||g})}function u(e){for(var t=T.font,a=o(),r=0,i=0,n=t.charsToGlyphs(e),s=t.defaultVMetrics,c=0;c<n.length;c++){var l=n[c],h=null,u=null,d=null;t.vertical?l.vmetric?(d=l.vmetric[0],h=l.vmetric[1],u=l.vmetric[2]):(d=l.width,h=.5*l.width,u=s[2]):d=l.width;var g=l.unicode;void 0!==J[g]&&(g=J[g]),g=Q(g);var m=T.charSpacing;if(l.isSpace){var p=T.wordSpacing;m+=p,p>0&&f(p,a.str)}var b=0,v=0;if(t.vertical){var y=d*T.fontMatrix[0];v=y*T.fontSize+m,i+=v}else{var k=d*T.fontMatrix[0];b=(k*T.fontSize+m)*T.textHScale,r+=b}T.translateTextMatrix(b,v),a.str.push(g)}return t.vertical?(a.lastAdvanceHeight=i,a.height+=Math.abs(i*a.textAdvanceScale)):(a.lastAdvanceWidth=r,a.width+=r*a.textAdvanceScale),a}function f(e,t){if(!(e<y.fakeSpaceMin)){if(e<y.fakeMultiSpaceMin)return void t.push(" ");for(var a=Math.round(e/y.spaceWidth);a-->0;)t.push(" ")}}function d(){y.initialized&&(b.items.push(l(y)),y.initialized=!1,y.str.length=0)}n=n||new fe(new de);var p=/\s/g,b={items:[],styles:Object.create(null)},y={initialized:!1,str:[],width:0,height:0,vertical:!1,lastAdvanceWidth:0,lastAdvanceHeight:0,textAdvanceScale:0,spaceWidth:0,fakeSpaceMin:1/0,fakeMultiSpaceMin:1/0,fakeMultiSpaceMax:-0,textRunBreakAllowed:!1,transform:null,fontName:null},x=.3,C=1.5,S=4,I=this,B=this.xref;r=B.fetchIfRef(r)||P.empty;var T,R=null,L={},E=new me(e,B,n),U=new t;return new Promise(function F(e,t){a.ensureNotTerminated(),U.reset();for(var c,l={},g=[];!(c=U.check())&&(g.length=0,l.args=g,E.read(l));){T=n.state;var p=l.fn;g=l.args;var x;switch(0|p){case v.setFont:return d(),T.fontSize=g[1],h(g[0].name).then(function(){F(e,t)},t);case v.setTextRise:d(),T.textRise=g[0];break;case v.setHScale:d(),T.textHScale=g[0]/100;break;case v.setLeading:d(),T.leading=g[0];break;case v.moveText:var C=T.font?0===(T.font.vertical?g[0]:g[1]):!1;if(x=g[0]-g[1],C&&y.initialized&&x>0&&x<=y.fakeMultiSpaceMax){T.translateTextLineMatrix(g[0],g[1]),y.width+=g[0]-y.lastAdvanceWidth,y.height+=g[1]-y.lastAdvanceHeight;var S=g[0]-y.lastAdvanceWidth-(g[1]-y.lastAdvanceHeight);f(S,y.str);break}d(),T.translateTextLineMatrix(g[0],g[1]),T.textMatrix=T.textLineMatrix.slice();break;case v.setLeadingMoveText:d(),T.leading=-g[1],T.translateTextLineMatrix(g[0],g[1]),T.textMatrix=T.textLineMatrix.slice();break;case v.nextLine:d(),T.carriageReturn();break;case v.setTextMatrix:d(),T.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]),T.setTextLineMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case v.setCharSpacing:T.charSpacing=g[0];break;case v.setWordSpacing:T.wordSpacing=g[0];break;case v.beginText:d(),T.textMatrix=m.slice(),T.textLineMatrix=m.slice();break;case v.showSpacedText:for(var B,j=g[0],N=0,q=j.length;q>N;N++)if("string"==typeof j[N])u(j[N]);else{o(),x=j[N]*T.fontSize/1e3;var z=!1;T.font.vertical?(B=x*(T.textHScale*T.textMatrix[2]+T.textMatrix[3]),T.translateTextMatrix(0,x),z=y.textRunBreakAllowed&&x>y.fakeMultiSpaceMax,z||(y.height+=B)):(x=-x,B=x*(T.textHScale*T.textMatrix[0]+T.textMatrix[1]),T.translateTextMatrix(x,0),z=y.textRunBreakAllowed&&x>y.fakeMultiSpaceMax,z||(y.width+=B)),z?d():x>0&&f(x,y.str)}break;case v.showText:u(g[0]);break;case v.nextLineShowText:d(),T.carriageReturn(),u(g[0]);break;case v.nextLineSetSpacingShowText:d(),T.wordSpacing=g[0],T.charSpacing=g[1],T.carriageReturn(),u(g[2]);break;case v.paintXObject:if(d(),g[0].code)break;R||(R=r.get("XObject")||P.empty);var H=g[0].name;if(L.key===H){L.texts&&(k.appendToArray(b.items,L.texts.items),k.extendObj(b.styles,L.texts.styles));break}var _=R.get(H);if(!_)break;w(D(_),"XObject should be a stream");var G=_.dict.get("Subtype");if(w(M(G),"XObject should have a Name subtype"),"Form"!==G.name){L.key=H,L.texts=null;break}n.save();var X=_.dict.get("Matrix");return A(X)&&6===X.length&&n.transform(X),I.getTextContent(_,a,_.dict.get("Resources")||r,n,s).then(function(a){k.appendToArray(b.items,a.items),k.extendObj(b.styles,a.styles),n.restore(),L.key=H,L.texts=a,F(e,t)},t);case v.setGState:d();var W=g[0],V=r.get("ExtGState");if(!O(V)||!V.has(W.name))break;var K=V.get(W.name),J=null;for(var Y in K)"Font"===Y&&(w(!J),J=K[Y]);if(J)return T.fontSize=J[1],h(J[0]).then(function(){F(e,t)},t)}}return c?void i.then(function(){F(e,t)},t):(d(),void e(b))})},extractDataStructures:function(e,t,a,r){var i=e.get("ToUnicode")||t.get("ToUnicode");if(i&&(r.toUnicode=this.readToUnicode(i)),r.composite){var n=e.get("CIDSystemInfo");O(n)&&(r.cidSystemInfo={registry:n.get("Registry"),ordering:n.get("Ordering"),supplement:n.get("Supplement")});var s=e.get("CIDToGIDMap");D(s)&&(r.cidToGidMap=this.readCidToGidMap(s))}var o,c=[],l=null;if(e.has("Encoding")){if(o=e.get("Encoding"),O(o)){if(l=o.get("BaseEncoding"),l=M(l)?l.name:null,o.has("Differences"))for(var h=o.get("Differences"),u=0,f=0,d=h.length;d>f;f++){var g=h[f];if(I(g))u=g;else if(M(g))c[u++]=g.name;else{if(E(g)){h[f--]=a.fetch(g);continue}C("Invalid entry in 'Differences' array: "+g)}}}else M(o)?l=o.name:C("Encoding is not a Name nor a Dict");"MacRomanEncoding"!==l&&"MacExpertEncoding"!==l&&"WinAnsiEncoding"!==l&&(l=null)}l?r.defaultEncoding=G[l].slice():(o="TrueType"===r.type?G.WinAnsiEncoding:G.StandardEncoding,r.flags&W.Symbolic&&(o=G.MacRomanEncoding,r.file||(/Symbol/i.test(r.name)?o=G.SymbolSetEncoding:/Dingbats/i.test(r.name)&&(o=G.ZapfDingbatsEncoding))),r.defaultEncoding=o),r.differences=c,r.baseEncodingName=l,r.dict=e},readToUnicode:function(e){var t,a=e;if(M(a))return t=se.create(a,{url:PDFJS.cMapUrl,packed:PDFJS.cMapPacked},null),t instanceof oe?new K(0,65535):new Y(t.getMap());if(D(a)){if(t=se.create(a,{url:PDFJS.cMapUrl,packed:PDFJS.cMapPacked},null),t instanceof oe)return new K(0,65535);var r=new Array(t.length);return t.forEach(function(e,t){for(var a=[],i=0;i<t.length;i+=2){var n=t.charCodeAt(i)<<8|t.charCodeAt(i+1);if(55296===(63488&n)){i+=2;var s=t.charCodeAt(i)<<8|t.charCodeAt(i+1);a.push(((1023&n)<<10)+(1023&s)+65536)}else a.push(n)}r[e]=String.fromCharCode.apply(String,a)}),new Y(r)}return null},readCidToGidMap:function(e){for(var t=e.getBytes(),a=[],r=0,i=t.length;i>r;r++){var n=t[r++]<<8|t[r];if(0!==n){var s=r>>1;a[s]=n}}return a},extractWidths:function(e,t,a,r){var i,n,s,o,c,l,h,u,f=[],d=0,g=[];if(r.composite){if(d=e.get("DW")||1e3,u=e.get("W"))for(n=0,s=u.length;s>n;n++)if(l=u[n++],h=t.fetchIfRef(u[n]),A(h))for(o=0,c=h.length;c>o;o++)f[l++]=h[o];else{var m=u[++n];for(o=l;h>=o;o++)f[o]=m}if(r.vertical){var p=e.get("DW2")||[880,-1e3];if(i=[p[1],.5*d,p[0]],p=e.get("W2"))for(n=0,s=p.length;s>n;n++)if(l=p[n++],h=t.fetchIfRef(p[n]),A(h))for(o=0,c=h.length;c>o;o++)g[l++]=[h[o++],h[o++],h[o]];else{var b=[p[++n],p[++n],p[++n]];for(o=l;h>=o;o++)g[o]=b}}}else{var v=r.firstChar;if(u=e.get("Widths")){for(o=v,n=0,s=u.length;s>n;n++)f[o++]=u[n];d=parseFloat(a.get("MissingWidth"))||0}else{var y=e.get("BaseFont");if(M(y)){var k=this.getBaseFontMetrics(y.name);f=this.buildCharCodeToWidth(k.widths,r),d=k.defaultWidth}}}var w=!0,x=d;for(var C in f){var S=f[C];if(S)if(x){if(x!==S){w=!1;break}}else x=S}w&&(r.flags|=W.FixedPitch),r.defaultWidth=d,r.widths=f,r.defaultVMetrics=i,r.vmetrics=g},isSerifFont:function(e){var t=e.split("-")[0];return t in $||-1!==t.search(/serif/gi)},getBaseFontMetrics:function(e){var t=0,a=[],r=!1,i=te[e]||e;i in ce||(i=this.isSerifFont(e)?"Times-Roman":"Helvetica");var n=ce[i];return I(n)?(t=n,r=!0):a=n,{defaultWidth:t,monospace:r,widths:a}},buildCharCodeToWidth:function(e,t){for(var a=Object.create(null),r=t.differences,i=t.defaultEncoding,n=0;256>n;n++)n in r&&e[r[n]]?a[n]=e[r[n]]:n in i&&e[i[n]]&&(a[n]=e[i[n]]);return a},preEvaluateFont:function(e,t){var a=e,r=e.get("Subtype");w(M(r),"invalid font Subtype");var i,n=!1;if("Type0"===r.name){var s=e.get("DescendantFonts");s||C("Descendant fonts are not specified"),e=A(s)?t.fetchIfRef(s[0]):s,r=e.get("Subtype"),w(M(r),"invalid font Subtype"),n=!0}var o=e.get("FontDescriptor");if(o){var c=new _,l=a.getRaw("Encoding");if(M(l))c.update(l.name);else if(E(l))c.update(l.num+"_"+l.gen);else if(O(l))for(var h=l.getKeys(),u=0,f=h.length;f>u;u++){var d=l.getRaw(h[u]);M(d)?c.update(d.name):E(d)?c.update(d.num+"_"+d.gen):A(d)&&c.update(d.length.toString())}var g=e.get("ToUnicode")||a.get("ToUnicode");if(D(g)){var m=g.str||g;i=m.buffer?new Uint8Array(m.buffer.buffer,0,m.bufferLength):new Uint8Array(m.bytes.buffer,m.start,m.end-m.start),c.update(i)}else M(g)&&c.update(g.name);var p=e.get("Widths")||a.get("Widths");p&&(i=new Uint8Array(new Uint32Array(p).buffer),c.update(i))}return{descriptor:o,dict:e,baseDict:a,composite:n,type:r.name,hash:c?c.hexdigest():""}},translateFont:function(e,t){var a,r=e.baseDict,i=e.dict,n=e.composite,s=e.descriptor,o=e.type,c=n?65535:255;if(!s){if("Type3"!==o){var l=i.get("BaseFont");M(l)||C("Base font is not specified"),l=l.name.replace(/[,_]/g,"-");var h=this.getBaseFontMetrics(l),u=l.split("-")[0],f=(this.isSerifFont(u)?W.Serif:0)|(h.monospace?W.FixedPitch:0)|(ee[u]?W.Symbolic:W.Nonsymbolic);return a={type:o,name:l,widths:h.widths,defaultWidth:h.defaultWidth,flags:f,firstChar:0,lastChar:c},this.extractDataStructures(i,i,t,a),a.widths=this.buildCharCodeToWidth(h.widths,a),new V(l,null,a)}s=new P(null),s.set("FontName",R.get(o)),s.set("FontBBox",i.get("FontBBox"))}var d=i.get("FirstChar")||0,m=i.get("LastChar")||c,p=s.get("FontName"),b=i.get("BaseFont");if(B(p)&&(p=R.get(p)),B(b)&&(b=R.get(b)),"Type3"!==o){var v=p&&p.name,y=b&&b.name;v!==y&&(S("The FontDescriptor's FontName is \""+v+'" but should be the same as the Font\'s BaseFont "'+y+'"'),v&&y&&0===y.indexOf(v)&&(p=b))}p=p||b,w(M(p),"invalid font name");var k=s.get("FontFile","FontFile2","FontFile3");if(k&&k.dict){var x=k.dict.get("Subtype");x&&(x=x.name);var A=k.dict.get("Length1"),I=k.dict.get("Length2")}if(a={type:o,name:p.name,subtype:x,file:k,length1:A,length2:I,loadedName:r.loadedName,composite:n,wideChars:n,fixedPitch:!1,fontMatrix:i.get("FontMatrix")||g,firstChar:d||0,lastChar:m||c,bbox:s.get("FontBBox"),ascent:s.get("Ascent"),descent:s.get("Descent"),xHeight:s.get("XHeight"),capHeight:s.get("CapHeight"),flags:s.get("Flags"),italicAngle:s.get("ItalicAngle"),coded:!1},n){var T=r.get("Encoding");M(T)&&(a.cidEncoding=T.name),a.cMap=se.create(T,{url:PDFJS.cMapUrl,packed:PDFJS.cMapPacked},null),a.vertical=a.cMap.vertical}return this.extractDataStructures(i,r,t,a),this.extractWidths(i,t,s,a),"Type3"===o&&(a.isType3Font=!0),new V(p.name,k,a)}},e}()),he=function(){function e(e,t,a){this.loadedName=e,this.font=t,this.dict=a,this.type3Loaded=null,this.sent=!1}return e.prototype={send:function(e){if(!this.sent){var t=this.font.exportData();e.send("commonobj",[this.loadedName,"Font",t]),this.sent=!0}},loadType3Data:function(e,t,a,r){if(w(this.font.isType3Font),this.type3Loaded)return this.type3Loaded;for(var i=this.font,n=Promise.resolve(),s=this.dict.get("CharProcs").getAll(),o=this.dict.get("Resources")||t,c=Object.keys(s),l={},h=0,u=c.length;u>h;++h)n=n.then(function(t){var i=s[t],n=new ue;return e.getOperatorList(i,r,o,n).then(function(){l[t]=n.getIR(),a.addDependencies(n.dependencies)},function(e){
T('Type3 font resource "'+t+'" is not available');var a=new ue;l[t]=a.getIR()})}.bind(this,c[h]));return this.type3Loaded=n.then(function(){i.charProcOperatorList=l}),this.type3Loaded}},e}(),ue=function(){function e(e){for(var t=[],a=e.fnArray,r=e.argsArray,i=0,n=e.length;n>i;i++)switch(a[i]){case v.paintInlineImageXObject:case v.paintInlineImageXObjectGroup:case v.paintImageMaskXObject:var s=r[i][0];s.cached||t.push(s.data.buffer)}return t}function t(e,t,a){this.messageHandler=t,this.fnArray=[],this.argsArray=[],this.dependencies={},this._totalLength=0,this.pageIndex=a,this.intent=e}var a=1e3,r=a-5;return t.prototype={get length(){return this.argsArray.length},get totalLength(){return this._totalLength+this.length},addOp:function(e,t){this.fnArray.push(e),this.argsArray.push(t),this.messageHandler&&(this.fnArray.length>=a?this.flush():this.fnArray.length>=r&&(e===v.restore||e===v.endText)&&this.flush())},addDependency:function(e){e in this.dependencies||(this.dependencies[e]=!0,this.addOp(v.dependency,[e]))},addDependencies:function(e){for(var t in e)this.addDependency(t)},addOpList:function(e){k.extendObj(this.dependencies,e.dependencies);for(var t=0,a=e.length;a>t;t++)this.addOp(e.fnArray[t],e.argsArray[t])},getIR:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}},flush:function(t){"oplist"!==this.intent&&(new pe).optimize(this);var a=e(this),r=this.length;this._totalLength+=r,this.messageHandler.send("RenderPageChunk",{operatorList:{fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:t,length:r},pageIndex:this.pageIndex,intent:this.intent},a),this.dependencies={},this.fnArray.length=0,this.argsArray.length=0}},t}(),fe=function(){function e(e){this.state=e,this.stateStack=[]}return e.prototype={save:function(){var e=this.state;this.stateStack.push(this.state),this.state=e.clone()},restore:function(){var e=this.stateStack.pop();e&&(this.state=e)},transform:function(e){this.state.ctm=k.transform(this.state.ctm,e)}},e}(),de=function(){function e(){this.ctm=new Float32Array(m),this.fontSize=0,this.font=null,this.fontMatrix=g,this.textMatrix=m.slice(),this.textLineMatrix=m.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}return e.prototype={setTextMatrix:function(e,t,a,r,i,n){var s=this.textMatrix;s[0]=e,s[1]=t,s[2]=a,s[3]=r,s[4]=i,s[5]=n},setTextLineMatrix:function(e,t,a,r,i,n){var s=this.textLineMatrix;s[0]=e,s[1]=t,s[2]=a,s[3]=r,s[4]=i,s[5]=n},translateTextMatrix:function(e,t){var a=this.textMatrix;a[4]=a[0]*e+a[2]*t+a[4],a[5]=a[1]*e+a[3]*t+a[5]},translateTextLineMatrix:function(e,t){var a=this.textLineMatrix;a[4]=a[0]*e+a[2]*t+a[4],a[5]=a[1]*e+a[3]*t+a[5]},calcRenderMatrix:function(e){var t=[this.fontSize*this.textHScale,0,0,this.fontSize,0,this.textRise];return k.transform(e,k.transform(this.textMatrix,t))},carriageReturn:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()},clone:function(){var e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}},e}(),ge=function(){function e(){this.ctm=new Float32Array(m),this.font=null,this.textRenderingMode=y.FILL,this.fillColorSpace=H.singletons.gray,this.strokeColorSpace=H.singletons.gray}return e.prototype={clone:function(){return Object.create(this)}},e}(),me=function(){function e(e,a,r){this.parser=new N(new j(e,t),!1,a),this.stateManager=r,this.nonProcessedArgs=[]}var t={w:{id:v.setLineWidth,numArgs:1,variableArgs:!1},J:{id:v.setLineCap,numArgs:1,variableArgs:!1},j:{id:v.setLineJoin,numArgs:1,variableArgs:!1},M:{id:v.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:v.setDash,numArgs:2,variableArgs:!1},ri:{id:v.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:v.setFlatness,numArgs:1,variableArgs:!1},gs:{id:v.setGState,numArgs:1,variableArgs:!1},q:{id:v.save,numArgs:0,variableArgs:!1},Q:{id:v.restore,numArgs:0,variableArgs:!1},cm:{id:v.transform,numArgs:6,variableArgs:!1},m:{id:v.moveTo,numArgs:2,variableArgs:!1},l:{id:v.lineTo,numArgs:2,variableArgs:!1},c:{id:v.curveTo,numArgs:6,variableArgs:!1},v:{id:v.curveTo2,numArgs:4,variableArgs:!1},y:{id:v.curveTo3,numArgs:4,variableArgs:!1},h:{id:v.closePath,numArgs:0,variableArgs:!1},re:{id:v.rectangle,numArgs:4,variableArgs:!1},S:{id:v.stroke,numArgs:0,variableArgs:!1},s:{id:v.closeStroke,numArgs:0,variableArgs:!1},f:{id:v.fill,numArgs:0,variableArgs:!1},F:{id:v.fill,numArgs:0,variableArgs:!1},"f*":{id:v.eoFill,numArgs:0,variableArgs:!1},B:{id:v.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:v.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:v.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:v.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:v.endPath,numArgs:0,variableArgs:!1},W:{id:v.clip,numArgs:0,variableArgs:!1},"W*":{id:v.eoClip,numArgs:0,variableArgs:!1},BT:{id:v.beginText,numArgs:0,variableArgs:!1},ET:{id:v.endText,numArgs:0,variableArgs:!1},Tc:{id:v.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:v.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:v.setHScale,numArgs:1,variableArgs:!1},TL:{id:v.setLeading,numArgs:1,variableArgs:!1},Tf:{id:v.setFont,numArgs:2,variableArgs:!1},Tr:{id:v.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:v.setTextRise,numArgs:1,variableArgs:!1},Td:{id:v.moveText,numArgs:2,variableArgs:!1},TD:{id:v.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:v.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:v.nextLine,numArgs:0,variableArgs:!1},Tj:{id:v.showText,numArgs:1,variableArgs:!1},TJ:{id:v.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:v.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:v.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:v.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:v.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:v.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:v.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:v.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:v.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:v.setFillColor,numArgs:4,variableArgs:!0},scn:{id:v.setFillColorN,numArgs:33,variableArgs:!0},G:{id:v.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:v.setFillGray,numArgs:1,variableArgs:!1},RG:{id:v.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:v.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:v.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:v.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:v.shadingFill,numArgs:1,variableArgs:!1},BI:{id:v.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:v.beginImageData,numArgs:0,variableArgs:!1},EI:{id:v.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:v.paintXObject,numArgs:1,variableArgs:!1},MP:{id:v.markPoint,numArgs:1,variableArgs:!1},DP:{id:v.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:v.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:v.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:v.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:v.beginCompat,numArgs:0,variableArgs:!1},EX:{id:v.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,"true":null,fa:null,fal:null,fals:null,"false":null,nu:null,nul:null,"null":null};return e.prototype={get savedStatesDepth(){return this.stateManager.stateStack.length},read:function(e){for(var a=e.args;;){var r=this.parser.getObj();if(L(r)){var i=r.cmd,n=t[i];if(!n){T('Unknown command "'+i+'"');continue}var s=n.id,o=n.numArgs,c=null!==a?a.length:0;if(n.variableArgs)c>o&&S("Command "+s+": expected [0,"+o+"] args, but received "+c+" args");else{if(c!==o){for(var l=this.nonProcessedArgs;c>o;)l.push(a.shift()),c--;for(;o>c&&0!==l.length;)a||(a=[]),a.unshift(l.pop()),c++}if(o>c){S("Command "+s+": because expected "+o+" args, but received "+c+" args; skipping"),a=null;continue}}return this.preprocessCommand(s,a),e.fn=s,e.args=a,!0}if(q(r))return!1;null!==r&&(a||(a=[]),a.push(r instanceof P?r.getAll():r),w(a.length<=33,"Too many arguments"))}},preprocessCommand:function(e,t){switch(0|e){case v.save:this.stateManager.save();break;case v.restore:this.stateManager.restore();break;case v.transform:this.stateManager.transform(t)}}},e}(),pe=function(){function e(e,t,a){for(var r=e,i=0,n=t.length-1;n>i;i++){var s=t[i];r=r[s]||(r[s]=[])}r[t[t.length-1]]=a}function t(e,t,a,r){for(var i=e+2,n=0;t>n;n++){var s=r[i+4*n],o=1===s.length&&s[0];if(!o||1!==o.width||1!==o.height||o.data.length&&(1!==o.data.length||0!==o.data[0]))break;a[i+4*n]=v.paintSolidColorImageMask}return t-n}function a(){}var r=[];return e(r,[v.save,v.transform,v.paintInlineImageXObject,v.restore],function(e){for(var t=10,a=200,r=1e3,i=1,n=e.fnArray,s=e.argsArray,o=e.iCurr,c=o-3,l=o-2,h=o-1,u=c+4,f=n.length;f>u+3&&n[u]===v.save&&n[u+1]===v.transform&&n[u+2]===v.paintInlineImageXObject&&n[u+3]===v.restore;)u+=4;var d=Math.min((u-c)/4,a);if(t>d)return u;var g,m=0,p=[],y=0,k=i,w=i;for(g=0;d>g;g++){var x=s[l+(g<<2)],C=s[h+(g<<2)][0];k+C.width>r&&(m=Math.max(m,k),w+=y+2*i,k=0,y=0),p.push({transform:x,x:k,y:w,w:C.width,h:C.height}),k+=C.width+2*i,y=Math.max(y,C.height)}var S=Math.max(m,k)+i,A=w+y+i,I=new Uint8Array(S*A*4),B=S<<2;for(g=0;d>g;g++){var T=s[h+(g<<2)][0].data,P=p[g].w<<2,R=0,L=p[g].x+p[g].y*S<<2;I.set(T.subarray(0,P),L-B);for(var O=0,M=p[g].h;M>O;O++)I.set(T.subarray(R,R+P),L),R+=P,L+=B;for(I.set(T.subarray(R-P,R),L);L>=0;)T[L-4]=T[L],T[L-3]=T[L+1],T[L-2]=T[L+2],T[L-1]=T[L+3],T[L+P]=T[L+P-4],T[L+P+1]=T[L+P-3],T[L+P+2]=T[L+P-2],T[L+P+3]=T[L+P-1],L-=B}return n.splice(c,4*d,v.paintInlineImageXObjectGroup),s.splice(c,4*d,[{width:S,height:A,kind:b.RGBA_32BPP,data:I},p]),c+1}),e(r,[v.save,v.transform,v.paintImageMaskXObject,v.restore],function(e){for(var a=10,r=100,i=1e3,n=e.fnArray,s=e.argsArray,o=e.iCurr,c=o-3,l=o-2,h=o-1,u=c+4,f=n.length;f>u+3&&n[u]===v.save&&n[u+1]===v.transform&&n[u+2]===v.paintImageMaskXObject&&n[u+3]===v.restore;)u+=4;var d=(u-c)/4;if(d=t(c,d,n,s),a>d)return u;var g,m,p,b=!1,y=s[h][0];if(0===s[l][1]&&0===s[l][2]){b=!0;var k=s[l][0],w=s[l][3];m=l+4;var x=h+4;for(g=1;d>g;g++,m+=4,x+=4)if(p=s[m],s[x][0]!==y||p[0]!==k||0!==p[1]||0!==p[2]||p[3]!==w){a>g?b=!1:d=g;break}}if(b){d=Math.min(d,i);var C=new Float32Array(2*d);for(m=l,g=0;d>g;g++,m+=4)p=s[m],C[g<<1]=p[4],C[(g<<1)+1]=p[5];n.splice(c,4*d,v.paintImageMaskXObjectRepeat),s.splice(c,4*d,[y,k,w,C])}else{d=Math.min(d,r);var S=[];for(g=0;d>g;g++){p=s[l+(g<<2)];var A=s[h+(g<<2)][0];S.push({data:A.data,width:A.width,height:A.height,transform:p})}n.splice(c,4*d,v.paintImageMaskXObjectGroup),s.splice(c,4*d,[S])}return c+1}),e(r,[v.save,v.transform,v.paintImageXObject,v.restore],function(e){var t=3,a=1e3,r=e.fnArray,i=e.argsArray,n=e.iCurr,s=n-3,o=n-2,c=n-1,l=n;if(0!==i[o][1]||0!==i[o][2])return l+1;for(var h=i[c][0],u=i[o][0],f=i[o][3],d=s+4,g=r.length;g>d+3&&r[d]===v.save&&r[d+1]===v.transform&&r[d+2]===v.paintImageXObject&&r[d+3]===v.restore&&i[d+1][0]===u&&0===i[d+1][1]&&0===i[d+1][2]&&i[d+1][3]===f&&i[d+2][0]===h;)d+=4;var m=Math.min((d-s)/4,a);if(t>m)return d;for(var p=new Float32Array(2*m),b=o,y=0;m>y;y++,b+=4){var k=i[b];p[y<<1]=k[4],p[(y<<1)+1]=k[5]}var w=[h,u,f,p];return r.splice(s,4*m,v.paintImageXObjectRepeat),i.splice(s,4*m,w),s+1}),e(r,[v.beginText,v.setFont,v.setTextMatrix,v.showText,v.endText],function(e){for(var t=3,a=1e3,r=e.fnArray,i=e.argsArray,n=e.iCurr,s=n-4,o=n-3,c=n-2,l=n-1,h=n,u=i[o][0],f=i[o][1],d=s+5,g=r.length;g>d+4&&r[d]===v.beginText&&r[d+1]===v.setFont&&r[d+2]===v.setTextMatrix&&r[d+3]===v.showText&&r[d+4]===v.endText&&i[d+1][0]===u&&i[d+1][1]===f;)d+=5;var m=Math.min((d-s)/5,a);if(t>m)return d;var p=s;s>=4&&r[s-4]===r[o]&&r[s-3]===r[c]&&r[s-2]===r[l]&&r[s-1]===r[h]&&i[s-4][0]===u&&i[s-4][1]===f&&(m++,p-=5);for(var b=p+4,y=1;m>y;y++)r.splice(b,3),i.splice(b,3),b+=2;return b+1}),a.prototype={optimize:function(e){for(var t,a=e.fnArray,i=e.argsArray,n={iCurr:0,fnArray:a,argsArray:i},s=0,o=a.length;o>s;)t=(t||r)[a[s]],"function"==typeof t?(n.iCurr=s,s=t(n),t=void 0,o=n.fnArray.length):s++}},a}();e.OperatorList=ue,e.PartialEvaluator=le}),function(e,t){t(e.pdfjsCoreAnnotation={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream,e.pdfjsCoreColorSpace,e.pdfjsCoreObj,e.pdfjsCoreEvaluator)}(this,function(e,t,a,r,i,n,s){function o(){}var c=t.AnnotationBorderStyleType,l=t.AnnotationFlag,h=t.AnnotationType,u=t.OPS,f=t.Util,d=t.isArray,g=t.isInt,m=t.isValidUrl,p=t.stringToBytes,b=t.stringToPDFString,v=t.stringToUTF8String,y=t.warn,k=a.Dict,w=a.isDict,x=a.isName,C=r.Stream,S=i.ColorSpace,A=n.ObjectLoader,I=s.OperatorList;o.prototype={create:function(e,t){var a=e.fetchIfRef(t);if(w(a)){var r=a.get("Subtype");r=x(r)?r.name:"";var i={dict:a,ref:t};switch(r){case"Link":return new O(i);case"Text":return new L(i);case"Widget":var n=f.getInheritableProperty(a,"FT");return x(n)&&"Tx"===n.name?new R(i):new P(i);case"Popup":return new M(i);case"Highlight":return new E(i);case"Underline":return new D(i);case"Squiggly":return new U(i);case"StrikeOut":return new F(i);default:return y('Unimplemented annotation type "'+r+'", falling back to base annotation'),new B(i)}}}};var B=function(){function e(e,t,a){var r=f.getAxialAlignedBoundingBox(t,a),i=r[0],n=r[1],s=r[2],o=r[3];if(i===s||n===o)return[1,0,0,1,e[0],e[1]];var c=(e[2]-e[0])/(s-i),l=(e[3]-e[1])/(o-n);return[c,0,0,l,e[0]-i*c,e[1]-n*l]}function t(e){var t=e.get("AP");if(w(t)){var a,r=t.get("N");if(w(r)){var i=e.get("AS");i&&r.has(i.name)&&(a=r.get(i.name))}else a=r;return a}}function a(e){var a=e.dict;this.setFlags(a.get("F")),this.setRectangle(a.get("Rect")),this.setColor(a.get("C")),this.setBorderStyle(a),this.appearance=t(a),this.data={},this.data.id=e.ref.toString(),this.data.subtype=a.get("Subtype").name,this.data.annotationFlags=this.flags,this.data.rect=this.rectangle,this.data.color=this.color,this.data.borderStyle=this.borderStyle,this.data.hasAppearance=!!this.appearance}return a.prototype={get viewable(){return this.flags?!this.hasFlag(l.INVISIBLE)&&!this.hasFlag(l.HIDDEN)&&!this.hasFlag(l.NOVIEW):!0},get printable(){return this.flags?this.hasFlag(l.PRINT)&&!this.hasFlag(l.INVISIBLE)&&!this.hasFlag(l.HIDDEN):!1},setFlags:function(e){g(e)?this.flags=e:this.flags=0},hasFlag:function(e){return this.flags?(this.flags&e)>0:!1},setRectangle:function(e){d(e)&&4===e.length?this.rectangle=f.normalizeRect(e):this.rectangle=[0,0,0,0]},setColor:function(e){var t=new Uint8Array(3);if(!d(e))return void(this.color=t);switch(e.length){case 0:this.color=null;break;case 1:S.singletons.gray.getRgbItem(e,0,t,0),this.color=t;break;case 3:S.singletons.rgb.getRgbItem(e,0,t,0),this.color=t;break;case 4:S.singletons.cmyk.getRgbItem(e,0,t,0),this.color=t;break;default:this.color=t}},setBorderStyle:function(e){if(this.borderStyle=new T,w(e))if(e.has("BS")){var t,a=e.get("BS");(!a.has("Type")||x(t=a.get("Type"))&&"Border"===t.name)&&(this.borderStyle.setWidth(a.get("W")),this.borderStyle.setStyle(a.get("S")),this.borderStyle.setDashArray(a.get("D")))}else if(e.has("Border")){var r=e.get("Border");d(r)&&r.length>=3&&(this.borderStyle.setHorizontalCornerRadius(r[0]),this.borderStyle.setVerticalCornerRadius(r[1]),this.borderStyle.setWidth(r[2]),4===r.length&&this.borderStyle.setDashArray(r[3]))}else this.borderStyle.setWidth(0)},loadResources:function(e){return new Promise(function(t,a){this.appearance.dict.getAsync("Resources").then(function(r){if(!r)return void t();var i=new A(r.map,e,r.xref);i.load().then(function(){t(r)},a)},a)}.bind(this))},getOperatorList:function(t,a){if(!this.appearance)return Promise.resolve(new I);var r=this.data,i=this.appearance.dict,n=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),s=i.get("BBox")||[0,0,1,1],o=i.get("Matrix")||[1,0,0,1,0,0],c=e(r.rect,s,o),l=this;return n.then(function(e){var i=new I;return i.addOp(u.beginAnnotation,[r.rect,c,o]),t.getOperatorList(l.appearance,a,e,i).then(function(){return i.addOp(u.endAnnotation,[]),l.appearance.reset(),i})})}},a.appendToOperatorList=function(e,t,a,r,i){for(var n=[],s=0,o=e.length;o>s;++s)("display"===i&&e[s].viewable||"print"===i&&e[s].printable)&&n.push(e[s].getOperatorList(a,r));return Promise.all(n).then(function(e){t.addOp(u.beginAnnotations,[]);for(var a=0,r=e.length;r>a;++a)t.addOpList(e[a]);t.addOp(u.endAnnotations,[])})},a}(),T=function(){function e(){this.width=1,this.style=c.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return e.prototype={setWidth:function(e){e===(0|e)&&(this.width=e)},setStyle:function(e){if(e)switch(e.name){case"S":this.style=c.SOLID;break;case"D":this.style=c.DASHED;break;case"B":this.style=c.BEVELED;break;case"I":this.style=c.INSET;break;case"U":this.style=c.UNDERLINE}},setDashArray:function(e){if(d(e)&&e.length>0){for(var t=!0,a=!0,r=0,i=e.length;i>r;r++){var n=e[r],s=+n>=0;if(!s){t=!1;break}n>0&&(a=!1)}t&&!a?this.dashArray=e:this.width=0}else e&&(this.width=0)},setHorizontalCornerRadius:function(e){e===(0|e)&&(this.horizontalCornerRadius=e)},setVerticalCornerRadius:function(e){e===(0|e)&&(this.verticalCornerRadius=e)}},e}(),P=function(){function e(e){B.call(this,e);var t=e.dict,a=this.data;a.annotationType=h.WIDGET,a.fieldValue=b(f.getInheritableProperty(t,"V")||""),a.alternativeText=b(t.get("TU")||""),a.defaultAppearance=f.getInheritableProperty(t,"DA")||"";var r=f.getInheritableProperty(t,"FT");a.fieldType=x(r)?r.name:"",a.fieldFlags=f.getInheritableProperty(t,"Ff")||0,this.fieldResources=f.getInheritableProperty(t,"DR")||k.empty,"Sig"===a.fieldType&&(y("unimplemented annotation type: Widget signature"),this.setFlags(l.HIDDEN));for(var i=[],n=t,s=e.ref;n;){var o=n.get("Parent"),c=n.getRaw("Parent"),u=n.get("T");if(u)i.unshift(b(u));else if(o&&s){var d,g,m=o.get("Kids");for(d=0,g=m.length;g>d;d++){var p=m[d];if(p.num===s.num&&p.gen===s.gen)break}i.unshift("`"+d)}n=o,s=c}a.fullName=i.join(".")}return f.inherit(e,B,{}),e}(),R=function(){function e(e){P.call(this,e),this.data.textAlignment=f.getInheritableProperty(e.dict,"Q"),this.data.hasHtml=!this.data.hasAppearance&&!!this.data.fieldValue}return f.inherit(e,P,{getOperatorList:function(e,t){if(this.appearance)return B.prototype.getOperatorList.call(this,e,t);var a=new I,r=this.data;if(!r.defaultAppearance)return Promise.resolve(a);var i=new C(p(r.defaultAppearance));return e.getOperatorList(i,t,this.fieldResources,a).then(function(){return a})}}),e}(),L=function(){function e(e){B.call(this,e),this.data.annotationType=h.TEXT,this.data.hasHtml=!0;var a=e.dict;this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-t,this.data.rect[2]=this.data.rect[0]+t,this.data.name=a.has("Name")?a.get("Name").name:"Note"),a.has("C")||(this.data.color=null),this.data.hasPopup=a.has("Popup"),this.data.hasPopup||(this.data.title=b(a.get("T")||""),this.data.contents=b(a.get("Contents")||""),this.data.hasHtml=this.data.title||this.data.contents)}var t=22;return f.inherit(e,B,{}),e}(),O=function(){function e(e){B.call(this,e);var a=e.dict,r=this.data;r.annotationType=h.LINK,r.hasHtml=!0;var i=a.get("A");if(i&&w(i)){var n=i.get("S").name;if("URI"===n){var s=i.get("URI");x(s)?s="/"+s.name:s&&(s=t(s)),m(s,!1)||(s="");try{r.url=v(s)}catch(o){r.url=s}}else if("GoTo"===n)r.dest=i.get("D");else if("GoToR"===n){var c=i.get("F");w(c)&&(s=c.get("F")||""),m(s,!1)||(s=""),r.url=s,r.dest=i.get("D")}else"Named"===n?r.action=i.get("N").name:y("unrecognized link type: "+n)}else if(a.has("Dest")){var l=a.get("Dest");r.dest=x(l)?l.name:l}}function t(e){return e&&0===e.indexOf("www.")?"http://"+e:e}return f.inherit(e,B,{}),e}(),M=function(){function e(e){B.call(this,e),this.data.annotationType=h.POPUP;var t=e.dict,a=t.get("Parent");return a?(this.data.parentId=t.getRaw("Parent").toString(),this.data.title=b(a.get("T")||""),this.data.contents=b(a.get("Contents")||""),a.has("C")?(this.setColor(a.get("C")),this.data.color=this.color):this.data.color=null,void(this.data.hasHtml=this.data.title||this.data.contents)):void y("Popup annotation has a missing or invalid parent annotation.")}return f.inherit(e,B,{}),e}(),E=function(){function e(e){B.call(this,e),this.data.annotationType=h.HIGHLIGHT,this.data.hasHtml=!0,this.data.borderStyle.setWidth(0)}return f.inherit(e,B,{}),e}(),D=function(){function e(e){B.call(this,e),this.data.annotationType=h.UNDERLINE,this.data.hasHtml=!0,this.data.borderStyle.setWidth(0)}return f.inherit(e,B,{}),e}(),U=function(){function e(e){B.call(this,e),this.data.annotationType=h.SQUIGGLY,this.data.hasHtml=!0,this.data.borderStyle.setWidth(0)}return f.inherit(e,B,{}),e}(),F=function(){function e(e){B.call(this,e),this.data.annotationType=h.STRIKEOUT,this.data.hasHtml=!0,this.data.borderStyle.setWidth(0)}return f.inherit(e,B,{}),e}();e.Annotation=B,e.AnnotationBorderStyle=T,e.AnnotationFactory=o}),function(e,t){t(e.pdfjsCoreDocument={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCoreStream,e.pdfjsCoreObj,e.pdfjsCoreParser,e.pdfjsCoreCrypto,e.pdfjsCoreEvaluator,e.pdfjsCoreAnnotation)}(this,function(e,t,a,r,i,n,s,o,c){var l=t.MissingDataException,h=t.Util,u=t.assert,f=t.error,d=t.info,g=t.isArray,m=t.isArrayBuffer,p=t.isString,b=t.shadow,v=t.stringToBytes,y=t.stringToPDFString,k=t.warn,w=a.Dict,x=a.isDict,C=a.isName,S=a.isStream,A=r.NullStream,I=r.Stream,B=r.StreamsSequenceStream,T=i.Catalog,P=i.ObjectLoader,R=i.XRef,L=n.Lexer,O=n.Linearization,M=s.calculateMD5,E=o.OperatorList,D=o.PartialEvaluator,U=c.Annotation,F=c.AnnotationFactory,j=function(){function e(e,t,a,r,i,n){this.pdfManager=e,this.pageIndex=a,this.pageDict=r,this.xref=t,this.ref=i,this.fontCache=n,this.idCounters={obj:0},this.resourcesPromise=null}var t=[0,0,612,792];return e.prototype={getPageProp:function(e){return this.pageDict.get(e)},getInheritedPageProp:function(e){for(var t=this.pageDict,a=null,r=0,i=100;t;){var n=t.get(e);if(n&&(a||(a=[]),a.push(n)),++r>i){k("Page_getInheritedPageProp: maximum loop count exceeded.");break}t=t.get("Parent")}return a?1===a.length||!x(a[0])||r>i?a[0]:w.merge(this.xref,a):w.empty},get content(){return this.getPageProp("Contents")},get resources(){return b(this,"resources",this.getInheritedPageProp("Resources"))},get mediaBox(){var e=this.getInheritedPageProp("MediaBox");return g(e)&&4===e.length||(e=t),b(this,"mediaBox",e)},get view(){var e=this.mediaBox,t=this.getInheritedPageProp("CropBox");return g(t)&&4===t.length?(t=h.intersect(t,e),t?b(this,"view",t):b(this,"view",e)):b(this,"view",e)},get rotate(){var e=this.getInheritedPageProp("Rotate")||0;return e%90!==0?e=0:e>=360?e%=360:0>e&&(e=(e%360+360)%360),b(this,"rotate",e)},getContentStream:function(){var e,t=this.content;if(g(t)){var a,r=this.xref,i=t.length,n=[];for(a=0;i>a;++a)n.push(r.fetchIfRef(t[a]));e=new B(n)}else e=S(t)?t:new A;return e},loadResources:function(e){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(function(){var t=new P(this.resources.map,e,this.xref);return t.load()}.bind(this))},getOperatorList:function(e,t,a){var r=this,i=this.pdfManager,n=i.ensure(this,"getContentStream",[]),s=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),o=new D(i,this.xref,e,this.pageIndex,"p"+this.pageIndex+"_",this.idCounters,this.fontCache),c=Promise.all([n,s]),l=c.then(function(i){var n=i[0],s=new E(a,e,r.pageIndex);return e.send("StartRenderPage",{transparency:o.hasBlendModes(r.resources),pageIndex:r.pageIndex,intent:a}),o.getOperatorList(n,t,r.resources,s).then(function(){return s})}),h=i.ensure(this,"annotations");return Promise.all([l,h]).then(function(e){var r=e[0],i=e[1];if(0===i.length)return r.flush(!0),r;var n=U.appendToOperatorList(i,r,o,t,a);return n.then(function(){return r.flush(!0),r})})},extractTextContent:function(e,t){var a={on:function(){},send:function(){}},r=this,i=this.pdfManager,n=i.ensure(this,"getContentStream",[]),s=this.loadResources(["ExtGState","XObject","Font"]),o=Promise.all([n,s]);return o.then(function(n){var s=n[0],o=new D(i,r.xref,a,r.pageIndex,"p"+r.pageIndex+"_",r.idCounters,r.fontCache);return o.getTextContent(s,e,r.resources,null,t)})},getAnnotationsData:function(e){for(var t=this.annotations,a=[],r=0,i=t.length;i>r;++r)(!e||"display"===e&&t[r].viewable||"print"===e&&t[r].printable)&&a.push(t[r].data);return a},get annotations(){for(var e=[],t=this.getInheritedPageProp("Annots")||[],a=new F,r=0,i=t.length;i>r;++r){var n=t[r],s=a.create(this.xref,n);s&&e.push(s)}return b(this,"annotations",e)}},e}(),N=function(){function e(e,a,r){S(a)?t.call(this,e,a,r):m(a)?t.call(this,e,new I(a),r):f("PDFDocument: Unknown argument type")}function t(e,t,a){u(t.length>0,"stream must have data"),this.pdfManager=e,this.stream=t;var r=new R(this.stream,a,e);this.xref=r}function a(e,t,a,r){var i=e.pos,n=e.end,s=[];i+a>n&&(a=n-i);for(var o=0;a>o;++o)s.push(String.fromCharCode(e.getByte()));var c=s.join("");e.pos=i;var l=r?c.lastIndexOf(t):c.indexOf(t);return-1===l?!1:(e.pos+=l,!0)}var r=1024,i="\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",n={get entries(){return b(this,"entries",{Title:p,Author:p,Subject:p,Keywords:p,Creator:p,Producer:p,CreationDate:p,ModDate:p,Trapped:C})}};return e.prototype={parse:function(e){this.setup(e);var t=this.catalog.catDict.get("Version");C(t)&&(this.pdfFormatVersion=t.name);try{if(this.acroForm=this.catalog.catDict.get("AcroForm"),this.acroForm){this.xfa=this.acroForm.get("XFA");var a=this.acroForm.get("Fields");a&&g(a)&&0!==a.length||this.xfa||(this.acroForm=null)}}catch(r){d("Something wrong with AcroForm entry"),this.acroForm=null}},get linearization(){var e=null;if(this.stream.length)try{e=O.create(this.stream)}catch(t){if(t instanceof l)throw t;d(t)}return b(this,"linearization",e)},get startXRef(){var e=this.stream,t=0,r=this.linearization;if(r)e.reset(),a(e,"endobj",1024)&&(t=e.pos+6);else{for(var i=1024,n=!1,s=e.end;!n&&s>0;)s-=i-"startxref".length,0>s&&(s=0),e.pos=s,n=a(e,"startxref",i,!0);if(n){e.skip(9);var o;do o=e.getByte();while(L.isSpace(o));for(var c="";o>=32&&57>=o;)c+=String.fromCharCode(o),o=e.getByte();t=parseInt(c,10),isNaN(t)&&(t=0)}}return b(this,"startXRef",t)},get mainXRefEntriesOffset(){var e=0,t=this.linearization;return t&&(e=t.mainXRefEntriesOffset),b(this,"mainXRefEntriesOffset",e)},checkHeader:function(){var e=this.stream;if(e.reset(),a(e,"%PDF-",1024)){e.moveStart();for(var t,r=12,i="";(t=e.getByte())>32&&!(i.length>=r);)i+=String.fromCharCode(t);return void(this.pdfFormatVersion||(this.pdfFormatVersion=i.substring(5)))}},parseStartXRef:function(){var e=this.startXRef;this.xref.setStartXRef(e)},setup:function(e){this.xref.parse(e);var t=this,a={createPage:function(e,a,r,i){return new j(t.pdfManager,t.xref,e,a,r,i)}};this.catalog=new T(this.pdfManager,this.xref,a)},get numPages(){var e=this.linearization,t=e?e.numPages:this.catalog.numPages;return b(this,"numPages",t)},get documentInfo(){var e,t={PDFFormatVersion:this.pdfFormatVersion,IsAcroFormPresent:!!this.acroForm,IsXFAPresent:!!this.xfa};try{e=this.xref.trailer.get("Info")}catch(a){d("The document information dictionary is invalid.")}if(e){var r=n.entries;for(var i in r)if(e.has(i)){var s=e.get(i);r[i](s)?t[i]="string"!=typeof s?s:y(s):d('Bad value in document info for "'+i+'"')}}return b(this,"documentInfo",t)},get fingerprint(){var e,t=this.xref,a="",n=t.trailer.get("ID");n&&g(n)&&n[0]&&p(n[0])&&n[0]!==i?e=v(n[0]):(this.stream.ensureRange&&this.stream.ensureRange(0,Math.min(r,this.stream.end)),e=M(this.stream.bytes.subarray(0,r),0,r));for(var s=0,o=e.length;o>s;s++){var c=e[s].toString(16);a+=1===c.length?"0"+c:c}return b(this,"fingerprint",a)},getPage:function(e){return this.catalog.getPage(e)},cleanup:function(){return this.catalog.cleanup()}},e}();e.Page=j,e.PDFDocument=N}),function(e,t){t(e.pdfjsCorePdfManager={},e.pdfjsSharedUtil,e.pdfjsCoreStream,e.pdfjsCoreChunkedStream,e.pdfjsCoreDocument)}(this,function(e,t,a,r,i){var n=t.NotImplementedException,s=t.MissingDataException,o=t.createPromiseCapability,c=t.Util,l=a.Stream,h=r.ChunkedStreamManager,u=i.PDFDocument,f=function(){function e(){throw new Error("Cannot initialize BaseManagerManager")}return e.prototype={get docId(){return this._docId},onLoadedStream:function(){throw new n},ensureDoc:function(e,t){return this.ensure(this.pdfDocument,e,t)},ensureXRef:function(e,t){return this.ensure(this.pdfDocument.xref,e,t)},ensureCatalog:function(e,t){return this.ensure(this.pdfDocument.catalog,e,t)},getPage:function(e){return this.pdfDocument.getPage(e)},cleanup:function(){return this.pdfDocument.cleanup()},ensure:function(e,t,a){return new n},requestRange:function(e,t){return new n},requestLoadedStream:function(){return new n},sendProgressiveData:function(e){return new n},updatePassword:function(e){this.pdfDocument.xref.password=this.password=e,this._passwordChangedCapability&&this._passwordChangedCapability.resolve()},passwordChanged:function(){return this._passwordChangedCapability=o(),this._passwordChangedCapability.promise},terminate:function(){return new n}},e}(),d=function(){function e(e,t,a){this._docId=e;var r=new l(t);this.pdfDocument=new u(this,r,a),this._loadedStreamCapability=o(),this._loadedStreamCapability.resolve(r)}return c.inherit(e,f,{ensure:function(e,t,a){return new Promise(function(r,i){try{var n,s=e[t];n="function"==typeof s?s.apply(e,a):s,r(n)}catch(o){i(o)}})},requestRange:function(e,t){return Promise.resolve()},requestLoadedStream:function(){},onLoadedStream:function(){return this._loadedStreamCapability.promise},terminate:function(){}}),e}(),g=function(){function e(e,t,a){this._docId=e,this.msgHandler=a;var r={msgHandler:a,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,chunkedViewerLoading:t.chunkedViewerLoading,disableAutoFetch:t.disableAutoFetch,initialData:t.initialData};this.streamManager=new h(t.length,t.rangeChunkSize,t.url,r),this.pdfDocument=new u(this,this.streamManager.getStream(),t.password)}return c.inherit(e,f,{ensure:function(e,t,a){var r=this;return new Promise(function(i,n){function o(){try{var c,l=e[t];c="function"==typeof l?l.apply(e,a):l,i(c)}catch(h){if(!(h instanceof s))return void n(h);r.streamManager.requestRange(h.begin,h.end).then(o,n)}}o()})},requestRange:function(e,t){return this.streamManager.requestRange(e,t)},requestLoadedStream:function(){this.streamManager.requestAllChunks()},sendProgressiveData:function(e){this.streamManager.onReceiveData({chunk:e})},onLoadedStream:function(){return this.streamManager.onLoadedStream()},terminate:function(){this.streamManager.abort()}}),e}();e.LocalPdfManager=d,e.NetworkPdfManager=g}),function(e,t){t(e.pdfjsCoreWorker={},e.pdfjsSharedUtil,e.pdfjsCorePrimitives,e.pdfjsCorePdfManager,e.pdfjsSharedGlobal)}(this,function(t,a,r,i,n){function s(){if(!("console"in S)){var e={},t={log:function(){var e=Array.prototype.slice.call(arguments);S.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);throw S.postMessage({targetName:"main",action:"console_error",data:e}),"pdf.js execution error"},time:function(t){e[t]=Date.now()},timeEnd:function(t){var a=e[t];a||b("Unknown timer name "+t),this.log("Timer:",t,Date.now()-a)}};S.console=t}var a=new l("worker","main",self);B.setup(a,self),a.send("ready",null)}var o=a.UNSUPPORTED_FEATURES,c=a.InvalidPDFException,l=a.MessageHandler,h=a.MissingPDFException,u=a.UnexpectedResponseException,f=a.PasswordException,d=a.PasswordResponses,g=a.UnknownErrorException,m=a.XRefParseException,p=a.createPromiseCapability,b=a.error,v=a.info,y=a.isInt,k=a.warn,w=r.Ref,x=i.LocalPdfManager,C=i.NetworkPdfManager,S=n.globalScope,A=n.PDFJS,I=function(){function e(e){this.name=e,this.terminated=!1,this._capability=p()}return e.prototype={get finished(){return this._capability.promise},finish:function(){this._capability.resolve()},terminate:function(){this.terminated=!0},ensureNotTerminated:function(){if(this.terminated)throw new Error("Worker task was terminated")}},e}(),B=A.WorkerMessageHandler={setup:function(e,t){var a=!1;e.on("test",function(t){if(!a){if(a=!0,!(t instanceof Uint8Array))return void e.send("test","main",!1);var r=255===t[0];e.postMessageTransfers=r;var i=new XMLHttpRequest,n="response"in i;
try{i.responseType}catch(s){n=!1}return n?void e.send("test",{supportTypedArray:!0,supportTransfers:r}):void e.send("test",!1)}}),e.on("GetDocRequest",function(e){return B.createDocumentHandler(e,t)})},createDocumentHandler:function(t,a){function r(){if(B)throw new Error("Worker was terminated")}function i(e){P.push(e)}function n(e){e.finish();var t=P.indexOf(e);P.splice(t,1)}function s(e){var t=p(),a=function(){var e=S.ensureDoc("numPages"),a=S.ensureDoc("fingerprint"),i=S.ensureXRef("encrypt");Promise.all([e,a,i]).then(function(e){var a={numPages:e[0],fingerprint:e[1],encrypted:!!e[2]};t.resolve(a)},r)},r=function(e){t.reject(e)};return S.ensureDoc("checkHeader",[]).then(function(){S.ensureDoc("parseStartXRef",[]).then(function(){S.ensureDoc("parse",[e]).then(a,r)},r)},r),t.promise}function b(t){var a,r=p(),i=t.source,n=t.disableRange;if(i.data){try{a=new x(R,i.data,i.password),r.resolve(a)}catch(s){r.reject(s)}return r.promise}if(i.chunkedViewerLoading){try{a=new C(R,i,O),r.resolve(a)}catch(s){r.reject(s)}return r.promise}var o=new e(i.url,{httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),c=[],l=o.requestFull({onHeadersReceived:function(){if(!n){var e=o.getRequestXhr(l);if("bytes"===e.getResponseHeader("Accept-Ranges")){var t=e.getResponseHeader("Content-Encoding")||"identity";if("identity"===t){var s=e.getResponseHeader("Content-Length");if(s=parseInt(s,10),y(s)&&(i.length=s,!(s<=2*i.rangeChunkSize))){o.isStreamingRequest(l)?i.disableAutoFetch=!0:o.abortRequest(l);try{a=new C(R,i,O),r.resolve(a)}catch(c){r.reject(c)}T=null}}}}},onProgressiveData:i.disableStream?null:function(e){return a?void a.sendProgressiveData(e):void c.push(e)},onDone:function(e){if(!a){var t;if(null===e){var n=0,s=0;c.forEach(function(e){n+=e.byteLength}),i.length&&n!==i.length&&k("reported HTTP length is different from actual");var o=new Uint8Array(n);c.forEach(function(e){o.set(new Uint8Array(e),s),s+=e.byteLength}),t=o.buffer}else t=e.chunk;try{a=new x(R,t,i.password),r.resolve(a)}catch(l){r.reject(l)}T=null}},onError:function(e){var t;404===e||0===e&&/^file:/.test(i.url)?(t=new h('Missing PDF "'+i.url+'".'),O.send("MissingPDF",t)):(t=new u("Unexpected server response ("+e+') while retrieving PDF "'+i.url+'".',e),O.send("UnexpectedResponse",t)),T=null},onProgress:function(e){O.send("DocProgress",{loaded:e.loaded,total:e.lengthComputable?e.total:i.length})}});return T=function(){o.abortRequest(l)},r.promise}var S,B=!1,T=null,P=[],R=t.docId,L=t.docId+"_worker",O=new l(L,R,a),M=function(e){var t=function(e){r(),O.send("GetDoc",{pdfInfo:e})},a=function(e){e instanceof f?e.code===d.NEED_PASSWORD?O.send("NeedPassword",e):e.code===d.INCORRECT_PASSWORD&&O.send("IncorrectPassword",e):e instanceof c?O.send("InvalidPDF",e):e instanceof h?O.send("MissingPDF",e):e instanceof u?O.send("UnexpectedResponse",e):O.send("UnknownError",new g(e.message,e.toString()))};r(),A.maxImageSize=void 0===e.maxImageSize?-1:e.maxImageSize,A.disableFontFace=e.disableFontFace,A.disableCreateObjectURL=e.disableCreateObjectURL,A.verbosity=e.verbosity,A.cMapUrl=void 0===e.cMapUrl?null:e.cMapUrl,A.cMapPacked=e.cMapPacked===!0,b(e).then(function(e){if(B)throw e.terminate(),new Error("Worker was terminated");S=e,O.send("PDFManagerReady",null),S.onLoadedStream().then(function(e){O.send("DataLoaded",{length:e.bytes.byteLength})})}).then(function i(){r(),s(!1).then(t,function(e){return r(),e instanceof m?(S.requestLoadedStream(),void S.onLoadedStream().then(function(){r(),s(!0).then(t,a)})):(e instanceof f&&S.passwordChanged().then(i),void a(e))},a)},a)};return O.on("GetPage",function(e){return S.getPage(e.pageIndex).then(function(e){var t=S.ensure(e,"rotate"),a=S.ensure(e,"ref"),r=S.ensure(e,"view");return Promise.all([t,a,r]).then(function(e){return{rotate:e[0],ref:e[1],view:e[2]}})})}),O.on("GetPageIndex",function(e){var t=new w(e.ref.num,e.ref.gen),a=S.pdfDocument.catalog;return a.getPageIndex(t)}),O.on("GetDestinations",function(e){return S.ensureCatalog("destinations")}),O.on("GetDestination",function(e){return S.ensureCatalog("getDestination",[e.id])}),O.on("GetPageLabels",function(e){return S.ensureCatalog("pageLabels")}),O.on("GetAttachments",function(e){return S.ensureCatalog("attachments")}),O.on("GetJavaScript",function(e){return S.ensureCatalog("javaScript")}),O.on("GetOutline",function(e){return S.ensureCatalog("documentOutline")}),O.on("GetMetadata",function(e){return Promise.all([S.ensureDoc("documentInfo"),S.ensureCatalog("metadata")])}),O.on("GetData",function(e){return S.requestLoadedStream(),S.onLoadedStream().then(function(e){return e.bytes})}),O.on("GetStats",function(e){return S.pdfDocument.xref.stats}),O.on("UpdatePassword",function(e){S.updatePassword(e)}),O.on("GetAnnotations",function(e){return S.getPage(e.pageIndex).then(function(t){return S.ensure(t,"getAnnotationsData",[e.intent])})}),O.on("RenderPageRequest",function(e){var t=e.pageIndex;S.getPage(t).then(function(a){var r=new I("RenderPageRequest: page "+t);i(r);var s=t+1,c=Date.now();a.getOperatorList(O,r,e.intent).then(function(e){n(r),v("page="+s+" - getOperatorList: time="+(Date.now()-c)+"ms, len="+e.totalLength)},function(t){if(n(r),!r.terminated){O.send("UnsupportedFeature",{featureId:o.unknown});var a,i="worker.js: while trying to getPage() and getOperatorList()";a="string"==typeof t?{message:t,stack:i}:"object"==typeof t?{message:t.message||t.toString(),stack:t.stack||i}:{message:"Unknown exception type: "+typeof t,stack:i},O.send("PageError",{pageNum:s,error:a,intent:e.intent})}})})},this),O.on("GetTextContent",function(e){var t=e.pageIndex,a=e.normalizeWhitespace;return S.getPage(t).then(function(e){var r=new I("GetTextContent: page "+t);i(r);var s=t+1,o=Date.now();return e.extractTextContent(r,a).then(function(e){return n(r),v("text indexing: page="+s+" - time="+(Date.now()-o)+"ms"),e},function(e){if(n(r),!r.terminated)throw e})})}),O.on("Cleanup",function(e){return S.cleanup()}),O.on("Terminate",function(e){B=!0,S&&(S.terminate(),S=null),T&&T();var t=[];return P.forEach(function(e){t.push(e.finished),e.terminate()}),Promise.all(t).then(function(){O.destroy(),O=null})}),O.on("Ready",function(e){M(t),t=null}),L}};"undefined"!=typeof window||"undefined"!=typeof module&&module.require||s(),t.WorkerTask=I,t.WorkerMessageHandler=B})}).call(r),e.PDFJS=r.pdfjsSharedGlobal.PDFJS});
;// threejs.org/license
'use strict';var THREE={REVISION:"76"};"function"===typeof define&&define.amd?define("three",THREE):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=THREE);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&Object.defineProperty(Object,"assign",{writable:!0,configurable:!0,value:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var b=Object(a),c=1,d=arguments.length;c!==d;++c){var e=arguments[c];if(void 0!==e&&null!==e)for(var e=Object(e),f=Object.keys(e),g=0,h=f.length;g!==h;++g){var k=f[g],l=Object.getOwnPropertyDescriptor(e,k);void 0!==l&&l.enumerable&&(b[k]=e[k])}}return b}});THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};
THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;
THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.NeverDepth=0;THREE.AlwaysDepth=1;
THREE.LessDepth=2;THREE.LessEqualDepth=3;THREE.EqualDepth=4;THREE.GreaterEqualDepth=5;THREE.GreaterDepth=6;THREE.NotEqualDepth=7;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.NoToneMapping=0;THREE.LinearToneMapping=1;THREE.ReinhardToneMapping=2;THREE.Uncharted2ToneMapping=3;THREE.CineonToneMapping=4;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;
THREE.SphericalReflectionMapping=305;THREE.CubeUVReflectionMapping=306;THREE.CubeUVRefractionMapping=307;THREE.RepeatWrapping=1E3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;
THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.DepthFormat=1026;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;THREE.RGBA_S3TC_DXT5_Format=2004;
THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;THREE.RGB_ETC1_Format=2151;THREE.LoopOnce=2200;THREE.LoopRepeat=2201;THREE.LoopPingPong=2202;THREE.InterpolateDiscrete=2300;THREE.InterpolateLinear=2301;THREE.InterpolateSmooth=2302;THREE.ZeroCurvatureEnding=2400;THREE.ZeroSlopeEnding=2401;THREE.WrapAroundEnding=2402;THREE.TrianglesDrawMode=0;THREE.TriangleStripDrawMode=1;THREE.TriangleFanDrawMode=2;
THREE.LinearEncoding=3E3;THREE.sRGBEncoding=3001;THREE.GammaEncoding=3007;THREE.RGBEEncoding=3002;THREE.LogLuvEncoding=3003;THREE.RGBM7Encoding=3004;THREE.RGBM16Encoding=3005;THREE.RGBDEncoding=3006;THREE.BasicDepthPacking=3200;THREE.RGBADepthPacking=3201;THREE.Color=function(a){return 3===arguments.length?this.fromArray(arguments):this.set(a)};
THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(a){a instanceof THREE.Color?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&(d-=1);return d<1/6?a+6*(c-a)*
d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=THREE.Math.euclideanModulo(b,1);c=THREE.Math.clamp(c,0,1);d=THREE.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=
/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){var d=
parseFloat(c[1])/360,e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^\#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&
(c=THREE.ColorKeywords[a],void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);var c=0<b?1/b:1;this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,
c);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=
(f+e)/2;if(f===e)f=g=0;else{var k=e-f,f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.getHSL();d.h+=a;d.s+=b;d.l+=c;this.setHSL(d.h,d.s,d.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=
a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,
b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};
THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},
copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!1===a instanceof THREE.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c=Math.cos(a._x/2),d=Math.cos(a._y/2),e=Math.cos(a._z/2),f=Math.sin(a._x/2),g=Math.sin(a._y/2),h=Math.sin(a._z/2),k=a.order;"XYZ"===k?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"YXZ"===
k?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"ZXY"===k?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"ZYX"===k?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"YZX"===k?(this._x=f*d*e+c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e-f*g*h):"XZY"===k&&(this._x=f*d*e-c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e+f*g*h);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,
b){var c=b/2,d=Math.sin(c);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(c);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6],b=b[10],l=c+f+b;0<l?(c=.5/Math.sqrt(l+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=
.25*c,this._z=(g+k)/c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this._x*=
-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},
multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,k=b._z,l=b._w;this._x=c*l+f*g+d*k-e*h;this._y=d*l+f*h+e*g-c*k;this._z=e*l+f*k+c*h-d*g;this._w=f*l-c*g-d*h-e*k;this.onChangeCallback();return this},slerp:function(a,b){if(0===b)return this;if(1===
b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;var h=Math.sqrt(1-g*g);if(.001>Math.abs(h))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;var k=Math.atan2(h,g),g=Math.sin((1-b)*k)/h,h=Math.sin(b*k)/h;this._w=f*g+this._w*h;this._x=c*g+this._x*h;this._y=d*g+
this._y*h;this._z=e*g+this._z*h;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};
Object.assign(THREE.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],k=c[d+1],l=c[d+2];c=c[d+3];d=e[f+0];var n=e[f+1],p=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==n||l!==p){f=1-g;var m=h*d+k*n+l*p+c*e,q=0<=m?1:-1,r=1-m*m;r>Number.EPSILON&&(r=Math.sqrt(r),m=Math.atan2(r,m*q),f=Math.sin(f*m)/r,g=Math.sin(g*m)/r);q*=g;h=h*f+d*q;k=k*f+n*q;l=l*f+p*q;c=c*f+e*q;f===1-g&&(g=1/Math.sqrt(h*h+k*k+l*l+c*c),h*=g,k*=g,l*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=l;
a[b+3]=c}});THREE.Vector2=function(a,b){this.x=a||0;this.y=b||0};
THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new THREE.Vector2,b=new THREE.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();this.multiplyScalar(Math.max(a,Math.min(b,c))/c);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):
Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=
2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];
this.y=a[b+1];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=this.x-a.x,f=this.y-a.y;this.x=e*c-f*d+a.x;this.y=e*d+f*c+a.y;return this}};THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===b instanceof THREE.Euler&&
console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromEuler(b));return this}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromAxisAngle(b,c));return this}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*
d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},applyProjection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,
f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,l=a*d+e*c-f*b,b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-l*-f;this.y=k*a+b*-f+l*-e-h*-g;this.z=l*a+b*-g+h*-f-k*-e;return this},project:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyProjection(a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix));return this.applyProjection(a)}}(),
transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;this.normalize();return this},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);
this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3,b=new THREE.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();this.multiplyScalar(Math.max(a,Math.min(b,c))/c);return this},floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;
this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*
b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;this.x=d*a.z-e*a.y;this.y=e*a.x-c*a.z;this.z=c*a.y-d*a.x;return this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;this.x=d*h-e*g;
this.y=e*f-c*h;this.z=c*g-d*f;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new THREE.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=
this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(THREE.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},setFromSpherical:function(a){var b=Math.sin(a.phi)*a.radius;this.x=b*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=b*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){return this.setFromMatrixColumn(a,3)},setFromMatrixScale:function(a){var b=
this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function(a,b){"number"===typeof a&&(console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index )."),b=a=b);return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};THREE.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){var b,c,d;a=a.elements;var e=a[0];d=a[4];var f=a[8],g=a[1],h=a[5],k=a[9];c=a[2];b=a[6];var l=a[10];if(.01>Math.abs(d-g)&&.01>Math.abs(f-c)&&.01>
Math.abs(k-b)){if(.1>Math.abs(d+g)&&.1>Math.abs(f+c)&&.1>Math.abs(k+b)&&.1>Math.abs(e+h+l-3))return this.set(1,0,0,0),this;a=Math.PI;e=(e+1)/2;h=(h+1)/2;l=(l+1)/2;d=(d+g)/4;f=(f+c)/4;k=(k+b)/4;e>h&&e>l?.01>e?(b=0,d=c=.707106781):(b=Math.sqrt(e),c=d/b,d=f/b):h>l?.01>h?(b=.707106781,c=0,d=.707106781):(c=Math.sqrt(h),b=d/c,d=k/c):.01>l?(c=b=.707106781,d=0):(d=Math.sqrt(l),b=f/d,c=k/d);this.set(b,c,d,a);return this}a=Math.sqrt((b-k)*(b-k)+(f-c)*(f-c)+(g-d)*(g-d));.001>Math.abs(a)&&(a=1);this.x=(b-k)/
a;this.y=(f-c)/a;this.z=(g-d)/a;this.w=Math.acos((e+h+l-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector4,b=new THREE.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=
Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*
a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-
this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+
c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=a.array[b+3];return this}};THREE.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");THREE.Euler.DefaultOrder="XYZ";
THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,
this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=THREE.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],l=e[9],n=e[2],p=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-l,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(p,k),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?
(this._y=Math.atan2(g,e),this._z=Math.atan2(h,k)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(p,-1,1)),.99999>Math.abs(p)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(p,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-l,k),this._y=Math.atan2(-n,a)):(this._x=
0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(p,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-l,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeRotationFromQuaternion(b);this.setFromRotationMatrix(a,c,d);return this}}(),setFromVector3:function(a,
b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new THREE.Quaternion;return function(b){a.setFromEuler(this);this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+
3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};THREE.Line3=function(a,b){this.start=void 0!==a?a:new THREE.Vector3;this.end=void 0!==b?b:new THREE.Vector3};
THREE.Line3.prototype={constructor:THREE.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},
at:function(a,b){var c=b||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);var e=b.dot(b),e=b.dot(a)/e;d&&(e=THREE.Math.clamp(e,0,1));return e}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);c=c||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);
this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}};THREE.Box2=function(a,b){this.min=void 0!==a?a:new THREE.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector2(-Infinity,-Infinity)};
THREE.Box2.prototype={constructor:THREE.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new THREE.Vector2;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);
return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>
this.max.y?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&
a.max.equals(this.max)}};THREE.Box3=function(a,b){this.min=void 0!==a?a:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};
THREE.Box3.prototype={constructor:THREE.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var l=a[h],n=a[h+1],p=a[h+2];l<b&&(b=l);n<c&&(c=n);p<d&&(d=p);l>e&&(e=l);n>f&&(f=n);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g)},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=
new THREE.Vector3;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),setFromObject:function(){var a=new THREE.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(b){var e=b.geometry;if(void 0!==e)if(e instanceof THREE.Geometry)for(var f=e.vertices,e=0,g=f.length;e<g;e++)a.copy(f[e]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a);else if(e instanceof THREE.BufferGeometry&&void 0!==
e.attributes.position)for(f=e.attributes.position.array,e=0,g=f.length;e<g;e+=3)a.fromArray(f,e),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},
center:function(a){return(a||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<
this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<
this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){var b,c;0<a.normal.x?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*
this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new THREE.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new THREE.Vector3;return function(b){b=b||new THREE.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),
intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);
a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&
a.max.equals(this.max)}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(a,b,c,d,e,f,g,h,k){var l=this.elements;l[0]=a;l[1]=d;l[2]=g;l[3]=b;l[4]=e;l[5]=h;l[6]=c;l[7]=f;l[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);
return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix3(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7],a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){a instanceof THREE.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements,d=this.elements,e=c[0],f=c[1],g=c[2],h=c[3],k=c[4],l=c[5],n=c[6],p=c[7],
c=c[8],m=c*k-l*p,q=l*n-c*h,r=p*h-k*n,s=e*m+f*q+g*r;if(0===s){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}d[0]=m;d[1]=g*p-c*f;d[2]=l*f-g*k;d[3]=q;d[4]=c*e-g*n;d[5]=g*h-l*e;d[6]=r;d[7]=f*n-p*e;d[8]=k*e-f*h;return this.multiplyScalar(1/s)},transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},
flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===
b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(a,b,c,d,e,f,g,h,k,l,n,p,m,q,r,s){var u=this.elements;u[0]=a;u[4]=b;u[8]=c;u[12]=d;u[1]=e;u[5]=f;u[9]=g;u[13]=h;u[2]=k;u[6]=l;u[10]=n;u[14]=p;u[3]=m;u[7]=q;u[11]=r;u[15]=s;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},copyPosition:function(a){var b=this.elements;a=a.elements;
b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,
2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof THREE.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){a=f*h;var k=f*e,l=c*h,n=c*e;b[0]=g*h;b[4]=
-g*e;b[8]=d;b[1]=k+l*d;b[5]=a-n*d;b[9]=-c*g;b[2]=n-a*d;b[6]=l+k*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,k=g*e,l=d*h,n=d*e,b[0]=a+n*c,b[4]=l*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-l,b[6]=n+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,l=d*h,n=d*e,b[0]=a-n*c,b[4]=-f*e,b[8]=l+k*c,b[1]=k+l*c,b[5]=f*h,b[9]=n-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,l=c*h,n=c*e,b[0]=g*h,b[4]=l*d-k,b[8]=a*d+n,b[1]=g*e,b[5]=n*d+a,b[9]=k*d-l,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,k=f*
d,l=c*g,n=c*d,b[0]=g*h,b[4]=n-a*e,b[8]=l*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+l,b[10]=a-n*e):"XZY"===a.order&&(a=f*g,k=f*d,l=c*g,n=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+n,b[5]=f*h,b[9]=k*e-l,b[2]=l*e-k,b[6]=c*h,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,k=e+e;a=c*g;var l=c*h,c=c*k,n=d*h,d=d*k,e=e*k,g=f*g,h=f*h,f=f*k;b[0]=1-(n+e);b[4]=l-f;b[8]=c+h;b[1]=l+
f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+n);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,b,c;return function(d,e,f){void 0===a&&(a=new THREE.Vector3);void 0===b&&(b=new THREE.Vector3);void 0===c&&(c=new THREE.Vector3);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);a.crossVectors(f,c).normalize();0===a.lengthSq()&&(c.x+=1E-4,a.crossVectors(f,c).normalize());b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;
g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],k=c[12],l=c[1],n=c[5],p=c[9],m=c[13],q=c[2],r=c[6],s=c[10],u=c[14],
x=c[3],v=c[7],C=c[11],c=c[15],w=d[0],z=d[4],A=d[8],y=d[12],B=d[1],J=d[5],D=d[9],H=d[13],F=d[2],N=d[6],P=d[10],L=d[14],O=d[3],K=d[7],I=d[11],d=d[15];e[0]=f*w+g*B+h*F+k*O;e[4]=f*z+g*J+h*N+k*K;e[8]=f*A+g*D+h*P+k*I;e[12]=f*y+g*H+h*L+k*d;e[1]=l*w+n*B+p*F+m*O;e[5]=l*z+n*J+p*N+m*K;e[9]=l*A+n*D+p*P+m*I;e[13]=l*y+n*H+p*L+m*d;e[2]=q*w+r*B+s*F+u*O;e[6]=q*z+r*J+s*N+u*K;e[10]=q*A+r*D+s*P+u*I;e[14]=q*y+r*H+s*L+u*d;e[3]=x*w+v*B+C*F+c*O;e[7]=x*z+v*J+C*N+c*K;e[11]=x*A+v*D+C*P+c*I;e[15]=x*y+v*H+C*L+c*d;return this},
multiplyToArray:function(a,b,c){var d=this.elements;this.multiplyMatrices(a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,
c,d){void 0===a&&(a=new THREE.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],
e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],l=a[2],n=a[6],p=a[10],m=a[14];return a[3]*(+e*h*n-d*k*n-e*g*p+c*k*p+d*g*m-c*h*m)+a[7]*(+b*h*m-b*k*p+e*f*p-d*f*m+d*k*l-e*h*l)+a[11]*(+b*k*n-b*g*m-e*f*n+c*f*m+e*g*l-c*k*l)+a[15]*(-d*g*l-b*h*n+b*g*p+d*f*n-c*f*p+c*h*l)},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");
return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new THREE.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[1],g=d[2],h=d[3],k=d[4],l=d[5],n=d[6],p=d[7],m=d[8],q=d[9],r=d[10],s=d[11],u=d[12],
x=d[13],v=d[14],d=d[15],C=q*v*p-x*r*p+x*n*s-l*v*s-q*n*d+l*r*d,w=u*r*p-m*v*p-u*n*s+k*v*s+m*n*d-k*r*d,z=m*x*p-u*q*p+u*l*s-k*x*s-m*l*d+k*q*d,A=u*q*n-m*x*n-u*l*r+k*x*r+m*l*v-k*q*v,y=e*C+f*w+g*z+h*A;if(0===y){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return this.identity()}c[0]=C;c[1]=x*r*h-q*v*h-x*g*s+f*v*s+q*g*d-f*r*d;c[2]=l*v*h-x*n*h+x*g*p-f*v*p-l*g*d+f*n*d;c[3]=q*n*h-l*r*h-
q*g*p+f*r*p+l*g*s-f*n*s;c[4]=w;c[5]=m*v*h-u*r*h+u*g*s-e*v*s-m*g*d+e*r*d;c[6]=u*n*h-k*v*h-u*g*p+e*v*p+k*g*d-e*n*d;c[7]=k*r*h-m*n*h+m*g*p-e*r*p-k*g*s+e*n*s;c[8]=z;c[9]=u*q*h-m*x*h-u*f*s+e*x*s+m*f*d-e*q*d;c[10]=k*x*h-u*l*h+u*f*p-e*x*p-k*f*d+e*l*d;c[11]=m*l*h-k*q*h-m*f*p+e*q*p+k*f*s-e*l*s;c[12]=A;c[13]=m*x*g-u*q*g+u*f*r-e*x*r-m*f*v+e*q*v;c[14]=u*l*g-k*x*g-u*f*n+e*x*n+k*f*v-e*l*v;c[15]=k*q*g-m*l*g+m*f*n-e*q*n-k*f*r+e*l*r;return this.multiplyScalar(1/y)},scale:function(a){var b=this.elements,c=a.x,d=a.y;
a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=
Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,k=e*f,l=e*g;this.set(k*f+c,k*g-d*h,k*h+d*g,0,k*g+d*h,l*g+c,l*h-d*f,0,k*h-d*g,l*h+d*f,e*h*h+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},compose:function(a,b,
c){this.makeRotationFromQuaternion(b);this.scale(c);this.setPosition(a);return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new THREE.Vector3);void 0===b&&(b=new THREE.Matrix4);var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;var f=1/h,l=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=
f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=l;b.elements[9]*=l;b.elements[10]*=l;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makeFrustum:function(a,b,c,d,e,f){var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(d-c);g[9]=(d+c)/(d-c);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makePerspective:function(a,b,c,d){a=c*Math.tan(THREE.Math.DEG2RAD*a*.5);var e=-a;return this.makeFrustum(e*b,
a*b,e,a,c,d)},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),k=1/(c-d),l=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+d)*k);g[2]=0;g[6]=0;g[10]=-2*l;g[14]=-((f+e)*l);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;
a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};THREE.Ray=function(a,b){this.origin=void 0!==a?a:new THREE.Vector3;this.direction=void 0!==b?b:new THREE.Vector3};
THREE.Ray.prototype={constructor:THREE.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new THREE.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize()},recast:function(){var a=new THREE.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){var c=b||new THREE.Vector3;c.subVectors(a,this.origin);var d=c.dot(this.direction);return 0>d?c.copy(this.origin):c.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new THREE.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),l=c.dot(this.direction),n=-c.dot(b),p=c.lengthSq(),m=Math.abs(1-k*k),q;0<m?(d=k*n-l,e=k*l-n,q=h*m,0<=d?e>=-q?e<=q?(h=1/m,d*=h,e*=h,k=d*(d+k*e+2*l)+e*(k*d+e+2*n)+p):(e=h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*
n)+p):(e=-h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*n)+p):e<=-q?(d=Math.max(0,-(-k*h+l)),e=0<d?-h:Math.min(Math.max(-h,-n),h),k=-d*d+e*(e+2*n)+p):e<=q?(d=0,e=Math.min(Math.max(-h,-n),h),k=e*(e+2*n)+p):(d=Math.max(0,-(k*h+l)),e=0<d?h:Math.min(Math.max(-h,-n),h),k=-d*d+e*(e+2*n)+p)):(e=0<k?-h:h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*n)+p);f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new THREE.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d,f=b.radius*b.radius;if(e>f)return null;f=Math.sqrt(f-e);e=d-f;d+=f;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){var c=
this.distanceToPlane(a);return null===c?null:this.at(c,b)},intersectsPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function(a,b){var c,d,e,f,g;d=1/this.direction.x;f=1/this.direction.y;g=1/this.direction.z;var h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);0<=f?(e=(a.min.y-h.y)*f,f*=a.max.y-h.y):(e=(a.max.y-h.y)*f,f*=a.min.y-h.y);if(c>f||e>d)return null;if(e>c||c!==c)c=e;if(f<d||d!==
d)d=f;0<=g?(e=(a.min.z-h.z)*g,g*=a.max.z-h.z):(e=(a.max.z-h.z)*g,g*=a.min.z-h.z);if(c>g||e>d)return null;if(e>c||c!==c)c=e;if(g<d||d!==d)d=g;return 0>d?null:this.at(0<=c?c:d,b)},intersectsBox:function(){var a=new THREE.Vector3;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);
if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};
THREE.Sphere=function(a,b){this.center=void 0!==a?a:new THREE.Vector3;this.radius=void 0!==b?b:0};
THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new THREE.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=0,f=0,g=b.length;f<g;f++)e=Math.max(e,d.distanceToSquared(b[f]));this.radius=Math.sqrt(e);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},
empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=
this.center.distanceToSquared(a),d=b||new THREE.Vector3;d.copy(a);c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d},getBoundingBox:function(a){a=a||new THREE.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&
a.radius===this.radius}};THREE.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new THREE.Plane,void 0!==b?b:new THREE.Plane,void 0!==c?c:new THREE.Plane,void 0!==d?d:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==f?f:new THREE.Plane]};
THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],l=c[7],n=c[8],p=c[9],m=c[10],q=c[11],r=c[12],s=c[13],u=c[14],
c=c[15];b[0].setComponents(f-a,l-g,q-n,c-r).normalize();b[1].setComponents(f+a,l+g,q+n,c+r).normalize();b[2].setComponents(f+d,l+h,q+p,c+s).normalize();b[3].setComponents(f-d,l-h,q-p,c-s).normalize();b[4].setComponents(f-e,l-k,q-m,c-u).normalize();b[5].setComponents(f+e,l+k,q+m,c+u).normalize();return this},intersectsObject:function(){var a=new THREE.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere);a.applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;
var g=f.distanceToPoint(a),f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};THREE.Plane=function(a,b){this.normal=void 0!==a?a:new THREE.Vector3(1,0,0);this.constant=void 0!==b?b:0};
THREE.Plane.prototype={constructor:THREE.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,
c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,
b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,b){var c=this.distanceToPoint(a);return(b||new THREE.Vector3).copy(this.normal).multiplyScalar(c)},intersectLine:function(){var a=new THREE.Vector3;return function(b,c){var d=c||new THREE.Vector3,e=b.delta(a),f=this.normal.dot(e);if(0===f){if(0===this.distanceToPoint(b.start))return d.copy(b.start)}else return f=-(b.start.dot(this.normal)+this.constant)/f,0>f||1<f?void 0:d.copy(e).multiplyScalar(f).add(b.start)}}(),intersectsLine:function(a){var b=
this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return(a||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new THREE.Vector3,b=new THREE.Matrix3;return function(c,d){var e=this.coplanarPoint(a).applyMatrix4(c),f=d||b.getNormalMatrix(c),f=this.normal.applyMatrix3(f).normalize();
this.constant=-e.dot(f);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};THREE.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
THREE.Spherical.prototype={constructor:THREE.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi))},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(THREE.Math.clamp(a.y/
this.radius,-1,1)));return this}};
THREE.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,
d,e){return d+(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*THREE.Math.DEG2RAD},radToDeg:function(a){return a*THREE.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
THREE.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,k,l,n,p,m;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+
2;l=this.points[c[0]];n=this.points[c[1]];p=this.points[c[2]];m=this.points[c[3]];h=g*g;k=g*h;d.x=b(l.x,n.x,p.x,m.x,g,h,k);d.y=b(l.y,n.y,p.y,m.y,g,h,k);d.z=b(l.z,n.z,p.z,m.z,g,h,k);return d};this.getControlPointsArray=function(){var a,b,c=this.points.length,d=[];for(a=0;a<c;a++)b=this.points[a],d[a]=[b.x,b.y,b.z];return d};this.getLength=function(a){var b,c,d,e=b=b=0,f=new THREE.Vector3,g=new THREE.Vector3,h=[],k=0;h[0]=0;a||(a=100);c=this.points.length*a;f.copy(this.points[0]);for(a=1;a<c;a++)b=
a/c,d=this.getPoint(b),g.copy(d),k+=g.distanceTo(f),f.copy(d),b*=this.points.length-1,b=Math.floor(b),b!==e&&(h[b]=k,e=b);h[h.length]=k;return{chunks:h,total:k}};this.reparametrizeByArcLength=function(a){var b,c,d,e,f,g,h=[],k=new THREE.Vector3,m=this.getLength();h.push(k.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){c=m.chunks[b]-m.chunks[b-1];g=Math.ceil(a*c/m.total);e=(b-1)/(this.points.length-1);f=b/(this.points.length-1);for(c=1;c<g-1;c++)d=e+1/g*c*(f-e),d=this.getPoint(d),
h.push(k.copy(d).clone());h.push(k.copy(this.points[b]).clone())}this.points=h}};THREE.Triangle=function(a,b,c){this.a=void 0!==a?a:new THREE.Vector3;this.b=void 0!==b?b:new THREE.Vector3;this.c=void 0!==c?c:new THREE.Vector3};THREE.Triangle.normal=function(){var a=new THREE.Vector3;return function(b,c,d,e){e=e||new THREE.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
THREE.Triangle.barycoordFromPoint=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var l=d*k-e*e;h=h||new THREE.Vector3;if(0===l)return h.set(-2,-1,-1);l=1/l;k=(k*f-e*g)*l;d=(d*g-e*f)*l;return h.set(1-k-d,d,k)}}();
THREE.Triangle.containsPoint=function(){var a=new THREE.Vector3;return function(b,c,d,e){b=THREE.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,
this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return THREE.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return THREE.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return THREE.Triangle.containsPoint(a,this.a,this.b,this.c)},
closestPointToPoint:function(){var a,b,c,d;return function(e,f){void 0===a&&(a=new THREE.Plane,b=[new THREE.Line3,new THREE.Line3,new THREE.Line3],c=new THREE.Vector3,d=new THREE.Vector3);var g=f||new THREE.Vector3,h=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(e,c);if(!0===this.containsPoint(c))g.copy(c);else{b[0].set(this.a,this.b);b[1].set(this.b,this.c);b[2].set(this.c,this.a);for(var k=0;k<b.length;k++){b[k].closestPointToPoint(c,!0,d);var l=c.distanceToSquared(d);l<
h&&(h=l,g.copy(d))}}return g}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};THREE.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
THREE.Interpolant.prototype={constructor:THREE.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=
c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=
c[a+e];return b},interpolate_:function(a,b,c,d){throw Error("call to abstract method");},intervalChanged_:function(a,b,c){}};Object.assign(THREE.Interpolant.prototype,{beforeStart_:THREE.Interpolant.prototype.copySampleValue_,afterEnd_:THREE.Interpolant.prototype.copySampleValue_});THREE.CubicInterpolant=function(a,b,c,d){THREE.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
THREE.CubicInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.CubicInterpolant,DefaultSettings_:{endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case THREE.ZeroSlopeEnding:e=a;g=2*b-c;break;case THREE.WrapAroundEnding:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===h)switch(this.getSettings_().endingEnd){case THREE.ZeroSlopeEnding:f=
a;h=2*c-b;break;case THREE.WrapAroundEnding:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,l=this._offsetNext,n=this._weightPrev,p=this._weightNext,m=(c-b)/(d-b);c=m*m;d=c*m;b=-n*d+2*n*c-n*m;n=(1+n)*d+(-1.5-2*n)*c+(-.5+n)*m+1;m=(-1-p)*d+(1.5+p)*c+.5*m;p=p*d-p*
c;for(c=0;c!==g;++c)e[c]=b*f[k+c]+n*f[h+c]+m*f[a+c]+p*f[l+c];return e}});THREE.DiscreteInterpolant=function(a,b,c,d){THREE.Interpolant.call(this,a,b,c,d)};THREE.DiscreteInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.DiscreteInterpolant,interpolate_:function(a,b,c,d){return this.copySampleValue_(a-1)}});THREE.LinearInterpolant=function(a,b,c,d){THREE.Interpolant.call(this,a,b,c,d)};
THREE.LinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[h+d]*c+f[a+d]*b;return e}});THREE.QuaternionLinearInterpolant=function(a,b,c,d){THREE.Interpolant.call(this,a,b,c,d)};
THREE.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)THREE.Quaternion.slerpFlat(e,0,f,a-g,f,a,b);return e}});THREE.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var b=(performance||Date).now(),a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}};THREE.EventDispatcher=function(){};
THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(a){a.addEventListener=THREE.EventDispatcher.prototype.addEventListener;a.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;a.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;a.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&
c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){if(void 0!==this._listeners){var c=this._listeners[a];if(void 0!==c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;for(var c=[],d=b.length,e=0;e<d;e++)c[e]=b[e];for(e=0;e<d;e++)c[e].call(this,a)}}}};
THREE.Layers=function(){this.mask=1};THREE.Layers.prototype={constructor:THREE.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(a,b){return a.distance-b.distance}function c(a,b,f,g){if(!1!==a.visible&&(a.raycast(b,f),!0===g)){a=a.children;g=0;for(var h=a.length;g<h;g++)c(a[g],b,f,!0)}}a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(this.ray.origin).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},
intersectObject:function(a,e){var f=[];c(a,this,f,e);f.sort(b);return f},intersectObjects:function(a,e){var f=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),f;for(var g=0,h=a.length;g<h;g++)c(a[g],this,f,e);f.sort(b);return f}}})(THREE);
THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var a=new THREE.Vector3,b=new THREE.Euler,c=new THREE.Quaternion,d=new THREE.Vector3(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,
value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new THREE.Matrix4},normalMatrix:{value:new THREE.Matrix3}});this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new THREE.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};
THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);THREE.Object3D.DefaultMatrixAutoUpdate=!0;
THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=
new THREE.Quaternion;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new THREE.Vector3;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);
this.position.add(a.multiplyScalar(c));return this}}(),translateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new THREE.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new THREE.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof THREE.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new THREE.Vector3;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){c=c||new THREE.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,
this.rotation.order,!1)}}(),getWorldScale:function(){var a=new THREE.Vector3,b=new THREE.Quaternion;return function(c){c=c||new THREE.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==
this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&
(e.userData=this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var f=0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){var c=b(a.geometries),f=b(a.materials),g=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<f.length&&(d.materials=f);0<g.length&&(d.textures=g);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.rotationAutoUpdate=a.rotationAutoUpdate;this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(var c=0;c<a.children.length;c++)this.add(a.children[c].clone());return this}};
THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;THREE.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof THREE.Vector3?d:new THREE.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof THREE.Color?e:new THREE.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0};
THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
THREE.BufferAttribute=function(a,b,c){this.uuid=THREE.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};
THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);
return this},copyColorsArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),f=new THREE.Color);b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyIndicesArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];b[c++]=f.a;b[c++]=f.b;b[c++]=f.c}return this},copyVector2sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",
d),f=new THREE.Vector2);b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new THREE.Vector3);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z}return this},copyVector4sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new THREE.Vector4);
b[c++]=f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*
this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};
THREE.Int8Attribute=function(a,b){return new THREE.BufferAttribute(new Int8Array(a),b)};THREE.Uint8Attribute=function(a,b){return new THREE.BufferAttribute(new Uint8Array(a),b)};THREE.Uint8ClampedAttribute=function(a,b){return new THREE.BufferAttribute(new Uint8ClampedArray(a),b)};THREE.Int16Attribute=function(a,b){return new THREE.BufferAttribute(new Int16Array(a),b)};THREE.Uint16Attribute=function(a,b){return new THREE.BufferAttribute(new Uint16Array(a),b)};
THREE.Int32Attribute=function(a,b){return new THREE.BufferAttribute(new Int32Array(a),b)};THREE.Uint32Attribute=function(a,b){return new THREE.BufferAttribute(new Uint32Array(a),b)};THREE.Float32Attribute=function(a,b){return new THREE.BufferAttribute(new Float32Array(a),b)};THREE.Float64Attribute=function(a,b){return new THREE.BufferAttribute(new Float64Array(a),b)};
THREE.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new THREE.BufferAttribute(a,b)).setDynamic(!0)};THREE.InstancedBufferAttribute=function(a,b,c){THREE.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute;
THREE.InstancedBufferAttribute.prototype.copy=function(a){THREE.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};THREE.InterleavedBuffer=function(a,b){this.uuid=THREE.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};THREE.InstancedInterleavedBuffer=function(a,b,c){THREE.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype);THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer;
THREE.InstancedInterleavedBuffer.prototype.copy=function(a){THREE.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};THREE.InterleavedBufferAttribute=function(a,b,c){this.uuid=THREE.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},
setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,
b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(a){for(var b=(new THREE.Matrix3).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=
this.verticesNeedUpdate=!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&
(a=new THREE.Matrix4);a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new THREE.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0!==g?[n[a].clone(),n[b].clone(),n[d].clone()]:[],q=void 0!==h?[c.colors[a].clone(),
c.colors[b].clone(),c.colors[d].clone()]:[];e=new THREE.Face3(a,b,d,f,q,e);c.faces.push(e);void 0!==k&&c.faceVertexUvs[0].push([p[a].clone(),p[b].clone(),p[d].clone()]);void 0!==l&&c.faceVertexUvs[1].push([m[a].clone(),m[b].clone(),m[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,l=void 0!==e.uv2?e.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=
[]);for(var n=[],p=[],m=[],q=e=0;e<f.length;e+=3,q+=2)c.vertices.push(new THREE.Vector3(f[e],f[e+1],f[e+2])),void 0!==g&&n.push(new THREE.Vector3(g[e],g[e+1],g[e+2])),void 0!==h&&c.colors.push(new THREE.Color(h[e],h[e+1],h[e+2])),void 0!==k&&p.push(new THREE.Vector2(k[q],k[q+1])),void 0!==l&&m.push(new THREE.Vector2(l[q],l[q+1]));if(void 0!==d)if(f=a.groups,0<f.length)for(e=0;e<f.length;e++)for(var r=f[e],s=r.start,u=r.count,q=s,s=s+u;q<s;q+=3)b(d[q],d[q+1],d[q+2],r.materialIndex);else for(e=0;e<
d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius,b=0===b?1:1/
b,c=new THREE.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new THREE.Vector3,b=new THREE.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b,c,d;d=Array(this.vertices.length);b=0;for(c=this.vertices.length;b<
c;b++)d[b]=new THREE.Vector3;if(a){var e,f,g,h=new THREE.Vector3,k=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],e=this.vertices[c.a],f=this.vertices[c.b],g=this.vertices[c.c],h.subVectors(g,f),k.subVectors(e,f),h.cross(k),d[c.a].add(h),d[c.b].add(h),d[c.c].add(h)}else for(a=0,b=this.faces.length;a<b;a++)c=this.faces[a],d[c.a].add(c.normal),d[c.b].add(c.normal),d[c.c].add(c.normal);b=0;for(c=this.vertices.length;b<c;b++)d[b].normalize();a=0;for(b=this.faces.length;a<b;a++)c=
this.faces[a],e=c.vertexNormals,3===e.length?(e[0].copy(d[c.a]),e[1].copy(d[c.b]),e[2].copy(d[c.c])):(e[0]=d[c.a].clone(),e[1]=d[c.b].clone(),e[2]=d[c.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b,c,d,e;c=0;for(d=this.faces.length;c<d;c++)for(e=this.faces[c],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]),a=0,b=e.vertexNormals.length;a<
b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone();var f=new THREE.Geometry;f.faces=this.faces;a=0;for(b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];e=this.morphNormals[a].faceNormals;var g=this.morphNormals[a].vertexNormals,h,k;c=0;for(d=this.faces.length;c<d;c++)h=new THREE.Vector3,k={a:new THREE.Vector3,
b:new THREE.Vector3,c:new THREE.Vector3},e.push(h),g.push(k)}g=this.morphNormals[a];f.vertices=this.morphTargets[a].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(e.normal),k.a.copy(e.vertexNormals[0]),k.b.copy(e.vertexNormals[1]),k.c.copy(e.vertexNormals[2])}c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},
computeLineDistances:function(){for(var a=0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof THREE.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,l=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=(new THREE.Matrix3).getNormalMatrix(b));for(var n=0,p=g.length;n<p;n++){var m=g[n].clone();void 0!==b&&m.applyMatrix4(b);f.push(m)}n=0;for(p=k.length;n<p;n++){var g=k[n],q,r=g.vertexNormals,s=g.vertexColors,m=new THREE.Face3(g.a+e,g.b+e,g.c+e);m.normal.copy(g.normal);void 0!==d&&m.normal.applyMatrix3(d).normalize();b=0;for(f=r.length;b<
f;b++)q=r[b].clone(),void 0!==d&&q.applyMatrix3(d).normalize(),m.vertexNormals.push(q);m.color.copy(g.color);b=0;for(f=s.length;b<f;b++)q=s[b],m.vertexColors.push(q.clone());m.materialIndex=g.materialIndex+c;h.push(m)}n=0;for(p=a.length;n<p;n++)if(c=a[n],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());l.push(d)}}},mergeMesh:function(a){!1===a instanceof THREE.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),
this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a={},b=[],c=[],d,e=Math.pow(10,4),f,g;f=0;for(g=this.vertices.length;f<g;f++)d=this.vertices[f],d=Math.round(d.x*e)+"_"+Math.round(d.y*e)+"_"+Math.round(d.z*e),void 0===a[d]?(a[d]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[d]];a=[];f=0;for(g=this.faces.length;f<g;f++)for(e=this.faces[f],e.a=c[e.a],e.b=c[e.b],e.c=c[e.c],e=[e.a,e.b,e.c],d=0;3>d;d++)if(e[d]===e[(d+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(e=a[f],this.faces.splice(e,
1),c=0,g=this.faceVertexUvs.length;c<g;c++)this.faceVertexUvs[c].splice(e,1);f=this.vertices.length-b.length;this.vertices=b;return f},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=
g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==l[b])return l[b];l[b]=k.length/3;k.push(a.x,a.y,a.z);return l[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==p[b])return p[b];p[b]=n.length;n.push(a.getHex());return p[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==q[b])return q[b];q[b]=m.length/2;m.push(a.x,a.y);return q[b]}var e={metadata:{version:4.4,type:"Geometry",
generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}var h=[],k=[],l={},n=[],p={},m=[],q={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],s=void 0!==this.faceVertexUvs[0][g],u=0<r.normal.length(),x=0<r.vertexNormals.length,v=1!==r.color.r||1!==r.color.g||1!==r.color.b,
C=0<r.vertexColors.length,w=0,w=a(w,0,0),w=a(w,1,!0),w=a(w,2,!1),w=a(w,3,s),w=a(w,4,u),w=a(w,5,x),w=a(w,6,v),w=a(w,7,C);h.push(w);h.push(r.a,r.b,r.c);h.push(r.materialIndex);s&&(s=this.faceVertexUvs[0][g],h.push(d(s[0]),d(s[1]),d(s[2])));u&&h.push(b(r.normal));x&&(u=r.vertexNormals,h.push(b(u[0]),b(u[1]),b(u[2])));v&&h.push(c(r.color));C&&(r=r.vertexColors,h.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<n.length&&(e.data.colors=n);0<m.length&&(e.data.uvs=[m]);e.data.faces=
h;return e},clone:function(){return(new THREE.Geometry).copy(this)},copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],h=[],k=0,l=g.length;k<l;k++)h.push(g[k].clone());
this.faceVertexUvs[c].push(h)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;
THREE.DirectGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
THREE.DirectGeometry.prototype={constructor:THREE.DirectGeometry,computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b,c=[],
d;a=a.faces;for(var e=0;e<a.length;e++){var f=a[e];f.materialIndex!==d&&(d=f.materialIndex,void 0!==b&&(b.count=3*e-b.start,c.push(b)),b={start:3*e,materialIndex:d})}void 0!==b&&(b.count=3*e-b.start,c.push(b));this.groups=c},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length,k;if(0<h){k=[];for(var l=0;l<h;l++)k[l]=[];this.morphTargets.position=k}var n=a.morphNormals,p=n.length,m;if(0<p){m=[];for(l=0;l<p;l++)m[l]=
[];this.morphTargets.normal=m}for(var q=a.skinIndices,r=a.skinWeights,s=q.length===c.length,u=r.length===c.length,l=0;l<b.length;l++){var x=b[l];this.vertices.push(c[x.a],c[x.b],c[x.c]);var v=x.vertexNormals;3===v.length?this.normals.push(v[0],v[1],v[2]):(v=x.normal,this.normals.push(v,v,v));v=x.vertexColors;3===v.length?this.colors.push(v[0],v[1],v[2]):(v=x.color,this.colors.push(v,v,v));!0===e&&(v=d[0][l],void 0!==v?this.uvs.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
l),this.uvs.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2)));!0===f&&(v=d[1][l],void 0!==v?this.uvs2.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2)));for(v=0;v<h;v++){var C=g[v].vertices;k[v].push(C[x.a],C[x.b],C[x.c])}for(v=0;v<p;v++)C=n[v].vertexNormals[l],m[v].push(C.a,C.b,C.c);s&&this.skinIndices.push(q[x.a],q[x.b],q[x.c]);u&&this.skinWeights.push(r[x.a],r[x.b],
r[x.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.DirectGeometry.prototype);
THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof THREE.BufferAttribute&&!1===b instanceof THREE.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new THREE.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&((new THREE.Matrix3).getNormalMatrix(a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;
return function(b){void 0===a&&(a=new THREE.Matrix4);a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new THREE.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),
center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof THREE.Points||a instanceof THREE.Line){a=new THREE.Float32Attribute(3*b.vertices.length,3);var c=new THREE.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&
(a=new THREE.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof THREE.Mesh&&b instanceof THREE.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof THREE.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=
b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),
c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=
b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new THREE.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",(new THREE.BufferAttribute(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new THREE.BufferAttribute(b,3)).copyVector3sArray(a.normals)));
0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.addAttribute("color",(new THREE.BufferAttribute(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",(new THREE.BufferAttribute(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new THREE.BufferAttribute(b,2)).copyVector2sArray(a.uvs2)));0<a.indices.length&&(b=new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),
this.setIndex((new THREE.BufferAttribute(b,1)).copyIndicesArray(a.indices)));this.groups=a.groups;for(var c in a.morphTargets){for(var b=[],d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new THREE.Float32Attribute(3*g.length,3);b.push(h.copyVector3sArray(g))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new THREE.Float32Attribute(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new THREE.Float32Attribute(4*a.skinWeights.length,
4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var a=this.attributes.position.array;void 0!==a?this.boundingBox.setFromArray(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&
console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new THREE.Box3,b=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;a.setFromArray(c);a.center(d);for(var e=0,f=0,g=c.length;f<g;f+=3)b.fromArray(c,f),e=Math.max(e,d.distanceToSquared(b));
this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,
f=0,g=e.length;f<g;f++)e[f]=0;var e=b.normal.array,h,k,l,n=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3,q=new THREE.Vector3,r=new THREE.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var s=0,u=c.length;s<u;++s)for(f=c[s],g=f.start,h=f.count,f=g,g+=h;f<g;f+=3)h=3*a[f+0],k=3*a[f+1],l=3*a[f+2],n.fromArray(d,h),p.fromArray(d,k),m.fromArray(d,l),q.subVectors(m,p),r.subVectors(n,p),q.cross(r),e[h]+=q.x,e[h+1]+=q.y,e[h+2]+=q.z,e[k]+=q.x,e[k+1]+=q.y,e[k+2]+=q.z,e[l]+=q.x,
e[l+1]+=q.y,e[l+2]+=q.z}else for(f=0,g=d.length;f<g;f+=9)n.fromArray(d,f),p.fromArray(d,f+3),m.fromArray(d,f+6),q.subVectors(m,p),r.subVectors(n,p),q.cross(r),e[f]=q.x,e[f+1]=q.y,e[f+2]=q.z,e[f+3]=q.x,e[f+4]=q.y,e[f+5]=q.z,e[f+6]=q.x,e[f+7]=q.y,e[f+8]=q.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof THREE.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a);else{void 0===b&&(b=0);var c=this.attributes,
d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,h=0,f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h];return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new THREE.BufferGeometry,
b=this.index.array,c=this.attributes,d;for(d in c){for(var e=c[d],f=e.array,e=e.itemSize,g=new f.constructor(b.length*e),h=0,k=0,l=0,n=b.length;l<n;l++)for(var h=b[l]*e,p=0;p<e;p++)g[k++]=f[h++];a.addAttribute(d,new THREE.BufferAttribute(g,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters,c;for(c in b)void 0!==
b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(b=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:b});d=this.attributes;for(c in d){var e=d[c],b=Array.prototype.slice.call(e.array);a.data.attributes[c]={itemSize:e.itemSize,type:e.array.constructor.name,array:b,normalized:e.normalized}}c=this.groups;0<c.length&&(a.data.groups=JSON.parse(JSON.stringify(c)));c=this.boundingSphere;null!==c&&(a.data.boundingSphere={center:c.center.toArray(),
radius:c.radius});return a},clone:function(){return(new THREE.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());var b=a.attributes,c;for(c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);THREE.BufferGeometry.MaxIndex=65535;
THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry;THREE.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
THREE.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());var b=a.attributes,c;for(c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};THREE.EventDispatcher.prototype.apply(THREE.InstancedBufferGeometry.prototype);
THREE.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};THREE.Uniform.prototype={constructor:THREE.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};THREE.AnimationClip=function(a,b,c){this.name=a||THREE.Math.generateUUID();this.tracks=c;this.duration=void 0!==b?b:-1;0>this.duration&&this.resetDuration();this.trim();this.optimize()};
THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,resetDuration:function(){for(var a=0,b=0,c=this.tracks.length;b!==c;++b)var d=this.tracks[b],a=Math.max(a,d.times[d.times.length-1]);this.duration=a},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(THREE.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(THREE.KeyframeTrack.parse(c[e]).scale(d));return new THREE.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(THREE.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%
e,g,(g+1)%e);k.push(0,1,0);var l=THREE.AnimationUtils.getKeyframeOrder(h),h=THREE.AnimationUtils.sortedArray(h,1,l),k=THREE.AnimationUtils.sortedArray(k,1,l);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push((new THREE.NumberKeyframeTrack(".morphTargetInfluences["+b[g].name+"]",h,k)).scale(1/c))}return new THREE.AnimationClip(a,-1,f)},findByName:function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,
f=0,g=a.length;f<g;f++){var h=a[f],k=h.name.match(e);if(k&&1<k.length){var l=k[1];(k=d[l])||(d[l]=k=[]);k.push(h)}}a=[];for(l in d)a.push(THREE.AnimationClip.CreateFromMorphTargetSequence(l,d[l],b,c));return a},parseAnimation:function(a,b,c){if(!a)return console.error("  no animation in JSONLoader data"),null;c=function(a,b,c,d,e){if(0!==c.length){var f=[],g=[];THREE.AnimationUtils.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}};var d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30;a=
a.hierarchy||[];for(var h=0;h<a.length;h++){var k=a[h].keys;if(k&&0!=k.length)if(k[0].morphTargets){for(var f={},l=0;l<k.length;l++)if(k[l].morphTargets)for(var n=0;n<k[l].morphTargets.length;n++)f[k[l].morphTargets[n]]=-1;for(var p in f){for(var m=[],q=[],n=0;n!==k[l].morphTargets.length;++n){var r=k[l];m.push(r.time);q.push(r.morphTarget===p?1:0)}d.push(new THREE.NumberKeyframeTrack(".morphTargetInfluence["+p+"]",m,q))}f=f.length*(g||1)}else l=".bones["+b[h].name+"]",c(THREE.VectorKeyframeTrack,
l+".position",k,"pos",d),c(THREE.QuaternionKeyframeTrack,l+".quaternion",k,"rot",d),c(THREE.VectorKeyframeTrack,l+".scale",k,"scl",d)}return 0===d.length?null:new THREE.AnimationClip(e,f,d)}});THREE.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
THREE.AnimationMixer.prototype={constructor:THREE.AnimationMixer,clipAction:function(a,b){var c=(b||this._root).uuid,d="string"===typeof a?a:a.name,e=a!==d?a:null,f=this._actionsByClip[d],g;if(void 0!==f){g=f.actionByRoot[c];if(void 0!==g)return g;g=f.knownActions[0];e=g._clip;if(a!==d&&a!==e)throw Error("Different clips with the same name detected!");}if(null===e)return null;f=new THREE.AnimationMixer._Action(this,e,b);this._bindAction(f,g);this._addInactiveAction(f,d,c);return f},existingAction:function(a,
b){var c=(b||this._root).uuid,d=this._actionsByClip["string"===typeof a?a:a.name];return void 0!==d?d.actionByRoot[c]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==
c;++g){var h=b[g];h.enabled&&h._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.name;var c=this._actionsByClip,d=c[a];if(void 0!==d){for(var d=d.knownActions,e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},
uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip,c;for(c in b){var d=b[c].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(var e in c)a=c[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){var c=this.existingAction(a,b);null!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}};THREE.EventDispatcher.prototype.apply(THREE.AnimationMixer.prototype);
THREE.AnimationMixer._Action=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=THREE.LoopRepeat;this._loopCount=
-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};
THREE.AnimationMixer._Action.prototype={constructor:THREE.AnimationMixer._Action,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,
e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this},crossFadeTo:function(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/
a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._currentTimeScale,0,a)},warp:function(a,b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;d[1]=e+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;for(var e=this._propertyBindings,f=0,g=b.length;f!==g;++f)b[f].evaluate(c),e[f].accumulate(d,
a)}},_updateWeight:function(a){var b=0;if(this.enabled){var b=this.weight,c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0],b=b*d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){var b=this.timeScale,c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0],b=b*d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.pause=!0:this.timeScale=b)}}return this._effectiveTimeScale=
b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,d=this.loop,e=this._loopCount,f=!1;switch(d){case THREE.LoopOnce:-1===e&&(this.loopCount=0,this._setEndings(!0,!0,!1));if(b>=c)b=c;else if(0>b)b=0;else break;this.clampWhenFinished?this.pause=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1});break;case THREE.LoopPingPong:f=!0;case THREE.LoopRepeat:-1===e&&(0<a?(e=0,this._setEndings(!0,0===this.repetitions,f)):this._setEndings(0===
this.repetitions,!0,f));if(b>=c||0>b){var g=Math.floor(b/c),b=b-c*g,e=e+Math.abs(g),h=this.repetitions-e;if(0>h){this.clampWhenFinished?this.paused=!0:this.enabled=!1;b=0<a?c:0;this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1});break}else 0===h?(a=0>a,this._setEndings(a,!a,f)):this._setEndings(!1,!1,f);this._loopCount=e;this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:g})}if(d===THREE.LoopPingPong&&1===(e&1))return this.time=b,c-b}return this.time=b},_setEndings:function(a,
b,c){var d=this._interpolantSettings;c?(d.endingStart=THREE.ZeroSlopeEnding,d.endingEnd=THREE.ZeroSlopeEnding):(d.endingStart=a?this.zeroSlopeAtStart?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding,d.endingEnd=b?this.zeroSlopeAtEnd?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding)},_scheduleFading:function(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;
f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=c;return this}};
Object.assign(THREE.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings,g=a._interpolants,h=c.uuid,k=this._bindingsByRootAndName,l=k[h];void 0===l&&(l={},k[h]=l);for(k=0;k!==e;++k){var n=d[k],p=n.name,m=l[p];if(void 0===m){m=f[k];if(void 0!==m){null===m._cacheIndex&&(++m.referenceCount,this._addInactiveBinding(m,h,p));continue}m=new THREE.PropertyMixer(THREE.PropertyBinding.create(c,p,b&&b._propertyBindings[k].binding.parsedPath),
n.ValueTypeName,n.getValueSize());++m.referenceCount;this._addInactiveBinding(m,h,p)}f[k]=m;g[k].resultBuffer=m.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.name,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},
_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},
get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=
f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;var c=a._clip.name,d=this._actionsByClip,e=d[c],f=e.knownActions,g=f[f.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;f[h]=g;f.pop();a._byClipCacheIndex=null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===f.length&&delete d[c];this._removeInactiveBindingsForAction(a)},
_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,
e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid,c=c.path,e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete e[d]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,
e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
THREE.AnimationObjectGroup=function(a){this.uuid=THREE.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
THREE.AnimationObjectGroup.prototype={constructor:THREE.AnimationObjectGroup,add:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._paths,g=this._parsedPaths,h=this._bindings,k=h.length,l=0,n=arguments.length;l!==n;++l){var p=arguments[l],m=p.uuid,q=e[m];if(void 0===q){q=c++;e[m]=q;b.push(p);for(var m=0,r=k;m!==r;++m)h[m].push(new THREE.PropertyBinding(p,f[m],g[m]))}else if(q<d){var s=b[q],u=--d,r=b[u];e[r.uuid]=q;b[q]=r;e[m]=u;b[u]=p;m=0;for(r=k;m!==
r;++m){var x=h[m],v=x[q];x[q]=x[u];void 0===v&&(v=new THREE.PropertyBinding(p,f[m],g[m]));x[u]=v}}else b[q]!==s&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g],l=k.uuid,n=d[l];if(void 0!==n&&n>=c){var p=c++,m=b[p];d[m.uuid]=
n;b[n]=m;d[l]=p;b[p]=k;k=0;for(l=f;k!==l;++k){var m=e[k],q=m[n];m[n]=m[p];m[p]=q}}}this.nCachedObjects_=c},uncache:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._bindings,g=f.length,h=0,k=arguments.length;h!==k;++h){var l=arguments[h].uuid,n=e[l];if(void 0!==n)if(delete e[l],n<d){var l=--d,p=b[l],m=--c,q=b[m];e[p.uuid]=n;b[n]=p;e[q.uuid]=l;b[l]=q;b.pop();p=0;for(q=g;p!==q;++p){var r=f[p],s=r[m];r[n]=r[l];r[l]=s;r.pop()}}else for(m=--c,q=b[m],e[q.uuid]=
n,b[n]=q,b.pop(),p=0,q=g;p!==q;++p)r=f[p],r[n]=r[m],r.pop()}this.nCachedObjects_=d},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,l=Array(h.length),d=e.length;c[a]=d;f.push(a);g.push(b);e.push(l);c=k;for(d=h.length;c!==d;++c)l[c]=new THREE.PropertyBinding(h[c],a,b);return l},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=
this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};
THREE.AnimationUtils={arraySlice:function(a,b,c){return THREE.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,k=0;k!==b;++k)e[g++]=a[h+k];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),
c.push(g)),f=a[e++];while(void 0!==f)}}}};THREE.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=THREE.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=THREE.AnimationUtils.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation);this.validate();this.optimize()};
THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new THREE.CubicInterpolant(this.times,
this.values,this.getValueSize(),a)},setInterpolation:function(a){var b=void 0;switch(a){case THREE.InterpolateDiscrete:b=this.InterpolantFactoryMethodDiscrete;break;case THREE.InterpolateLinear:b=this.InterpolantFactoryMethodLinear;break;case THREE.InterpolateSmooth:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);
else throw Error(b);console.warn(b)}else this.createInterpolant=b},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return THREE.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return THREE.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return THREE.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},
scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),d=this.getValueSize(),this.times=THREE.AnimationUtils.arraySlice(c,e,f),this.values=THREE.AnimationUtils.arraySlice(this.values,e*d,f*d);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("invalid value size in track",
this),a=!1);var c=this.times,b=this.values,d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&THREE.AnimationUtils.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",this,f,d);a=!1;break}return a},optimize:function(){for(var a=
this.times,b=this.values,c=this.getValueSize(),d=1,e=1,f=a.length-1;e<=f;++e){var g=!1,h=a[e];if(h!==a[e+1]&&(1!==e||h!==h[0]))for(var k=e*c,l=k-c,n=k+c,h=0;h!==c;++h){var p=b[k+h];if(p!==b[l+h]||p!==b[n+h]){g=!0;break}}if(g){if(e!==d)for(a[d]=a[e],g=e*c,k=d*c,h=0;h!==c;++h)b[k+h]=b[g+h];++d}}d!==a.length&&(this.times=THREE.AnimationUtils.arraySlice(a,0,d),this.values=THREE.AnimationUtils.arraySlice(b,0,d*c));return this}};
Object.assign(THREE.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=THREE.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){console.warn("legacy JSON format detected, converting");var c=[],d=[];THREE.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);
else{var b={name:a.name,times:THREE.AnimationUtils.convertArray(a.times,Array),values:THREE.AnimationUtils.convertArray(a.values,Array)},c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return THREE.NumberKeyframeTrack;case "vector":case "vector2":case "vector3":case "vector4":return THREE.VectorKeyframeTrack;
case "color":return THREE.ColorKeyframeTrack;case "quaternion":return THREE.QuaternionKeyframeTrack;case "bool":case "boolean":return THREE.BooleanKeyframeTrack;case "string":return THREE.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});THREE.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||THREE.PropertyBinding.parseTrackName(b);this.node=THREE.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=THREE.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==f){if(void 0===
a[f]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[f]}}if(f=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):void 0!==f.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(THREE.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:THREE.PropertyBinding.prototype.getValue,_setValue_unbound:THREE.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=
c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});THREE.PropertyBinding.Composite=function(a,b,c){c=c||THREE.PropertyBinding.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)};
THREE.PropertyBinding.Composite.prototype={constructor:THREE.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};THREE.PropertyBinding.create=function(a,b,c){return a instanceof THREE.AnimationObjectGroup?new THREE.PropertyBinding.Composite(a,b,c):new THREE.PropertyBinding(a,b,c)};
THREE.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
THREE.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var g=a[c];if(g.name===b||g.uuid===b||(g=d(g.children)))return g}return null};if(c=d(a.children))return c}return null};
THREE.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
THREE.PropertyMixer.prototype={constructor:THREE.PropertyMixer,accumulate:function(a,b){var c=this.buffer,d=this.valueSize,e=a*d+d,f=this.cumulativeWeight;if(0===f){for(f=0;f!==d;++f)c[e+f]=c[f];f=b}else f+=b,this._mixBufferRegion(c,e,0,b/f,d);this.cumulativeWeight=f},apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);for(var d=b,f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);
break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d,e){THREE.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*f+a[c+g]*d}}};
THREE.BooleanKeyframeTrack=function(a,b,c){THREE.KeyframeTrack.call(this,a,b,c)};THREE.BooleanKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});THREE.ColorKeyframeTrack=function(a,b,c,d){THREE.KeyframeTrack.call(this,a,b,c,d)};
THREE.ColorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.ColorKeyframeTrack,ValueTypeName:"color"});THREE.NumberKeyframeTrack=function(a,b,c,d){THREE.KeyframeTrack.call(this,a,b,c,d)};THREE.NumberKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.NumberKeyframeTrack,ValueTypeName:"number"});THREE.QuaternionKeyframeTrack=function(a,b,c,d){THREE.KeyframeTrack.call(this,a,b,c,d)};
THREE.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});THREE.StringKeyframeTrack=function(a,b,c,d){THREE.KeyframeTrack.call(this,a,b,c,d)};
THREE.StringKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});THREE.VectorKeyframeTrack=function(a,b,c,d){THREE.KeyframeTrack.call(this,a,b,c,d)};
THREE.VectorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.VectorKeyframeTrack,ValueTypeName:"vector"});
THREE.Audio=function(a){THREE.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filter=null};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;
THREE.Audio.prototype.getOutput=function(){return this.gain};THREE.Audio.prototype.setNodeSource=function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this};THREE.Audio.prototype.setBuffer=function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this};
THREE.Audio.prototype.play=function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;this.connect()}};
THREE.Audio.prototype.pause=function(){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime)};THREE.Audio.prototype.stop=function(){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0)};THREE.Audio.prototype.connect=function(){null!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.getOutput())):this.source.connect(this.getOutput())};
THREE.Audio.prototype.disconnect=function(){null!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.getOutput())):this.source.disconnect(this.getOutput())};THREE.Audio.prototype.getFilter=function(){return this.filter};THREE.Audio.prototype.setFilter=function(a){void 0===a&&(a=null);!0===this.isPlaying?(this.disconnect(),this.filter=a,this.connect()):this.filter=a};
THREE.Audio.prototype.setPlaybackRate=function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate))};THREE.Audio.prototype.getPlaybackRate=function(){return this.playbackRate};THREE.Audio.prototype.onEnded=function(){this.isPlaying=!1};
THREE.Audio.prototype.setLoop=function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a};THREE.Audio.prototype.getLoop=function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop};THREE.Audio.prototype.setVolume=function(a){this.gain.gain.value=a};THREE.Audio.prototype.getVolume=function(){return this.gain.gain.value};
THREE.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};THREE.AudioAnalyser.prototype={constructor:THREE.AudioAnalyser,getData:function(){this.analyser.getByteFrequencyData(this.data);return this.data}};
Object.defineProperty(THREE,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});THREE.PositionalAudio=function(a){THREE.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};THREE.PositionalAudio.prototype=Object.create(THREE.Audio.prototype);THREE.PositionalAudio.prototype.constructor=THREE.PositionalAudio;THREE.PositionalAudio.prototype.getOutput=function(){return this.panner};
THREE.PositionalAudio.prototype.setRefDistance=function(a){this.panner.refDistance=a};THREE.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance};THREE.PositionalAudio.prototype.setRolloffFactor=function(a){this.panner.rolloffFactor=a};THREE.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor};THREE.PositionalAudio.prototype.setDistanceModel=function(a){this.panner.distanceModel=a};THREE.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel};
THREE.PositionalAudio.prototype.setMaxDistance=function(a){this.panner.maxDistance=a};THREE.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance};THREE.PositionalAudio.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3;return function(b){THREE.Object3D.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}();
THREE.AudioListener=function(){THREE.Object3D.call(this);this.type="AudioListener";this.context=THREE.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;THREE.AudioListener.prototype.getInput=function(){return this.gain};
THREE.AudioListener.prototype.removeFilter=function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)};THREE.AudioListener.prototype.setFilter=function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)};
THREE.AudioListener.prototype.getFilter=function(){return this.filter};THREE.AudioListener.prototype.setMasterVolume=function(a){this.gain.gain.value=a};THREE.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value};
THREE.AudioListener.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3,b=new THREE.Quaternion,c=new THREE.Vector3,d=new THREE.Vector3;return function(e){THREE.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z)}}();
THREE.Camera=function(){THREE.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,-1).applyQuaternion(a)}}();
THREE.Camera.prototype.lookAt=function(){var a=new THREE.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();THREE.Camera.prototype.clone=function(){return(new this.constructor).copy(this)};THREE.Camera.prototype.copy=function(a){THREE.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
THREE.CubeCamera=function(a,b,c){THREE.Object3D.call(this);this.type="CubeCamera";var d=new THREE.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new THREE.Vector3(1,0,0));this.add(d);var e=new THREE.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new THREE.Vector3(-1,0,0));this.add(e);var f=new THREE.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new THREE.Vector3(0,1,0));this.add(f);var g=new THREE.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new THREE.Vector3(0,-1,0));
this.add(g);var h=new THREE.PerspectiveCamera(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new THREE.Vector3(0,0,1));this.add(h);var k=new THREE.PerspectiveCamera(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new THREE.Vector3(0,0,-1));this.add(k);this.renderTarget=new THREE.WebGLRenderTargetCube(c,c,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=
!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,k,c);a.setRenderTarget(null)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;
THREE.OrthographicCamera=function(a,b,c,d,e,f){THREE.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;
THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(c-a,c+a,d+b,d-b,this.near,this.far)};THREE.OrthographicCamera.prototype.copy=function(a){THREE.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this};
THREE.OrthographicCamera.prototype.toJSON=function(a){a=THREE.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a};
THREE.PerspectiveCamera=function(a,b,c,d){THREE.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;
THREE.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};THREE.PerspectiveCamera.prototype.setFocalLength=function(a){a=.5*this.getFilmHeight()/a;this.fov=2*THREE.Math.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()};
THREE.PerspectiveCamera.prototype.getFocalLength=function(){var a=Math.tan(.5*THREE.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a};THREE.PerspectiveCamera.prototype.getEffectiveFOV=function(){return 2*THREE.Math.RAD2DEG*Math.atan(Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom)};THREE.PerspectiveCamera.prototype.getFilmWidth=function(){return this.filmGauge*Math.min(this.aspect,1)};THREE.PerspectiveCamera.prototype.getFilmHeight=function(){return this.filmGauge/Math.max(this.aspect,1)};
THREE.PerspectiveCamera.prototype.setViewOffset=function(a,b,c,d,e,f){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()};
THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var a=this.near,b=a*Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==f)var g=f.fullWidth,h=f.fullHeight,e=e+f.offsetX*d/g,b=b-f.offsetY*c/h,d=f.width/g*d,c=f.height/h*c;f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makeFrustum(e,e+d,b-c,b,a,this.far)};
THREE.PerspectiveCamera.prototype.copy=function(a){THREE.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this};
THREE.PerspectiveCamera.prototype.toJSON=function(a){a=THREE.Object3D.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a};
THREE.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new THREE.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new THREE.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
THREE.StereoCamera.prototype={constructor:THREE.StereoCamera,update:function(){var a,b,c,d,e,f=new THREE.Matrix4,g=new THREE.Matrix4;return function(h){if(a!==h.focus||b!==h.fov||c!==h.aspect*this.aspect||d!==h.near||e!==h.far){a=h.focus;b=h.fov;c=h.aspect*this.aspect;d=h.near;e=h.far;var k=h.projectionMatrix.clone(),l=.032*d/a,n=d*Math.tan(THREE.Math.DEG2RAD*b*.5),p,m;g.elements[12]=-.032;f.elements[12]=.032;p=-n*c+l;m=n*c+l;k.elements[0]=2*d/(m-p);k.elements[8]=(m+p)/(m-p);this.cameraL.projectionMatrix.copy(k);
p=-n*c-l;m=n*c-l;k.elements[0]=2*d/(m-p);k.elements[8]=(m+p)/(m-p);this.cameraR.projectionMatrix.copy(k)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(g);this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(f)}}()};THREE.Light=function(a,b){THREE.Object3D.call(this);this.type="Light";this.color=new THREE.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;
THREE.Light.prototype.copy=function(a){THREE.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this};
THREE.Light.prototype.toJSON=function(a){a=THREE.Object3D.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a};
THREE.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new THREE.Vector2(512,512);this.map=null;this.matrix=new THREE.Matrix4};THREE.LightShadow.prototype={constructor:THREE.LightShadow,copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}};THREE.AmbientLight=function(a,b){THREE.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};
THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(a,b){THREE.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D;this.shadow=new THREE.DirectionalLightShadow};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;
THREE.DirectionalLight.prototype.copy=function(a){THREE.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this};THREE.DirectionalLightShadow=function(a){THREE.LightShadow.call(this,new THREE.OrthographicCamera(-5,5,5,-5,.5,500))};THREE.DirectionalLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.DirectionalLightShadow.prototype.constructor=THREE.DirectionalLightShadow;
THREE.HemisphereLight=function(a,b,c){THREE.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new THREE.Color(b)};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;THREE.HemisphereLight.prototype.copy=function(a){THREE.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this};
THREE.PointLight=function(a,b,c,d){THREE.Light.call(this,a,b);this.type="PointLight";this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,.5,500))};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;Object.defineProperty(THREE.PointLight.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});
THREE.PointLight.prototype.copy=function(a){THREE.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this};THREE.SpotLight=function(a,b,c,d,e,f){THREE.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new THREE.Object3D;this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new THREE.SpotLightShadow};
THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;Object.defineProperty(THREE.SpotLight.prototype,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});THREE.SpotLight.prototype.copy=function(a){THREE.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this};
THREE.SpotLightShadow=function(){THREE.LightShadow.call(this,new THREE.PerspectiveCamera(50,1,.5,500))};THREE.SpotLightShadow.prototype=Object.create(THREE.LightShadow.prototype);THREE.SpotLightShadow.prototype.constructor=THREE.SpotLightShadow;THREE.SpotLightShadow.prototype.update=function(a){var b=2*THREE.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()};
THREE.AudioLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.AudioLoader.prototype={constructor:THREE.AudioLoader,load:function(a,b,c,d){var e=new THREE.XHRLoader(this.manager);e.setResponseType("arraybuffer");e.load(a,function(a){THREE.AudioContext.decodeAudioData(a,function(a){b(a)})},c,d)}};
THREE.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};THREE.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"},initMaterials:function(a,b,c){for(var d=[],e=0;e<a.length;++e)d[e]=this.createMaterial(a[e],b,c);return d},createMaterial:function(){var a,b,c;return function(d,e,f){function g(a,c,d,g,k){a=e+a;var l=THREE.Loader.Handlers.get(a);null!==l?a=l.load(a):(b.setCrossOrigin(f),a=b.load(a));void 0!==c&&(a.repeat.fromArray(c),1!==c[0]&&(a.wrapS=
THREE.RepeatWrapping),1!==c[1]&&(a.wrapT=THREE.RepeatWrapping));void 0!==d&&a.offset.fromArray(d);void 0!==g&&("repeat"===g[0]&&(a.wrapS=THREE.RepeatWrapping),"mirror"===g[0]&&(a.wrapS=THREE.MirroredRepeatWrapping),"repeat"===g[1]&&(a.wrapT=THREE.RepeatWrapping),"mirror"===g[1]&&(a.wrapT=THREE.MirroredRepeatWrapping));void 0!==k&&(a.anisotropy=k);c=THREE.Math.generateUUID();h[c]=a;return c}void 0===a&&(a=new THREE.Color);void 0===b&&(b=new THREE.TextureLoader);void 0===c&&(c=new THREE.MaterialLoader);
var h={},k={uuid:THREE.Math.generateUUID(),type:"MeshLambertMaterial"},l;for(l in d){var n=d[l];switch(l){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":k.name=n;break;case "blending":k.blending=THREE[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case "colorDiffuse":k.color=a.fromArray(n).getHex();break;case "colorSpecular":k.specular=a.fromArray(n).getHex();break;case "colorEmissive":k.emissive=
a.fromArray(n).getHex();break;case "specularCoef":k.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(k.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(k.type="MeshPhongMaterial");break;case "mapDiffuse":k.map=g(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;case "mapLight":k.lightMap=g(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);
break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":k.aoMap=g(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":k.bumpMap=g(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":k.bumpScale=n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;
case "mapNormal":k.normalMap=g(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":k.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":k.specularMap=g(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;case "mapAlpha":k.alphaMap=
g(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":k.side=THREE.BackSide;break;case "doubleSided":k.side=THREE.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");k.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":k[l]=
n;break;case "vertexColors":!0===n&&(k.vertexColors=THREE.VertexColors);"face"===n&&(k.vertexColors=THREE.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,n)}}"MeshBasicMaterial"===k.type&&delete k.emissive;"MeshPhongMaterial"!==k.type&&delete k.specular;1>k.opacity&&(k.transparent=!0);c.setTextures(h);return c.parse(k)}}()};
THREE.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};THREE.XHRLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=THREE.Cache.get(a);if(void 0!==f)return b&&setTimeout(function(){b(f)},0),f;var g=new XMLHttpRequest;g.overrideMimeType("text/plain");g.open("GET",a,!0);g.addEventListener("load",function(c){var f=c.target.response;THREE.Cache.add(a,f);200===this.status?(b&&b(f),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(f),e.manager.itemEnd(a)):
(d&&d(c),e.manager.itemError(a))},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},!1);void 0!==this.responseType&&(g.responseType=this.responseType);void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials);g.send(null);e.manager.itemStart(a);return g},setPath:function(a){this.path=a},setResponseType:function(a){this.responseType=a},setWithCredentials:function(a){this.withCredentials=a}};
THREE.FontLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.FontLoader.prototype={constructor:THREE.FontLoader,load:function(a,b,c,d){(new THREE.XHRLoader(this.manager)).load(a,function(a){b(new THREE.Font(JSON.parse(a.substring(65,a.length-2))))},c,d)}};THREE.ImageLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=THREE.Cache.get(a);if(void 0!==f)return e.manager.itemStart(a),b?setTimeout(function(){b(f);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),f;var g=document.createElement("img");g.addEventListener("load",function(c){THREE.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&
d(b);e.manager.itemError(a)},!1);void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin);e.manager.itemStart(a);g.src=a;return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};THREE.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this.withCredentials=!1};
THREE.JSONLoader.prototype={constructor:THREE.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:THREE.Loader.prototype.extractUrlBase(a),g=new THREE.XHRLoader(this.manager);g.setWithCredentials(this.withCredentials);g.load(a,
function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new THREE.Geometry,d=void 0!==a.scale?1/
a.scale:1;(function(b){var d,g,h,k,l,n,p,m,q,r,s,u,x,v=a.faces;n=a.vertices;var C=a.normals,w=a.colors,z=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&z++;for(d=0;d<z;d++)c.faceVertexUvs[d]=[]}k=0;for(l=n.length;k<l;)d=new THREE.Vector3,d.x=n[k++]*b,d.y=n[k++]*b,d.z=n[k++]*b,c.vertices.push(d);k=0;for(l=v.length;k<l;)if(b=v[k++],q=b&1,h=b&2,d=b&8,p=b&16,r=b&32,n=b&64,b&=128,q){q=new THREE.Face3;q.a=v[k];q.b=v[k+1];q.c=v[k+3];s=new THREE.Face3;s.a=v[k+1];s.b=v[k+2];s.c=v[k+3];k+=
4;h&&(h=v[k++],q.materialIndex=h,s.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<z;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],c.faceVertexUvs[d][h+1]=[],g=0;4>g;g++)m=v[k++],x=u[2*m],m=u[2*m+1],x=new THREE.Vector2(x,m),2!==g&&c.faceVertexUvs[d][h].push(x),0!==g&&c.faceVertexUvs[d][h+1].push(x);p&&(p=3*v[k++],q.normal.set(C[p++],C[p++],C[p]),s.normal.copy(q.normal));if(r)for(d=0;4>d;d++)p=3*v[k++],r=new THREE.Vector3(C[p++],C[p++],C[p]),2!==d&&q.vertexNormals.push(r),0!==d&&s.vertexNormals.push(r);
n&&(n=v[k++],n=w[n],q.color.setHex(n),s.color.setHex(n));if(b)for(d=0;4>d;d++)n=v[k++],n=w[n],2!==d&&q.vertexColors.push(new THREE.Color(n)),0!==d&&s.vertexColors.push(new THREE.Color(n));c.faces.push(q);c.faces.push(s)}else{q=new THREE.Face3;q.a=v[k++];q.b=v[k++];q.c=v[k++];h&&(h=v[k++],q.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<z;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],g=0;3>g;g++)m=v[k++],x=u[2*m],m=u[2*m+1],x=new THREE.Vector2(x,m),c.faceVertexUvs[d][h].push(x);p&&(p=3*v[k++],q.normal.set(C[p++],
C[p++],C[p]));if(r)for(d=0;3>d;d++)p=3*v[k++],r=new THREE.Vector3(C[p++],C[p++],C[p]),q.vertexNormals.push(r);n&&(n=v[k++],q.color.setHex(w[n]));if(b)for(d=0;3>d;d++)n=v[k++],q.vertexColors.push(new THREE.Color(w[n]));c.faces.push(q)}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new THREE.Vector4(a.skinWeights[d],1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:
0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new THREE.Vector4(a.skinIndices[d],1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(b){if(void 0!==
a.morphTargets)for(var d=0,g=a.morphTargets.length;d<g;d++){c.morphTargets[d]={};c.morphTargets[d].name=a.morphTargets[d].name;c.morphTargets[d].vertices=[];for(var h=c.morphTargets[d].vertices,k=a.morphTargets[d].vertices,l=0,n=k.length;l<n;l+=3){var p=new THREE.Vector3;p.x=k[l]*b;p.y=k[l+1]*b;p.z=k[l+2]*b;h.push(p)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),b=c.faces,h=a.morphColors[0].colors,
d=0,g=b.length;d<g;d++)b[d].color.fromArray(h,3*d)})(d);(function(){var b=[],d=[];void 0!==a.animation&&d.push(a.animation);void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var g=0;g<d.length;g++){var h=THREE.AnimationClip.parseAnimation(d[g],c.bones);h&&b.push(h)}c.morphTargets&&(d=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),b=b.concat(d));0<b.length&&(c.animations=b)})();c.computeFaceNormals();c.computeBoundingSphere();
if(void 0===a.materials||0===a.materials.length)return{geometry:c};d=THREE.Loader.prototype.initMaterials(a.materials,b,this.crossOrigin);return{geometry:c,materials:d}}};
THREE.LoadingManager=function(a,b,c){var d=this,e=!1,f=0,g=0;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void 0!==d.onStart)d.onStart(a,f,g);e=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,g);if(f===g&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==d.onError)d.onError(a)}};THREE.DefaultLoadingManager=new THREE.LoadingManager;
THREE.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new THREE.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new THREE.BufferGeometry,c=a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==c&&(c=
new d[c.type](c.array),b.setIndex(new THREE.BufferAttribute(c,1)));var e=a.data.attributes,f;for(f in e){var g=e[f],c=new d[g.type](g.array);b.addAttribute(f,new THREE.BufferAttribute(c,g.itemSize,g.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d)for(f=0,c=d.length;f!==c;++f)e=d[f],b.addGroup(e.start,e.count,e.materialIndex);a=a.data.boundingSphere;void 0!==a&&(d=new THREE.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new THREE.Sphere(d,a.radius));
return b}};THREE.MaterialLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this.textures={}};
THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(a,b,c,d){var e=this;(new THREE.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setTextures:function(a){this.textures=a},getTexture:function(a){var b=this.textures;void 0===b[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return b[a]},parse:function(a){var b=new THREE[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&b.color.setHex(a.color);
void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&b.emissive.setHex(a.emissive);void 0!==a.specular&&b.specular.setHex(a.specular);void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);
void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==
a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=this.getTexture(a.map));void 0!==a.alphaMap&&(b.alphaMap=this.getTexture(a.alphaMap),b.transparent=!0);void 0!==a.bumpMap&&(b.bumpMap=this.getTexture(a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=this.getTexture(a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new THREE.Vector2).fromArray(c)}void 0!==
a.displacementMap&&(b.displacementMap=this.getTexture(a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(b.roughnessMap=this.getTexture(a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=this.getTexture(a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=this.getTexture(a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);
void 0!==a.specularMap&&(b.specularMap=this.getTexture(a.specularMap));void 0!==a.envMap&&(b.envMap=this.getTexture(a.envMap),b.combine=THREE.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=this.getTexture(a.lightMap));void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=this.getTexture(a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials)for(var c=0,d=a.materials.length;c<
d;c++)b.materials.push(this.parse(a.materials[c]));return b}};THREE.ObjectLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this.texturePath=""};
THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new THREE.XHRLoader(e.manager)).load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void 0!==b&&b(e)}),d=this.parseTextures(a.textures,
d),d=this.parseMaterials(a.materials,d),e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseGeometries:function(a){var b={};if(void 0!==a)for(var c=new THREE.JSONLoader,d=new THREE.BufferGeometryLoader,e=0,f=a.length;e<f;e++){var g,h=a[e];switch(h.type){case "PlaneGeometry":case "PlaneBufferGeometry":g=new THREE[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":g=
new THREE[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":g=new THREE[h.type](h.radius,h.segments,h.thetaStart,h.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":g=new THREE[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":g=new THREE[h.type](h.radius,h.widthSegments,
h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case "DodecahedronGeometry":g=new THREE.DodecahedronGeometry(h.radius,h.detail);break;case "IcosahedronGeometry":g=new THREE.IcosahedronGeometry(h.radius,h.detail);break;case "OctahedronGeometry":g=new THREE.OctahedronGeometry(h.radius,h.detail);break;case "TetrahedronGeometry":g=new THREE.TetrahedronGeometry(h.radius,h.detail);break;case "RingGeometry":case "RingBufferGeometry":g=new THREE[h.type](h.innerRadius,h.outerRadius,
h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":g=new THREE[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":g=new THREE[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case "LatheGeometry":case "LatheBufferGeometry":g=new THREE[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case "BufferGeometry":g=d.parse(h);break;case "Geometry":g=
c.parse(h.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+h.type+'"');continue}g.uuid=h.uuid;void 0!==h.name&&(g.name=h.name);b[h.uuid]=g}return b},parseMaterials:function(a,b){var c={};if(void 0!==a){var d=new THREE.MaterialLoader;d.setTextures(b);for(var e=0,f=a.length;e<f;e++){var g=d.parse(a[e]);c[g.uuid]=g}}return c},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=THREE.AnimationClip.parse(a[c]);b.push(d)}return b},
parseImages:function(a,b){function c(a){d.manager.itemStart(a);return g.load(a,function(){d.manager.itemEnd(a)})}var d=this,e={};if(void 0!==a&&0<a.length){var f=new THREE.LoadingManager(b),g=new THREE.ImageLoader(f);g.setCrossOrigin(this.crossOrigin);for(var f=0,h=a.length;f<h;f++){var k=a[f],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:d.texturePath+k.url;e[k.uuid]=c(l)}}return e},parseTextures:function(a,b){function c(a){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",
a);return THREE[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=new THREE.Texture(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&(h.mapping=c(g.mapping));void 0!==g.offset&&(h.offset=new THREE.Vector2(g.offset[0],g.offset[1]));void 0!==g.repeat&&(h.repeat=new THREE.Vector2(g.repeat[0],
g.repeat[1]));void 0!==g.minFilter&&(h.minFilter=c(g.minFilter));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);Array.isArray(g.wrap)&&(h.wrapS=c(g.wrap[0]),h.wrapT=c(g.wrap[1]));d[g.uuid]=h}return d},parseObject:function(){var a=new THREE.Matrix4;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==a)return void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",
a),d[a]}var g;switch(b.type){case "Scene":g=new THREE.Scene;break;case "PerspectiveCamera":g=new THREE.PerspectiveCamera(b.fov,b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new THREE.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=
new THREE.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":g=new THREE.DirectionalLight(b.color,b.intensity);break;case "PointLight":g=new THREE.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":g=new THREE.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new THREE.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":g=e(b.geometry);var h=f(b.material);g=g.bones&&0<g.bones.length?new THREE.SkinnedMesh(g,
h):new THREE.Mesh(g,h);break;case "LOD":g=new THREE.LOD;break;case "Line":g=new THREE.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":case "Points":g=new THREE.Points(e(b.geometry),f(b.material));break;case "Sprite":g=new THREE.Sprite(f(b.material));break;case "Group":g=new THREE.Group;break;default:g=new THREE.Object3D}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),
void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==b.receiveShadow&&(g.receiveShadow=b.receiveShadow);void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(var k in b.children)g.add(this.parseObject(b.children[k],c,d));if("LOD"===b.type)for(b=b.levels,h=0;h<b.length;h++){var l=b[h];k=g.getObjectByProperty("uuid",l.object);void 0!==
k&&g.addLevel(k,l.distance)}return g}}()};THREE.TextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(a,b,c,d){var e=new THREE.Texture,f=new THREE.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(a){e.image=a;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
THREE.CubeTextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.CubeTextureLoader.prototype={constructor:THREE.CubeTextureLoader,load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new THREE.CubeTexture,g=new THREE.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this._parser=null};
THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new THREE.DataTexture,g=new THREE.XHRLoader(this.manager);g.setResponseType("arraybuffer");g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:THREE.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:THREE.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?
a.magFilter:THREE.LinearFilter,f.minFilter=void 0!==a.minFilter?a.minFilter:THREE.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=THREE.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};THREE.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this._parser=null};
THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(a,b,c,d){function e(e){k.load(a[e],function(a){a=f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};l+=1;6===l&&(1===a.mipmapCount&&(h.minFilter=THREE.LinearFilter),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new THREE.CompressedTexture;h.image=g;var k=new THREE.XHRLoader(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");if(Array.isArray(a))for(var l=
0,n=0,p=a.length;n<p;++n)e(n);else k.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)g[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),g[d].format=a.format,g[d].width=a.width,g[d].height=a.height}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=THREE.LinearFilter);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function(a){this.path=
a}};
THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Material";this.side=THREE.FrontSide;this.opacity=1;this.transparent=!1;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=THREE.LessEqualDepth;this.depthWrite=this.depthTest=!0;
this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d instanceof THREE.Color?d.set(c):d instanceof THREE.Vector3&&c instanceof THREE.Vector3?d.copy(c):
this[b]="overdraw"===b?Number(c):c}}},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof THREE.Color&&(d.color=this.color.getHex());.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof
THREE.Color&&(d.emissive=this.emissive.getHex());this.specular instanceof THREE.Color&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof THREE.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof THREE.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof THREE.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.bumpMap instanceof THREE.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);
this.normalMap instanceof THREE.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof THREE.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof THREE.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof THREE.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);
this.emissiveMap instanceof THREE.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof THREE.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof THREE.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);void 0!==this.vertexColors&&this.vertexColors!==THREE.NoColors&&(d.vertexColors=this.vertexColors);
void 0!==this.shading&&this.shading!==THREE.SmoothShading&&(d.shading=this.shading);void 0!==this.blending&&this.blending!==THREE.NormalBlending&&(d.blending=this.blending);void 0!==this.side&&this.side!==THREE.FrontSide&&(d.side=this.side);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);
1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.side=a.side;this.opacity=a.opacity;this.transparent=a.transparent;this.blending=a.blending;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a)for(var c=a.length,b=Array(c),d=0;d!==c;++d)b[d]=a[d].clone();this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;
THREE.LineBasicMaterial=function(a){THREE.Material.call(this);this.type="LineBasicMaterial";this.color=new THREE.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;
THREE.LineBasicMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.vertexColors=a.vertexColors;this.fog=a.fog;return this};
THREE.LineDashedMaterial=function(a){THREE.Material.call(this);this.type="LineDashedMaterial";this.color=new THREE.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;
THREE.LineDashedMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;this.vertexColors=a.vertexColors;this.fog=a.fog;return this};
THREE.MeshBasicMaterial=function(a){THREE.Material.call(this);this.type="MeshBasicMaterial";this.color=new THREE.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=
THREE.NoColors;this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;
THREE.MeshBasicMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.fog=a.fog;this.shading=a.shading;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;
this.wireframeLinejoin=a.wireframeLinejoin;this.vertexColors=a.vertexColors;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};THREE.MeshDepthMaterial=function(a){THREE.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=THREE.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.setValues(a)};
THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;
THREE.MeshDepthMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
THREE.MeshLambertMaterial=function(a){THREE.Material.call(this);this.type="MeshLambertMaterial";this.color=new THREE.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.blending=THREE.NormalBlending;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;
THREE.MeshLambertMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.fog=a.fog;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.vertexColors=a.vertexColors;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};THREE.MeshNormalMaterial=function(a){THREE.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=!1;this.setValues(a)};
THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
THREE.MeshPhongMaterial=function(a){THREE.Material.call(this);this.type="MeshPhongMaterial";this.color=new THREE.Color(16777215);this.specular=new THREE.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;
THREE.MeshPhongMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.fog=a.fog;this.shading=a.shading;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.vertexColors=
a.vertexColors;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
THREE.MeshStandardMaterial=function(a){THREE.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new THREE.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=null;this.displacementScale=
1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.blending=THREE.NormalBlending;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshStandardMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshStandardMaterial.prototype.constructor=THREE.MeshStandardMaterial;
THREE.MeshStandardMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.fog=a.fog;this.shading=a.shading;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;
this.wireframeLinejoin=a.wireframeLinejoin;this.vertexColors=a.vertexColors;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};THREE.MeshPhysicalMaterial=function(a){THREE.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.setValues(a)};THREE.MeshPhysicalMaterial.prototype=Object.create(THREE.MeshStandardMaterial.prototype);THREE.MeshPhysicalMaterial.prototype.constructor=THREE.MeshPhysicalMaterial;
THREE.MeshPhysicalMaterial.prototype.copy=function(a){THREE.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};THREE.MultiMaterial=function(a){this.uuid=THREE.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var f=c[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
THREE.PointsMaterial=function(a){THREE.Material.call(this);this.type="PointsMaterial";this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.blending=THREE.NormalBlending;this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial;
THREE.PointsMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.vertexColors=a.vertexColors;this.fog=a.fog;return this};
THREE.ShaderMaterial=function(a){THREE.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.vertexColors=THREE.NoColors;this.morphNormals=
this.morphTargets=this.skinning=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;
THREE.ShaderMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=THREE.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.shading=a.shading;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.vertexColors=a.vertexColors;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=
a.morphNormals;this.extensions=a.extensions;return this};THREE.ShaderMaterial.prototype.toJSON=function(a){a=THREE.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};THREE.RawShaderMaterial=function(a){THREE.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;
THREE.SpriteMaterial=function(a){THREE.Material.call(this);this.type="SpriteMaterial";this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.fog=!1;this.setValues(a)};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;THREE.SpriteMaterial.prototype.copy=function(a){THREE.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;this.fog=a.fog;return this};
THREE.Texture=function(a,b,c,d,e,f,g,h,k,l){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:THREE.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:THREE.LinearFilter;this.minFilter=void 0!==f?f:THREE.LinearMipMapLinearFilter;
this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:THREE.RGBAFormat;this.type=void 0!==h?h:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==l?l:THREE.LinearEncoding;this.version=0;this.onUpdate=null};THREE.Texture.DEFAULT_IMAGE=void 0;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;
THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=THREE.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid,g;void 0!==c.toDataURL?g=c:(g=document.createElement("canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height));g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===THREE.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case THREE.RepeatWrapping:a.x-=Math.floor(a.x);break;case THREE.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(a.x)%2)?a.x=Math.ceil(a.x)-a.x:a.x-=Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case THREE.RepeatWrapping:a.y-=Math.floor(a.y);break;case THREE.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case THREE.MirroredRepeatWrapping:1===
Math.abs(Math.floor(a.y)%2)?a.y=Math.ceil(a.y)-a.y:a.y-=Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.DepthTexture=function(a,b,c,d,e,f,g,h,k){THREE.Texture.call(this,null,d,e,f,g,h,THREE.DepthFormat,c,k);this.image={width:a,height:b};this.type=void 0!==c?c:THREE.UnsignedShortType;this.magFilter=void 0!==g?g:THREE.NearestFilter;this.minFilter=void 0!==h?h:THREE.NearestFilter;this.generateMipmaps=this.flipY=!1};
THREE.DepthTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DepthTexture.prototype.constructor=THREE.DepthTexture;THREE.CanvasTexture=function(a,b,c,d,e,f,g,h,k){THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0};THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture;
THREE.CubeTexture=function(a,b,c,d,e,f,g,h,k,l){a=void 0!==a?a:[];b=void 0!==b?b:THREE.CubeReflectionMapping;THREE.Texture.call(this,a,b,c,d,e,f,g,h,k,l);this.flipY=!1};THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;Object.defineProperty(THREE.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});
THREE.CompressedTexture=function(a,b,c,d,e,f,g,h,k,l,n,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,n,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;
THREE.DataTexture=function(a,b,c,d,e,f,g,h,k,l,n,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,n,p);this.image={data:a,width:b,height:c};this.magFilter=void 0!==k?k:THREE.NearestFilter;this.minFilter=void 0!==l?l:THREE.NearestFilter;this.generateMipmaps=this.flipY=!1};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;
THREE.VideoTexture=function(a,b,c,d,e,f,g,h,k){function l(){requestAnimationFrame(l);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1;var n=this;l()};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;THREE.Group=function(){THREE.Object3D.call(this);this.type="Group"};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);
THREE.Group.prototype.constructor=THREE.Group;THREE.Points=function(a,b){THREE.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.PointsMaterial({color:16777215*Math.random()})};THREE.Points.prototype=Object.create(THREE.Object3D.prototype);THREE.Points.prototype.constructor=THREE.Points;
THREE.Points.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<n){var h=b.closestPointToPoint(a);h.applyMatrix4(k);var m=d.ray.origin.distanceTo(h);m<d.near||m>d.far||e.push({distance:m,distanceToRay:Math.sqrt(f),point:h.clone(),index:c,face:null,object:g})}}var g=this,h=this.geometry,k=this.matrixWorld,l=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);
c.applyMatrix4(k);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);var l=l/((this.scale.x+this.scale.y+this.scale.z)/3),n=l*l,l=new THREE.Vector3;if(h instanceof THREE.BufferGeometry){var p=h.index,h=h.attributes.position.array;if(null!==p)for(var m=p.array,p=0,q=m.length;p<q;p++){var r=m[p];l.fromArray(h,3*r);f(l,r)}else for(p=0,m=h.length/3;p<m;p++)l.fromArray(h,3*p),f(l,p)}else for(l=h.vertices,p=0,m=l.length;p<m;p++)f(l[p],p)}}}();
THREE.Points.prototype.clone=function(){return(new this.constructor(this.geometry,this.material)).copy(this)};THREE.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new THREE.LineSegments(a,b);THREE.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.LineBasicMaterial({color:16777215*Math.random()})};THREE.Line.prototype=Object.create(THREE.Object3D.prototype);
THREE.Line.prototype.constructor=THREE.Line;
THREE.Line.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere;return function(d,e){var f=d.linePrecision,f=f*f,g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);var k=new THREE.Vector3,l=new THREE.Vector3,h=new THREE.Vector3,n=new THREE.Vector3,p=this instanceof THREE.LineSegments?2:1;if(g instanceof THREE.BufferGeometry){var m=
g.index,q=g.attributes.position.array;if(null!==m)for(var m=m.array,g=0,r=m.length-1;g<r;g+=p){var s=m[g+1];k.fromArray(q,3*m[g]);l.fromArray(q,3*s);s=b.distanceSqToSegment(k,l,n,h);s>f||(n.applyMatrix4(this.matrixWorld),s=d.ray.origin.distanceTo(n),s<d.near||s>d.far||e.push({distance:s,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,r=q.length/3-1;g<r;g+=p)k.fromArray(q,3*g),l.fromArray(q,3*g+3),s=b.distanceSqToSegment(k,l,n,h),s>f||(n.applyMatrix4(this.matrixWorld),
s=d.ray.origin.distanceTo(n),s<d.near||s>d.far||e.push({distance:s,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof THREE.Geometry)for(k=g.vertices,l=k.length,g=0;g<l-1;g+=p)s=b.distanceSqToSegment(k[g],k[g+1],n,h),s>f||(n.applyMatrix4(this.matrixWorld),s=d.ray.origin.distanceTo(n),s<d.near||s>d.far||e.push({distance:s,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}();
THREE.Line.prototype.clone=function(){return(new this.constructor(this.geometry,this.material)).copy(this)};THREE.LineStrip=0;THREE.LinePieces=1;THREE.LineSegments=function(a,b){THREE.Line.call(this,a,b);this.type="LineSegments"};THREE.LineSegments.prototype=Object.create(THREE.Line.prototype);THREE.LineSegments.prototype.constructor=THREE.LineSegments;
THREE.Mesh=function(a,b){THREE.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=THREE.TrianglesDrawMode;this.updateMorphTargets()};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.setDrawMode=function(a){this.drawMode=a};
THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}};
THREE.Mesh.prototype.getMorphTargetIndexByName=function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0};
THREE.Mesh.prototype.raycast=function(){function a(a,b,c,d,e,f,g){THREE.Triangle.barycoordFromPoint(a,b,c,d,s);e.multiplyScalar(s.x);f.multiplyScalar(s.y);g.multiplyScalar(s.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g){var h=a.material;if(null===(h.side===THREE.BackSide?c.intersectTriangle(f,e,d,!0,g):c.intersectTriangle(d,e,f,h.side!==THREE.DoubleSide,g)))return null;x.copy(g);x.applyMatrix4(a.matrixWorld);c=b.ray.origin.distanceTo(x);return c<b.near||c>b.far?null:{distance:c,point:x.clone(),
object:a}}function c(c,d,e,f,l,n,p,s){g.fromArray(f,3*n);h.fromArray(f,3*p);k.fromArray(f,3*s);if(c=b(c,d,e,g,h,k,u))l&&(m.fromArray(l,2*n),q.fromArray(l,2*p),r.fromArray(l,2*s),c.uv=a(u,g,h,k,m,q,r)),c.face=new THREE.Face3(n,p,s,THREE.Triangle.normal(g,h,k)),c.faceIndex=n;return c}var d=new THREE.Matrix4,e=new THREE.Ray,f=new THREE.Sphere,g=new THREE.Vector3,h=new THREE.Vector3,k=new THREE.Vector3,l=new THREE.Vector3,n=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector2,q=new THREE.Vector2,
r=new THREE.Vector2,s=new THREE.Vector3,u=new THREE.Vector3,x=new THREE.Vector3;return function(s,x){var w=this.geometry,z=this.material,A=this.matrixWorld;if(void 0!==z&&(null===w.boundingSphere&&w.computeBoundingSphere(),f.copy(w.boundingSphere),f.applyMatrix4(A),!1!==s.ray.intersectsSphere(f)&&(d.getInverse(A),e.copy(s.ray).applyMatrix4(d),null===w.boundingBox||!1!==e.intersectsBox(w.boundingBox)))){var y,B;if(w instanceof THREE.BufferGeometry){var J,D,z=w.index,A=w.attributes,w=A.position.array;
void 0!==A.uv&&(y=A.uv.array);if(null!==z)for(var A=z.array,H=0,F=A.length;H<F;H+=3){if(z=A[H],J=A[H+1],D=A[H+2],B=c(this,s,e,w,y,z,J,D))B.faceIndex=Math.floor(H/3),x.push(B)}else for(H=0,F=w.length;H<F;H+=9)if(z=H/3,J=z+1,D=z+2,B=c(this,s,e,w,y,z,J,D))B.index=z,x.push(B)}else if(w instanceof THREE.Geometry){var N,P,A=z instanceof THREE.MultiMaterial,H=!0===A?z.materials:null,F=w.vertices;J=w.faces;D=w.faceVertexUvs[0];0<D.length&&(y=D);for(var L=0,O=J.length;L<O;L++){var K=J[L];B=!0===A?H[K.materialIndex]:
z;if(void 0!==B){D=F[K.a];N=F[K.b];P=F[K.c];if(!0===B.morphTargets){B=w.morphTargets;var I=this.morphTargetInfluences;g.set(0,0,0);h.set(0,0,0);k.set(0,0,0);for(var G=0,Q=B.length;G<Q;G++){var R=I[G];if(0!==R){var E=B[G].vertices;g.addScaledVector(l.subVectors(E[K.a],D),R);h.addScaledVector(n.subVectors(E[K.b],N),R);k.addScaledVector(p.subVectors(E[K.c],P),R)}}g.add(D);h.add(N);k.add(P);D=g;N=h;P=k}if(B=b(this,s,e,D,N,P,u))y&&(I=y[L],m.copy(I[0]),q.copy(I[1]),r.copy(I[2]),B.uv=a(u,D,N,P,m,q,r)),B.face=
K,B.faceIndex=L,x.push(B)}}}}}}();THREE.Mesh.prototype.clone=function(){return(new this.constructor(this.geometry,this.material)).copy(this)};THREE.Bone=function(a){THREE.Object3D.call(this);this.type="Bone";this.skin=a};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.copy=function(a){THREE.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this};
THREE.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new THREE.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=THREE.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)):
this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new THREE.Matrix4)};
THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new THREE.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}};
THREE.Skeleton.prototype.pose=function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)};
THREE.Skeleton.prototype.update=function(){var a=new THREE.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)a.multiplyMatrices(this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}();THREE.Skeleton.prototype.clone=function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)};
THREE.SkinnedMesh=function(a,b,c){THREE.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new THREE.Matrix4;this.bindMatrixInverse=new THREE.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new THREE.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(f=this.geometry.bones.length;e<f;++e)d=
this.geometry.bones[e],-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new THREE.Skeleton(a,void 0,c),this.matrixWorld)};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;
THREE.SkinnedMesh.prototype.bind=function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)};THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()};
THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof THREE.BufferGeometry)for(var b=new THREE.Vector4,d=this.geometry.attributes.skinWeight,a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):
b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(a){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)};THREE.SkinnedMesh.prototype.clone=function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)};
THREE.LOD=function(){THREE.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)};
THREE.LOD.prototype.getObjectForDistance=function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-1].object};THREE.LOD.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}();
THREE.LOD.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=!1}}}();
THREE.LOD.prototype.copy=function(a){THREE.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this};THREE.LOD.prototype.toJSON=function(a){a=THREE.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a};
THREE.Sprite=function(){var a=new Uint16Array([0,1,2,0,2,3]),b=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),c=new Float32Array([0,0,1,0,1,1,0,1]),d=new THREE.BufferGeometry;d.setIndex(new THREE.BufferAttribute(a,1));d.addAttribute("position",new THREE.BufferAttribute(b,3));d.addAttribute("uv",new THREE.BufferAttribute(c,2));return function(a){THREE.Object3D.call(this);this.type="Sprite";this.geometry=d;this.material=void 0!==a?a:new THREE.SpriteMaterial}}();THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);
THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.distanceSqToPoint(a);d>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(d),point:this.position,face:null,object:this})}}();THREE.Sprite.prototype.clone=function(){return(new this.constructor(this.material)).copy(this)};THREE.Particle=THREE.Sprite;
THREE.LensFlare=function(a,b,c,d,e){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;
THREE.LensFlare.prototype.add=function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new THREE.Color(16777215));void 0===d&&(d=THREE.NormalBlending);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:e,blending:d})};
THREE.LensFlare.prototype.updateLensFlares=function(){var a,b=this.lensFlares.length,c,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++)c=this.lensFlares[a],c.x=this.positionScreen.x+d*c.distance,c.y=this.positionScreen.y+e*c.distance,c.wantedRotation=c.x*Math.PI*.25,c.rotation+=.25*(c.wantedRotation-c.rotation)};
THREE.LensFlare.prototype.copy=function(a){THREE.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this};THREE.Scene=function(){THREE.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.constructor=THREE.Scene;
THREE.Scene.prototype.copy=function(a,b){THREE.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};THREE.Fog=function(a,b,c){this.name="";this.color=new THREE.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};
THREE.FogExp2=function(a,b){this.name="";this.color=new THREE.Color(a);this.density=void 0!==b?b:2.5E-4};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={};THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";
THREE.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";THREE.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";
THREE.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n";THREE.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n";THREE.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
THREE.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n";THREE.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
THREE.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";THREE.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";THREE.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
THREE.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\nconst float cubeUV_textureSize = 1024.0;\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\nfloat cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;\nfloat cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\nfloat cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;\nconst float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\nfloat cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
THREE.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";THREE.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";THREE.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
THREE.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";THREE.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";THREE.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
THREE.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
THREE.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
THREE.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";THREE.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
THREE.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
THREE.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
THREE.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";THREE.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
THREE.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";THREE.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
THREE.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";
THREE.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";THREE.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n";
THREE.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
THREE.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
THREE.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nvec4 packDepthToRGBA( const in float value ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( value * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nfloat unpackRGBAToDepth( const in vec4 rgba ) {\n\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\treturn dot( rgba, bitSh );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
THREE.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";THREE.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";THREE.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n";
THREE.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
THREE.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n";THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";THREE.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";
THREE.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
THREE.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";THREE.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";THREE.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";THREE.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
THREE.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";THREE.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
THREE.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e instanceof THREE.Color||e instanceof THREE.Vector2||e instanceof THREE.Vector3||e instanceof THREE.Vector4||e instanceof THREE.Matrix3||e instanceof THREE.Matrix4||e instanceof THREE.Texture?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}};
THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)}}};THREE.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n";
THREE.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
THREE.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
THREE.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";THREE.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n";
THREE.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n";
THREE.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
THREE.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n";
THREE.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n";
THREE.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n";
THREE.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";
THREE.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
THREE.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
THREE.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";
THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.meshbasic_vert,fragmentShader:THREE.ShaderChunk.meshbasic_frag},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{type:"c",value:new THREE.Color(0)}}]),vertexShader:THREE.ShaderChunk.meshlambert_vert,
fragmentShader:THREE.ShaderChunk.meshlambert_frag},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:THREE.ShaderChunk.meshphong_vert,
fragmentShader:THREE.ShaderChunk.meshphong_frag},standard:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.roughnessmap,THREE.UniformsLib.metalnessmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{type:"c",value:new THREE.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},
envMapIntensity:{type:"1f",value:1}}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag},points:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.points,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.points_vert,fragmentShader:THREE.ShaderChunk.points_frag},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),
vertexShader:THREE.ShaderChunk.linedashed_vert,fragmentShader:THREE.ShaderChunk.linedashed_frag},depth:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.displacementmap]),vertexShader:THREE.ShaderChunk.depth_vert,fragmentShader:THREE.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:THREE.ShaderChunk.normal_vert,fragmentShader:THREE.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:THREE.ShaderChunk.cube_vert,
fragmentShader:THREE.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:THREE.ShaderChunk.equirect_vert,fragmentShader:THREE.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new THREE.Vector3}},vertexShader:THREE.ShaderChunk.distanceRGBA_vert,fragmentShader:THREE.ShaderChunk.distanceRGBA_frag}};
THREE.ShaderLib.physical={uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.standard.uniforms,{}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag};
THREE.WebGLRenderer=function(a){function b(a,b,c,d){!0===G&&(a*=d,b*=d,c*=d);M.clearColor(a,b,c,d)}function c(){M.init();M.scissor(ua.copy(Fa).multiplyScalar($));M.viewport(la.copy(ma).multiplyScalar($));b(aa.r,aa.g,aa.b,ja)}function d(){ga=ca=null;na="";oa=-1;M.reset()}function e(a){a.preventDefault();d();c();U.clear()}function f(a){a=a.target;a.removeEventListener("dispose",f);a:{var b=U.get(a);if(a.image&&b.__image__webglTextureCube)t.deleteTexture(b.__image__webglTextureCube);else{if(void 0===
b.__webglInit)break a;t.deleteTexture(b.__webglTexture)}U.delete(a)}ka.textures--}function g(a){a=a.target;a.removeEventListener("dispose",g);var b=U.get(a),c=U.get(a.texture);if(a){void 0!==c.__webglTexture&&t.deleteTexture(c.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a instanceof THREE.WebGLRenderTargetCube)for(c=0;6>c;c++)t.deleteFramebuffer(b.__webglFramebuffer[c]),b.__webglDepthbuffer&&t.deleteRenderbuffer(b.__webglDepthbuffer[c]);else t.deleteFramebuffer(b.__webglFramebuffer),
b.__webglDepthbuffer&&t.deleteRenderbuffer(b.__webglDepthbuffer);U.delete(a.texture);U.delete(a)}ka.textures--}function h(a){a=a.target;a.removeEventListener("dispose",h);k(a);U.delete(a)}function k(a){var b=U.get(a).program;a.program=void 0;void 0!==b&&pa.releaseProgram(b)}function l(a,b){return Math.abs(b[0])-Math.abs(a[0])}function n(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==
b.z?a.z-b.z:a.id-b.id}function p(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function m(a,b,c,d,e){var f;c.transparent?(d=T,f=++X):(d=E,f=++Z);f=d[f];void 0!==f?(f.id=a.id,f.object=a,f.geometry=b,f.material=c,f.z=Y.z,f.group=e):(f={id:a.id,object:a,geometry:b,material:c,z:Y.z,group:e},d.push(f))}function q(a){var b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();var c=Ma.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);
if(!Ha.intersectsSphere(c))return!1;if(0===da)return!0;a=W.clippingPlanes;var b=c.center,c=-c.radius,d=0;do if(a[d].distanceToPoint(b)<c)return!1;while(++d!==da);return!0}function r(a,b){if(!1!==a.visible){if(a.layers.test(b.layers))if(a instanceof THREE.Light)R.push(a);else if(a instanceof THREE.Sprite)!1!==a.frustumCulled&&!0!==q(a)||ha.push(a);else if(a instanceof THREE.LensFlare)qa.push(a);else if(a instanceof THREE.ImmediateRenderObject)!0===W.sortObjects&&(Y.setFromMatrixPosition(a.matrixWorld),
Y.applyProjection(va)),m(a,null,a.material,Y.z,null);else if(a instanceof THREE.Mesh||a instanceof THREE.Line||a instanceof THREE.Points)if(a instanceof THREE.SkinnedMesh&&a.skeleton.update(),!1===a.frustumCulled||!0===q(a)){var c=a.material;if(!0===c.visible){!0===W.sortObjects&&(Y.setFromMatrixPosition(a.matrixWorld),Y.applyProjection(va));var d=ra.update(a);if(c instanceof THREE.MultiMaterial)for(var e=d.groups,f=c.materials,c=0,g=e.length;c<g;c++){var h=e[c],k=f[h.materialIndex];!0===k.visible&&
m(a,d,k,Y.z,h)}else m(a,d,c,Y.z,null)}}d=a.children;c=0;for(g=d.length;c<g;c++)r(d[c],b)}}function s(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,k=g.geometry,m=void 0===d?g.material:d,g=g.group;h.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,h.matrixWorld);h.normalMatrix.getNormalMatrix(h.modelViewMatrix);if(h instanceof THREE.ImmediateRenderObject){u(m);var l=x(b,c,m,h);na="";h.render(function(a){W.renderBufferImmediate(a,l,m)})}else W.renderBufferDirect(b,c,k,m,h,g)}}
function u(a){a.side!==THREE.DoubleSide?M.enable(t.CULL_FACE):M.disable(t.CULL_FACE);M.setFlipSided(a.side===THREE.BackSide);!0===a.transparent?M.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):M.setBlending(THREE.NoBlending);M.setDepthFunc(a.depthFunc);M.setDepthTest(a.depthTest);M.setDepthWrite(a.depthWrite);M.setColorWrite(a.colorWrite);M.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}
function x(a,b,c,d){wa=0;var e=U.get(c);if(xa){if(ya||a!==ga){var f=c.clippingPlanes,g=a===ga&&c.id===oa;if(!ya||null===f||0===f.length||sa&&!c.clipShadows)sa?C(null):w();else{var m=sa?0:ta,l=4*m,n=e.clippingState||null;fa.value=n;n=C(f,a,l,g);for(f=0;f!==l;++f)n[f]=za[f];e.clippingState=n;da+=m}}void 0!==e.numClippingPlanes&&e.numClippingPlanes!==da&&(c.needsUpdate=!0)}void 0===e.program&&(c.needsUpdate=!0);void 0!==e.lightsHash&&e.lightsHash!==S.hash&&(c.needsUpdate=!0);if(c.needsUpdate){a:{m=U.get(c);
l=pa.getParameters(c,S,b,da,d);n=pa.getProgramCode(c,l);f=m.program;g=!0;if(void 0===f)c.addEventListener("dispose",h);else if(f.code!==n)k(c);else if(void 0!==l.shaderID)break a;else g=!1;g&&(l.shaderID?(f=THREE.ShaderLib[l.shaderID],m.__webglShader={name:c.type,uniforms:THREE.UniformsUtils.clone(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}):m.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=m.__webglShader,
f=pa.acquireProgram(c,l,n),m.program=f,c.program=f);l=f.getAttributes();if(c.morphTargets)for(n=c.numSupportedMorphTargets=0;n<W.maxMorphTargets;n++)0<=l["morphTarget"+n]&&c.numSupportedMorphTargets++;if(c.morphNormals)for(n=c.numSupportedMorphNormals=0;n<W.maxMorphNormals;n++)0<=l["morphNormal"+n]&&c.numSupportedMorphNormals++;l=m.__webglShader.uniforms;(c instanceof THREE.ShaderMaterial||c instanceof THREE.RawShaderMaterial)&&!0!==c.clipping||(m.numClippingPlanes=da,l.clippingPlanes=fa);if(c instanceof
THREE.MeshPhongMaterial||c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshStandardMaterial||c.lights)m.lightsHash=S.hash,l.ambientLightColor.value=S.ambient,l.directionalLights.value=S.directional,l.spotLights.value=S.spot,l.pointLights.value=S.point,l.hemisphereLights.value=S.hemi,l.directionalShadowMap.value=S.directionalShadowMap,l.directionalShadowMatrix.value=S.directionalShadowMatrix,l.spotShadowMap.value=S.spotShadowMap,l.spotShadowMatrix.value=S.spotShadowMatrix,l.pointShadowMap.value=
S.pointShadowMap,l.pointShadowMatrix.value=S.pointShadowMatrix;n=m.program.getUniforms();n=THREE.WebGLUniforms.seqWithValue(n.seq,l);m.uniformsList=n;m.dynamicUniforms=THREE.WebGLUniforms.splitDynamic(n,l)}c.needsUpdate=!1}var p=!1,g=f=!1,m=e.program,n=m.getUniforms(),l=e.__webglShader.uniforms;m.id!==ca&&(t.useProgram(m.program),ca=m.id,g=f=p=!0);c.id!==oa&&(oa=c.id,f=!0);if(p||a!==ga){n.set(t,a,"projectionMatrix");ea.logarithmicDepthBuffer&&n.setValue(t,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));
a!==ga&&(ga=a,g=f=!0);if(c instanceof THREE.ShaderMaterial||c instanceof THREE.MeshPhongMaterial||c instanceof THREE.MeshStandardMaterial||c.envMap)p=n.map.cameraPosition,void 0!==p&&p.setValue(t,Y.setFromMatrixPosition(a.matrixWorld));(c instanceof THREE.MeshPhongMaterial||c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshBasicMaterial||c instanceof THREE.MeshStandardMaterial||c instanceof THREE.ShaderMaterial||c.skinning)&&n.setValue(t,"viewMatrix",a.matrixWorldInverse);n.set(t,W,"toneMappingExposure");
n.set(t,W,"toneMappingWhitePoint")}c.skinning&&(n.setOptional(t,d,"bindMatrix"),n.setOptional(t,d,"bindMatrixInverse"),p=d.skeleton)&&(ea.floatVertexTextures&&p.useVertexTexture?(n.set(t,p,"boneTexture"),n.set(t,p,"boneTextureWidth"),n.set(t,p,"boneTextureHeight")):n.setOptional(t,p,"boneMatrices"));if(f){if(c instanceof THREE.MeshPhongMaterial||c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshStandardMaterial||c.lights)f=g,l.ambientLightColor.needsUpdate=f,l.directionalLights.needsUpdate=
f,l.pointLights.needsUpdate=f,l.spotLights.needsUpdate=f,l.hemisphereLights.needsUpdate=f;b&&c.fog&&(l.fogColor.value=b.color,b instanceof THREE.Fog?(l.fogNear.value=b.near,l.fogFar.value=b.far):b instanceof THREE.FogExp2&&(l.fogDensity.value=b.density));if(c instanceof THREE.MeshBasicMaterial||c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshPhongMaterial||c instanceof THREE.MeshStandardMaterial||c instanceof THREE.MeshDepthMaterial){l.opacity.value=c.opacity;l.diffuse.value=c.color;
c.emissive&&l.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);l.map.value=c.map;l.specularMap.value=c.specularMap;l.alphaMap.value=c.alphaMap;c.aoMap&&(l.aoMap.value=c.aoMap,l.aoMapIntensity.value=c.aoMapIntensity);var q;c.map?q=c.map:c.specularMap?q=c.specularMap:c.displacementMap?q=c.displacementMap:c.normalMap?q=c.normalMap:c.bumpMap?q=c.bumpMap:c.roughnessMap?q=c.roughnessMap:c.metalnessMap?q=c.metalnessMap:c.alphaMap?q=c.alphaMap:c.emissiveMap&&(q=c.emissiveMap);void 0!==
q&&(q instanceof THREE.WebGLRenderTarget&&(q=q.texture),b=q.offset,q=q.repeat,l.offsetRepeat.value.set(b.x,b.y,q.x,q.y));l.envMap.value=c.envMap;l.flipEnvMap.value=c.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;l.reflectivity.value=c.reflectivity;l.refractionRatio.value=c.refractionRatio}c instanceof THREE.LineBasicMaterial?(l.diffuse.value=c.color,l.opacity.value=c.opacity):c instanceof THREE.LineDashedMaterial?(l.diffuse.value=c.color,l.opacity.value=c.opacity,l.dashSize.value=c.dashSize,
l.totalSize.value=c.dashSize+c.gapSize,l.scale.value=c.scale):c instanceof THREE.PointsMaterial?(l.diffuse.value=c.color,l.opacity.value=c.opacity,l.size.value=c.size*$,l.scale.value=.5*N.clientHeight,l.map.value=c.map,null!==c.map&&(q=c.map.offset,c=c.map.repeat,l.offsetRepeat.value.set(q.x,q.y,c.x,c.y))):c instanceof THREE.MeshLambertMaterial?(c.lightMap&&(l.lightMap.value=c.lightMap,l.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(l.emissiveMap.value=c.emissiveMap)):c instanceof THREE.MeshPhongMaterial?
(l.specular.value=c.specular,l.shininess.value=Math.max(c.shininess,1E-4),c.lightMap&&(l.lightMap.value=c.lightMap,l.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(l.emissiveMap.value=c.emissiveMap),c.bumpMap&&(l.bumpMap.value=c.bumpMap,l.bumpScale.value=c.bumpScale),c.normalMap&&(l.normalMap.value=c.normalMap,l.normalScale.value.copy(c.normalScale)),c.displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias)):
c instanceof THREE.MeshPhysicalMaterial?v(l,c):c instanceof THREE.MeshStandardMaterial?v(l,c):c instanceof THREE.MeshDepthMaterial?c.displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias):c instanceof THREE.MeshNormalMaterial&&(l.opacity.value=c.opacity);THREE.WebGLUniforms.upload(t,e.uniformsList,l,W)}n.set(t,d,"modelViewMatrix");n.set(t,d,"normalMatrix");n.setValue(t,"modelMatrix",d.matrixWorld);e=e.dynamicUniforms;
null!==e&&(THREE.WebGLUniforms.evalDynamic(e,l,d,a),THREE.WebGLUniforms.upload(t,e,l,W));return m}function v(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&
(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function C(a,b,c,d){var e=null!==a?a.length:0,f=null;if(0!==e){f=fa.value;if(!0!==d||null===f){var g=c+4*e;b=b.matrixWorldInverse;d=Na.getNormalMatrix(b);if(null===f||f.length<g)f=new Float32Array(g);for(g=0;g!==e;++g,c+=4){var h=
Oa.copy(a[g]).applyMatrix4(b,d);h.normal.toArray(f,c);f[c+3]=h.constant}}fa.value=f;fa.needsUpdate=!0}da=e;return f}function w(){fa.value!==za&&(fa.value=za,fa.needsUpdate=0<ta);da=ta}function z(a,b,c){c?(t.texParameteri(a,t.TEXTURE_WRAP_S,F(b.wrapS)),t.texParameteri(a,t.TEXTURE_WRAP_T,F(b.wrapT)),t.texParameteri(a,t.TEXTURE_MAG_FILTER,F(b.magFilter)),t.texParameteri(a,t.TEXTURE_MIN_FILTER,F(b.minFilter))):(t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),
b.wrapS===THREE.ClampToEdgeWrapping&&b.wrapT===THREE.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",b),t.texParameteri(a,t.TEXTURE_MAG_FILTER,H(b.magFilter)),t.texParameteri(a,t.TEXTURE_MIN_FILTER,H(b.minFilter)),b.minFilter!==THREE.NearestFilter&&b.minFilter!==THREE.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",
b));!(c=V.get("EXT_texture_filter_anisotropic"))||b.type===THREE.FloatType&&null===V.get("OES_texture_float_linear")||b.type===THREE.HalfFloatType&&null===V.get("OES_texture_half_float_linear")||!(1<b.anisotropy||U.get(b).__currentAnisotropy)||(t.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,W.getMaxAnisotropy())),U.get(b).__currentAnisotropy=b.anisotropy)}function A(a,b){a instanceof THREE.WebGLRenderTarget&&(a=a.texture);var c=U.get(a);if(0<a.version&&c.__version!==a.version){var d=
a.image;if(void 0===d)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",a);else if(!1===d.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",a);else{d=a;void 0===c.__webglInit&&(c.__webglInit=!0,d.addEventListener("dispose",f),c.__webglTexture=t.createTexture(),ka.textures++);M.activeTexture(t.TEXTURE0+b);M.bindTexture(t.TEXTURE_2D,c.__webglTexture);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,d.flipY);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
d.premultiplyAlpha);t.pixelStorei(t.UNPACK_ALIGNMENT,d.unpackAlignment);var e=y(d.image,ea.maxTextureSize);if((d.wrapS!==THREE.ClampToEdgeWrapping||d.wrapT!==THREE.ClampToEdgeWrapping||d.minFilter!==THREE.NearestFilter&&d.minFilter!==THREE.LinearFilter)&&!1===B(e)){var g=e;if(g instanceof HTMLImageElement||g instanceof HTMLCanvasElement){var h=document.createElement("canvas");h.width=THREE.Math.nearestPowerOfTwo(g.width);h.height=THREE.Math.nearestPowerOfTwo(g.height);h.getContext("2d").drawImage(g,
0,0,h.width,h.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+g.width+"x"+g.height+"). Resized to "+h.width+"x"+h.height,g);e=h}else e=g}var g=B(e),h=F(d.format),k=F(d.type);z(t.TEXTURE_2D,d,g);var l=d.mipmaps;if(d instanceof THREE.DepthTexture){l=t.DEPTH_COMPONENT;if(d.type===THREE.FloatType){if(!Ia)throw Error("Float Depth Texture only supported in WebGL2.0");l=t.DEPTH_COMPONENT32F}else Ia&&(l=t.DEPTH_COMPONENT16);M.texImage2D(t.TEXTURE_2D,0,l,e.width,e.height,0,h,k,null)}else if(d instanceof
THREE.DataTexture)if(0<l.length&&g){for(var m=0,n=l.length;m<n;m++)e=l[m],M.texImage2D(t.TEXTURE_2D,m,h,e.width,e.height,0,h,k,e.data);d.generateMipmaps=!1}else M.texImage2D(t.TEXTURE_2D,0,h,e.width,e.height,0,h,k,e.data);else if(d instanceof THREE.CompressedTexture)for(m=0,n=l.length;m<n;m++)e=l[m],d.format!==THREE.RGBAFormat&&d.format!==THREE.RGBFormat?-1<M.getCompressedTextureFormats().indexOf(h)?M.compressedTexImage2D(t.TEXTURE_2D,m,h,e.width,e.height,0,e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):
M.texImage2D(t.TEXTURE_2D,m,h,e.width,e.height,0,h,k,e.data);else if(0<l.length&&g){m=0;for(n=l.length;m<n;m++)e=l[m],M.texImage2D(t.TEXTURE_2D,m,h,h,k,e);d.generateMipmaps=!1}else M.texImage2D(t.TEXTURE_2D,0,h,h,k,e);d.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_2D);c.__version=d.version;if(d.onUpdate)d.onUpdate(d)}}else M.activeTexture(t.TEXTURE0+b),M.bindTexture(t.TEXTURE_2D,c.__webglTexture)}function y(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElement("canvas");
d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+d.width+"x"+d.height,a);return d}return a}function B(a){return THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height)}function J(a,b,c,d){var e=F(b.texture.format),f=F(b.texture.type);M.texImage2D(d,0,e,b.width,b.height,0,e,f,null);t.bindFramebuffer(t.FRAMEBUFFER,
a);t.framebufferTexture2D(t.FRAMEBUFFER,c,d,U.get(b.texture).__webglTexture,0);t.bindFramebuffer(t.FRAMEBUFFER,null)}function D(a,b){t.bindRenderbuffer(t.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,b.width,b.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,b.width,b.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,
t.RENDERBUFFER,a)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,b.width,b.height);t.bindRenderbuffer(t.RENDERBUFFER,null)}function H(a){return a===THREE.NearestFilter||a===THREE.NearestMipMapNearestFilter||a===THREE.NearestMipMapLinearFilter?t.NEAREST:t.LINEAR}function F(a){var b;if(a===THREE.RepeatWrapping)return t.REPEAT;if(a===THREE.ClampToEdgeWrapping)return t.CLAMP_TO_EDGE;if(a===THREE.MirroredRepeatWrapping)return t.MIRRORED_REPEAT;if(a===THREE.NearestFilter)return t.NEAREST;if(a===THREE.NearestMipMapNearestFilter)return t.NEAREST_MIPMAP_NEAREST;
if(a===THREE.NearestMipMapLinearFilter)return t.NEAREST_MIPMAP_LINEAR;if(a===THREE.LinearFilter)return t.LINEAR;if(a===THREE.LinearMipMapNearestFilter)return t.LINEAR_MIPMAP_NEAREST;if(a===THREE.LinearMipMapLinearFilter)return t.LINEAR_MIPMAP_LINEAR;if(a===THREE.UnsignedByteType)return t.UNSIGNED_BYTE;if(a===THREE.UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(a===THREE.UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(a===THREE.UnsignedShort565Type)return t.UNSIGNED_SHORT_5_6_5;
if(a===THREE.ByteType)return t.BYTE;if(a===THREE.ShortType)return t.SHORT;if(a===THREE.UnsignedShortType)return t.UNSIGNED_SHORT;if(a===THREE.IntType)return t.INT;if(a===THREE.UnsignedIntType)return t.UNSIGNED_INT;if(a===THREE.FloatType)return t.FLOAT;b=V.get("OES_texture_half_float");if(null!==b&&a===THREE.HalfFloatType)return b.HALF_FLOAT_OES;if(a===THREE.AlphaFormat)return t.ALPHA;if(a===THREE.RGBFormat)return t.RGB;if(a===THREE.RGBAFormat)return t.RGBA;if(a===THREE.LuminanceFormat)return t.LUMINANCE;
if(a===THREE.LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(a===THREE.DepthFormat)return t.DEPTH_COMPONENT;if(a===THREE.AddEquation)return t.FUNC_ADD;if(a===THREE.SubtractEquation)return t.FUNC_SUBTRACT;if(a===THREE.ReverseSubtractEquation)return t.FUNC_REVERSE_SUBTRACT;if(a===THREE.ZeroFactor)return t.ZERO;if(a===THREE.OneFactor)return t.ONE;if(a===THREE.SrcColorFactor)return t.SRC_COLOR;if(a===THREE.OneMinusSrcColorFactor)return t.ONE_MINUS_SRC_COLOR;if(a===THREE.SrcAlphaFactor)return t.SRC_ALPHA;
if(a===THREE.OneMinusSrcAlphaFactor)return t.ONE_MINUS_SRC_ALPHA;if(a===THREE.DstAlphaFactor)return t.DST_ALPHA;if(a===THREE.OneMinusDstAlphaFactor)return t.ONE_MINUS_DST_ALPHA;if(a===THREE.DstColorFactor)return t.DST_COLOR;if(a===THREE.OneMinusDstColorFactor)return t.ONE_MINUS_DST_COLOR;if(a===THREE.SrcAlphaSaturateFactor)return t.SRC_ALPHA_SATURATE;b=V.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===THREE.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===THREE.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;
if(a===THREE.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===THREE.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=V.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===THREE.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===THREE.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===THREE.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===THREE.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=
V.get("WEBGL_compressed_texture_etc1");if(null!==b&&a===THREE.RGB_ETC1_Format)return b.COMPRESSED_RGB_ETC1_WEBGL;b=V.get("EXT_blend_minmax");if(null!==b){if(a===THREE.MinEquation)return b.MIN_EXT;if(a===THREE.MaxEquation)return b.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION);a=a||{};var N=void 0!==a.canvas?a.canvas:document.createElement("canvas"),P=void 0!==a.context?a.context:null,L=void 0!==a.alpha?a.alpha:!1,O=void 0!==a.depth?a.depth:!0,K=void 0!==a.stencil?a.stencil:!0,
I=void 0!==a.antialias?a.antialias:!1,G=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,Q=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,R=[],E=[],Z=-1,T=[],X=-1,ba=new Float32Array(8),ha=[],qa=[];this.domElement=N;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=
THREE.LinearToneMapping;this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var W=this,ca=null,Aa=null,Ba=null,oa=-1,na="",ga=null,ua=new THREE.Vector4,Ga=null,la=new THREE.Vector4,wa=0,aa=new THREE.Color(0),ja=0,Ca=N.width,Da=N.height,$=1,Fa=new THREE.Vector4(0,0,Ca,Da),Ja=!1,ma=new THREE.Vector4(0,0,Ca,Da),Ha=new THREE.Frustum,xa=!1,ya=!1,sa=!1,da=0,fa={type:"4fv",value:null,needsUpdate:!1},za=null,ta=0,Na=new THREE.Matrix3,
Ma=new THREE.Sphere,Oa=new THREE.Plane,va=new THREE.Matrix4,Y=new THREE.Vector3,S={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},ka={geometries:0,textures:0},ia={calls:0,vertices:0,faces:0,points:0};this.info={render:ia,memory:ka,programs:null};var t;try{L={alpha:L,depth:O,stencil:K,antialias:I,premultipliedAlpha:G,preserveDrawingBuffer:Q};t=
P||N.getContext("webgl",L)||N.getContext("experimental-webgl",L);if(null===t){if(null!==N.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";}void 0===t.getShaderPrecisionFormat&&(t.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});N.addEventListener("webglcontextlost",e,!1)}catch(Pa){console.error("THREE.WebGLRenderer: "+Pa)}var Ia="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,
V=new THREE.WebGLExtensions(t);V.get("WEBGL_depth_texture");V.get("OES_texture_float");V.get("OES_texture_float_linear");V.get("OES_texture_half_float");V.get("OES_texture_half_float_linear");V.get("OES_standard_derivatives");V.get("ANGLE_instanced_arrays");V.get("OES_element_index_uint")&&(THREE.BufferGeometry.MaxIndex=4294967296);var ea=new THREE.WebGLCapabilities(t,V,a),M=new THREE.WebGLState(t,V,F),U=new THREE.WebGLProperties,ra=new THREE.WebGLObjects(t,U,this.info),pa=new THREE.WebGLPrograms(this,
ea),Ea=new THREE.WebGLLights;this.info.programs=pa.programs;var Qa=new THREE.WebGLBufferRenderer(t,V,ia),Ra=new THREE.WebGLIndexedBufferRenderer(t,V,ia);c();this.context=t;this.capabilities=ea;this.extensions=V;this.properties=U;this.state=M;var Ka=new THREE.WebGLShadowMap(this,S,ra);this.shadowMap=Ka;var Sa=new THREE.SpritePlugin(this,ha),Ta=new THREE.LensFlarePlugin(this,qa);this.getContext=function(){return t};this.getContextAttributes=function(){return t.getContextAttributes()};this.forceContextLoss=
function(){V.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=V.get("EXT_texture_filter_anisotropic");return a=null!==b?t.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}();this.getPrecision=function(){return ea.precision};this.getPixelRatio=function(){return $};this.setPixelRatio=function(a){void 0!==a&&($=a,this.setSize(ma.z,ma.w,!1))};this.getSize=function(){return{width:Ca,height:Da}};this.setSize=function(a,b,c){Ca=
a;Da=b;N.width=a*$;N.height=b*$;!1!==c&&(N.style.width=a+"px",N.style.height=b+"px");this.setViewport(0,0,a,b)};this.setViewport=function(a,b,c,d){M.viewport(ma.set(a,b,c,d))};this.setScissor=function(a,b,c,d){M.scissor(Fa.set(a,b,c,d))};this.setScissorTest=function(a){M.setScissorTest(Ja=a)};this.getClearColor=function(){return aa};this.setClearColor=function(a,c){aa.set(a);ja=void 0!==c?c:1;b(aa.r,aa.g,aa.b,ja)};this.getClearAlpha=function(){return ja};this.setClearAlpha=function(a){ja=a;b(aa.r,
aa.g,aa.b,ja)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=t.COLOR_BUFFER_BIT;if(void 0===b||b)d|=t.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=t.STENCIL_BUFFER_BIT;t.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=d;this.dispose=function(){N.removeEventListener("webglcontextlost",e,!1)};this.renderBufferImmediate=
function(a,b,c){M.initAttributes();var d=U.get(a);a.hasPositions&&!d.position&&(d.position=t.createBuffer());a.hasNormals&&!d.normal&&(d.normal=t.createBuffer());a.hasUvs&&!d.uv&&(d.uv=t.createBuffer());a.hasColors&&!d.color&&(d.color=t.createBuffer());b=b.getAttributes();a.hasPositions&&(t.bindBuffer(t.ARRAY_BUFFER,d.position),t.bufferData(t.ARRAY_BUFFER,a.positionArray,t.DYNAMIC_DRAW),M.enableAttribute(b.position),t.vertexAttribPointer(b.position,3,t.FLOAT,!1,0,0));if(a.hasNormals){t.bindBuffer(t.ARRAY_BUFFER,
d.normal);if("MeshPhongMaterial"!==c.type&&"MeshStandardMaterial"!==c.type&&"MeshPhysicalMaterial"!==c.type&&c.shading===THREE.FlatShading)for(var e=0,f=3*a.count;e<f;e+=9){var g=a.normalArray,h=(g[e+0]+g[e+3]+g[e+6])/3,k=(g[e+1]+g[e+4]+g[e+7])/3,l=(g[e+2]+g[e+5]+g[e+8])/3;g[e+0]=h;g[e+1]=k;g[e+2]=l;g[e+3]=h;g[e+4]=k;g[e+5]=l;g[e+6]=h;g[e+7]=k;g[e+8]=l}t.bufferData(t.ARRAY_BUFFER,a.normalArray,t.DYNAMIC_DRAW);M.enableAttribute(b.normal);t.vertexAttribPointer(b.normal,3,t.FLOAT,!1,0,0)}a.hasUvs&&c.map&&
(t.bindBuffer(t.ARRAY_BUFFER,d.uv),t.bufferData(t.ARRAY_BUFFER,a.uvArray,t.DYNAMIC_DRAW),M.enableAttribute(b.uv),t.vertexAttribPointer(b.uv,2,t.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==THREE.NoColors&&(t.bindBuffer(t.ARRAY_BUFFER,d.color),t.bufferData(t.ARRAY_BUFFER,a.colorArray,t.DYNAMIC_DRAW),M.enableAttribute(b.color),t.vertexAttribPointer(b.color,3,t.FLOAT,!1,0,0));M.disableUnusedAttributes();t.drawArrays(t.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){u(d);
var g=x(a,b,d,e),h=!1;a=c.id+"_"+g.id+"_"+d.wireframe;a!==na&&(na=a,h=!0);b=e.morphTargetInfluences;if(void 0!==b){a=[];for(var k=0,h=b.length;k<h;k++){var m=b[k];a.push([m,k])}a.sort(l);8<a.length&&(a.length=8);for(var n=c.morphAttributes,k=0,h=a.length;k<h;k++)m=a[k],ba[k]=m[0],0!==m[0]?(b=m[1],!0===d.morphTargets&&n.position&&c.addAttribute("morphTarget"+k,n.position[b]),!0===d.morphNormals&&n.normal&&c.addAttribute("morphNormal"+k,n.normal[b])):(!0===d.morphTargets&&c.removeAttribute("morphTarget"+
k),!0===d.morphNormals&&c.removeAttribute("morphNormal"+k));g.getUniforms().setValue(t,"morphTargetInfluences",ba);h=!0}b=c.index;k=c.attributes.position;!0===d.wireframe&&(b=ra.getWireframeAttribute(c));null!==b?(a=Ra,a.setIndex(b)):a=Qa;if(h){a:{var h=void 0,p;if(c instanceof THREE.InstancedBufferGeometry&&(p=V.get("ANGLE_instanced_arrays"),null===p)){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
break a}void 0===h&&(h=0);M.initAttributes();var m=c.attributes,g=g.getAttributes(),n=d.defaultAttributeValues,q;for(q in g){var r=g[q];if(0<=r){var s=m[q];if(void 0!==s){var w=t.FLOAT,v=s.array,I=s.normalized;v instanceof Float32Array?w=t.FLOAT:v instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):v instanceof Uint16Array?w=t.UNSIGNED_SHORT:v instanceof Int16Array?w=t.SHORT:v instanceof Uint32Array?w=t.UNSIGNED_INT:v instanceof Int32Array?w=t.INT:v instanceof Int8Array?
w=t.BYTE:v instanceof Uint8Array&&(w=t.UNSIGNED_BYTE);var v=s.itemSize,C=ra.getAttributeBuffer(s);if(s instanceof THREE.InterleavedBufferAttribute){var G=s.data,A=G.stride,s=s.offset;G instanceof THREE.InstancedInterleavedBuffer?(M.enableAttributeAndDivisor(r,G.meshPerAttribute,p),void 0===c.maxInstancedCount&&(c.maxInstancedCount=G.meshPerAttribute*G.count)):M.enableAttribute(r);t.bindBuffer(t.ARRAY_BUFFER,C);t.vertexAttribPointer(r,v,w,I,A*G.array.BYTES_PER_ELEMENT,(h*A+s)*G.array.BYTES_PER_ELEMENT)}else s instanceof
THREE.InstancedBufferAttribute?(M.enableAttributeAndDivisor(r,s.meshPerAttribute,p),void 0===c.maxInstancedCount&&(c.maxInstancedCount=s.meshPerAttribute*s.count)):M.enableAttribute(r),t.bindBuffer(t.ARRAY_BUFFER,C),t.vertexAttribPointer(r,v,w,I,0,h*v*s.array.BYTES_PER_ELEMENT)}else if(void 0!==n&&(w=n[q],void 0!==w))switch(w.length){case 2:t.vertexAttrib2fv(r,w);break;case 3:t.vertexAttrib3fv(r,w);break;case 4:t.vertexAttrib4fv(r,w);break;default:t.vertexAttrib1fv(r,w)}}}M.disableUnusedAttributes()}null!==
b&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,ra.getAttributeBuffer(b))}p=Infinity;null!==b?p=b.count:void 0!==k&&(p=k.count);q=c.drawRange.start;b=c.drawRange.count;k=null!==f?f.start:0;h=null!==f?f.count:Infinity;f=Math.max(0,q,k);p=Math.min(0+p,q+b,k+h)-1;p=Math.max(0,p-f+1);if(e instanceof THREE.Mesh)if(!0===d.wireframe)M.setLineWidth(d.wireframeLinewidth*(null===Aa?$:1)),a.setMode(t.LINES);else switch(e.drawMode){case THREE.TrianglesDrawMode:a.setMode(t.TRIANGLES);break;case THREE.TriangleStripDrawMode:a.setMode(t.TRIANGLE_STRIP);
break;case THREE.TriangleFanDrawMode:a.setMode(t.TRIANGLE_FAN)}else e instanceof THREE.Line?(d=d.linewidth,void 0===d&&(d=1),M.setLineWidth(d*(null===Aa?$:1)),e instanceof THREE.LineSegments?a.setMode(t.LINES):a.setMode(t.LINE_STRIP)):e instanceof THREE.Points&&a.setMode(t.POINTS);c instanceof THREE.InstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,f,p):a.render(f,p)};this.render=function(a,b,c,d){if(!1===b instanceof THREE.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else{var e=a.fog;na="";oa=-1;ga=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);va.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);Ha.setFromMatrix(va);R.length=0;X=Z=-1;ha.length=0;qa.length=0;var f=this.clippingPlanes;xa=0!==W.clippingPlanes.length||W.localClippingEnabled||0!==ta||ya;ya=W.localClippingEnabled;za=C(f,b,0);ta=null!==f?f.length:0;r(a,b);E.length=Z+1;T.length=X+1;!0===W.sortObjects&&(E.sort(n),
T.sort(p));xa&&(sa=!0,C(null));for(var f=R,g=0,h=0,k=f.length;h<k;h++){var l=f[h];l.castShadow&&(S.shadows[g++]=l)}S.shadows.length=g;Ka.render(a,b);for(var f=R,m=l=0,q=0,x,u,v,ba=b.matrixWorldInverse,I=0,G=0,A=0,y=0,g=0,h=f.length;g<h;g++)if(k=f[g],x=k.color,u=k.intensity,v=k.distance,k instanceof THREE.AmbientLight)l+=x.r*u,m+=x.g*u,q+=x.b*u;else if(k instanceof THREE.DirectionalLight){var z=Ea.get(k);z.color.copy(k.color).multiplyScalar(k.intensity);z.direction.setFromMatrixPosition(k.matrixWorld);
Y.setFromMatrixPosition(k.target.matrixWorld);z.direction.sub(Y);z.direction.transformDirection(ba);if(z.shadow=k.castShadow)z.shadowBias=k.shadow.bias,z.shadowRadius=k.shadow.radius,z.shadowMapSize=k.shadow.mapSize;S.directionalShadowMap[I]=k.shadow.map;S.directionalShadowMatrix[I]=k.shadow.matrix;S.directional[I++]=z}else if(k instanceof THREE.SpotLight){z=Ea.get(k);z.position.setFromMatrixPosition(k.matrixWorld);z.position.applyMatrix4(ba);z.color.copy(x).multiplyScalar(u);z.distance=v;z.direction.setFromMatrixPosition(k.matrixWorld);
Y.setFromMatrixPosition(k.target.matrixWorld);z.direction.sub(Y);z.direction.transformDirection(ba);z.coneCos=Math.cos(k.angle);z.penumbraCos=Math.cos(k.angle*(1-k.penumbra));z.decay=0===k.distance?0:k.decay;if(z.shadow=k.castShadow)z.shadowBias=k.shadow.bias,z.shadowRadius=k.shadow.radius,z.shadowMapSize=k.shadow.mapSize;S.spotShadowMap[A]=k.shadow.map;S.spotShadowMatrix[A]=k.shadow.matrix;S.spot[A++]=z}else if(k instanceof THREE.PointLight){z=Ea.get(k);z.position.setFromMatrixPosition(k.matrixWorld);
z.position.applyMatrix4(ba);z.color.copy(k.color).multiplyScalar(k.intensity);z.distance=k.distance;z.decay=0===k.distance?0:k.decay;if(z.shadow=k.castShadow)z.shadowBias=k.shadow.bias,z.shadowRadius=k.shadow.radius,z.shadowMapSize=k.shadow.mapSize;S.pointShadowMap[G]=k.shadow.map;void 0===S.pointShadowMatrix[G]&&(S.pointShadowMatrix[G]=new THREE.Matrix4);Y.setFromMatrixPosition(k.matrixWorld).negate();S.pointShadowMatrix[G].identity().setPosition(Y);S.point[G++]=z}else k instanceof THREE.HemisphereLight&&
(z=Ea.get(k),z.direction.setFromMatrixPosition(k.matrixWorld),z.direction.transformDirection(ba),z.direction.normalize(),z.skyColor.copy(k.color).multiplyScalar(u),z.groundColor.copy(k.groundColor).multiplyScalar(u),S.hemi[y++]=z);S.ambient[0]=l;S.ambient[1]=m;S.ambient[2]=q;S.directional.length=I;S.spot.length=A;S.point.length=G;S.hemi.length=y;S.hash=I+","+G+","+A+","+y+","+S.shadows.length;xa&&(sa=!1,w());ia.calls=0;ia.vertices=0;ia.faces=0;ia.points=0;void 0===c&&(c=null);this.setRenderTarget(c);
(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);a.overrideMaterial?(d=a.overrideMaterial,s(E,b,e,d),s(T,b,e,d)):(M.setBlending(THREE.NoBlending),s(E,b,e),s(T,b,e));Sa.render(a,b);Ta.render(a,b,la);c&&(a=c.texture,a.generateMipmaps&&B(c)&&a.minFilter!==THREE.NearestFilter&&a.minFilter!==THREE.LinearFilter&&(a=c instanceof THREE.WebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,c=U.get(c.texture).__webglTexture,M.bindTexture(a,c),t.generateMipmap(a),
M.bindTexture(a,null)));M.setDepthTest(!0);M.setDepthWrite(!0);M.setColorWrite(!0)}};this.setFaceCulling=function(a,b){a===THREE.CullFaceNone?M.disable(t.CULL_FACE):(b===THREE.FrontFaceDirectionCW?t.frontFace(t.CW):t.frontFace(t.CCW),a===THREE.CullFaceBack?t.cullFace(t.BACK):a===THREE.CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK),M.enable(t.CULL_FACE))};var La=!1;this.setTexture=function(a,b){La||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
La=!0);A(a,b)};this.allocTextureUnit=function(){var a=wa;a>=ea.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+ea.maxTextures);wa+=1;return a};this.setTexture2D=A;this.setTextureCube=function(a,b){if(a instanceof THREE.CubeTexture||Array.isArray(a.image)&&6===a.image.length){var c=U.get(a);if(6===a.image.length)if(0<a.version&&c.__version!==a.version){c.__image__webglTextureCube||(a.addEventListener("dispose",f),c.__image__webglTextureCube=
t.createTexture(),ka.textures++);M.activeTexture(t.TEXTURE0+b);M.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,a.flipY);for(var d=a instanceof THREE.CompressedTexture,e=a.image[0]instanceof THREE.DataTexture,g=[],h=0;6>h;h++)g[h]=!W.autoScaleCubemaps||d||e?e?a.image[h].image:a.image[h]:y(a.image[h],ea.maxCubemapSize);var k=B(g[0]),l=F(a.format),m=F(a.type);z(t.TEXTURE_CUBE_MAP,a,k);for(h=0;6>h;h++)if(d)for(var n,p=g[h].mipmaps,q=0,r=p.length;q<r;q++)n=
p[q],a.format!==THREE.RGBAFormat&&a.format!==THREE.RGBFormat?-1<M.getCompressedTextureFormats().indexOf(l)?M.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+h,q,l,n.width,n.height,0,n.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):M.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+h,q,l,n.width,n.height,0,l,m,n.data);else e?M.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,l,g[h].width,g[h].height,0,l,m,g[h].data):M.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+
h,0,l,l,m,g[h]);a.generateMipmaps&&k&&t.generateMipmap(t.TEXTURE_CUBE_MAP);c.__version=a.version;if(a.onUpdate)a.onUpdate(a)}else M.activeTexture(t.TEXTURE0+b),M.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}else c=a.texture,M.activeTexture(t.TEXTURE0+b),M.bindTexture(t.TEXTURE_CUBE_MAP,U.get(c).__webglTexture)};this.getCurrentRenderTarget=function(){return Aa};this.setRenderTarget=function(a){if((Aa=a)&&void 0===U.get(a).__webglFramebuffer){var b=U.get(a),c=U.get(a.texture);a.addEventListener("dispose",
g);c.__webglTexture=t.createTexture();ka.textures++;var d=a instanceof THREE.WebGLRenderTargetCube,e=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height);if(d){b.__webglFramebuffer=[];for(var f=0;6>f;f++)b.__webglFramebuffer[f]=t.createFramebuffer()}else b.__webglFramebuffer=t.createFramebuffer();if(d){M.bindTexture(t.TEXTURE_CUBE_MAP,c.__webglTexture);z(t.TEXTURE_CUBE_MAP,a.texture,e);for(f=0;6>f;f++)J(b.__webglFramebuffer[f],a,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+f);
a.texture.generateMipmaps&&e&&t.generateMipmap(t.TEXTURE_CUBE_MAP);M.bindTexture(t.TEXTURE_CUBE_MAP,null)}else M.bindTexture(t.TEXTURE_2D,c.__webglTexture),z(t.TEXTURE_2D,a.texture,e),J(b.__webglFramebuffer,a,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),a.texture.generateMipmaps&&e&&t.generateMipmap(t.TEXTURE_2D),M.bindTexture(t.TEXTURE_2D,null);if(a.depthBuffer){b=U.get(a);c=a instanceof THREE.WebGLRenderTargetCube;if(a.depthTexture){if(c)throw Error("target.depthTexture not supported in Cube render targets");
if(a instanceof THREE.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");t.bindFramebuffer(t.FRAMEBUFFER,b.__webglFramebuffer);if(!(a.depthTexture instanceof THREE.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");U.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=
!0);W.setTexture(a.depthTexture,0);b=U.get(a.depthTexture).__webglTexture;t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,b,0)}else if(c)for(b.__webglDepthbuffer=[],c=0;6>c;c++)t.bindFramebuffer(t.FRAMEBUFFER,b.__webglFramebuffer[c]),b.__webglDepthbuffer[c]=t.createRenderbuffer(),D(b.__webglDepthbuffer[c],a);else t.bindFramebuffer(t.FRAMEBUFFER,b.__webglFramebuffer),b.__webglDepthbuffer=t.createRenderbuffer(),D(b.__webglDepthbuffer,a);t.bindFramebuffer(t.FRAMEBUFFER,null)}}b=
a instanceof THREE.WebGLRenderTargetCube;a?(c=U.get(a),c=b?c.__webglFramebuffer[a.activeCubeFace]:c.__webglFramebuffer,ua.copy(a.scissor),Ga=a.scissorTest,la.copy(a.viewport)):(c=null,ua.copy(Fa).multiplyScalar($),Ga=Ja,la.copy(ma).multiplyScalar($));Ba!==c&&(t.bindFramebuffer(t.FRAMEBUFFER,c),Ba=c);M.scissor(ua);M.setScissorTest(Ga);M.viewport(la);b&&(b=U.get(a.texture),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,b.__webglTexture,a.activeMipMapLevel))};
this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!1===a instanceof THREE.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var g=U.get(a).__webglFramebuffer;if(g){var h=!1;g!==Ba&&(t.bindFramebuffer(t.FRAMEBUFFER,g),h=!0);try{var k=a.texture;k.format!==THREE.RGBAFormat&&F(k.format)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):
k.type===THREE.UnsignedByteType||F(k.type)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)||k.type===THREE.FloatType&&V.get("WEBGL_color_buffer_float")||k.type===THREE.HalfFloatType&&V.get("EXT_color_buffer_half_float")?t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE?0<b&&b<=a.width-d&&0<c&&c<=a.height-e&&t.readPixels(b,c,d,e,F(k.format),F(k.type),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{h&&
t.bindFramebuffer(t.FRAMEBUFFER,Ba)}}}}};
THREE.WebGLRenderTarget=function(a,b,c){this.uuid=THREE.Math.generateUUID();this.width=a;this.height=b;this.scissor=new THREE.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new THREE.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=THREE.LinearFilter);this.texture=new THREE.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:
!0;this.depthTexture=null};
THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(a,b,c){THREE.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;
THREE.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(a){d=a};this.render=function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)};this.renderInstances=function(e){var f=b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var g=e.attributes.position,h=0,h=g instanceof THREE.InterleavedBufferAttribute?g.data.count:
g.count;f.drawArraysInstancedANGLE(d,0,h,e.maxInstancedCount);c.calls++;c.vertices+=h*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*h/3)}}};
THREE.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,f;this.setMode=function(a){d=a};this.setIndex=function(c){c.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,f=4):(e=a.UNSIGNED_SHORT,f=2)};this.render=function(b,h){a.drawElements(d,h,e,b*f);c.calls++;c.vertices+=h;d===a.TRIANGLES&&(c.faces+=h/3)};this.renderInstances=function(g,h,k){var l=b.get("ANGLE_instanced_arrays");null===l?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(l.drawElementsInstancedANGLE(d,k,e,h*f,g.maxInstancedCount),c.calls++,c.vertices+=k*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*k/3))}};
THREE.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];var d;switch(c){case "WEBGL_depth_texture":a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
THREE.WebGLCapabilities=function(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";
this.logarithmicDepthBuffer=void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);
this.maxFragmentUniforms=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
THREE.WebGLGeometries=function(a,b,c){function d(a){var h=a.target;a=f[h.id];null!==a.index&&e(a.index);var k=a.attributes,l;for(l in k)e(k[l]);h.removeEventListener("dispose",d);delete f[h.id];l=b.get(h);l.wireframe&&e(l.wireframe);b.delete(h);h=b.get(a);h.wireframe&&e(h.wireframe);b.delete(a);c.memory.geometries--}function e(c){var d;d=c instanceof THREE.InterleavedBufferAttribute?b.get(c.data).__webglBuffer:b.get(c).__webglBuffer;void 0!==d&&(a.deleteBuffer(d),c instanceof THREE.InterleavedBufferAttribute?
b.delete(c.data):b.delete(c))}var f={};this.get=function(a){var b=a.geometry;if(void 0!==f[b.id])return f[b.id];b.addEventListener("dispose",d);var e;b instanceof THREE.BufferGeometry?e=b:b instanceof THREE.Geometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new THREE.BufferGeometry).setFromObject(a)),e=b._bufferGeometry);f[b.id]=e;c.memory.geometries++;return e}};
THREE.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];var c;switch(b.type){case "DirectionalLight":c={direction:new THREE.Vector3,color:new THREE.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case "SpotLight":c={position:new THREE.Vector3,direction:new THREE.Vector3,color:new THREE.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case "PointLight":c=
{position:new THREE.Vector3,color:new THREE.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case "HemisphereLight":c={direction:new THREE.Vector3,skyColor:new THREE.Color,groundColor:new THREE.Color}}return a[b.id]=c}};
THREE.WebGLObjects=function(a,b,c){function d(c,d){var e=c instanceof THREE.InterleavedBufferAttribute?c.data:c,f=b.get(e);void 0===f.__webglBuffer?(f.__webglBuffer=a.createBuffer(),a.bindBuffer(d,f.__webglBuffer),a.bufferData(d,e.array,e.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),f.version=e.version):f.version!==e.version&&(a.bindBuffer(d,f.__webglBuffer),!1===e.dynamic||-1===e.updateRange.count?a.bufferSubData(d,0,e.array):0===e.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(d,e.updateRange.offset*e.array.BYTES_PER_ELEMENT,e.array.subarray(e.updateRange.offset,e.updateRange.offset+e.updateRange.count)),e.updateRange.count=0),f.version=e.version)}function e(a,b,c){if(b>c){var d=b;b=c;c=d}d=a[b];return void 0===d?(a[b]=[c],!0):-1===d.indexOf(c)?(d.push(c),!0):!1}var f=new THREE.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(a){return a instanceof THREE.InterleavedBufferAttribute?b.get(a.data).__webglBuffer:b.get(a).__webglBuffer};this.getWireframeAttribute=
function(c){var f=b.get(c);if(void 0!==f.wireframe)return f.wireframe;var k=[],l=c.index,n=c.attributes;c=n.position;if(null!==l)for(var n={},l=l.array,p=0,m=l.length;p<m;p+=3){var q=l[p+0],r=l[p+1],s=l[p+2];e(n,q,r)&&k.push(q,r);e(n,r,s)&&k.push(r,s);e(n,s,q)&&k.push(s,q)}else for(l=n.position.array,p=0,m=l.length/3-1;p<m;p+=3)q=p+0,r=p+1,s=p+2,k.push(q,r,r,s,s,q);k=new THREE.BufferAttribute(new (65535<c.count?Uint32Array:Uint16Array)(k),1);d(k,a.ELEMENT_ARRAY_BUFFER);return f.wireframe=k};this.update=
function(b){var c=f.get(b);b.geometry instanceof THREE.Geometry&&c.updateFromObject(b);b=c.index;var e=c.attributes;null!==b&&d(b,a.ELEMENT_ARRAY_BUFFER);for(var l in e)d(e[l],a.ARRAY_BUFFER);b=c.morphAttributes;for(l in b)for(var e=b[l],n=0,p=e.length;n<p;n++)d(e[n],a.ARRAY_BUFFER);return c}};
THREE.WebGLProgram=function(){function a(a){switch(a){case THREE.LinearEncoding:return["Linear","( value )"];case THREE.sRGBEncoding:return["sRGB","( value )"];case THREE.RGBEEncoding:return["RGBE","( value )"];case THREE.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case THREE.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case THREE.RGBDEncoding:return["RGBD","( value, 256.0 )"];case THREE.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+
a);}}function b(b,c){var d=a(c);return"vec4 "+b+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function c(b,c){var d=a(c);return"vec4 "+b+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function d(a,b){var c;switch(b){case THREE.LinearToneMapping:c="Linear";break;case THREE.ReinhardToneMapping:c="Reinhard";break;case THREE.Uncharted2ToneMapping:c="Uncharted2";break;case THREE.CineonToneMapping:c="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+
"( vec3 color ) { return "+c+"ToneMapping( color ); }"}function e(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":
""].filter(g).join("\n")}function f(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function g(a){return""!==a}function h(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function k(a){return a.replace(/#include +<([\w\d.]+)>/g,function(a,b){var c=THREE.ShaderChunk[b];if(void 0===c)throw Error("Can not resolve #include <"+
b+">");return k(c)})}function l(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[ i \]/g,"[ "+b+" ]");return a})}var n=0;return function(a,m,q,r){var s=a.context,u=q.extensions,x=q.defines,v=q.__webglShader.vertexShader,C=q.__webglShader.fragmentShader,w="SHADOWMAP_TYPE_BASIC";r.shadowMapType===THREE.PCFShadowMap?w="SHADOWMAP_TYPE_PCF":r.shadowMapType===THREE.PCFSoftShadowMap&&(w="SHADOWMAP_TYPE_PCF_SOFT");
var z="ENVMAP_TYPE_CUBE",A="ENVMAP_MODE_REFLECTION",y="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(q.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:z="ENVMAP_TYPE_CUBE";break;case THREE.CubeUVReflectionMapping:case THREE.CubeUVRefractionMapping:z="ENVMAP_TYPE_CUBE_UV";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:z="ENVMAP_TYPE_EQUIREC";break;case THREE.SphericalReflectionMapping:z="ENVMAP_TYPE_SPHERE"}switch(q.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:A=
"ENVMAP_MODE_REFRACTION"}switch(q.combine){case THREE.MultiplyOperation:y="ENVMAP_BLENDING_MULTIPLY";break;case THREE.MixOperation:y="ENVMAP_BLENDING_MIX";break;case THREE.AddOperation:y="ENVMAP_BLENDING_ADD"}}var B=0<a.gammaFactor?a.gammaFactor:1,u=e(u,r,a.extensions),J=f(x),D=s.createProgram();q instanceof THREE.RawShaderMaterial?w=x="":(x=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+q.__webglShader.name,J,r.supportsVertexTextures?"#define VERTEX_TEXTURES":
"","#define GAMMA_FACTOR "+B,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+A:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?
"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":
"",r.shadowMapEnabled?"#define "+w:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR",
"\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;",
"\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(g).join("\n"),w=[u,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+q.__webglShader.name,J,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+B,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+z:"",r.envMap?
"#define "+A:"",r.envMap?"#define "+y:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":
"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+w:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&a.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":
"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==THREE.NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==THREE.NoToneMapping?THREE.ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==THREE.NoToneMapping?d("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?THREE.ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?b("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?b("envMapTexelToLinear",r.envMapEncoding):
"",r.emissiveMapEncoding?b("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?c("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+q.depthPacking:"","\n"].filter(g).join("\n"));v=k(v,r);v=h(v,r);C=k(C,r);C=h(C,r);!1===q instanceof THREE.ShaderMaterial&&(v=l(v),C=l(C));C=w+C;v=THREE.WebGLShader(s,s.VERTEX_SHADER,x+v);C=THREE.WebGLShader(s,s.FRAGMENT_SHADER,C);s.attachShader(D,v);s.attachShader(D,C);void 0!==q.index0AttributeName?s.bindAttribLocation(D,
0,q.index0AttributeName):!0===r.morphTargets&&s.bindAttribLocation(D,0,"position");s.linkProgram(D);r=s.getProgramInfoLog(D);z=s.getShaderInfoLog(v);A=s.getShaderInfoLog(C);B=y=!0;if(!1===s.getProgramParameter(D,s.LINK_STATUS))y=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(D,s.VALIDATE_STATUS),"gl.getProgramInfoLog",r,z,A);else if(""!==r)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r);else if(""===z||""===A)B=!1;B&&(this.diagnostics=
{runnable:y,material:q,programLog:r,vertexShader:{log:z,prefix:x},fragmentShader:{log:A,prefix:w}});s.deleteShader(v);s.deleteShader(C);var H;this.getUniforms=function(){void 0===H&&(H=new THREE.WebGLUniforms(s,D,a));return H};var F;this.getAttributes=function(){if(void 0===F){for(var a={},b=s.getProgramParameter(D,s.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=s.getActiveAttrib(D,c).name;a[d]=s.getAttribLocation(D,d)}F=a}return F};this.destroy=function(){s.deleteProgram(D);this.program=void 0};Object.defineProperties(this,
{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=n++;this.code=m;this.usedTimes=1;this.program=D;this.vertexShader=v;this.fragmentShader=C;return this}}();
THREE.WebGLPrograms=function(a,b){function c(a,b){var c;a?a instanceof THREE.Texture?c=a.encoding:a instanceof THREE.WebGLRenderTarget&&(c=a.texture.encoding):c=THREE.LinearEncoding;c===THREE.LinearEncoding&&b&&(c=THREE.GammaEncoding);return c}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",
PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(d,f,k,l,n){var p=e[d.type],m;b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture?m=1024:(m=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof THREE.SkinnedMesh&&(m=Math.min(n.skeleton.bones.length,m),m<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+m+" (try OpenGL instead of ANGLE)")));var q=a.getPrecision();null!==d.precision&&(q=b.getMaxPrecision(d.precision),q!==
d.precision&&console.warn("THREE.WebGLProgram.getParameters:",d.precision,"not supported, using",q,"instead."));return{shaderID:p,precision:q,supportsVertexTextures:b.vertexTextures,outputEncoding:c(a.getCurrentRenderTarget(),a.gammaOutput),map:!!d.map,mapEncoding:c(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:c(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(d.envMap.mapping===THREE.CubeUVReflectionMapping||d.envMap.mapping===THREE.CubeUVRefractionMapping),
lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:c(d.emissiveMap,a.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:k,useFog:d.fog,fogExp:k instanceof THREE.FogExp2,flatShading:d.shading===THREE.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:d.skinning,maxBones:m,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,numClippingPlanes:l,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<f.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===THREE.DoubleSide,flipSided:d.side===THREE.BackSide,depthPacking:void 0!==d.depthPacking?d.depthPacking:!1}};this.getProgramCode=function(a,b){var c=[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void 0!==a.defines)for(var d in a.defines)c.push(d),c.push(a.defines[d]);for(d=0;d<f.length;d++)c.push(b[f[d]]);return c.join()};this.acquireProgram=
function(b,c,e){for(var f,n=0,p=d.length;n<p;n++){var m=d[n];if(m.code===e){f=m;++f.usedTimes;break}}void 0===f&&(f=new THREE.WebGLProgram(a,e,b,c),d.push(f));return f};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=d.indexOf(a);d[b]=d[d.length-1];d.pop();a.destroy()}};this.programs=d};THREE.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
THREE.WebGLShader=function(){function a(a){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=c+1+": "+a[c];return a.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
THREE.WebGLShadowMap=function(a,b,c){function d(b,c,d,e){var f=b.geometry,g=null,g=r,h=b.customDepthMaterial;d&&(g=s,h=b.customDistanceMaterial);h?g=h:(b=b instanceof THREE.SkinnedMesh&&c.skinning,h=0,void 0!==f.morphTargets&&0<f.morphTargets.length&&c.morphTargets&&(h|=1),b&&(h|=2),g=g[h]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(h=g.uuid,f=c.uuid,b=u[h],void 0===b&&(b={},u[h]=b),h=b[f],void 0===h&&(h=g.clone(),b[f]=h),g=h);g.visible=c.visible;g.wireframe=c.wireframe;
g.side=c.side;g.clipShadows=c.clipShadows;g.clippingPlanes=c.clippingPlanes;g.wireframeLinewidth=c.wireframeLinewidth;g.linewidth=c.linewidth;d&&void 0!==g.uniforms.lightPos&&g.uniforms.lightPos.value.copy(e);return g}function e(a,b,c){if(!1!==a.visible){a.layers.test(b.layers)&&(a instanceof THREE.Mesh||a instanceof THREE.Line||a instanceof THREE.Points)&&a.castShadow&&(!1===a.frustumCulled||!0===h.intersectsObject(a))&&!0===a.material.visible&&(a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,
a.matrixWorld),q.push(a));a=a.children;for(var d=0,f=a.length;d<f;d++)e(a[d],b,c)}}var f=a.context,g=a.state,h=new THREE.Frustum,k=new THREE.Matrix4,l=b.shadows,n=new THREE.Vector2,p=new THREE.Vector3,m=new THREE.Vector3,q=[],r=Array(4),s=Array(4),u={},x=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],v=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,
1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],C=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4];b=new THREE.MeshDepthMaterial;b.depthPacking=THREE.RGBADepthPacking;b.clipping=!0;for(var w=THREE.ShaderLib.distanceRGBA,z=THREE.UniformsUtils.clone(w.uniforms),A=0;4!==A;++A){var y=0!==(A&1),B=0!==(A&2),J=b.clone();J.morphTargets=y;J.skinning=B;r[A]=J;y=new THREE.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:z,vertexShader:w.vertexShader,
fragmentShader:w.fragmentShader,morphTargets:y,skinning:B,clipping:!0});s[A]=y}var D=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=THREE.PCFShadowMap;this.cullFace=THREE.CullFaceFront;this.render=function(b,r){if(!1!==D.enabled&&(!1!==D.autoUpdate||!1!==D.needsUpdate)&&0!==l.length){g.clearColor(1,1,1,1);g.disable(f.BLEND);g.enable(f.CULL_FACE);f.frontFace(f.CCW);f.cullFace(D.cullFace===THREE.CullFaceFront?f.FRONT:f.BACK);g.setDepthTest(!0);g.setScissorTest(!1);for(var s,u,
w=0,z=l.length;w<z;w++){var A=l[w],I=A.shadow,G=I.camera;n.copy(I.mapSize);if(A instanceof THREE.PointLight){s=6;u=!0;var y=n.x,B=n.y;C[0].set(2*y,B,y,B);C[1].set(0,B,y,B);C[2].set(3*y,B,y,B);C[3].set(y,B,y,B);C[4].set(3*y,0,y,B);C[5].set(y,0,y,B);n.x*=4;n.y*=2}else s=1,u=!1;null===I.map&&(I.map=new THREE.WebGLRenderTarget(n.x,n.y,{minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat}),G.updateProjectionMatrix());I instanceof THREE.SpotLightShadow&&I.update(A);y=I.map;
I=I.matrix;m.setFromMatrixPosition(A.matrixWorld);G.position.copy(m);a.setRenderTarget(y);a.clear();for(y=0;y<s;y++){u?(p.copy(G.position),p.add(x[y]),G.up.copy(v[y]),G.lookAt(p),g.viewport(C[y])):(p.setFromMatrixPosition(A.target.matrixWorld),G.lookAt(p));G.updateMatrixWorld();G.matrixWorldInverse.getInverse(G.matrixWorld);I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);I.multiply(G.projectionMatrix);I.multiply(G.matrixWorldInverse);k.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse);h.setFromMatrix(k);
q.length=0;e(b,r,G);for(var B=0,E=q.length;B<E;B++){var J=q[B],T=c.update(J),X=J.material;if(X instanceof THREE.MultiMaterial)for(var ba=T.groups,X=X.materials,ha=0,qa=ba.length;ha<qa;ha++){var W=ba[ha],ca=X[W.materialIndex];!0===ca.visible&&(ca=d(J,ca,u,m),a.renderBufferDirect(G,null,T,ca,J,W))}else ca=d(J,X,u,m),a.renderBufferDirect(G,null,T,ca,J,null)}}}s=a.getClearColor();u=a.getClearAlpha();a.setClearColor(s,u);g.enable(f.BLEND);D.cullFace===THREE.CullFaceFront&&f.cullFace(f.BACK);D.needsUpdate=
!1}}};
THREE.WebGLState=function(a,b,c){var d=this,e=new THREE.Vector4,f=a.getParameter(a.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),h=new Uint8Array(f),k=new Uint8Array(f),l={},n=null,p=null,m=null,q=null,r=null,s=null,u=null,x=null,v=!1,C=null,w=null,z=null,A=null,y=null,B=null,J=null,D=null,H=null,F=null,N=null,P=null,L=null,O=null,K=null,I=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),G=void 0,Q={},R=new THREE.Vector4,E=null,Z=null,T=new THREE.Vector4,X=new THREE.Vector4;this.init=function(){this.clearColor(0,0,
0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);a.depthFunc(a.LEQUAL);a.frontFace(a.CCW);a.cullFace(a.BACK);this.enable(a.CULL_FACE);this.enable(a.BLEND);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA)};this.initAttributes=function(){for(var a=0,b=g.length;a<b;a++)g[a]=0};this.enableAttribute=function(c){g[c]=1;0===h[c]&&(a.enableVertexAttribArray(c),h[c]=1);0!==k[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),k[c]=0)};this.enableAttributeAndDivisor=
function(b,c,d){g[b]=1;0===h[b]&&(a.enableVertexAttribArray(b),h[b]=1);k[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),k[b]=c)};this.disableUnusedAttributes=function(){for(var b=0,c=h.length;b<c;b++)h[b]!==g[b]&&(a.disableVertexAttribArray(b),h[b]=0)};this.enable=function(b){!0!==l[b]&&(a.enable(b),l[b]=!0)};this.disable=function(b){!1!==l[b]&&(a.disable(b),l[b]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||
b.get("WEBGL_compressed_texture_etc1")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)n.push(c[d]);return n};this.setBlending=function(b,d,e,f,g,h,k,l){b===THREE.NoBlending?this.disable(a.BLEND):this.enable(a.BLEND);if(b!==p||l!==v)b===THREE.AdditiveBlending?l?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):b===THREE.SubtractiveBlending?l?(a.blendEquationSeparate(a.FUNC_ADD,
a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):b===THREE.MultiplyBlending?l?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.SRC_COLOR,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):l?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,
a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),p=b,v=l;if(b===THREE.CustomBlending){g=g||d;h=h||e;k=k||f;if(d!==m||g!==s)a.blendEquationSeparate(c(d),c(g)),m=d,s=g;if(e!==q||f!==r||h!==u||k!==x)a.blendFuncSeparate(c(e),c(f),c(h),c(k)),q=e,r=f,u=h,x=k}else x=u=s=r=q=m=null};this.setDepthFunc=function(b){if(C!==b){if(b)switch(b){case THREE.NeverDepth:a.depthFunc(a.NEVER);break;case THREE.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case THREE.LessDepth:a.depthFunc(a.LESS);
break;case THREE.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case THREE.EqualDepth:a.depthFunc(a.EQUAL);break;case THREE.GreaterEqualDepth:a.depthFunc(a.GEQUAL);break;case THREE.GreaterDepth:a.depthFunc(a.GREATER);break;case THREE.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);C=b}};this.setDepthTest=function(b){b?this.enable(a.DEPTH_TEST):this.disable(a.DEPTH_TEST)};this.setDepthWrite=function(b){w!==b&&(a.depthMask(b),w=b)};this.setColorWrite=
function(b){z!==b&&(a.colorMask(b,b,b,b),z=b)};this.setStencilFunc=function(b,c,d){if(y!==b||B!==c||J!==d)a.stencilFunc(b,c,d),y=b,B=c,J=d};this.setStencilOp=function(b,c,d){if(D!==b||H!==c||F!==d)a.stencilOp(b,c,d),D=b,H=c,F=d};this.setStencilTest=function(b){b?this.enable(a.STENCIL_TEST):this.disable(a.STENCIL_TEST)};this.setStencilWrite=function(b){A!==b&&(a.stencilMask(b),A=b)};this.setFlipSided=function(b){N!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),N=b)};this.setLineWidth=function(b){b!==
P&&(a.lineWidth(b),P=b)};this.setPolygonOffset=function(b,c,d){b?this.enable(a.POLYGON_OFFSET_FILL):this.disable(a.POLYGON_OFFSET_FILL);!b||L===c&&O===d||(a.polygonOffset(c,d),L=c,O=d)};this.getScissorTest=function(){return K};this.setScissorTest=function(b){(K=b)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(b){void 0===b&&(b=a.TEXTURE0+I-1);G!==b&&(a.activeTexture(b),G=b)};this.bindTexture=function(b,c){void 0===G&&d.activeTexture();var e=Q[G];void 0===e&&
(e={type:void 0,texture:void 0},Q[G]=e);if(e.type!==b||e.texture!==c)a.bindTexture(b,c),e.type=b,e.texture=c};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(b){console.error(b)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(b){console.error(b)}};this.clearColor=function(b,c,d,f){e.set(b,c,d,f);!1===R.equals(e)&&(a.clearColor(b,c,d,f),R.copy(e))};this.clearDepth=function(b){E!==b&&(a.clearDepth(b),E=b)};this.clearStencil=function(b){Z!==
b&&(a.clearStencil(b),Z=b)};this.scissor=function(b){!1===T.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),T.copy(b))};this.viewport=function(b){!1===X.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),X.copy(b))};this.reset=function(){for(var b=0;b<h.length;b++)1===h[b]&&(a.disableVertexAttribArray(b),h[b]=0);l={};n=null;G=void 0;Q={};N=A=w=z=p=null}};
THREE.WebGLUniforms=function(){var a=[],b=[],c=function(b,c,d){var e=b[0];if(0>=e||0<e)return b;var f=c*d,g=a[f];void 0===g&&(g=new Float32Array(f),a[f]=g);if(0!==c)for(e.toArray(g,0),e=1,f=0;e!==c;++e)f+=d,b[e].toArray(g,f);return g},d=function(a,c){var d=b[c];void 0===d&&(d=new Int32Array(c),b[c]=d);for(var e=0;e!==c;++e)d[e]=a.allocTextureUnit();return d},e=function(a,b){a.uniform1f(this.addr,b)},f=function(a,b){a.uniform1i(this.addr,b)},g=function(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,
b.x,b.y)},h=function(a,b){void 0!==b.x?a.uniform3f(this.addr,b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,b)},k=function(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)},l=function(a,b){a.uniformMatrix2fv(this.addr,!1,b.elements||b)},n=function(a,b){a.uniformMatrix3fv(this.addr,!1,b.elements||b)},p=function(a,b){a.uniformMatrix4fv(this.addr,!1,b.elements||b)},m=function(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,
d);b&&c.setTexture2D(b,d)},q=function(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTextureCube(b,d)},r=function(a,b){a.uniform2iv(this.addr,b)},s=function(a,b){a.uniform3iv(this.addr,b)},u=function(a,b){a.uniform4iv(this.addr,b)},x=function(a){switch(a){case 5126:return e;case 35664:return g;case 35665:return h;case 35666:return k;case 35674:return l;case 35675:return n;case 35676:return p;case 35678:return m;case 35680:return q;case 5124:case 35670:return f;case 35667:case 35671:return r;
case 35668:case 35672:return s;case 35669:case 35673:return u}},v=function(a,b){a.uniform1fv(this.addr,b)},C=function(a,b){a.uniform1iv(this.addr,b)},w=function(a,b){a.uniform2fv(this.addr,c(b,this.size,2))},z=function(a,b){a.uniform3fv(this.addr,c(b,this.size,3))},A=function(a,b){a.uniform4fv(this.addr,c(b,this.size,4))},y=function(a,b){a.uniformMatrix2fv(this.addr,!1,c(b,this.size,4))},B=function(a,b){a.uniformMatrix3fv(this.addr,!1,c(b,this.size,9))},J=function(a,b){a.uniformMatrix4fv(this.addr,
!1,c(b,this.size,16))},D=function(a,b,c){var e=b.length,f=d(c,e);a.uniform1iv(this.addr,f);for(a=0;a!==e;++a){var g=b[a];g&&c.setTexture2D(g,f[a])}},H=function(a,b,c){var e=b.length,f=d(c,e);a.uniform1iv(this.addr,f);for(a=0;a!==e;++a){var g=b[a];g&&c.setTextureCube(g,f[a])}},F=function(a){switch(a){case 5126:return v;case 35664:return w;case 35665:return z;case 35666:return A;case 35674:return y;case 35675:return B;case 35676:return J;case 35678:return D;case 35680:return H;case 5124:case 35670:return C;
case 35667:case 35671:return r;case 35668:case 35672:return s;case 35669:case 35673:return u}},N=function(a,b,c){this.id=a;this.addr=c;this.setValue=x(b.type)},P=function(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=F(b.type)},L=function(a){this.id=a;this.seq=[];this.map={}};L.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var O=/([\w\d_]+)(\])?(\[|\.)?/g,K=function(a,b,c){this.seq=[];this.map={};this.renderer=c;c=a.getProgramParameter(b,
a.ACTIVE_UNIFORMS);for(var d=0;d!==c;++d){var e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name),g=this,h=e.name,k=h.length;for(O.lastIndex=0;;){var l=O.exec(h),m=O.lastIndex,n=l[1],q=l[3];"]"===l[2]&&(n|=0);if(void 0===q||"["===q&&m+2===k){h=g;e=void 0===q?new N(n,e,f):new P(n,e,f);h.seq.push(e);h.map[e.id]=e;break}else q=g.map[n],void 0===q&&(q=new L(n),n=g,g=q,n.seq.push(g),n.map[g.id]=g),g=q}}};K.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};
K.prototype.set=function(a,b,c){var d=this.map[c];void 0!==d&&d.setValue(a,b[c],this.renderer)};K.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};K.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};K.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};K.splitDynamic=function(a,b){for(var c=null,d=a.length,e=0,f=0;f!==d;++f){var g=a[f],h=
b[g.id];h&&!0===h.dynamic?(null===c&&(c=[]),c.push(g)):(e<f&&(a[e]=g),++e)}e<d&&(a.length=e);return c};K.evalDynamic=function(a,b,c,d){for(var e=0,f=a.length;e!==f;++e){var g=b[a[e].id],h=g.onUpdateCallback;void 0!==h&&h.call(g,c,d)}};return K}();
THREE.LensFlarePlugin=function(a,b){var c,d,e,f,g,h,k,l,n,p,m=a.context,q=a.state,r,s,u,x,v,C;this.render=function(w,z,A){if(0!==b.length){w=new THREE.Vector3;var y=A.w/A.z,B=.5*A.z,J=.5*A.w,D=16/A.w,H=new THREE.Vector2(D*y,D),F=new THREE.Vector3(1,1,0),N=new THREE.Vector2(1,1),P=new THREE.Box2;P.min.set(0,0);P.max.set(A.z-16,A.w-16);if(void 0===x){var D=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),L=new Uint16Array([0,1,2,0,2,3]);r=m.createBuffer();s=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,
r);m.bufferData(m.ARRAY_BUFFER,D,m.STATIC_DRAW);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,s);m.bufferData(m.ELEMENT_ARRAY_BUFFER,L,m.STATIC_DRAW);v=m.createTexture();C=m.createTexture();q.bindTexture(m.TEXTURE_2D,v);m.texImage2D(m.TEXTURE_2D,0,m.RGB,16,16,0,m.RGB,m.UNSIGNED_BYTE,null);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,
m.NEAREST);q.bindTexture(m.TEXTURE_2D,C);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,16,16,0,m.RGBA,m.UNSIGNED_BYTE,null);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST);var D=u={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},L=m.createProgram(),O=m.createShader(m.FRAGMENT_SHADER),
K=m.createShader(m.VERTEX_SHADER),I="precision "+a.getPrecision()+" float;\n";m.shaderSource(O,I+D.fragmentShader);m.shaderSource(K,I+D.vertexShader);m.compileShader(O);m.compileShader(K);m.attachShader(L,O);m.attachShader(L,K);m.linkProgram(L);x=L;n=m.getAttribLocation(x,"position");p=m.getAttribLocation(x,"uv");c=m.getUniformLocation(x,"renderType");d=m.getUniformLocation(x,"map");e=m.getUniformLocation(x,"occlusionMap");f=m.getUniformLocation(x,"opacity");g=m.getUniformLocation(x,"color");h=m.getUniformLocation(x,
"scale");k=m.getUniformLocation(x,"rotation");l=m.getUniformLocation(x,"screenPosition")}m.useProgram(x);q.initAttributes();q.enableAttribute(n);q.enableAttribute(p);q.disableUnusedAttributes();m.uniform1i(e,0);m.uniform1i(d,1);m.bindBuffer(m.ARRAY_BUFFER,r);m.vertexAttribPointer(n,2,m.FLOAT,!1,16,0);m.vertexAttribPointer(p,2,m.FLOAT,!1,16,8);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,s);q.disable(m.CULL_FACE);q.setDepthWrite(!1);L=0;for(O=b.length;L<O;L++)if(D=16/A.w,H.set(D*y,D),K=b[L],w.set(K.matrixWorld.elements[12],
K.matrixWorld.elements[13],K.matrixWorld.elements[14]),w.applyMatrix4(z.matrixWorldInverse),w.applyProjection(z.projectionMatrix),F.copy(w),N.x=A.x+F.x*B+B-8,N.y=A.y+F.y*J+J-8,!0===P.containsPoint(N)){q.activeTexture(m.TEXTURE0);q.bindTexture(m.TEXTURE_2D,null);q.activeTexture(m.TEXTURE1);q.bindTexture(m.TEXTURE_2D,v);m.copyTexImage2D(m.TEXTURE_2D,0,m.RGB,N.x,N.y,16,16,0);m.uniform1i(c,0);m.uniform2f(h,H.x,H.y);m.uniform3f(l,F.x,F.y,F.z);q.disable(m.BLEND);q.enable(m.DEPTH_TEST);m.drawElements(m.TRIANGLES,
6,m.UNSIGNED_SHORT,0);q.activeTexture(m.TEXTURE0);q.bindTexture(m.TEXTURE_2D,C);m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,N.x,N.y,16,16,0);m.uniform1i(c,1);q.disable(m.DEPTH_TEST);q.activeTexture(m.TEXTURE1);q.bindTexture(m.TEXTURE_2D,v);m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0);K.positionScreen.copy(F);K.customUpdateCallback?K.customUpdateCallback(K):K.updateLensFlares();m.uniform1i(c,2);q.enable(m.BLEND);for(var I=0,G=K.lensFlares.length;I<G;I++){var Q=K.lensFlares[I];.001<Q.opacity&&.001<Q.scale&&
(F.x=Q.x,F.y=Q.y,F.z=Q.z,D=Q.size*Q.scale/A.w,H.x=D*y,H.y=D,m.uniform3f(l,F.x,F.y,F.z),m.uniform2f(h,H.x,H.y),m.uniform1f(k,Q.rotation),m.uniform1f(f,Q.opacity),m.uniform3f(g,Q.color.r,Q.color.g,Q.color.b),q.setBlending(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst),a.setTexture2D(Q.texture,1),m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0))}}q.enable(m.CULL_FACE);q.enable(m.DEPTH_TEST);q.setDepthWrite(!0);a.resetGLState()}}};
THREE.SpritePlugin=function(a,b){var c,d,e,f,g,h,k,l,n,p,m,q,r,s,u,x,v;function C(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var w=a.context,z=a.state,A,y,B,J,D=new THREE.Vector3,H=new THREE.Quaternion,F=new THREE.Vector3;this.render=function(N,P){if(0!==b.length){if(void 0===B){var L=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),O=new Uint16Array([0,1,2,0,2,3]);A=w.createBuffer();y=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,
A);w.bufferData(w.ARRAY_BUFFER,L,w.STATIC_DRAW);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,y);w.bufferData(w.ELEMENT_ARRAY_BUFFER,O,w.STATIC_DRAW);var L=w.createProgram(),O=w.createShader(w.VERTEX_SHADER),K=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(O,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
w.shaderSource(K,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
w.compileShader(O);w.compileShader(K);w.attachShader(L,O);w.attachShader(L,K);w.linkProgram(L);B=L;x=w.getAttribLocation(B,"position");v=w.getAttribLocation(B,"uv");c=w.getUniformLocation(B,"uvOffset");d=w.getUniformLocation(B,"uvScale");e=w.getUniformLocation(B,"rotation");f=w.getUniformLocation(B,"scale");g=w.getUniformLocation(B,"color");h=w.getUniformLocation(B,"map");k=w.getUniformLocation(B,"opacity");l=w.getUniformLocation(B,"modelViewMatrix");n=w.getUniformLocation(B,"projectionMatrix");p=
w.getUniformLocation(B,"fogType");m=w.getUniformLocation(B,"fogDensity");q=w.getUniformLocation(B,"fogNear");r=w.getUniformLocation(B,"fogFar");s=w.getUniformLocation(B,"fogColor");u=w.getUniformLocation(B,"alphaTest");L=document.createElement("canvas");L.width=8;L.height=8;O=L.getContext("2d");O.fillStyle="white";O.fillRect(0,0,8,8);J=new THREE.Texture(L);J.needsUpdate=!0}w.useProgram(B);z.initAttributes();z.enableAttribute(x);z.enableAttribute(v);z.disableUnusedAttributes();z.disable(w.CULL_FACE);
z.enable(w.BLEND);w.bindBuffer(w.ARRAY_BUFFER,A);w.vertexAttribPointer(x,2,w.FLOAT,!1,16,0);w.vertexAttribPointer(v,2,w.FLOAT,!1,16,8);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,y);w.uniformMatrix4fv(n,!1,P.projectionMatrix.elements);z.activeTexture(w.TEXTURE0);w.uniform1i(h,0);O=L=0;(K=N.fog)?(w.uniform3f(s,K.color.r,K.color.g,K.color.b),K instanceof THREE.Fog?(w.uniform1f(q,K.near),w.uniform1f(r,K.far),w.uniform1i(p,1),O=L=1):K instanceof THREE.FogExp2&&(w.uniform1f(m,K.density),w.uniform1i(p,2),O=L=2)):
(w.uniform1i(p,0),O=L=0);for(var K=0,I=b.length;K<I;K++){var G=b[K];G.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,G.matrixWorld);G.z=-G.modelViewMatrix.elements[14]}b.sort(C);for(var Q=[],K=0,I=b.length;K<I;K++){var G=b[K],R=G.material;w.uniform1f(u,R.alphaTest);w.uniformMatrix4fv(l,!1,G.modelViewMatrix.elements);G.matrixWorld.decompose(D,H,F);Q[0]=F.x;Q[1]=F.y;G=0;N.fog&&R.fog&&(G=O);L!==G&&(w.uniform1i(p,G),L=G);null!==R.map?(w.uniform2f(c,R.map.offset.x,R.map.offset.y),w.uniform2f(d,
R.map.repeat.x,R.map.repeat.y)):(w.uniform2f(c,0,0),w.uniform2f(d,1,1));w.uniform1f(k,R.opacity);w.uniform3f(g,R.color.r,R.color.g,R.color.b);w.uniform1f(e,R.rotation);w.uniform2fv(f,Q);z.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst);z.setDepthTest(R.depthTest);z.setDepthWrite(R.depthWrite);R.map?a.setTexture2D(R.map,0):a.setTexture2D(J,0);w.drawElements(w.TRIANGLES,6,w.UNSIGNED_SHORT,0)}z.enable(w.CULL_FACE);a.resetGLState()}}};
Object.defineProperties(THREE.Box2.prototype,{empty:{value:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()}},isIntersectionBox:{value:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}}});
Object.defineProperties(THREE.Box3.prototype,{empty:{value:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()}},isIntersectionBox:{value:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}},isIntersectionSphere:{value:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}}});
Object.defineProperties(THREE.Matrix3.prototype,{multiplyVector3:{value:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)}},multiplyVector3Array:{value:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}}});
Object.defineProperties(THREE.Matrix4.prototype,{extractPosition:{value:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)}},setRotationFromQuaternion:{value:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)}},multiplyVector3:{value:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return a.applyProjection(this)}},multiplyVector4:{value:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)}},multiplyVector3Array:{value:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}},rotateAxis:{value:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
a.transformDirection(this)}},crossVector:{value:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)}},translate:{value:function(a){console.error("THREE.Matrix4: .translate() has been removed.")}},rotateX:{value:function(a){console.error("THREE.Matrix4: .rotateX() has been removed.")}},rotateY:{value:function(a){console.error("THREE.Matrix4: .rotateY() has been removed.")}},rotateZ:{value:function(a){console.error("THREE.Matrix4: .rotateZ() has been removed.")}},
rotateByAxis:{value:function(a,b){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}});Object.defineProperties(THREE.Plane.prototype,{isIntersectionLine:{value:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)}}});
Object.defineProperties(THREE.Quaternion.prototype,{multiplyVector3:{value:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)}}});
Object.defineProperties(THREE.Ray.prototype,{isIntersectionBox:{value:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}},isIntersectionPlane:{value:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)}},isIntersectionSphere:{value:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}}});
Object.defineProperties(THREE.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")}},setEulerFromQuaternion:{value:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")}},getPositionFromMatrix:{value:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
return this.setFromMatrixPosition(a)}},getScaleFromMatrix:{value:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)}},getColumnFromMatrix:{value:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(a,b)}}});
THREE.Face4=function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new THREE.Face3(a,b,c,e,f,g)};THREE.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new THREE.Vector3(a,b,c)};
Object.defineProperties(THREE.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},getChildByName:{value:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)}},renderDepth:{set:function(a){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")}},
translate:{value:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(a){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(THREE,{PointCloud:{value:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new THREE.Points(a,b)}},ParticleSystem:{value:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new THREE.Points(a,b)}}});
Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(a){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(a){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(a){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(THREE.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.defineProperties(THREE.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}},addIndex:{value:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)}},addDrawCall:{value:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");
console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)}},clearDrawCalls:{value:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()}},computeTangents:{value:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")}},computeOffsets:{value:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}});
Object.defineProperties(THREE.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(a){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new THREE.Color}}});
Object.defineProperties(THREE,{PointCloudMaterial:{value:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(a)}},ParticleBasicMaterial:{value:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(a)}},ParticleSystemMaterial:{value:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new THREE.PointsMaterial(a)}}});
Object.defineProperties(THREE.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(a){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(THREE.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Object.defineProperties(THREE.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")}},supportsHalfFloatTextures:{value:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")}},supportsStandardDerivatives:{value:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")}},supportsCompressedTextureS3TC:{value:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")}},supportsCompressedTexturePVRTC:{value:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")}},
supportsBlendMinMax:{value:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures}},supportsInstancedArrays:{value:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")}},enableScissorTest:{value:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)}},initMaterial:{value:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")}},addPrePlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")}},addPostPlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")}},updateShadowMap:{value:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled},
set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=a}}});
Object.defineProperties(THREE.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.defineProperties(THREE.Audio.prototype,{load:{value:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new THREE.AudioLoader).load(a,function(a){b.setBuffer(a)});return this}}});
THREE.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var d;b instanceof THREE.Mesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry);a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new THREE.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new THREE.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,
c,void 0,d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
THREE.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(a,b){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
THREE.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.MeshFaceMaterial=THREE.MultiMaterial;Object.defineProperties(THREE.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});
THREE.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a,b,c,d,e){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
THREE.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new THREE.Group,d=0,e=b.length;d<e;d++)c.add(new THREE.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new THREE.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
THREE.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(){return function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],f=[],g,h,k;if(0<THREE.ShapeUtils.area(a))for(h=0;h<c;h++)e[h]=h;else for(h=0;h<c;h++)e[h]=c-1-h;var l=2*c;for(h=c-1;2<c;){if(0>=l--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}g=h;c<=g&&(g=0);h=g+1;c<=h&&(h=0);k=h+1;c<=k&&(k=0);var n;a:{var p=
n=void 0,m=void 0,q=void 0,r=void 0,s=void 0,u=void 0,x=void 0,v=void 0,p=a[e[g]].x,m=a[e[g]].y,q=a[e[h]].x,r=a[e[h]].y,s=a[e[k]].x,u=a[e[k]].y;if(Number.EPSILON>(q-p)*(u-m)-(r-m)*(s-p))n=!1;else{var C=void 0,w=void 0,z=void 0,A=void 0,y=void 0,B=void 0,J=void 0,D=void 0,H=void 0,F=void 0,H=D=J=v=x=void 0,C=s-q,w=u-r,z=p-s,A=m-u,y=q-p,B=r-m;for(n=0;n<c;n++)if(x=a[e[n]].x,v=a[e[n]].y,!(x===p&&v===m||x===q&&v===r||x===s&&v===u)&&(J=x-p,D=v-m,H=x-q,F=v-r,x-=s,v-=u,H=C*F-w*H,J=y*D-B*J,D=z*v-A*x,H>=-Number.EPSILON&&
D>=-Number.EPSILON&&J>=-Number.EPSILON)){n=!1;break a}n=!0}}if(n){d.push([a[e[g]],a[e[h]],a[e[k]]]);f.push([e[g],e[h],e[k]]);g=h;for(k=h+1;k<c;g++,k++)e[g]=e[k];c--;l=2*c}}return b?f:d}}(),triangulateShape:function(a,b){function c(a,b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e,f){var g=b.x-a.x,h=b.y-a.y,k=e.x-d.x,l=e.y-d.y,n=a.x-d.x,p=a.y-d.y,y=h*k-g*l,B=h*n-g*p;if(Math.abs(y)>Number.EPSILON){if(0<y){if(0>B||B>
y)return[];k=l*n-k*p;if(0>k||k>y)return[]}else{if(0<B||B<y)return[];k=l*n-k*p;if(0<k||k<y)return[]}if(0===k)return!f||0!==B&&B!==y?[a]:[];if(k===y)return!f||0!==B&&B!==y?[b]:[];if(0===B)return[d];if(B===y)return[e];f=k/y;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!==B||l*n!==k*p)return[];h=0===g&&0===h;k=0===k&&0===l;if(h&&k)return a.x!==d.x||a.y!==d.y?[]:[a];if(h)return c(d,e,a)?[a]:[];if(k)return c(a,b,d)?[d]:[];0!==g?(a.x<b.x?(g=a,k=a.x,h=b,a=b.x):(g=b,k=b.x,h=a,a=a.x),d.x<e.x?(b=d,y=d.x,l=e,d=e.x):(b=
e,y=e.x,l=d,d=d.x)):(a.y<b.y?(g=a,k=a.y,h=b,a=b.y):(g=b,k=b.y,h=a,a=a.y),d.y<e.y?(b=d,y=d.y,l=e,d=e.y):(b=e,y=e.y,l=d,d=d.y));return k<=y?a<y?[]:a===y?f?[]:[b]:a<=d?[b,h]:[b,l]:k>d?[]:k===d?f?[]:[g]:a<=d?[g,h]:[g,l]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return Math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g,h,k,l,n={};h=a.concat();f=0;for(g=b.length;f<g;f++)Array.prototype.push.apply(h,b[f]);f=0;for(g=
h.length;f<g;f++)l=h[f].x+":"+h[f].y,void 0!==n[l]&&console.warn("THREE.Shape: Duplicate point",l),n[l]=f;f=function(a,b){function c(a,b){var d=h.length-1,f=a-1;0>f&&(f=d);var g=a+1;g>d&&(g=0);d=e(h[a],h[f],h[g],k[b]);if(!d)return!1;d=k.length-1;f=b-1;0>f&&(f=d);g=b+1;g>d&&(g=0);return(d=e(k[b],k[f],k[g],h[a]))?!0:!1}function f(a,b){var c,e;for(c=0;c<h.length;c++)if(e=c+1,e%=h.length,e=d(a,b,h[c],h[e],!0),0<e.length)return!0;return!1}function g(a,c){var e,f,h,k;for(e=0;e<l.length;e++)for(f=b[l[e]],
h=0;h<f.length;h++)if(k=h+1,k%=f.length,k=d(a,c,f[h],f[k],!0),0<k.length)return!0;return!1}var h=a.concat(),k,l=[],n,p,A,y,B,J=[],D,H,F,N=0;for(n=b.length;N<n;N++)l.push(N);D=0;for(var P=2*l.length;0<l.length;){P--;if(0>P){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(p=D;p<h.length;p++){A=h[p];n=-1;for(N=0;N<l.length;N++)if(y=l[N],B=A.x+":"+A.y+":"+y,void 0===J[B]){k=b[y];for(H=0;H<k.length;H++)if(y=k[H],c(p,H)&&!f(A,y)&&!g(A,y)){n=H;l.splice(N,1);
D=h.slice(0,p+1);y=h.slice(p);H=k.slice(n);F=k.slice(0,n+1);h=D.concat(H).concat(F).concat(y);D=p;break}if(0<=n)break;J[B]=!0}if(0<=n)break}}return h}(a,b);var p=THREE.ShapeUtils.triangulate(f,!1);f=0;for(g=p.length;f<g;f++)for(k=p[f],h=0;3>h;h++)l=k[h].x+":"+k[h].y,l=n[l],void 0!==l&&(k[h]=l);return p.concat()},isClockWise:function(a){return 0>THREE.ShapeUtils.area(a)},b2:function(){return function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}}(),b3:function(){return function(a,b,c,d,e){var f=
1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}}()};THREE.Curve=function(){};
THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(a){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=this.getUtoTmapping(a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){a||
(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c,d=this.getPoint(0),e,f=0;b.push(0);for(e=1;e<=a;e++)c=this.getPoint(e/a),f+=c.distanceTo(d),b.push(f),d=c;return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var c=this.getLengths(),d=0,e=c.length,f;f=b?b:a*c[e-1];for(var g=0,h=e-
1,k;g<=h;)if(d=Math.floor(g+(h-g)/2),k=c[d]-f,0>k)g=d+1;else if(0<k)h=d-1;else{h=d;break}d=h;if(c[d]===f)return d/(e-1);g=c[d];return c=(d+(f-g)/(c[d+1]-g))/(e-1)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)}};
THREE.Curve.create=function(a,b){a.prototype=Object.create(THREE.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};THREE.CurvePath=function(){this.curves=[];this.autoClose=!1};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(a){this.curves.push(a)};
THREE.CurvePath.prototype.closePath=function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new THREE.LineCurve(b,a))};THREE.CurvePath.prototype.getPoint=function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null};THREE.CurvePath.prototype.getLength=function(){var a=this.getCurveLengths();return a[a.length-1]};
THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a};THREE.CurvePath.prototype.createPointsGeometry=function(a){a=this.getPoints(a);return this.createGeometry(a)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)};
THREE.CurvePath.prototype.createGeometry=function(a){for(var b=new THREE.Geometry,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new THREE.Vector3(e.x,e.y,e.z||0))}return b};THREE.Font=function(a){this.data=a};
THREE.Font.prototype={constructor:THREE.Font,generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,f=0;b=[];for(var g=0;g<a.length;g++){var h;h=e;var k=f,l=d.glyphs[a[g]]||d.glyphs["?"];if(l){var n=new THREE.Path,p=[],m=THREE.ShapeUtils.b2,q=THREE.ShapeUtils.b3,r=void 0,s=void 0,u=s=r=void 0,x=void 0,v=void 0,C=void 0,w=void 0,z=void 0,x=void 0;if(l.o)for(var A=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),y=0,B=A.length;y<
B;)switch(A[y++]){case "m":r=A[y++]*h+k;s=A[y++]*h;n.moveTo(r,s);break;case "l":r=A[y++]*h+k;s=A[y++]*h;n.lineTo(r,s);break;case "q":r=A[y++]*h+k;s=A[y++]*h;v=A[y++]*h+k;C=A[y++]*h;n.quadraticCurveTo(v,C,r,s);if(x=p[p.length-1])for(var u=x.x,x=x.y,J=1;J<=c;J++){var D=J/c;m(D,u,v,r);m(D,x,C,s)}break;case "b":if(r=A[y++]*h+k,s=A[y++]*h,v=A[y++]*h+k,C=A[y++]*h,w=A[y++]*h+k,z=A[y++]*h,n.bezierCurveTo(v,C,w,z,r,s),x=p[p.length-1])for(u=x.x,x=x.y,J=1;J<=c;J++)D=J/c,q(D,u,v,w,r),q(D,x,C,z,s)}h={offset:l.ha*
h,path:n}}else h=void 0;f+=h.offset;b.push(h.path)}c=[];d=0;for(a=b.length;d<a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}};THREE.Path=function(a){THREE.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.Path.prototype.fromPoints=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)};
THREE.Path.prototype.moveTo=function(a,b){this.actions.push({action:"moveTo",args:[a,b]})};THREE.Path.prototype.lineTo=function(a,b){var c=this.actions[this.actions.length-1].args,c=new THREE.LineCurve(new THREE.Vector2(c[c.length-2],c[c.length-1]),new THREE.Vector2(a,b));this.curves.push(c);this.actions.push({action:"lineTo",args:[a,b]})};
THREE.Path.prototype.quadraticCurveTo=function(a,b,c,d){var e=this.actions[this.actions.length-1].args,e=new THREE.QuadraticBezierCurve(new THREE.Vector2(e[e.length-2],e[e.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d));this.curves.push(e);this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})};
THREE.Path.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args,g=new THREE.CubicBezierCurve(new THREE.Vector2(g[g.length-2],g[g.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d),new THREE.Vector2(e,f));this.curves.push(g);this.actions.push({action:"bezierCurveTo",args:[a,b,c,d,e,f]})};
THREE.Path.prototype.splineThru=function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,c=[new THREE.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);c=new THREE.SplineCurve(c);this.curves.push(c);this.actions.push({action:"splineThru",args:b})};THREE.Path.prototype.arc=function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)};
THREE.Path.prototype.absarc=function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)};THREE.Path.prototype.ellipse=function(a,b,c,d,e,f,g,h){var k=this.actions[this.actions.length-1].args;this.absellipse(a+k[k.length-2],b+k[k.length-1],c,d,e,f,g,h)};THREE.Path.prototype.absellipse=function(a,b,c,d,e,f,g,h){var k=[a,b,c,d,e,f,g,h||0];a=new THREE.EllipseCurve(a,b,c,d,e,f,g,h);this.curves.push(a);a=a.getPoint(1);k.push(a.x);k.push(a.y);this.actions.push({action:"ellipse",args:k})};
THREE.Path.prototype.getSpacedPoints=function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b};
THREE.Path.prototype.getPoints=function(a){a=a||12;for(var b=THREE.ShapeUtils.b2,c=THREE.ShapeUtils.b3,d=[],e,f,g,h,k,l,n,p,m,q,r=0,s=this.actions.length;r<s;r++){m=this.actions[r];var u=m.args;switch(m.action){case "moveTo":d.push(new THREE.Vector2(u[0],u[1]));break;case "lineTo":d.push(new THREE.Vector2(u[0],u[1]));break;case "quadraticCurveTo":e=u[2];f=u[3];k=u[0];l=u[1];0<d.length?(m=d[d.length-1],n=m.x,p=m.y):(m=this.actions[r-1].args,n=m[m.length-2],p=m[m.length-1]);for(u=1;u<=a;u++)q=u/a,m=
b(q,n,k,e),q=b(q,p,l,f),d.push(new THREE.Vector2(m,q));break;case "bezierCurveTo":e=u[4];f=u[5];k=u[0];l=u[1];g=u[2];h=u[3];0<d.length?(m=d[d.length-1],n=m.x,p=m.y):(m=this.actions[r-1].args,n=m[m.length-2],p=m[m.length-1]);for(u=1;u<=a;u++)q=u/a,m=c(q,n,k,g,e),q=c(q,p,l,h,f),d.push(new THREE.Vector2(m,q));break;case "splineThru":m=this.actions[r-1].args;q=[new THREE.Vector2(m[m.length-2],m[m.length-1])];m=a*u[0].length;q=q.concat(u[0]);q=new THREE.SplineCurve(q);for(u=1;u<=m;u++)d.push(q.getPointAt(u/
m));break;case "arc":e=u[0];f=u[1];l=u[2];g=u[3];m=u[4];k=!!u[5];n=m-g;p=2*a;for(u=1;u<=p;u++)q=u/p,k||(q=1-q),q=g+q*n,m=e+l*Math.cos(q),q=f+l*Math.sin(q),d.push(new THREE.Vector2(m,q));break;case "ellipse":e=u[0];f=u[1];l=u[2];h=u[3];g=u[4];m=u[5];k=!!u[6];var x=u[7];n=m-g;p=2*a;var v,C;0!==x&&(v=Math.cos(x),C=Math.sin(x));for(u=1;u<=p;u++){q=u/p;k||(q=1-q);q=g+q*n;m=e+l*Math.cos(q);q=f+h*Math.sin(q);if(0!==x){var w=m;m=(w-e)*v-(q-f)*C+e;q=(w-e)*C+(q-f)*v+f}d.push(new THREE.Vector2(m,q))}}}a=d[d.length-
1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-1,1);this.autoClose&&d.push(d[0]);return d};
THREE.Path.prototype.toShapes=function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new THREE.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,l=h.y-g.y;if(Math.abs(l)>Number.EPSILON){if(0>l&&(g=b[f],k=-k,h=b[e],l=-l),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=l*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||
g.x<=a.x&&a.x<=h.x))return!0}return d}var e=THREE.ShapeUtils.isClockWise,f=function(a){for(var b=[],c=new THREE.Path,d=0,e=a.length;d<e;d++){var f=a[d],g=f.args,f=f.action;"moveTo"===f&&0!==c.actions.length&&(b.push(c),c=new THREE.Path);c[f].apply(c,g)}0!==c.actions.length&&b.push(c);return b}(this.actions);if(0===f.length)return[];if(!0===b)return c(f);var g,h,k,l=[];if(1===f.length)return h=f[0],k=new THREE.Shape,k.actions=h.actions,k.curves=h.curves,l.push(k),l;var n=!e(f[0].getPoints()),n=a?!n:
n;k=[];var p=[],m=[],q=0,r;p[q]=void 0;m[q]=[];for(var s=0,u=f.length;s<u;s++)h=f[s],r=h.getPoints(),g=e(r),(g=a?!g:g)?(!n&&p[q]&&q++,p[q]={s:new THREE.Shape,p:r},p[q].s.actions=h.actions,p[q].s.curves=h.curves,n&&q++,m[q]=[]):m[q].push({h:h,p:r[0]});if(!p[0])return c(f);if(1<p.length){s=!1;h=[];e=0;for(f=p.length;e<f;e++)k[e]=[];e=0;for(f=p.length;e<f;e++)for(g=m[e],n=0;n<g.length;n++){q=g[n];r=!0;for(u=0;u<p.length;u++)d(q.p,p[u].p)&&(e!==u&&h.push({froms:e,tos:u,hole:n}),r?(r=!1,k[u].push(q)):
s=!0);r&&k[e].push(q)}0<h.length&&(s||(m=k))}s=0;for(e=p.length;s<e;s++)for(k=p[s].s,l.push(k),h=m[s],f=0,g=h.length;f<g;f++)k.holes.push(h[f].h);return l};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(a){return new THREE.ExtrudeGeometry(this,a)};THREE.Shape.prototype.makeGeometry=function(a){return new THREE.ShapeGeometry(this,a)};
THREE.Shape.prototype.getPointsHoles=function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b};THREE.Shape.prototype.extractAllPoints=function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}};THREE.Shape.prototype.extractPoints=function(a){return this.extractAllPoints(a)};THREE.LineCurve=function(a,b){this.v1=a;this.v2=b};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;
THREE.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};THREE.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};THREE.LineCurve.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};THREE.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;
THREE.QuadraticBezierCurve.prototype.getPoint=function(a){var b=THREE.ShapeUtils.b2;return new THREE.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};THREE.QuadraticBezierCurve.prototype.getTangent=function(a){var b=THREE.CurveUtils.tangentQuadraticBezier;return(new THREE.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};THREE.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};
THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(a){var b=THREE.ShapeUtils.b3;return new THREE.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
THREE.CubicBezierCurve.prototype.getTangent=function(a){var b=THREE.CurveUtils.tangentCubicBezier;return(new THREE.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};THREE.SplineCurve=function(a){this.points=void 0==a?[]:a};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;
THREE.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=THREE.CurveUtils.interpolate;return new THREE.Vector2(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a))};THREE.EllipseCurve=function(a,b,c,d,e,f,g,h){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);
THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;
THREE.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){var b=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new THREE.Vector2(a,c)};
THREE.ArcCurve=function(a,b,c,d,e,f){THREE.EllipseCurve.call(this,a,b,c,c,d,e,f)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new THREE.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
THREE.QuadraticBezierCurve3=THREE.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=THREE.ShapeUtils.b2;return new THREE.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
THREE.CubicBezierCurve3=THREE.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=THREE.ShapeUtils.b3;return new THREE.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
THREE.SplineCurve3=THREE.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=THREE.CurveUtils.interpolate;return new THREE.Vector3(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a),c(d.z,e.z,f.z,b.z,a))});
THREE.CatmullRomCurve3=function(){function a(){}var b=new THREE.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(a,b,c,d){this.c0=a;this.c1=c;this.c2=-3*a+3*b-2*c-d;this.c3=2*a-2*b+c+d};a.prototype.initNonuniformCatmullRom=function(a,b,c,d,e,n,p){a=((b-a)/e-(c-a)/(e+n)+(c-b)/n)*n;d=((c-b)/n-(d-b)/(n+p)+(d-c)/p)*n;this.init(b,c,a,d)};a.prototype.initCatmullRom=function(a,b,c,d,e){this.init(b,c,e*(c-a),e*(d-b))};a.prototype.calc=function(a){var b=a*a;return this.c0+this.c1*a+this.c2*b+this.c3*
b*a};return THREE.Curve.create(function(a){this.points=a||[];this.closed=!1},function(a){var g=this.points,h,k;k=g.length;2>k&&console.log("duh, you need at least 2 points");a*=k-(this.closed?0:1);h=Math.floor(a);a-=h;this.closed?h+=0<h?0:(Math.floor(Math.abs(h)/g.length)+1)*g.length:0===a&&h===k-1&&(h=k-2,a=1);var l,n,p;this.closed||0<h?l=g[(h-1)%k]:(b.subVectors(g[0],g[1]).add(g[0]),l=b);n=g[h%k];p=g[(h+1)%k];this.closed||h+2<k?g=g[(h+2)%k]:(b.subVectors(g[k-1],g[k-2]).add(g[k-1]),g=b);if(void 0===
this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25;k=Math.pow(l.distanceToSquared(n),m);h=Math.pow(n.distanceToSquared(p),m);m=Math.pow(p.distanceToSquared(g),m);1E-4>h&&(h=1);1E-4>k&&(k=h);1E-4>m&&(m=h);c.initNonuniformCatmullRom(l.x,n.x,p.x,g.x,k,h,m);d.initNonuniformCatmullRom(l.y,n.y,p.y,g.y,k,h,m);e.initNonuniformCatmullRom(l.z,n.z,p.z,g.z,k,h,m)}else"catmullrom"===this.type&&(k=void 0!==this.tension?this.tension:.5,c.initCatmullRom(l.x,n.x,p.x,g.x,
k),d.initCatmullRom(l.y,n.y,p.y,g.y,k),e.initCatmullRom(l.z,n.z,p.z,g.z,k));return new THREE.Vector3(c.calc(a),d.calc(a),e.calc(a))})}();THREE.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");THREE.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};THREE.ClosedSplineCurve3.prototype=Object.create(THREE.CatmullRomCurve3.prototype);
THREE.BoxGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new THREE.BoxBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;THREE.CubeGeometry=THREE.BoxGeometry;
THREE.BoxBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,k,l,F,N){var P=f/l,L=g/F,O=f/2,K=g/2,I=k/2;g=l+1;for(var G=F+1,Q=f=0,R=new THREE.Vector3,E=0;E<G;E++)for(var Z=E*L-K,T=0;T<g;T++)R[a]=(T*P-O)*d,R[b]=Z*e,R[c]=I,p[r]=R.x,p[r+1]=R.y,p[r+2]=R.z,R[a]=0,R[b]=0,R[c]=0<k?1:-1,m[r]=R.x,m[r+1]=R.y,m[r+2]=R.z,q[s]=T/l,q[s+1]=1-E/F,r+=3,s+=2,f+=1;for(E=0;E<F;E++)for(T=0;T<l;T++)a=x+T+g*(E+1),b=x+(T+1)+g*(E+1),c=x+(T+1)+g*E,n[u]=x+T+g*E,n[u+1]=a,n[u+2]=c,n[u+3]=a,n[u+4]=b,n[u+5]=c,u+=6,Q+=
6;h.addGroup(v,Q,N);v+=Q;x+=f}THREE.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var k=function(a,b,c){a=0+a*b*2+a*c*2;a+=c*b*2;return 4*a}(d,e,f),l=k/4*6,n=new (65535<l?Uint32Array:Uint16Array)(l),p=new Float32Array(3*k),m=new Float32Array(3*k),q=new Float32Array(2*k),r=0,s=0,u=0,x=0,v=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y",
"x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new THREE.BufferAttribute(n,1));this.addAttribute("position",new THREE.BufferAttribute(p,3));this.addAttribute("normal",new THREE.BufferAttribute(m,3));this.addAttribute("uv",new THREE.BufferAttribute(q,2))};THREE.BoxBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);
THREE.BoxBufferGeometry.prototype.constructor=THREE.BoxBufferGeometry;THREE.CircleGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new THREE.CircleBufferGeometry(a,b,c,d))};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;
THREE.CircleBufferGeometry=function(a,b,c,d){THREE.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,f=new Float32Array(3*e),g=new Float32Array(3*e),e=new Float32Array(2*e);g[2]=1;e[0]=.5;e[1]=.5;for(var h=0,k=3,l=2;h<=b;h++,k+=3,l+=2){var n=c+h/b*d;f[k]=a*Math.cos(n);f[k+1]=a*Math.sin(n);g[k+2]=1;e[l]=(f[k]/a+1)/2;e[l+1]=(f[k+1]/a+1)/2}c=
[];for(k=1;k<=b;k++)c.push(k,k+1,0);this.setIndex(new THREE.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new THREE.BufferAttribute(f,3));this.addAttribute("normal",new THREE.BufferAttribute(g,3));this.addAttribute("uv",new THREE.BufferAttribute(e,2));this.boundingSphere=new THREE.Sphere(new THREE.Vector3,a)};THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry;
THREE.CylinderBufferGeometry=function(a,b,c,d,e,f,g,h){function k(c){var e,f,k;k=new THREE.Vector2;var n=new THREE.Vector3,p=0,v=!0===c?a:b,F=!0===c?1:-1;f=u;for(e=1;e<=d;e++)q.setXYZ(u,0,C*F,0),r.setXYZ(u,0,F,0),!0===c?(k.x=e/d,k.y=0):(k.x=(e-1)/d,k.y=1),s.setXY(u,k.x,k.y),u++;k=u;for(e=0;e<=d;e++){var N=e/d;n.x=v*Math.sin(N*h+g);n.y=C*F;n.z=v*Math.cos(N*h+g);q.setXYZ(u,n.x,n.y,n.z);r.setXYZ(u,0,F,0);s.setXY(u,N,!0===c?1:0);u++}for(e=0;e<d;e++)n=f+e,v=k+e,!0===c?(m.setX(x,v),x++,m.setX(x,v+1)):(m.setX(x,
v+1),x++,m.setX(x,v)),x++,m.setX(x,n),x++,p+=3;l.addGroup(w,p,!0===c?1:2);w+=p}THREE.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var l=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var n=function(){var a=(d+1)*(e+1);!1===f&&(a+=2*(d+1)+2*d);return a}(),
p=function(){var a=d*e*6;!1===f&&(a+=6*d);return a}(),m=new THREE.BufferAttribute(new (65535<p?Uint32Array:Uint16Array)(p),1),q=new THREE.BufferAttribute(new Float32Array(3*n),3),r=new THREE.BufferAttribute(new Float32Array(3*n),3),s=new THREE.BufferAttribute(new Float32Array(2*n),2),u=0,x=0,v=[],C=c/2,w=0;(function(){var f,k,n=new THREE.Vector3,p=new THREE.Vector3,J=0,D=(b-a)/c;for(k=0;k<=e;k++){var H=[],F=k/e,N=F*(b-a)+a;for(f=0;f<=d;f++){var P=f/d;p.x=N*Math.sin(P*h+g);p.y=-F*c+C;p.z=N*Math.cos(P*
h+g);q.setXYZ(u,p.x,p.y,p.z);n.copy(p);if(0===a&&0===k||0===b&&k===e)n.x=Math.sin(P*h+g),n.z=Math.cos(P*h+g);n.setY(Math.sqrt(n.x*n.x+n.z*n.z)*D).normalize();r.setXYZ(u,n.x,n.y,n.z);s.setXY(u,P,1-F);H.push(u);u++}v.push(H)}for(f=0;f<d;f++)for(k=0;k<e;k++)n=v[k+1][f],p=v[k+1][f+1],D=v[k][f+1],m.setX(x,v[k][f]),x++,m.setX(x,n),x++,m.setX(x,D),x++,m.setX(x,n),x++,m.setX(x,p),x++,m.setX(x,D),x++,J+=6;l.addGroup(w,J,0);w+=J})();!1===f&&(0<a&&k(!0),0<b&&k(!1));this.setIndex(m);this.addAttribute("position",
q);this.addAttribute("normal",r);this.addAttribute("uv",s)};THREE.CylinderBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CylinderBufferGeometry.prototype.constructor=THREE.CylinderBufferGeometry;
THREE.CylinderGeometry=function(a,b,c,d,e,f,g,h){THREE.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new THREE.CylinderBufferGeometry(a,b,c,d,e,f,g,h));this.mergeVertices()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;
THREE.EdgesGeometry=function(a,b){function c(a,b){return a-b}THREE.BufferGeometry.call(this);var d=Math.cos(THREE.Math.DEG2RAD*(void 0!==b?b:1)),e=[0,0],f={},g=["a","b","c"],h;a instanceof THREE.BufferGeometry?(h=new THREE.Geometry,h.fromBufferGeometry(a)):h=a.clone();h.mergeVertices();h.computeFaceNormals();var k=h.vertices;h=h.faces;for(var l=0,n=h.length;l<n;l++)for(var p=h[l],m=0;3>m;m++){e[0]=p[g[m]];e[1]=p[g[(m+1)%3]];e.sort(c);var q=e.toString();void 0===f[q]?f[q]={vert1:e[0],vert2:e[1],face1:l,
face2:void 0}:f[q].face2=l}e=[];for(q in f)if(g=f[q],void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=d)l=k[g.vert1],e.push(l.x),e.push(l.y),e.push(l.z),l=k[g.vert2],e.push(l.x),e.push(l.y),e.push(l.z);this.addAttribute("position",new THREE.BufferAttribute(new Float32Array(e),3))};THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry;
THREE.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(THREE.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
THREE.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=1,d=a.x-b.x,e=a.y-b.y,f=c.x-a.x,g=c.y-a.y,h=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var k=Math.sqrt(h),l=Math.sqrt(f*f+g*g),h=b.x-e/k;b=b.y+d/k;f=((c.x-g/l-h)*g-(c.y+f/l-b)*f)/(d*g-e*f);c=h+d*f-a.x;a=b+e*f-a.y;d=c*c+a*a;if(2>=d)return new THREE.Vector2(c,a);d=Math.sqrt(d/2)}else a=!1,d>Number.EPSILON?
f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(c=-e,a=d,d=Math.sqrt(h)):(c=d,a=e,d=Math.sqrt(h/2));return new THREE.Vector2(c/d,a/d)}function e(a,b){var c,d;for(E=a.length;0<=--E;){c=E;d=E-1;0>d&&(d=a.length-1);for(var e=0,f=q+2*n,e=0;e<f;e++){var g=G*e,h=G*(e+1),k=b+c+g,g=b+d+g,l=b+d+h,h=b+c+h,k=k+D,g=g+D,l=l+D,h=h+D;J.faces.push(new THREE.Face3(k,g,h,null,null,1));J.faces.push(new THREE.Face3(g,l,h,null,null,1));k=x.generateSideWallUV(J,
k,g,l,h);J.faceVertexUvs[0].push([k[0],k[1],k[3]]);J.faceVertexUvs[0].push([k[1],k[2],k[3]])}}}function f(a,b,c){J.vertices.push(new THREE.Vector3(a,b,c))}function g(a,b,c){a+=D;b+=D;c+=D;J.faces.push(new THREE.Face3(a,b,c,null,null,0));a=x.generateTopUV(J,a,b,c);J.faceVertexUvs[0].push(a)}var h=void 0!==b.amount?b.amount:100,k=void 0!==b.bevelThickness?b.bevelThickness:6,l=void 0!==b.bevelSize?b.bevelSize:k-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,p=void 0!==b.bevelEnabled?b.bevelEnabled:!0,
m=void 0!==b.curveSegments?b.curveSegments:12,q=void 0!==b.steps?b.steps:1,r=b.extrudePath,s,u=!1,x=void 0!==b.UVGenerator?b.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,v,C,w,z;r&&(s=r.getSpacedPoints(q),u=!0,p=!1,v=void 0!==b.frames?b.frames:new THREE.TubeGeometry.FrenetFrames(r,q,!1),C=new THREE.Vector3,w=new THREE.Vector3,z=new THREE.Vector3);p||(l=k=n=0);var A,y,B,J=this,D=this.vertices.length,r=a.extractPoints(m),m=r.shape,H=r.holes;if(r=!THREE.ShapeUtils.isClockWise(m)){m=m.reverse();
y=0;for(B=H.length;y<B;y++)A=H[y],THREE.ShapeUtils.isClockWise(A)&&(H[y]=A.reverse());r=!1}var F=THREE.ShapeUtils.triangulateShape(m,H),N=m;y=0;for(B=H.length;y<B;y++)A=H[y],m=m.concat(A);var P,L,O,K,I,G=m.length,Q,R=F.length,r=[],E=0;O=N.length;P=O-1;for(L=E+1;E<O;E++,P++,L++)P===O&&(P=0),L===O&&(L=0),r[E]=d(N[E],N[P],N[L]);var Z=[],T,X=r.concat();y=0;for(B=H.length;y<B;y++){A=H[y];T=[];E=0;O=A.length;P=O-1;for(L=E+1;E<O;E++,P++,L++)P===O&&(P=0),L===O&&(L=0),T[E]=d(A[E],A[P],A[L]);Z.push(T);X=X.concat(T)}for(P=
0;P<n;P++){O=P/n;K=k*(1-O);L=l*Math.sin(O*Math.PI/2);E=0;for(O=N.length;E<O;E++)I=c(N[E],r[E],L),f(I.x,I.y,-K);y=0;for(B=H.length;y<B;y++)for(A=H[y],T=Z[y],E=0,O=A.length;E<O;E++)I=c(A[E],T[E],L),f(I.x,I.y,-K)}L=l;for(E=0;E<G;E++)I=p?c(m[E],X[E],L):m[E],u?(w.copy(v.normals[0]).multiplyScalar(I.x),C.copy(v.binormals[0]).multiplyScalar(I.y),z.copy(s[0]).add(w).add(C),f(z.x,z.y,z.z)):f(I.x,I.y,0);for(O=1;O<=q;O++)for(E=0;E<G;E++)I=p?c(m[E],X[E],L):m[E],u?(w.copy(v.normals[O]).multiplyScalar(I.x),C.copy(v.binormals[O]).multiplyScalar(I.y),
z.copy(s[O]).add(w).add(C),f(z.x,z.y,z.z)):f(I.x,I.y,h/q*O);for(P=n-1;0<=P;P--){O=P/n;K=k*(1-O);L=l*Math.sin(O*Math.PI/2);E=0;for(O=N.length;E<O;E++)I=c(N[E],r[E],L),f(I.x,I.y,h+K);y=0;for(B=H.length;y<B;y++)for(A=H[y],T=Z[y],E=0,O=A.length;E<O;E++)I=c(A[E],T[E],L),u?f(I.x,I.y+s[q-1].y,s[q-1].x+K):f(I.x,I.y,h+K)}(function(){if(p){var a;a=0*G;for(E=0;E<R;E++)Q=F[E],g(Q[2]+a,Q[1]+a,Q[0]+a);a=q+2*n;a*=G;for(E=0;E<R;E++)Q=F[E],g(Q[0]+a,Q[1]+a,Q[2]+a)}else{for(E=0;E<R;E++)Q=F[E],g(Q[2],Q[1],Q[0]);for(E=
0;E<R;E++)Q=F[E],g(Q[0]+G*q,Q[1]+G*q,Q[2]+G*q)}})();(function(){var a=0;e(N,a);a+=N.length;y=0;for(B=H.length;y<B;y++)A=H[y],e(A,a),a+=A.length})()};
THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new THREE.Vector2(b.x,b.y),new THREE.Vector2(c.x,c.y),new THREE.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new THREE.Vector2(b.x,1-b.z),new THREE.Vector2(c.x,1-c.z),new THREE.Vector2(d.x,1-d.z),new THREE.Vector2(e.x,1-e.z)]:[new THREE.Vector2(b.y,1-b.z),new THREE.Vector2(c.y,1-c.z),new THREE.Vector2(d.y,
1-d.z),new THREE.Vector2(e.y,1-e.z)]}};THREE.ShapeGeometry=function(a,b){THREE.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b);return this};
THREE.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f,g,h=this.vertices.length;e=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var k=e.shape,l=e.holes;if(!THREE.ShapeUtils.isClockWise(k))for(k=k.reverse(),e=0,f=l.length;e<f;e++)g=l[e],THREE.ShapeUtils.isClockWise(g)&&(l[e]=g.reverse());var n=THREE.ShapeUtils.triangulateShape(k,l);e=0;for(f=l.length;e<f;e++)g=l[e],k=k.concat(g);
l=k.length;f=n.length;for(e=0;e<l;e++)g=k[e],this.vertices.push(new THREE.Vector3(g.x,g.y,0));for(e=0;e<f;e++)l=n[e],k=l[0]+h,g=l[1]+h,l=l[2]+h,this.faces.push(new THREE.Face3(k,g,l,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,k,g,l))};
THREE.LatheBufferGeometry=function(a,b,c,d){THREE.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=THREE.Math.clamp(d,0,2*Math.PI);for(var e=(b+1)*a.length,f=b*a.length*6,g=new THREE.BufferAttribute(new (65535<f?Uint32Array:Uint16Array)(f),1),h=new THREE.BufferAttribute(new Float32Array(3*e),3),k=new THREE.BufferAttribute(new Float32Array(2*e),2),l=0,n=0,p=1/b,m=new THREE.Vector3,q=new THREE.Vector2,
e=0;e<=b;e++)for(var f=c+e*p*d,r=Math.sin(f),s=Math.cos(f),f=0;f<=a.length-1;f++)m.x=a[f].x*r,m.y=a[f].y,m.z=a[f].x*s,h.setXYZ(l,m.x,m.y,m.z),q.x=e/b,q.y=f/(a.length-1),k.setXY(l,q.x,q.y),l++;for(e=0;e<b;e++)for(f=0;f<a.length-1;f++)c=f+e*a.length,l=c+a.length,p=c+a.length+1,m=c+1,g.setX(n,c),n++,g.setX(n,l),n++,g.setX(n,m),n++,g.setX(n,l),n++,g.setX(n,p),n++,g.setX(n,m),n++;this.setIndex(g);this.addAttribute("position",h);this.addAttribute("uv",k);this.computeVertexNormals();if(d===2*Math.PI)for(d=
this.attributes.normal.array,g=new THREE.Vector3,h=new THREE.Vector3,k=new THREE.Vector3,c=b*a.length*3,f=e=0;e<a.length;e++,f+=3)g.x=d[f+0],g.y=d[f+1],g.z=d[f+2],h.x=d[c+f+0],h.y=d[c+f+1],h.z=d[c+f+2],k.addVectors(g,h).normalize(),d[f+0]=d[c+f+0]=k.x,d[f+1]=d[c+f+1]=k.y,d[f+2]=d[c+f+2]=k.z};THREE.LatheBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.LatheBufferGeometry.prototype.constructor=THREE.LatheBufferGeometry;
THREE.LatheGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new THREE.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;
THREE.PlaneGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(a,b,c,d))};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;
THREE.PlaneBufferGeometry=function(a,b,c,d){THREE.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,h=d+1,k=a/c,l=b/d;b=new Float32Array(g*h*3);a=new Float32Array(g*h*3);for(var n=new Float32Array(g*h*2),p=0,m=0,q=0;q<h;q++)for(var r=q*l-f,s=0;s<g;s++)b[p]=s*k-e,b[p+1]=-r,a[p+2]=1,n[m]=s/c,n[m+1]=1-q/d,p+=3,m+=2;p=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(q=0;q<d;q++)for(s=0;s<c;s++)f=s+g*(q+1),h=s+1+g*(q+1),k=s+1+g*q,e[p]=s+g*q,e[p+1]=f,e[p+2]=k,e[p+3]=f,e[p+4]=h,e[p+5]=k,p+=6;this.setIndex(new THREE.BufferAttribute(e,1));this.addAttribute("position",new THREE.BufferAttribute(b,3));this.addAttribute("normal",new THREE.BufferAttribute(a,3));this.addAttribute("uv",new THREE.BufferAttribute(n,2))};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;
THREE.RingBufferGeometry=function(a,b,c,d,e,f){THREE.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=(c+1)*(d+1),h=c*d*6,h=new THREE.BufferAttribute(new (65535<h?Uint32Array:Uint16Array)(h),1),k=new THREE.BufferAttribute(new Float32Array(3*g),3),l=new THREE.BufferAttribute(new Float32Array(3*
g),3),g=new THREE.BufferAttribute(new Float32Array(2*g),2),n=0,p=0,m,q=a,r=(b-a)/d,s=new THREE.Vector3,u=new THREE.Vector2,x;for(a=0;a<=d;a++){for(x=0;x<=c;x++)m=e+x/c*f,s.x=q*Math.cos(m),s.y=q*Math.sin(m),k.setXYZ(n,s.x,s.y,s.z),l.setXYZ(n,0,0,1),u.x=(s.x/b+1)/2,u.y=(s.y/b+1)/2,g.setXY(n,u.x,u.y),n++;q+=r}for(a=0;a<d;a++)for(b=a*(c+1),x=0;x<c;x++)e=m=x+b,f=m+c+1,n=m+c+2,m+=1,h.setX(p,e),p++,h.setX(p,f),p++,h.setX(p,n),p++,h.setX(p,e),p++,h.setX(p,n),p++,h.setX(p,m),p++;this.setIndex(h);this.addAttribute("position",
k);this.addAttribute("normal",l);this.addAttribute("uv",g)};THREE.RingBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.RingBufferGeometry.prototype.constructor=THREE.RingBufferGeometry;THREE.RingGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new THREE.RingBufferGeometry(a,b,c,d,e,f))};
THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;THREE.SphereGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new THREE.SphereBufferGeometry(a,b,c,d,e,f,g))};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;
THREE.SphereBufferGeometry=function(a,b,c,d,e,f,g){THREE.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;for(var h=f+g,k=(b+1)*(c+1),l=new THREE.BufferAttribute(new Float32Array(3*k),3),n=new THREE.BufferAttribute(new Float32Array(3*
k),3),k=new THREE.BufferAttribute(new Float32Array(2*k),2),p=0,m=[],q=new THREE.Vector3,r=0;r<=c;r++){for(var s=[],u=r/c,x=0;x<=b;x++){var v=x/b,C=-a*Math.cos(d+v*e)*Math.sin(f+u*g),w=a*Math.cos(f+u*g),z=a*Math.sin(d+v*e)*Math.sin(f+u*g);q.set(C,w,z).normalize();l.setXYZ(p,C,w,z);n.setXYZ(p,q.x,q.y,q.z);k.setXY(p,v,1-u);s.push(p);p++}m.push(s)}d=[];for(r=0;r<c;r++)for(x=0;x<b;x++)e=m[r][x+1],g=m[r][x],p=m[r+1][x],q=m[r+1][x+1],(0!==r||0<f)&&d.push(e,g,q),(r!==c-1||h<Math.PI)&&d.push(g,p,q);this.setIndex(new (65535<
l.count?THREE.Uint32Attribute:THREE.Uint16Attribute)(d,1));this.addAttribute("position",l);this.addAttribute("normal",n);this.addAttribute("uv",k);this.boundingSphere=new THREE.Sphere(new THREE.Vector3,a)};THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry;
THREE.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof THREE.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new THREE.Geometry;c=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);THREE.ExtrudeGeometry.call(this,c,b);this.type="TextGeometry"};
THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;
THREE.TorusBufferGeometry=function(a,b,c,d,e){THREE.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=(c+1)*(d+1),g=c*d*6,g=new (65535<g?Uint32Array:Uint16Array)(g),h=new Float32Array(3*f),k=new Float32Array(3*f),f=new Float32Array(2*f),l=0,n=0,p=0,m=new THREE.Vector3,q=new THREE.Vector3,r=new THREE.Vector3,s,u;for(s=0;s<=c;s++)for(u=0;u<=d;u++){var x=
u/d*e,v=s/c*Math.PI*2;q.x=(a+b*Math.cos(v))*Math.cos(x);q.y=(a+b*Math.cos(v))*Math.sin(x);q.z=b*Math.sin(v);h[l]=q.x;h[l+1]=q.y;h[l+2]=q.z;m.x=a*Math.cos(x);m.y=a*Math.sin(x);r.subVectors(q,m).normalize();k[l]=r.x;k[l+1]=r.y;k[l+2]=r.z;f[n]=u/d;f[n+1]=s/c;l+=3;n+=2}for(s=1;s<=c;s++)for(u=1;u<=d;u++)a=(d+1)*(s-1)+u-1,b=(d+1)*(s-1)+u,e=(d+1)*s+u,g[p]=(d+1)*s+u-1,g[p+1]=a,g[p+2]=e,g[p+3]=a,g[p+4]=b,g[p+5]=e,p+=6;this.setIndex(new THREE.BufferAttribute(g,1));this.addAttribute("position",new THREE.BufferAttribute(h,
3));this.addAttribute("normal",new THREE.BufferAttribute(k,3));this.addAttribute("uv",new THREE.BufferAttribute(f,2))};THREE.TorusBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusBufferGeometry.prototype.constructor=THREE.TorusBufferGeometry;
THREE.TorusGeometry=function(a,b,c,d,e){THREE.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new THREE.TorusBufferGeometry(a,b,c,d,e))};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;
THREE.TorusKnotBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.cos(a),g=Math.sin(a);a*=c/b;b=Math.cos(a);e.x=d*(2+b)*.5*f;e.y=d*(2+b)*g*.5;e.z=d*Math.sin(a)*.5}THREE.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var h=(d+1)*(c+1),k=d*c*6,k=new THREE.BufferAttribute(new (65535<k?Uint32Array:Uint16Array)(k),1),l=new THREE.BufferAttribute(new Float32Array(3*
h),3),n=new THREE.BufferAttribute(new Float32Array(3*h),3),h=new THREE.BufferAttribute(new Float32Array(2*h),2),p,m,q=0,r=0,s=new THREE.Vector3,u=new THREE.Vector3,x=new THREE.Vector2,v=new THREE.Vector3,C=new THREE.Vector3,w=new THREE.Vector3,z=new THREE.Vector3,A=new THREE.Vector3;for(p=0;p<=c;++p)for(m=p/c*e*Math.PI*2,g(m,e,f,a,v),g(m+.01,e,f,a,C),z.subVectors(C,v),A.addVectors(C,v),w.crossVectors(z,A),A.crossVectors(w,z),w.normalize(),A.normalize(),m=0;m<=d;++m){var y=m/d*Math.PI*2,B=-b*Math.cos(y),
y=b*Math.sin(y);s.x=v.x+(B*A.x+y*w.x);s.y=v.y+(B*A.y+y*w.y);s.z=v.z+(B*A.z+y*w.z);l.setXYZ(q,s.x,s.y,s.z);u.subVectors(s,v).normalize();n.setXYZ(q,u.x,u.y,u.z);x.x=p/c;x.y=m/d;h.setXY(q,x.x,x.y);q++}for(m=1;m<=c;m++)for(p=1;p<=d;p++)a=(d+1)*m+(p-1),b=(d+1)*m+p,e=(d+1)*(m-1)+p,k.setX(r,(d+1)*(m-1)+(p-1)),r++,k.setX(r,a),r++,k.setX(r,e),r++,k.setX(r,a),r++,k.setX(r,b),r++,k.setX(r,e),r++;this.setIndex(k);this.addAttribute("position",l);this.addAttribute("normal",n);this.addAttribute("uv",h)};
THREE.TorusKnotBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusKnotBufferGeometry.prototype.constructor=THREE.TorusKnotBufferGeometry;
THREE.TorusKnotGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;
THREE.TubeGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:f};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||THREE.TubeGeometry.NoTaper;var g=[],h,k,l=b+1,n,p,m,q,r,s=new THREE.Vector3,u,x,v;u=new THREE.TubeGeometry.FrenetFrames(a,b,e);x=u.normals;v=u.binormals;this.tangents=u.tangents;this.normals=x;this.binormals=v;for(u=0;u<l;u++)for(g[u]=[],n=u/(l-1),r=a.getPointAt(n),h=x[u],k=v[u],m=c*f(n),n=0;n<
d;n++)p=n/d*2*Math.PI,q=-m*Math.cos(p),p=m*Math.sin(p),s.copy(r),s.x+=q*h.x+p*k.x,s.y+=q*h.y+p*k.y,s.z+=q*h.z+p*k.z,g[u][n]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1;for(u=0;u<b;u++)for(n=0;n<d;n++)f=e?(u+1)%b:u+1,l=(n+1)%d,a=g[u][n],c=g[f][n],f=g[f][l],l=g[u][l],s=new THREE.Vector2(u/b,n/d),x=new THREE.Vector2((u+1)/b,n/d),v=new THREE.Vector2((u+1)/b,(n+1)/d),h=new THREE.Vector2(u/b,(n+1)/d),this.faces.push(new THREE.Face3(a,c,l)),this.faceVertexUvs[0].push([s,x,h]),this.faces.push(new THREE.Face3(c,
f,l)),this.faceVertexUvs[0].push([x.clone(),v,h.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(a){return 1};THREE.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
THREE.TubeGeometry.FrenetFrames=function(a,b,c){var d=new THREE.Vector3,e=[],f=[],g=[],h=new THREE.Vector3,k=new THREE.Matrix4;b+=1;var l,n,p;this.tangents=e;this.normals=f;this.binormals=g;for(l=0;l<b;l++)n=l/(b-1),e[l]=a.getTangentAt(n),e[l].normalize();f[0]=new THREE.Vector3;g[0]=new THREE.Vector3;a=Number.MAX_VALUE;l=Math.abs(e[0].x);n=Math.abs(e[0].y);p=Math.abs(e[0].z);l<=a&&(a=l,d.set(1,0,0));n<=a&&(a=n,d.set(0,1,0));p<=a&&d.set(0,0,1);h.crossVectors(e[0],d).normalize();f[0].crossVectors(e[0],
h);g[0].crossVectors(e[0],f[0]);for(l=1;l<b;l++)f[l]=f[l-1].clone(),g[l]=g[l-1].clone(),h.crossVectors(e[l-1],e[l]),h.length()>Number.EPSILON&&(h.normalize(),d=Math.acos(THREE.Math.clamp(e[l-1].dot(e[l]),-1,1)),f[l].applyMatrix4(k.makeRotationAxis(h,d))),g[l].crossVectors(e[l],f[l]);if(c)for(d=Math.acos(THREE.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(h.crossVectors(f[0],f[b-1]))&&(d=-d),l=1;l<b;l++)f[l].applyMatrix4(k.makeRotationAxis(e[l],d*l)),g[l].crossVectors(e[l],f[l])};
THREE.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=k.vertices.push(b)-1;var c=Math.atan2(a.z,-a.x)/2/Math.PI+.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5;b.uv=new THREE.Vector2(c,1-a);return b}function f(a,b,c,d){d=new THREE.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()],void 0,d);k.faces.push(d);u.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(u.z,-u.x);k.faceVertexUvs[0].push([h(a.uv,a,d),h(b.uv,b,d),h(c.uv,c,d)])}function g(a,
b){for(var c=Math.pow(2,b),d=e(k.vertices[a.a]),g=e(k.vertices[a.b]),h=e(k.vertices[a.c]),l=[],m=a.materialIndex,n=0;n<=c;n++){l[n]=[];for(var p=e(d.clone().lerp(h,n/c)),q=e(g.clone().lerp(h,n/c)),r=c-n,s=0;s<=r;s++)l[n][s]=0===s&&n===c?p:e(p.clone().lerp(q,s/r))}for(n=0;n<c;n++)for(s=0;s<2*(c-n)-1;s++)d=Math.floor(s/2),0===s%2?f(l[n][d+1],l[n+1][d],l[n][d],m):f(l[n][d+1],l[n+1][d+1],l[n+1][d],m)}function h(a,b,c){0>c&&1===a.x&&(a=new THREE.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new THREE.Vector2(c/
2/Math.PI+.5,a.y));return a.clone()}THREE.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var k=this,l=0,n=a.length;l<n;l+=3)e(new THREE.Vector3(a[l],a[l+1],a[l+2]));a=this.vertices;for(var p=[],m=l=0,n=b.length;l<n;l+=3,m++){var q=a[b[l]],r=a[b[l+1]],s=a[b[l+2]];p[m]=new THREE.Face3(q.index,r.index,s.index,[q.clone(),r.clone(),s.clone()],void 0,m)}for(var u=new THREE.Vector3,l=0,n=p.length;l<n;l++)g(p[l],d);l=0;for(n=this.faceVertexUvs[0].length;l<
n;l++)b=this.faceVertexUvs[0][l],d=b[0].x,a=b[1].x,p=b[2].x,m=Math.max(d,a,p),q=Math.min(d,a,p),.9<m&&.1>q&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>p&&(b[2].x+=1));l=0;for(n=this.vertices.length;l<n;l++)this.vertices[l].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;
THREE.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;THREE.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,
12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;
THREE.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);
THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;
THREE.TetrahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;
THREE.ParametricGeometry=function(a,b,c){THREE.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,h,k,l,n=b+1;for(g=0;g<=c;g++)for(l=g/c,h=0;h<=b;h++)k=h/b,k=a(k,l),d.push(k);var p,m,q,r;for(g=0;g<c;g++)for(h=0;h<b;h++)a=g*n+h,d=g*n+h+1,l=(g+1)*n+h+1,k=(g+1)*n+h,p=new THREE.Vector2(h/b,g/c),m=new THREE.Vector2((h+1)/b,g/c),q=new THREE.Vector2((h+1)/b,(g+1)/c),r=new THREE.Vector2(h/b,(g+1)/c),e.push(new THREE.Face3(a,
d,k)),f.push([p,m,r]),e.push(new THREE.Face3(d,l,k)),f.push([m.clone(),q,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;
THREE.WireframeGeometry=function(a){function b(a,b){return a-b}THREE.BufferGeometry.call(this);var c=[0,0],d={},e=["a","b","c"];if(a instanceof THREE.Geometry){var f=a.vertices,g=a.faces,h=0,k=new Uint32Array(6*g.length);a=0;for(var l=g.length;a<l;a++)for(var n=g[a],p=0;3>p;p++){c[0]=n[e[p]];c[1]=n[e[(p+1)%3]];c.sort(b);var m=c.toString();void 0===d[m]&&(k[2*h]=c[0],k[2*h+1]=c[1],d[m]=!0,h++)}c=new Float32Array(6*h);a=0;for(l=h;a<l;a++)for(p=0;2>p;p++)d=f[k[2*a+p]],h=6*a+3*p,c[h+0]=d.x,c[h+1]=d.y,
c[h+2]=d.z;this.addAttribute("position",new THREE.BufferAttribute(c,3))}else if(a instanceof THREE.BufferGeometry){if(null!==a.index){l=a.index.array;f=a.attributes.position;e=a.groups;h=0;0===e.length&&a.addGroup(0,l.length);k=new Uint32Array(2*l.length);g=0;for(n=e.length;g<n;++g){a=e[g];p=a.start;m=a.count;a=p;for(var q=p+m;a<q;a+=3)for(p=0;3>p;p++)c[0]=l[a+p],c[1]=l[a+(p+1)%3],c.sort(b),m=c.toString(),void 0===d[m]&&(k[2*h]=c[0],k[2*h+1]=c[1],d[m]=!0,h++)}c=new Float32Array(6*h);a=0;for(l=h;a<
l;a++)for(p=0;2>p;p++)h=6*a+3*p,d=k[2*a+p],c[h+0]=f.getX(d),c[h+1]=f.getY(d),c[h+2]=f.getZ(d)}else for(f=a.attributes.position.array,h=f.length/3,k=h/3,c=new Float32Array(6*h),a=0,l=k;a<l;a++)for(p=0;3>p;p++)h=18*a+6*p,k=9*a+3*p,c[h+0]=f[k],c[h+1]=f[k+1],c[h+2]=f[k+2],d=9*a+(p+1)%3*3,c[h+3]=f[d],c[h+4]=f[d+1],c[h+5]=f[d+2];this.addAttribute("position",new THREE.BufferAttribute(c,3))}};THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);
THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry;THREE.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new THREE.BufferGeometry;a.addAttribute("position",new THREE.BufferAttribute(b,3));a.addAttribute("color",new THREE.BufferAttribute(c,3));b=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,a,b)};THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype);
THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;
THREE.ArrowHelper=function(){var a=new THREE.Geometry;a.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var b=new THREE.CylinderGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,f,g,h){THREE.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===h&&(h=.2*g);this.position.copy(d);this.line=new THREE.Line(a,new THREE.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:f}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,h)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=function(){var a=new THREE.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();
THREE.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};THREE.ArrowHelper.prototype.setColor=function(a){this.line.material.color.set(a);this.cone.material.color.set(a)};
THREE.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new THREE.BufferGeometry;d.setIndex(new THREE.BufferAttribute(b,1));d.addAttribute("position",new THREE.BufferAttribute(c,3));THREE.LineSegments.call(this,d,new THREE.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;
THREE.BoxHelper.prototype.update=function(){var a=new THREE.Box3;return function(b){b instanceof THREE.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
THREE.BoundingBoxHelper=function(a,b){var c=void 0!==b?b:8947848;this.object=a;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:c,wireframe:!0}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
THREE.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new THREE.Vector3);d.colors.push(new THREE.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new THREE.Geometry,e=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);
b("n2","f2",16755200);b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);THREE.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;
THREE.CameraHelper.prototype.update=function(){function a(a,g,h,k){d.set(g,h,k).unproject(e);a=c[a];if(void 0!==a)for(g=0,h=a.length;g<h;g++)b.vertices[a[g]].copy(d)}var b,c,d=new THREE.Vector3,e=new THREE.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,
-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
THREE.DirectionalLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;b=b||1;var c=new THREE.Geometry;c.vertices.push(new THREE.Vector3(-b,b,0),new THREE.Vector3(b,b,0),new THREE.Vector3(b,-b,0),new THREE.Vector3(-b,-b,0),new THREE.Vector3(-b,b,0));var d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(c,d);this.add(this.lightPlane);
c=new THREE.Geometry;c.vertices.push(new THREE.Vector3,new THREE.Vector3);d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(c,d);this.add(this.targetLine);this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;
THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};
THREE.DirectionalLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(c);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(c);this.targetLine.geometry.verticesNeedUpdate=!0;this.targetLine.material.color.copy(this.lightPlane.material.color)}}();
THREE.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;THREE.LineSegments.call(this,new THREE.EdgesGeometry(a.geometry,c),new THREE.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;
THREE.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof THREE.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new THREE.BufferGeometry;b=new THREE.Float32Attribute(6*b,3);c.addAttribute("position",b);THREE.LineSegments.call(this,c,new THREE.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=
!1;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;
THREE.FaceNormalsHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Matrix3;return function(){this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);for(var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices,f=f.faces,h=0,k=0,l=f.length;k<l;k++){var n=f[k],p=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);b.copy(p).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);
e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0;return this}}();
THREE.GridHelper=function(a,b){var c=new THREE.Geometry,d=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924);this.color2=new THREE.Color(8947848);for(var e=-a;e<=a;e+=b){c.vertices.push(new THREE.Vector3(-a,0,e),new THREE.Vector3(a,0,e),new THREE.Vector3(e,0,-a),new THREE.Vector3(e,0,a));var f=0===e?this.color1:this.color2;c.colors.push(f,f,f,f)}THREE.LineSegments.call(this,c,d)};THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype);
THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(a,b){this.color1.set(a);this.color2.set(b);this.geometry.colorsNeedUpdate=!0};
THREE.HemisphereLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new THREE.Color,new THREE.Color];var c=new THREE.SphereGeometry(b,4,2);c.rotateX(-Math.PI/2);for(var d=0;8>d;d++)c.faces[d].color=this.colors[4>d?0:1];d=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(c,d);this.add(this.lightSphere);this.update()};
THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
THREE.HemisphereLightHelper.prototype.update=function(){var a=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
THREE.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();var c=new THREE.SphereGeometry(b,4,2),d=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,c,d);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;
THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
THREE.SkeletonHelper=function(a){this.bones=this.getBoneList(a);for(var b=new THREE.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof THREE.Bone&&(b.vertices.push(new THREE.Vector3),b.vertices.push(new THREE.Vector3),b.colors.push(new THREE.Color(0,0,1)),b.colors.push(new THREE.Color(0,1,0)));b.dynamic=!0;c=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1;this.update()};THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(a){var b=[];a instanceof THREE.Bone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,this.getBoneList(a.children[c]));return b};
THREE.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new THREE.Matrix4).getInverse(this.root.matrixWorld),c=new THREE.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof THREE.Bone&&(c.multiplyMatrices(b,f.matrixWorld),a.vertices[d].setFromMatrixPosition(c),c.multiplyMatrices(b,f.parent.matrixWorld),a.vertices[d+1].setFromMatrixPosition(c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
THREE.SpotLightHelper=function(a){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new THREE.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new THREE.Float32Attribute(b,3));b=new THREE.LineBasicMaterial({fog:!1});this.cone=new THREE.LineSegments(a,
b);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
THREE.SpotLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
THREE.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof THREE.Geometry?b=3*c.faces.length:c instanceof THREE.BufferGeometry&&(b=c.attributes.normal.count);c=new THREE.BufferGeometry;b=new THREE.Float32Attribute(6*b,3);c.addAttribute("position",b);THREE.LineSegments.call(this,c,new THREE.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;
THREE.VertexNormalsHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g instanceof THREE.Geometry)for(var h=g.vertices,k=g.faces,l=g=0,n=k.length;l<n;l++)for(var p=k[l],m=0,q=p.vertexNormals.length;m<q;m++){var r=p.vertexNormals[m];a.copy(h[p[d[m]]]).applyMatrix4(e);
b.copy(r).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g instanceof THREE.BufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,m=g=0,q=d.count;m<q;m++)a.set(d.getX(m),d.getY(m),d.getZ(m)).applyMatrix4(e),b.set(h.getX(m),h.getY(m),h.getZ(m)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return this}}();
THREE.WireframeHelper=function(a,b){var c=void 0!==b?b:16777215;THREE.LineSegments.call(this,new THREE.WireframeGeometry(a.geometry),new THREE.LineBasicMaterial({color:c}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(a){THREE.Object3D.call(this);this.material=a;this.render=function(a){}};
THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.MorphBlendMesh=function(a,b){THREE.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];var c=this.geometry.morphTargets.length;this.createAnimation("__default",0,c-1,c/1);this.setAnimationWeight("__default",1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;
THREE.MorphBlendMesh.prototype.createAnimation=function(a,b,c,d){b={start:b,end:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};
THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/i,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var k=h[1];d[k]||(d[k]={start:Infinity,end:-Infinity});h=d[k];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=k)}}for(k in d)h=d[k],this.createAnimation(k,h.start,h.end,a);this.firstAnimation=c};
THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};
THREE.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
THREE.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};THREE.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};THREE.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
THREE.MorphBlendMesh.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+THREE.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&
(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};
;/* v 2.17
author http://codecanyon.net/user/zlac/portfolio?ref=zlac
*/
var FLIPBOOK=FLIPBOOK||{};THREE.ImageUtils.crossOrigin="",FLIPBOOK.PageWebGL=function(t,e,i,o,s,n){THREE.Object3D.call(this),this.book=t,this.frontTexture=i,this.backTexture=o,this.index=e,this.materialType=n.pageMaterial,this.pW=n.pageWidth,this.pH=n.pageHeight,this.nfacesw=n.pageSegmentsW,this.nfacesh=n.pageSegmentsH,this.mats=[],this.pageHardness=s,this.pageThickness=s,this.duration=n.pageFlipDuration,this.angle=.25*Math.PI*this.pW/this.pH,this.force=10,this.offset=0,this.to=null,this.mod=null,this.bend=null,this.pivot=null,this.isFlippedLeft=!1,this.isFlippedRight=!0,this.flippingLeft=!1,this.flippingRight=!1,this.options=n;var r=n.pageMiddleShadowSize,h=document.createElement("canvas");h.width=64,h.height=64;var a=h.getContext("2d"),p=a.createLinearGradient(64-r,0,64,0);p.addColorStop(0,"#AAAAAA"),p.addColorStop(1,n.pageMiddleShadowColorL),a.fillStyle=p,a.fillRect(0,0,64,64);var c=new THREE.Texture(h);c.needsUpdate=!0,this.book.specularB=c;var f=document.createElement("canvas");f.width=64,f.height=64;var l=f.getContext("2d"),u=l.createLinearGradient(0,0,r,0);u.addColorStop(0,n.pageMiddleShadowColorR),u.addColorStop(1,"#AAAAAA"),l.fillStyle=u,l.fillRect(0,0,64,64);var d=new THREE.Texture(f);d.needsUpdate=!0,this.book.specularF=d;var g,y;this.options.lights?(g=new THREE.MeshStandardMaterial({roughness:n.pageRoughness,metalness:n.pageMetalness,emissive:0,color:15592941,lightMap:this.book.specularF}),y=new THREE.MeshStandardMaterial({roughness:n.pageRoughness,metalness:n.pageMetalness,emissive:0,color:15592941,lightMap:this.book.specularB})):g=y=new THREE.MeshBasicMaterial({color:15592941}),this.gF=new THREE.BoxGeometry(this.pW,this.pH,.01,this.nfacesw,this.nfacesh,0);var x=new THREE.MeshBasicMaterial({color:15592941}),m=[x,x,x,x,g,y];this.cube=new THREE.Mesh(this.gF,new THREE.MeshFaceMaterial(m)),this.cube.position.x=.5*this.pW,this.gF.faceVertexUvs[1]=this.gF.faceVertexUvs[0],this.add(this.cube),this.pageFlippedAngle=Math.PI*this.options.pageFlippedAngle/180,this.bendF=new MOD3.Bend(0,0,0),this.bendF.constraint=MOD3.ModConstant.LEFT,this.pH>this.pW&&(this.bendF.switchAxes=!0),this.b2=new MOD3.Bend(0,0,0),this.b2.constraint=MOD3.ModConstant.RIGHT,this.pH>this.pW&&(this.b2.switchAxes=!0),this.b2.force=Math.PI/2,this.b2.offset=.1,this.modF=new MOD3.ModifierStack(new MOD3.LibraryThree,this.cube),this.modF.addModifier(this.bendF),this.modF.apply(),this.frontMaterials={},this.backMaterials={};var M=this;jQuery(n.main).bind("pageLoaded",function(t,e,i){var o=M.options.rightToLeft?M.book.pages.length-M.index-1:M.index,s=M.options.rightToLeft?2*o+1:2*o,n=M.options.rightToLeft?2*o:2*o+1;if(e==s){if(M.frontMaterials[i])return void(M.cube.material.materials[4]=M.frontMaterials[i]);var r=M.options.pages[s].canvas,h=new THREE.Texture(r);h.anisotropy=M.book.renderer.getMaxAnisotropy(),h.needsUpdate=!0,"doubleWithCover"==M.options.pageMode&&M.index>0&&(h.repeat.x=.5,h.offset.x=.5);M.options.pageWidth,M.options.pageHeight;r.ratio<1?(h.repeat.x*=r.ratio,h.offset.x*=r.ratio):(h.repeat.y=1/r.ratio,h.offset.y=-1/r.ratio),h.wrapS=h.wrapT=THREE.RepeatWrapping;var a=M.createMaterial(h);M.cube.material.materials[4]=a,M.frontMaterials[i]=a,delete r,M.book.updateHtmlLayer()}else if(e==n){if(M.backMaterials[i])return void(M.cube.material.materials[5]=M.backMaterials[i]);var p=M.options.pages[n].canvas,c=new THREE.Texture(p);c.anisotropy=M.book.renderer.getMaxAnisotropy(),c.needsUpdate=!0,M.index<M.book.pages.length-1&&"doubleWithCover"==M.options.pageMode&&(c.repeat.x=.5);M.options.pageWidth,M.options.pageHeight;p.ratio<1?c.repeat.x*=p.ratio:(c.repeat.y=1/p.ratio,c.offset.y=1-1/p.ratio);var a=M.createMaterial(c,"back");M.cube.material.materials[5]=a,M.backMaterials[i]=a,delete p,M.book.updateHtmlLayer()}})},FLIPBOOK.PageWebGL.prototype=new THREE.Object3D,FLIPBOOK.PageWebGL.prototype.constructor=FLIPBOOK.PageWebGL,FLIPBOOK.PageWebGL.prototype.load=function(){for(var t=this.book.pages,e=0;e<t.length;e++){var i=t[e];if(i.flippingLeft||i.flippingRight)return}if(!this.loaded){this.loaded=!0;var o=this,s=this.book.options,n=s.main,r=o.options.rightToLeft?this.book.pages.length-this.index-1:this.index,h=o.options.rightToLeft?2*r+1:2*r,a=o.options.rightToLeft?2*r:2*r+1;if(""!=s.pdfUrl)n.loadPagesFromPdf([h],function(){}),n.loadPagesFromPdf([a],function(){});else{var p=new THREE.TextureLoader;p.load(o.frontTexture,function(t){t.anisotropy=o.book.renderer.getMaxAnisotropy(),t.needsUpdate=!0,"left"==o.options.pages[2*o.index].side?t.repeat.x=.5:"right"==o.options.pages[2*o.index].side&&(t.repeat.x=.5,t.offset.x=.5),o.cube.material.materials[4]=o.createMaterial(t),p.load(o.backTexture,function(t){t.anisotropy=o.book.renderer.getMaxAnisotropy(),t.needsUpdate=!0,"left"==o.options.pages[2*o.index+1].side?t.repeat.x=.5:"right"==o.options.pages[2*o.index+1].side&&(t.repeat.x=.5,t.offset.x=.5),o.cube.material.materials[5]=o.createMaterial(t,"back"),o.loaded=!0})})}}},FLIPBOOK.PageWebGL.prototype.createMaterial=function(t,e){var i;if(this.options.lights){var o="back"==e?this.book.specularB:this.book.specularF,s=this.options;i=new THREE.MeshStandardMaterial({map:t,roughness:s.pageRoughness,metalness:s.pageMetalness,emissive:0,color:16777215,lightMap:o})}else i=new THREE.MeshBasicMaterial({map:t});return i},FLIPBOOK.PageWebGL.prototype._setAngle=function(t,e){if(180>=t&&t>=-180){if(t=t/180*Math.PI,this.singlePage&&(t>=90&&(t=90),0>t&&(t-=90),-180>t&&(t=-180),this.index==this.book.pages.length-1))return;0>t&&(t+=Math.PI),this.angle=t,this.positionZ(200),this.dragging=!0,this.rotation.y=-t,this.isFlippedLeft?this.bendF.force=1.35*Math.pow(-Math.abs(Math.cos(-t/2)),1)/Math.pow(this.pageHardness,1.5):this.bendF.force=1.35*Math.pow(Math.abs(Math.sin(-t/2)),1)/Math.pow(this.pageHardness,1.5),this.updateBend(),this.book.htmlLayerVisible&&(this.book.$pageL.hide(),this.book.$pageR.hide(),this.book.htmlLayerVisible=!1)}},FLIPBOOK.PageWebGL.prototype.updateBend=function(){this.b2.force=this.rotation.y+Math.PI/2,this.modF.apply(),this.gF.computeFaceNormals(),this.gF.computeVertexNormals(!0)},FLIPBOOK.PageWebGL.prototype.flipLeft=function(t){if(this.onComplete=t,this.dragging=!1,!this.isFlippedLeft&&!this.flippingLeft&&!this.flippingRight&&this.index==this.book.flippedleft){if(this.duration>0){this.flippingLeft=!0,this.flipping=!0,this.force=0;var e=(1+.5*Math.random())/this.pageHardness,i=.1+.2*Math.random();this.to={angle:this.rotation.y,t:-1,xx:0,thiss:this,force:this.force,offset:this.offset},this.bendIn(-Math.PI,e,i)}else this.rotation.y=-Math.PI,this.flippingLeft=!1,this.isFlippedLeft=!0,this.flippingRight=!1,this.isFlippedRight=!1;this.correctZOrder()}},FLIPBOOK.PageWebGL.prototype.correctZOrder=function(){var t,e=4;for(this.position.z=e/2+1,t=this.index-1;t>=0;t--)this.book.pages[t].position.z=this.book.pages[t+1].position.z-e/2-e/2-1;for(t=this.index+1;t<this.book.pages.length;t++)this.book.pages[t].position.z=this.book.pages[t-1].position.z-e/2-e/2-1},FLIPBOOK.PageWebGL.prototype.flipLeftInstant=function(t){if(this.onComplete=t,this.dragging=!1,!this.isFlippedLeft&&!this.flippingLeft&&!this.flippingRight&&this.index==this.book.flippedleft){this.thiss=this,this.xx=0,this.angle=-Math.PI,this.flippingLeft=!0,this.isFlippedLeft=!1,this.renderFlip(),this.flippingLeft=!1,this.isFlippedLeft=!0,this.flippingRight=!1,this.isFlippedRight=!1;var e=4;this.position.z=e/2+1;for(var i=this.index+1;i<this.book.pages.length;i++)this.book.pages[i].position.z=this.book.pages[i-1].position.z-e/2-e/2-1;if(this.index<this.book.pages.length-1){this.position.z=this.book.pages[this.index+1].position.z;for(var i=this.index-1;i>=0;i--)this.book.pages[i].position.z=this.book.pages[i+1].position.z-e/2-e/2-1}else this.index>0&&(this.book.pages[this.index].position.z=this.book.pages[this.index-1].position.z+e/2+e/2-1);this.flipFinished()}},FLIPBOOK.PageWebGL.prototype.flipRightInstant=function(t){if(this.onComplete=t,this.dragging=!1,!this.isFlippedRight&&!this.flippingRight&&!this.flippingLeft&&this.index==this.book.getNumPages()-this.book.flippedright-1){this.thiss=this,this.xx=0,this.angle=0,this.flippingRight=!0,this.isFlippedRight=!1,this.renderFlip(),this.flippingLeft=!1,this.isFlippedLeft=!1,this.flippingRight=!1,this.isFlippedRight=!0;var e=4;this.position.z=e/2+1;for(var i=this.index-1;i>=0;i--)this.book.pages[i].position.z=this.book.pages[i+1].position.z-e/2-e/2-1;if(this.index>0){this.position.z=this.book.pages[this.index-1].position.z;for(var i=this.index+1;i<this.book.pages.length;i++)this.book.pages[i].position.z=this.book.pages[i-1].position.z-e/2-e/2-1}else this.book.pages.length>1&&(this.position.z=this.book.pages[this.index+1].position.z+e/2+e/2-1);this.flipFinished()}},FLIPBOOK.PageWebGL.prototype.flipRight=function(t){if(this.onComplete=t,this.dragging=!1,!this.isFlippedRight&&!this.flippingRight&&!this.flippingLeft&&this.index==this.book.getNumPages()-this.book.flippedright-1){if(this.duration>0){this.flippingRight=!0,this.flipping=!0,this.force=0,this.to={angle:this.rotation.y,t:-1,xx:0,thiss:this,force:this.force,offset:this.offset};var e=(-1-.5*Math.random())/this.pageHardness,i=.1+.2*Math.random();this.bendIn(0,e,i)}else this.rotation.y=0,this.flippingLeft=!1,this.isFlippedLeft=!1,this.flippingRight=!1,this.isFlippedRight=!0;this.correctZOrder()}},FLIPBOOK.PageWebGL.prototype.bendIn=function(t,e,i){this.bendF.force=0,this.bendF.offset=0,this.updateBend();var o=2*this.duration*300*Math.pow(Math.abs(this.rotation.y-t)/Math.PI,.5)*Math.pow(this.pageHardness,.25);new TWEEN.Tween(this.to).to({angle:t,xx:1,t:1},o).easing(TWEEN.Easing.Sinusoidal.In).onUpdate(this.renderFlip).onComplete(this.bendOut).start(),this.book.options.main.playFlipSound()},FLIPBOOK.PageWebGL.prototype.bendOut=function(){var t=this.thiss,e=t.duration*Math.pow(Math.abs(t.bendF.force),.5)*1e3;new TWEEN.Tween(t.bendF).to({force:0,offset:1},e).easing(TWEEN.Easing.Sinusoidal.Out).onUpdate(function(){t.updateBend()}).onComplete(function(){t.flipFinished(t)}).start();var i=4;if(t.flippingLeft)if(t.index<t.book.pages.length-1){t.position.z=t.book.pages[t.index+1].position.z;for(var o=t.index-1;o>=0;o--)t.book.pages[o].position.z=t.book.pages[o+1].position.z-i/2-i/2-1}else t.book.pages.length>1&&(t.book.pages[t.index].position.z=t.book.pages[t.index-1].position.z+i/2+i/2-1);if(t.flippingRight)if(t.index>0){t.position.z=t.book.pages[t.index-1].position.z;for(var o=t.index+1;o<t.book.pages.length;o++)t.book.pages[o].position.z=t.book.pages[o-1].position.z-i/2-i/2-1}else t.book.pages.length>1&&(t.position.z=t.book.pages[t.index+1].position.z+i/2+i/2-1)},FLIPBOOK.PageWebGL.prototype.modApply=function(){this.thiss.bendF.force=this.thiss.bendB.force=this.force,this.thiss.bendF.offset=this.thiss.bendB.offset=this.offset,this.thiss.updateBend()},FLIPBOOK.PageWebGL.prototype.renderFlip=function(){.5*Math.PI;this.thiss.flippingLeft&&0==this.thiss.index&&this.thiss.book.getNumPages()>1?this.thiss.book.centerContainer.position.x=(1-this.xx)*this.thiss.book.centerContainer.position.x:this.thiss.flippingLeft&&this.thiss.index==this.thiss.book.getNumPages()-1?this.thiss.book.centerContainer.position.x=(1-this.xx)*this.thiss.book.centerContainer.position.x+this.xx*this.thiss.book.pageW*.5*this.thiss.book.centerContainer.scale.x:this.thiss.flippingRight&&0==this.thiss.index?this.thiss.book.centerContainer.position.x=(1-this.xx)*this.thiss.book.centerContainer.position.x-this.xx*this.thiss.book.pageW*.5*this.thiss.book.centerContainer.scale.x:this.thiss.flippingRight&&this.thiss.index==this.thiss.book.getNumPages()-1&&(this.thiss.book.centerContainer.position.x=(1-this.xx)*this.thiss.book.centerContainer.position.x*this.thiss.book.centerContainer.scale.x),this.thiss._setAngle(180*-this.angle/Math.PI),this.thiss.book.htmlLayer&&(this.thiss.book.htmlLayer.position.x=this.thiss.book.centerContainer.position.x,this.thiss.book.htmlLayer.position.y=this.thiss.book.centerContainer.position.y)},FLIPBOOK.PageWebGL.prototype.flipFinished=function(){var t=this;t.flippingLeft?(t.flippingLeft=!1,t.isFlippedLeft=!0,t.flippingRight=!1,t.isFlippedRight=!1):t.flippingRight&&(t.flippingLeft=!1,t.isFlippedRight=!0,t.flippingRight=!1,t.isFlippedLeft=!1),t.bendF.force=0,t.bendF.offset=0,t.updateBend(),t.flipping=!1,t.dragging=!1,"undefined"!=typeof t.onComplete&&t.onComplete(t),t.book.flipFinnished()},FLIPBOOK.PageWebGL.prototype.isFlippedLeft=function(){return this.thiss.isFlippedLeft},FLIPBOOK.PageWebGL.prototype.isFlippedRight=function(){return this.thiss.isFlippedRight},FLIPBOOK.PageWebGL.prototype.positionZ=function(){},FLIPBOOK.BookWebGL=function(t,e){this.elementId=jQuery(e.main.elem).attr("id"),this.wrapper="object"==typeof t?t:document.getElementById(t),this.options=e,this.options.cameraDistance=2800,this.main=e.main,this.pageW=e.pageWidth,this.pageH=e.pageHeight,this.pageW=1e3*e.pageWidth/e.pageHeight,this.pageH=1e3,this.main.options.pageWidth=this.pageW,this.main.options.pageHeight=this.pageH,this.scroll=e.scroll,this.pagesArr=e.pagesArr,this.pages=[],this.animating=!1,this.rightIndex=0,this.sc=1;var i=this.wrapper.style;i.width="100%",i.height="100%",i.position="absolute",i.overflow="hidden",(!e.lightBox||e.lightBoxOpened)&&this.enable(),this.options.cameraDistance=this.options.cameraDistance/1.5},FLIPBOOK.BookWebGL.prototype=new THREE.Object3D,FLIPBOOK.BookWebGL.prototype.constructor=FLIPBOOK.BookWebGL,FLIPBOOK.BookWebGL.prototype.init3d=function(){var t=this,e=30,i=jQuery(t.wrapper).width(),o=jQuery(t.wrapper).height(),s=i/o,n=1,r=1e4,h=this.options;this.Scene=new THREE.Scene,this.centerContainer=new THREE.Object3D,this.Scene.add(this.centerContainer),this.Camera=new THREE.PerspectiveCamera(e,s,n,r),this.Scene.add(this.Camera),this.zoom=h.zoom,this.pan=h.pan,this.tilt=h.tilt,this.updateCameraPosition();var a=this.wrapper,p=document.createElement("canvas");p.getContext("webgl");if(this.renderer=new THREE.WebGLRenderer({antialias:this.options.antialias,alpha:!0}),this.renderer.setSize(a.clientWidth,a.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),a.appendChild(this.renderer.domElement),this.options.hasHtmlContent=!0,this.options.hasHtmlContent&&this.initHtmlContent(),this.canvas=this.renderer.domElement,this._bind("mousedown",this.canvas),this._bind("mousemove",this.canvas),this._bind("mouseout",this.canvas),this._bind("mouseup",this.canvas),this._bind("touchstart",this.canvas),this._bind("touchmove",this.canvas),this._bind("touchend",this.canvas),this._bind("touchcancel",this.canvas),this.options.lights){var c=new THREE.SpotLight(5592405);c.intensity=1,c.position.set(0,0,0),c.position.z=2*h.pageWidth>h.pageHeight?2.4*h.pageWidth:1.2*h.pageHeight,this.Scene.add(c)}this.centerContainer.position.set(0,0,0),this.htmlLayer&&(this.htmlLayer.position.x=this.centerContainer.position.x,this.htmlLayer.position.y=this.centerContainer.position.y),this.onResize(),this.centerContainer.position.x=.5*-this.pageW*this.centerContainer.scale.x,this.htmlLayer&&(this.htmlLayer.position.x=this.centerContainer.position.x,this.htmlLayer.position.y=this.centerContainer.position.y),this.flippedleft=0,this.flippedright=0,this.cameraZMin=300,this.cameraZMax=5e3,function f(){if(t.rendering){if(!t.enabled)return;TWEEN.update(),t.renderer.clear(),t.renderer.render(t.Scene,t.Camera),t.htmlLayer&&t.cssRenderer.render(t.Scene,t.Camera)}requestAnimationFrame(f)}()},FLIPBOOK.BookWebGL.prototype.initHtmlContent=function(){THREE.CSS3DObject=function(t){THREE.Object3D.call(this),this.element=t,this.element.style.position="absolute",this.addEventListener("removed",function(t){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})},THREE.CSS3DObject.prototype=Object.create(THREE.Object3D.prototype),THREE.CSS3DObject.prototype.constructor=THREE.CSS3DObject,THREE.CSS3DSprite=function(t){THREE.CSS3DObject.call(this,t)},THREE.CSS3DSprite.prototype=Object.create(THREE.CSS3DObject.prototype),THREE.CSS3DSprite.prototype.constructor=THREE.CSS3DSprite,THREE.CSS3DRenderer=function(){console.log("THREE.CSS3DRenderer",THREE.REVISION);var t,e,i,o,s=new THREE.Matrix4,n={camera:{fov:0,style:""},objects:{}},r=document.createElement("div");r.style.overflow="hidden",r.style.WebkitTransformStyle="preserve-3d",r.style.MozTransformStyle="preserve-3d",r.style.oTransformStyle="preserve-3d",r.style.transformStyle="preserve-3d",this.domElement=r;var h=document.createElement("div");h.style.WebkitTransformStyle="preserve-3d",h.style.MozTransformStyle="preserve-3d",h.style.oTransformStyle="preserve-3d",h.style.transformStyle="preserve-3d",r.appendChild(h),this.setClearColor=function(){},this.getSize=function(){return{width:t,height:e}},this.setSize=function(s,n){t=s,e=n,i=t/2,o=e/2,r.style.width=s+"px",r.style.height=n+"px",h.style.width=s+"px",h.style.height=n+"px"};var a=function(t){return Math.abs(t)<Number.EPSILON?0:t},p=function(t){var e=t.elements;return"matrix3d("+a(e[0])+","+a(-e[1])+","+a(e[2])+","+a(e[3])+","+a(e[4])+","+a(-e[5])+","+a(e[6])+","+a(e[7])+","+a(e[8])+","+a(-e[9])+","+a(e[10])+","+a(e[11])+","+a(e[12])+","+a(-e[13])+","+a(e[14])+","+a(e[15])+")"},c=function(t){var e=t.elements;return"translate3d(-50%,-50%,0) matrix3d("+a(e[0])+","+a(e[1])+","+a(e[2])+","+a(e[3])+","+a(-e[4])+","+a(-e[5])+","+a(-e[6])+","+a(-e[7])+","+a(e[8])+","+a(e[9])+","+a(e[10])+","+a(e[11])+","+a(e[12])+","+a(e[13])+","+a(e[14])+","+a(e[15])+")"},f=function(t,e){if(t instanceof THREE.CSS3DObject){var i;t instanceof THREE.CSS3DSprite?(s.copy(e.matrixWorldInverse),s.transpose(),s.copyPosition(t.matrixWorld),s.scale(t.scale),s.elements[3]=0,s.elements[7]=0,s.elements[11]=0,s.elements[15]=1,i=c(s)):i=c(t.matrixWorld);var o=t.element,r=n.objects[t.id];(void 0===r||r!==i)&&(o.style.WebkitTransform=i,o.style.MozTransform=i,o.style.oTransform=i,o.style.transform=i,n.objects[t.id]=i),o.parentNode!==h&&h.appendChild(o)}for(var a=0,p=t.children.length;p>a;a++)f(t.children[a],e)};this.render=function(t,s){var a=.5/Math.tan(THREE.Math.degToRad(.5*s.fov))*e;n.camera.fov!==a&&(r.style.WebkitPerspective=a+"px",r.style.MozPerspective=a+"px",r.style.oPerspective=a+"px",r.style.perspective=a+"px",n.camera.fov=a),t.updateMatrixWorld(),null===s.parent&&s.updateMatrixWorld(),s.matrixWorldInverse.getInverse(s.matrixWorld);var c="translate3d(0,0,"+a+"px)"+p(s.matrixWorldInverse)+" translate3d("+i+"px,"+o+"px, 0)";n.camera.style!==c&&(h.style.WebkitTransform=c,h.style.MozTransform=c,h.style.oTransform=c,h.style.transform=c,n.camera.style=c),f(t,s)}};var t=document.createElement("div");t.className="htmlLayer";var e=jQuery(t);this.$htmlLayer=e,this.$pageR=jQuery("<div>").css("width",1e3*this.options.pageWidth/this.options.pageHeight+"px").css("height","1000px").css("position","absolute").css("top","-500px").css("pointer-events","none").appendTo(e),this.$pageRInner=jQuery("<div>").css("pointer-events","all").appendTo(this.$pageR),this.$pageL=jQuery("<div>").css("width",1e3*this.options.pageWidth/this.options.pageHeight+"px").css("height","1000px").css("position","absolute").css("top","-500px").css("left",-1e3*this.options.pageWidth/this.options.pageHeight+"px").css("pointer-events","none").appendTo(e),this.$pageLInner=jQuery("<div>").css("pointer-events","all").appendTo(this.$pageL),this.htmlLayer=new THREE.CSS3DObject(t),this.Scene.add(this.htmlLayer),this.cssRenderer=new THREE.CSS3DRenderer;this.wrapper;this.wrapper.appendChild(this.cssRenderer.domElement),this.cssRenderer.domElement.style.position="absolute",this.cssRenderer.domElement.style.top="0",this.cssRenderer.domElement.style.left="0",this.cssRenderer.domElement.style.pointerEvents="none"},FLIPBOOK.BookWebGL.prototype.enablePrev=function(t){this.prevEnabled=t},FLIPBOOK.BookWebGL.prototype.enableNext=function(t){this.nextEnabled=t},FLIPBOOK.BookWebGL.prototype.isZoomed=function(){return this.main.zoom>this.options.zoomLevels[0]&&this.main.zoom>1},FLIPBOOK.BookWebGL.prototype.getRightPage=function(){return this.pages[this.flippedleft]},FLIPBOOK.BookWebGL.prototype.getBelowRightPage=function(){return this.pages[this.flippedleft+1]},FLIPBOOK.BookWebGL.prototype.getLeftPage=function(){return this.pages[this.flippedleft-1]},FLIPBOOK.BookWebGL.prototype.getBelowLeftPage=function(){return this.pages[this.flippedleft-2]},FLIPBOOK.BookWebGL.prototype.onSwipe=function(t,e,i,o,s,n,r){if(!this.isZoomed()){o=r[0].start.x-r[0].end.x;var h=this.getLeftPage(),a=this.getRightPage();if((!this.options.rotateCameraOnMouseDrag||a&&a.dragging||h&&h.dragging||"rotate"!=this.onMouseMove&&"scroll"!=this.onMouseMove)&&("end"==e&&1>=n&&(!(0>o)||a&&a.dragging?!(o>0)||h&&h.dragging?0==o&&(this.clickedPage?this.clickedPage.isFlippedLeft?this.prevPage():this.nextPage():null):this.nextPage():this.prevPage()),"cancel"==e&&1>=n&&(!(0>o)||a&&a.dragging?!(o>0)||h&&h.dragging?0==o&&(this.clickedPage?this.clickedPage.isFlippedLeft?this.prevPage():this.nextPage():null):this.nextPage():this.prevPage()),"move"==e&&1>=n)){if(o=180*(r[0].start.x-r[0].end.x)/jQuery(this.wrapper).width(),h&&h.flipping||a&&a.flipping)return;a&&a.dragging||h&&h.dragging?h&&!a||h&&!a.dragging?0>=o&&h._setAngle(o,i):(a&&!h||a&&!h.dragging)&&o>=0&&a._setAngle(o,i):"right"!=i||!h||a&&a.dragging||!this.prevEnabled?"left"==i&&a&&this.nextEnabled&&(a._setAngle(o,i),a.positionZ(200)):(h._setAngle(o,i),h.positionZ(200))}}},FLIPBOOK.BookWebGL.prototype.onResize=function(){var t=jQuery(this.wrapper).width(),e=jQuery(this.wrapper).height(),i=this.options.pageWidth,o=this.options.pageHeight,s=t/e,n=i/o;s>2*n?this.sc=1:this.sc=s/(2*n),this.renderer.setSize(t,e),this.htmlLayer&&(this.cssRenderer.setSize(t,e),this.htmlLayer.scale.set(this.sc,this.sc,this.sc)),this.Camera.aspect=t/e,this.Camera.updateProjectionMatrix(),this.updateCameraPosition(),this.wrapperW=t,this.wrapperH=e},FLIPBOOK.BookWebGL.prototype.updateCameraPosition=function(){var t=Math.PI*this.tilt/180,e=0,i=this.options.cameraDistance*Math.sin(t)/this.zoom,o=this.options.cameraDistance*Math.cos(t)/this.zoom;this.centerContainer.scale.set(this.sc,this.sc,this.sc),t=Math.PI*this.pan/180,e=Math.sin(t)*o,o=Math.cos(t)*o,this.cameraZ=o,this.Camera.position.set(Math.round(e),Math.round(i),Math.round(o)),this.Camera.lookAt(this.Scene.position)},FLIPBOOK.BookWebGL.prototype.createPages=function(){var t,e,i,o,s,n=this,r=n.pagesArr;for(s=0;s<r.length/2;s++){t=r[2*s].src,e=2*s+1>=r.length?"":r[2*s+1].src,i=0==s||s==r.length/2-1?n.options.coverHardness:n.options.pageHardness,o=new FLIPBOOK.PageWebGL(n,s,t,e,i,n.options),n.pages.push(o),n.centerContainer.add(o),n.flippedright++,n.options.loadAllPages&&o.load();var h=4;s>0?(o.position.z=n.pages[s-1].position.z-h/2-h/2-1,this.bg&&(this.bg.position.z=o.position.z-5)):o.position.z=h/2}n.initialized=!0,n.options.rightToLeft?(n.pages[n.pages.length-1].load(),n.pages.length>1&&n.pages[n.pages.length-2].load()):(n.pages[0].load(),n.pages.length>1&&n.pages[1].load()),this.updateHtmlLayer()},FLIPBOOK.BookWebGL.prototype.getNumPages=function(){return this.pages.length},FLIPBOOK.BookWebGL.prototype.centerContainer=function(){return this.centerContainer},FLIPBOOK.BookWebGL.prototype.goToPage=function(t,e){if(!this.initialized){var i=this;return void setTimeout(function(){i.goToPage(t,e)},100)}if(0>t&&(t=0),t>this.options.pages.length&&(t=this.options.pages.length),t%2!=0&&t--,t==this.rightIndex)return void this.options.main.turnPageComplete();this.goingToPage=t;var i=this,o=1e3*this.options.pageFlipDuration/6;if("undefined"!=typeof e&&e){if(t>i.rightIndex)for(;i.rightIndex<t;)this.nextPageInstant();else for(;i.rightIndex>t;)this.prevPageInstant();var s=this.pages[this.flippedleft];s&&s.load();var n=this.pages[this.flippedleft+1];n&&n.load();var r=this.pages[this.flippedleft-1];r&&r.load();var h=this.pages[this.flippedleft-2];return h&&h.load(),this.updateBookPosition(),this.options.main.turnPageComplete(),void this.updateHtmlLayer()}this.rightIndex>t?(o=1/(this.rightIndex-t)*this.options.pageFlipDuration*1e3/6,this.rightIndex-t>10&&(o=0),this.rightIndex-2>t?(this.prevPage(!1),o>0?setTimeout(function(){i.goToPage(t,e)},o):i.goToPage(t,e)):(this.prevPage(),setTimeout(function(){if("undefined"!=typeof e&&e)for(var t=0;t<i.pages.length;t++)i.pages[t].duration=i.options.pageFlipDuration;i.options.main.turnPageComplete()},o))):this.rightIndex<t&&(o=-1/(this.rightIndex-t)*this.options.pageFlipDuration*1e3/6,this.rightIndex-t<-10&&(o=0),this.rightIndex+2<t?(this.nextPage(!1),o>0?setTimeout(function(){i.goToPage(t,e)},o):i.goToPage(t,e)):(this.nextPage(),setTimeout(function(){if("undefined"!=typeof e&&e)for(var t=0;t<i.pages.length;t++)i.pages[t].duration=i.options.pageFlipDuration;i.options.main.turnPageComplete()},o)))},FLIPBOOK.BookWebGL.prototype.nextPageInstant=function(t){if(0!=this.flippedright){var e;for(e=0;e<this.pages.length;e++)if(this.pages[e].flippingRight)return;var i=this.pages[this.pages.length-this.flippedright];i.flipLeftInstant(),this.flippedleft++,this.flippedright--,this.rightIndex+=2,this.updateBookPosition()}},FLIPBOOK.BookWebGL.prototype.prevPageInstant=function(t){if(0!=this.flippedleft){var e;for(e=0;e<this.pages.length;e++)if(this.pages[e].flippingLeft)return;var i=this.pages[this.flippedleft-1];i.flipRightInstant(),this.flippedleft--,this.flippedright++,this.rightIndex-=2,this.updateBookPosition()}},FLIPBOOK.BookWebGL.prototype.nextPage=function(t){if(0!=this.flippedright&&this.nextEnabled&&(this.clickedPage=null,!(1==this.flippedright&&2*this.pages.length>this.pagesArr.length)||this.options.rightToLeft)){var e;for(e=0;e<this.pages.length;e++)if(this.pages[e].flippingRight)return;var i=this.pages[this.pages.length-this.flippedright];this.pages[this.flippedleft+1],this.pages[this.flippedleft];if(!i.flipping){var o,s=this;("undefined"==typeof t||t)&&(o=function(t){var e=s.pages[s.flippedleft],i=s.pages[s.flippedleft-1],o=s.pages[s.flippedleft-2],n=s.pages[s.flippedleft+1];e&&e.load(),i&&i.load(),o&&o.load(),n&&n.load(),s.main.turnPageComplete()}),i.flipLeft(o)}this.flippedleft++,this.flippedright--,this.rightIndex+=2}},FLIPBOOK.BookWebGL.prototype.updateBookPosition=function(){0==this.rightIndex?this.centerContainer.position.x=.5*-this.options.pageWidth*this.centerContainer.scale.x:this.rightIndex>=this.options.pagesArr.length?this.centerContainer.position.x=.5*this.options.pageWidth*this.centerContainer.scale.x:this.centerContainer.position.x=0,this.htmlLayer&&(this.htmlLayer.position.x=this.centerContainer.position.x,this.htmlLayer.position.y=this.centerContainer.position.y)},FLIPBOOK.BookWebGL.prototype.prevPage=function(t){if(0!=this.flippedleft&&this.prevEnabled&&(this.clickedPage=null,1!=this.flippedleft||2*this.pages.length!=this.pagesArr.length||!this.options.rightToLeft||!this.options.oddPages)){var e;for(e=0;e<this.pages.length;e++)if(this.pages[e].flippingLeft)return;var i=this.pages[this.flippedleft-1];this.pages[this.flippedleft-1],this.pages[this.flippedleft-2];if(!i.flipping){var o,s=this;("undefined"==typeof t||t)&&(o=function(t){var e=s.pages[s.flippedleft],i=s.pages[s.flippedleft-1],o=s.pages[s.flippedleft-2],n=s.pages[s.flippedleft+1];e&&e.load(),i&&i.load(),o&&o.load(),n&&n.load(),s.main.turnPageComplete()}),i.flipRight(o)}this.flippedleft--,this.flippedright++,this.rightIndex-=2}},FLIPBOOK.BookWebGL.prototype.firstPage=function(){},FLIPBOOK.BookWebGL.prototype.flipFinnished=function(){this.updateHtmlLayer()},FLIPBOOK.BookWebGL.prototype.lastPage=function(){},FLIPBOOK.BookWebGL.prototype.updateVisiblePages=function(){},FLIPBOOK.BookWebGL.prototype.updateHtmlLayer=function(){if(this.htmlLayer){for(var t=0;t<this.pages.length;t++)if(this.pages[t].flipping)return;if(this.htmlLayerVisible=!1,0==this.rightIndex)this.$pageL.hide();else if(this.options.pages[this.rightIndex-1].htmlContent){this.$pageLInner.empty();jQuery(this.options.pages[this.rightIndex-1].htmlContent).appendTo(this.$pageLInner);this.$pageL.show(),this.htmlLayerVisible=!0}else this.$pageL.hide();if(this.rightIndex==2*this.pages.length)this.$pageR.hide();else if(this.options.pages[this.rightIndex].htmlContent){this.$pageRInner.empty();jQuery(this.options.pages[this.rightIndex].htmlContent).appendTo(this.$pageRInner);this.$pageR.show(),this.htmlLayerVisible=!0}else this.$pageR.hide()}},FLIPBOOK.BookWebGL.prototype.onZoom=function(){var t=this;this.enabled&&setTimeout(function(){var e=t.pages[t.flippedleft],i=t.pages[t.flippedleft-1];e&&e.load(),i&&i.load()},300)},FLIPBOOK.BookWebGL.prototype.render=function(t){var e=this;e.rendering=t},FLIPBOOK.BookWebGL.prototype.zoomTo=function(t,e){"undefined"==typeof e&&(e=200);var i=this;if(newZoom=t>this.options.zoomMax?this.options.zoomMax:t,newZoom=t<this.options.zoomMin?this.options.zoomMin:t,this.zooming=!0,newZoom==this.options.zoom){this.options;this.centerContainer.position.set(0,0,0),this.updateBookPosition()}e>0?new TWEEN.Tween(this).to({zoom:newZoom},e).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(this.updateCameraPosition).onComplete(function(){i.zooming=!1}).start():(this.zoom=newZoom,this.zooming=!1,this.updateCameraPosition()),i.options.parent.onZoom(newZoom)},FLIPBOOK.BookWebGL.prototype.tiltTo=function(t){var e=.3,i=this.tilt+t*e;i=i>this.options.tiltMax?this.options.tiltMax:i,i=i<this.options.tiltMin?this.options.tiltMin:i,this.tilt=i,this.updateCameraPosition()},FLIPBOOK.BookWebGL.prototype.panTo=function(t){var e=.2,i=this.pan-t*e;i=i>this.options.panMax?this.options.panMax:i,i=i<this.options.panMin?this.options.panMin:i,this.pan=i,this.updateCameraPosition()},FLIPBOOK.BookWebGL.prototype._bind=function(t,e,i){(e||this.wrapper).addEventListener(t,this,!!i)},FLIPBOOK.BookWebGL.prototype.handleEvent=function(t){var e=this;switch(t.preventDefault(),t.type){case"mousedown":e._start(t);break;case"touchstart":e._touchstart(t);break;case"touchmove":e._touchmove(t);break;case"mousemove":e._move(t);break;case"mouseout":case"mouseup":case"touchend":e._end(t)}},FLIPBOOK.BookWebGL.prototype.resetCameraPosition=function(){this.centerContainer.position.set(0,0,0)},FLIPBOOK.BookWebGL.prototype._start=function(t){this.mouseDown=!0,this.onMouseMove="",this.pointX=t.pageX,this.pointY=t.pageY,this.startPoint=t;var e=this._getVector(t);e.unproject(this.Camera);var i=new THREE.Raycaster(this.Camera.position,e.sub(this.Camera.position).normalize()),o=i.intersectObjects(this.pages,!0);this.pageMouseDown=o.length>0,!this.pageMouseDown&&this.options.lightBox&&this.options.lightboxCloseOnClick&&this.options.main.lightbox.closeLightbox()},FLIPBOOK.BookWebGL.prototype._touchstart=function(t){if(t.touches.length>1){this.touches=[],this.touches[0]={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},this.touches[1]={pageX:t.touches[1].pageX,pageY:t.touches[1].pageY};var e=Math.abs(this.touches[0].pageX-this.touches[1].pageX),i=Math.abs(this.touches[0].pageY-this.touches[1].pageY);return void(this.touchesDistStart=Math.sqrt(e*e+i*i))}t=t.touches[0],this._start(t)},FLIPBOOK.BookWebGL.prototype._getVector=function(t){var e=jQuery(this.canvas).width(),i=jQuery(this.canvas).height(),o=t.pageX-jQuery(this.canvas).offset().left,s=t.pageY-jQuery(this.canvas).offset().top;jQuery(this.canvas).offset().x,jQuery(this.canvas).offset().y;return new THREE.Vector3(o/e*2-1,2*-(s/i)+1,.5)},FLIPBOOK.BookWebGL.prototype._touchmove=function(t){if(t.touches.length>1){this.touches=[],this.touches[0]={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},this.touches[1]={pageX:t.touches[1].pageX,pageY:t.touches[1].pageY};var e=Math.abs(this.touches[0].pageX-this.touches[1].pageX),i=Math.abs(this.touches[0].pageY-this.touches[1].pageY);return this.touchesDist=Math.sqrt(e*e+i*i),this.zoomTo(this.zoom*Math.pow(this.touchesDist/this.touchesDistStart,.125),0),void this.updateCameraPosition()}t=t.touches[0],this._move(t)},FLIPBOOK.BookWebGL.prototype._move=function(t){var e=this._getVector(t);e.unproject(this.Camera);var i=new THREE.Raycaster(this.Camera.position,e.sub(this.Camera.position).normalize()),o=i.intersectObjects(this.pages,!0),s=t,n=.5*(s.pageX-this.pointX),r=.5*(s.pageY-this.pointY);if(this.pointX=s.pageX,this.pointY=s.pageY,!this.mouseDown)return this.onMouseMove="",void(this.options.rotateCameraOnMouseMove&&(this.tilt=this.options.tiltMin2+(this.options.tiltMax2-this.options.tiltMin2)*(1-this.pointY/jQuery(this.canvas).height()),
this.pan=this.options.panMin2+(this.options.panMax2-this.options.panMin2)*this.pointX/jQuery(this.canvas).width(),this.updateCameraPosition()));if(o.length>0?""==this.onMouseMove&&this.zoom>this.options.zoom&&(this.onMouseMove="scroll"):""==this.onMouseMove&&(this.onMouseMove="rotate"),"scroll"==this.onMouseMove)(0!=n||0!=r)&&(this.moved=!0),this.centerContainer.position.x+=1e4*n/(this.cameraZ*this.zoom*this.zoom),this.centerContainer.position.y-=1e4*r/(this.cameraZ*this.zoom*this.zoom),this.htmlLayer&&(this.htmlLayer.position.x=this.centerContainer.position.x,this.htmlLayer.position.y=this.centerContainer.position.y);else if("rotate"==this.onMouseMove){var h=this.getRightPage(),a=this.getLeftPage();this.options.rotateCameraOnMouseMove||!this.options.rotateCameraOnMouseDrag||a&&a.dragging||h&&h.dragging||(this.tiltTo(r),this.panTo(n))}},FLIPBOOK.BookWebGL.prototype._end=function(t){this.mouseDown=!1,"undefined"!=typeof t.changedTouches&&(t=t.changedTouches[0]),this.pointX=t.pageX,this.pointY=t.pageY,this.endPoint=t;var e=this._getVector(this.endPoint);e.unproject(this.Camera);var i=new THREE.Raycaster(this.Camera.position,e.sub(this.Camera.position).normalize()),o=i.intersectObjects(this.pages,!0);if(o.length>0&&this.pageMouseDown&&!this.moved){var s=o[0];this.clickedPage=s.object.parent}this.pageMouseDown=!1,this.moved=!1},FLIPBOOK.BookWebGL.prototype.moveCamera=function(t,e){},FLIPBOOK.BookWebGL.prototype.enable=function(){return this.enabled?void this.onResize():(this.enabled=!0,this.initialized||(this.init3d(),this.createPages(),this.rendering=!1,this.onResize()),this.render(!0),void this.onResize())},FLIPBOOK.BookWebGL.prototype.disable=function(){this.enabled=!1,this.render(!1)};var MOD3=MOD3||{};!function(t){t.Constants={PI:Math.PI,invPI:1/Math.PI,halfPI:.5*Math.PI,doublePI:2*Math.PI,toRad:1/180*Math.PI,toDeg:1/180*Math.PI},t.ModConstant={LEFT:-1,RIGHT:1,NONE:0,X:1,Y:2,Z:4}}(MOD3),function(t){var e=t.Constants;t.XMath={},t.XMath.normalize=function(e,i,o){return i-e==0?1:t.XMath.trim(0,1,(o-e)/i)},t.XMath.toRange=function(t,e,i){return e-t==0?0:t+(e-t)*i},t.XMath.inRange=function(t,e,i,o){return"undefined"==typeof o&&(o=!1),o?i>=t&&e>=i:i>t&&e>i},t.XMath.sign=function(t,e){return"undefined"==typeof e&&(e=0),0==t?e:t>0?1:-1},t.XMath.trim=function(t,e,i){return Math.min(e,Math.max(t,i))},t.XMath.wrap=function(t,e,i){return t>i?i+(e-t):i>=e?i-(e-t):i},t.XMath.degToRad=function(t){return t*e.toRad},t.XMath.radToDeg=function(t){return t*e.toDeg},t.XMath.presicion=function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},t.XMath.uceil=function(t){return 0>t?Math.floor(t):Math.ceil(t)}}(MOD3),function(t){t.Range=function(t,e){this.start=0,this.end=1,"undefined"!=typeof t&&(this.start=t),"undefined"!=typeof e&&(this.end=e)},t.Range.prototype.getSize=function(){return this.end-this.start},t.Range.prototype.move=function(t){this.start+=t,this.end+=t},t.Range.prototype.isIn=function(t){return t>=this.start&&t<=this.end},t.Range.prototype.normalize=function(e){return t.XMath.normalize(this.start,this.end,e)},t.Range.prototype.toRange=function(e){return t.XMath.toRange(this.start,this.end,e)},t.Range.prototype.trim=function(e){return t.XMath.trim(this.start,this.end,e)},t.Range.prototype.interpolate=function(t,e){return this.toRange(e.normalize(t))},t.Range.prototype.toString=function(){return"["+this.start+" - "+this.end+"]"}}(MOD3),function(t){t.Phase=function(t){this.value=0,"undefined"!=typeof t&&(this.value=t)},t.Phase.prototype.getPhasedValue=function(){return Math.sin(this.value)},t.Phase.prototype.getAbsPhasedValue=function(){return Math.abs(this.getPhasedValue())},t.Phase.prototype.getNormValue=function(){return.5*(this.getPhasedValue()+1)}}(MOD3),function(t){t.Point=function(t,e){this.y=this.x=0,"undefined"!=typeof t&&(this.x=t),"undefined"!=typeof e&&(this.y=e)},t.Point.prototype.clone=function(){return new t.Point(this.x,this.y)}}(MOD3),function(t){t.Matrix=function(t,e,i,o){this.m11=1,this.m21=this.m12=0,this.m22=1,"undefined"!=typeof t&&(this.m11=t),"undefined"!=typeof e&&(this.m12=e),"undefined"!=typeof i&&(this.m21=i),"undefined"!=typeof o&&(this.m22=o)},t.Matrix.prototype.rotate=function(t){var e=Math.cos(t),t=Math.sin(t);return this.m11=e,this.m12=-t,this.m21=t,this.m22=e,this},t.Matrix.prototype.scale=function(t,e){return this.m21=this.m12=0,"undefined"!=typeof t&&(this.m22=this.m11=t),"undefined"!=typeof e&&(this.m22=e),this},t.Matrix.prototype.multiply=function(t){var e=this.m11,i=this.m12,o=this.m21,s=this.m22,n=t.m11,r=t.m12,h=t.m21,t=t.m22;return this.m11=e*n+i*h,this.m12=e*r+i*t,this.m21=o*n+s*h,this.m22=o*r+s*t,this},t.Matrix.prototype.transformPoint=function(e){return new t.Point(this.m11*e.x+this.m12*e.y,this.m21*e.x+this.m22*e.y)}}(MOD3),function(t){t.Vector3=function(t,e,i){this.z=this.y=this.x=null,this.x=t,this.y=e,this.z=i},t.Vector3.ZERO=function(){return new t.Vector3(0,0,0)},t.Vector3.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.Vector3.prototype.clone=function(){return new t.Vector3(this.x,this.y,this.z)},t.Vector3.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},t.Vector3.prototype.zero=function(){this.x=this.y=this.z=0},t.Vector3.prototype.negate=function(){return new t.Vector3(-this.x,-this.y,-this.z)},t.Vector3.prototype.add=function(e){return new t.Vector3(this.x+e.x,this.y+e.y,this.z+e.z)},t.Vector3.prototype.subtract=function(e){return new t.Vector3(this.x-e.x,this.y-e.y,this.z-e.z)},t.Vector3.prototype.multiplyScalar=function(e){return new t.Vector3(this.x*e,this.y*e,this.z*e)},t.Vector3.prototype.multiply=function(e){return new t.Vector3(this.x*e.x,this.y*e.y,this.z*e.z)},t.Vector3.prototype.divide=function(e){return e=1/e,new t.Vector3(this.x*e,this.y*e,this.z*e)},t.Vector3.prototype.normalize=function(){var t=this.x,e=this.y,i=this.z,t=t*t+e*e+i*i;t>0&&(t=1/Math.sqrt(t),this.x*=t,this.y*=t,this.z*=t)},t.Vector3.prototype.getMagnitude=function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},t.Vector3.prototype.setMagnitude=function(t){this.normalize(),this.x*=t,this.y*=t,this.z*=t},t.Vector3.prototype.toString=function(){return"["+this.x+" , "+this.y+" , "+this.z+"]"},t.Vector3.prototype.sum=function(t,e){return t.add(e)},t.Vector3.prototype.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.Vector3.prototype.cross=function(e,i){var o=e.x,s=e.y,n=e.z,r=i.x,h=i.y,a=i.z;return new t.Vector3(s*a-n*h,n*r-o*a,o*h-s*r)},t.Vector3.prototype.distance=function(t,e){var i=t.x-e.x,o=t.y-e.y,s=t.z-e.z;return Math.sqrt(i*i+o*o+s*s)}}(MOD3),function(t){t.Matrix4=function(t,e,i,o,s,n,r,h,a,p,c,f,l,u,d,g){this.n11=1,this.n21=this.n14=this.n13=this.n12=0,this.n22=1,this.n32=this.n31=this.n24=this.n23=0,this.n33=1,this.n43=this.n42=this.n41=this.n34=0,this.n44=1,"undefined"!=typeof t&&(this.n11=t),"undefined"!=typeof e&&(this.n12=e),"undefined"!=typeof i&&(this.n13=i),"undefined"!=typeof o&&(this.n14=o),"undefined"!=typeof s&&(this.n21=s),"undefined"!=typeof n&&(this.n22=n),"undefined"!=typeof r&&(this.n23=r),"undefined"!=typeof h&&(this.n24=h),"undefined"!=typeof a&&(this.n31=a),"undefined"!=typeof p&&(this.n32=p),"undefined"!=typeof c&&(this.n33=c),"undefined"!=typeof f&&(this.n34=f),"undefined"!=typeof l&&(this.n41=l),"undefined"!=typeof u&&(this.n42=u),"undefined"!=typeof d&&(this.n43=d),"undefined"!=typeof g&&(this.n44=g)},t.Matrix4.prototype.translationMatrix=function(t,e,i){return this.n14=t,this.n24=e,this.n34=i,this},t.Matrix4.prototype.scaleMatrix=function(t,e,i){return this.n11=t,this.n22=e,this.n33=i,this},t.Matrix4.prototype.rotationMatrix=function(t,e,i,o){var s=Math.cos(o),n=Math.sin(o),o=1-s,r=t*e*o,h=e*i*o,a=t*i*o,p=n*i,c=n*e;return n*=t,this.n11=s+t*t*o,this.n12=-p+r,this.n13=c+a,this.n14=0,this.n21=p+r,this.n22=s+e*e*o,this.n23=-n+h,this.n24=0,this.n31=-c+a,this.n32=n+h,this.n33=s+i*i*o,this.n34=0,this},t.Matrix4.prototype.calculateMultiply=function(t,e){var i=t.n11,o=e.n11,s=t.n21,n=e.n21,r=t.n31,h=e.n31,a=t.n12,p=e.n12,c=t.n22,f=e.n22,l=t.n32,u=e.n32,d=t.n13,g=e.n13,y=t.n23,x=e.n23,m=t.n33,M=e.n33,v=t.n14,P=e.n14,b=t.n24,L=e.n24,O=t.n34,w=e.n34;this.n11=i*o+a*n+d*h,this.n12=i*p+a*f+d*u,this.n13=i*g+a*x+d*M,this.n14=i*P+a*L+d*w+v,this.n21=s*o+c*n+y*h,this.n22=s*p+c*f+y*u,this.n23=s*g+c*x+y*M,this.n24=s*P+c*L+y*w+b,this.n31=r*o+l*n+m*h,this.n32=r*p+l*f+m*u,this.n33=r*g+l*x+m*M,this.n34=r*P+l*L+m*w+O},t.Matrix4.prototype.multiply=function(t,e){return this.calculateMultiply(t,e),this},t.Matrix4.prototype.multiplyVector=function(t,e){var i=e.x,o=e.y,s=e.z;e.x=i*t.n11+o*t.n12+s*t.n13+t.n14,e.y=i*t.n21+o*t.n22+s*t.n23+t.n24,e.z=i*t.n31+o*t.n32+s*t.n33+t.n34}}(MOD3),function(t){t.VertexProxy=function(t){this.originalZ=this.originalY=this.originalX=this.ratioZ=this.ratioY=this.ratioX=null,"undefined"!=typeof t&&(this.vertex=t)},t.VertexProxy.prototype.setVertex=function(){},t.VertexProxy.prototype.setRatios=function(t,e,i){this.ratioX=t,this.ratioY=e,this.ratioZ=i},t.VertexProxy.prototype.setOriginalPosition=function(t,e,i){this.originalX=t,this.originalY=e,this.originalZ=i},t.VertexProxy.prototype.getX=function(){},t.VertexProxy.prototype.getY=function(){},t.VertexProxy.prototype.getZ=function(){},t.VertexProxy.prototype.setX=function(){},t.VertexProxy.prototype.setY=function(){},t.VertexProxy.prototype.setZ=function(){},t.VertexProxy.prototype.getValue=function(e){switch(e){case t.ModConstant.X:return this.getX();case t.ModConstant.Y:return this.getY();case t.ModConstant.Z:return this.getZ()}return 0},t.VertexProxy.prototype.setValue=function(e,i){switch(e){case t.ModConstant.X:this.setX(i);break;case t.ModConstant.Y:this.setY(i);break;case t.ModConstant.Z:this.setZ(i)}},t.VertexProxy.prototype.getRatio=function(e){switch(e){case t.ModConstant.X:return this.ratioX;case t.ModConstant.Y:return this.ratioY;case t.ModConstant.Z:return this.ratioZ}return-1},t.VertexProxy.prototype.getOriginalValue=function(e){switch(e){case t.ModConstant.X:return this.originalX;case t.ModConstant.Y:return this.originalY;case t.ModConstant.Z:return this.originalZ}return 0},t.VertexProxy.prototype.reset=function(){this.setX(this.originalX),this.setY(this.originalY),this.setZ(this.originalZ)},t.VertexProxy.prototype.collapse=function(){this.originalX=this.getX(),this.originalY=this.getY(),this.originalZ=this.getZ()},t.VertexProxy.prototype.getVector=function(){return new t.Vector3(this.getX(),this.getY(),this.getZ())},t.VertexProxy.prototype.setVector=function(t){this.setX(t.x),this.setY(t.y),this.setZ(t.z)},t.VertexProxy.prototype.getRatioVector=function(){return new t.Vector3(this.ratioX,this.ratioY,this.ratioZ)}}(MOD3),function(t){t.FaceProxy=function(){this.vertices=[]},t.FaceProxy.prototype.addVertex=function(t){this.vertices.push(t)},t.FaceProxy.prototype.getVertices=function(){return this.vertices}}(MOD3),function(t){t.MeshProxy=function(){this.depth=this.height=this.width=this.minAxis=this.midAxis=this.maxAxis=this.minZ=this.minY=this.minX=this.maxZ=this.maxY=this.maxX=null,this.vertices=[],this.faces=[],this.mesh=null},t.MeshProxy.prototype.getVertices=function(){return this.vertices},t.MeshProxy.prototype.getFaces=function(){return this.faces},t.MeshProxy.prototype.analyzeGeometry=function(){for(var e,i,o,s,n,r,h,a,p,c,f=this.getVertices(),l=f.length,u=l,d=!0,g=Math.min,y=Math.max;--u>=0;)e=f[u],i=e.getX(),o=e.getY(),s=e.getZ(),d?(n=r=i,h=a=o,p=c=s,d=!1):(n=g(n,i),h=g(h,o),p=g(p,s),r=y(r,i),a=y(a,o),c=y(c,s)),e.setOriginalPosition(i,o,s);for(i=r-n,o=a-h,depth=c-p,this.width=i,this.height=o,this.depth=depth,this.minX=n,this.maxX=r,this.minY=h,this.maxY=a,this.minZ=p,this.maxZ=c,u=y(i,y(o,depth)),g=g(i,g(o,depth)),u==i&&g==o?(this.minAxis=t.ModConstant.Y,this.midAxis=t.ModConstant.Z,this.maxAxis=t.ModConstant.X):u==i&&g==depth?(this.minAxis=t.ModConstant.Z,this.midAxis=t.ModConstant.Y,this.maxAxis=t.ModConstant.X):u==o&&g==i?(this.minAxis=t.ModConstant.X,this.midAxis=t.ModConstant.Z,this.maxAxis=t.ModConstant.Y):u==o&&g==depth?(this.minAxis=t.ModConstant.Z,this.midAxis=t.ModConstant.X,this.maxAxis=t.ModConstant.Y):u==depth&&g==i?(this.minAxis=t.ModConstant.X,this.midAxis=t.ModConstant.Y,this.maxAxis=t.ModConstant.Z):u==depth&&g==o&&(this.minAxis=t.ModConstant.Y,this.midAxis=t.ModConstant.X,this.maxAxis=t.ModConstant.Z),u=l;--u>=0;)e=f[u],e.setRatios((e.getX()-n)/i,(e.getY()-h)/o,(e.getZ()-p)/depth)},t.MeshProxy.prototype.resetGeometry=function(){for(var t=this.getVertices(),e=t.length;--e>=0;)t[e].reset()},t.MeshProxy.prototype.collapseGeometry=function(){for(var t=this.getVertices(),e=t.length;--e>=0;)t[e].collapse();this.analyzeGeometry()},t.MeshProxy.prototype.getMin=function(e){switch(e){case t.ModConstant.X:return this.minX;case t.ModConstant.Y:return this.minY;case t.ModConstant.Z:return this.minZ}return-1},t.MeshProxy.prototype.getMax=function(e){switch(e){case t.ModConstant.X:return this.maxX;case t.ModConstant.Y:return this.maxY;case t.ModConstant.Z:return this.maxZ}return-1},t.MeshProxy.prototype.getSize=function(e){switch(e){case t.ModConstant.X:return this.width;case t.ModConstant.Y:return this.height;case t.ModConstant.Z:return this.depth}return-1},t.MeshProxy.prototype.setMesh=function(t){this.mesh=t,this.vertices=[],this.faces=[]},t.MeshProxy.prototype.postApply=function(){},t.MeshProxy.prototype.updateMeshPosition=function(){}}(MOD3),function(t){t.Modifier=function(){this.mod=null},t.Modifier.prototype.setModifiable=function(t){this.mod=t},t.Modifier.prototype.getVertices=function(){return this.mod.getVertices()},t.Modifier.prototype.apply=function(){}}(MOD3),function(t){t.Library3d=function(){this.id="",this.vertexClass=this.meshClass=null}}(MOD3),function(t){t.PluginFactory={},t.PluginFactory.getMeshProxy=function(t){return new t.meshClass}}(MOD3),function(t){t.ModifierStack=function(e,i){this.lib3d=e,this.stack=this.baseMesh=null,this.baseMesh=t.PluginFactory.getMeshProxy(e),this.baseMesh.setMesh(i),this.baseMesh.analyzeGeometry(),this.stack=[]},t.ModifierStack.prototype.addModifier=function(t){t.setModifiable(this.baseMesh),this.stack.push(t)},t.ModifierStack.prototype.apply=function(){this.baseMesh.resetGeometry();for(var t=this.stack,e=t.length,i=0;e>i;)t[i++].apply();this.baseMesh.postApply()},t.ModifierStack.prototype.collapse=function(){this.apply(),this.baseMesh.collapseGeometry(),this.stack=[]},t.ModifierStack.prototype.clear=function(){this.stack=[]},t.ModifierStack.prototype.getMeshInfo=function(){return this.baseMesh}}(MOD3),function(t){t.Pivot=function(e,i,o){this.pivot=new t.Vector3(e,i,o)},t.Pivot.prototype=new t.Modifier,t.Pivot.prototype.constructor=t.Pivot,t.Pivot.prototype.setMeshCenter=function(){var e=this.mod;this.pivot=new t.Vector3(-(e.minX+.5*e.width),-(e.minY+.5*e.height),-(e.minZ+.5*e.depth))},t.Pivot.prototype.apply=function(){for(var t,e,i=this.mod.getVertices(),o=i.length,s=this.pivot;--o>=0;)t=i[o],e=t.getVector().clone(),t.setVector(e.add(s));this.mod.updateMeshPosition(s.clone().negate())}}(MOD3),function(t){t.Bend=function(e,i,o){this.diagAngle=this.angle=this.offset=this.force=null,this.constraint=t.ModConstant.NONE,this.m2=this.m1=this.origin=this.height=this.width=this.mid=this.min=this.max=null,this.switchAxes=!1,this.force=e,this.offset=i,this.setAngle(o)},t.Bend.prototype=new t.Modifier,t.Bend.prototype.constructor=t.Bend,t.Bend.prototype.setAngle=function(e){this.angle=e,this.m1=new t.Matrix,this.m1.rotate(e),this.m2=new t.Matrix,this.m2.rotate(-e)},t.Bend.prototype.setModifiable=function(e){t.Modifier.prototype.setModifiable.call(this,e),this.max=this.switchAxes?this.mod.midAxis:this.mod.maxAxis,this.min=this.mod.minAxis,this.mid=this.switchAxes?this.mod.maxAxis:this.mod.midAxis,this.width=this.mod.getSize(this.max),this.height=this.mod.getSize(this.mid),this.origin=this.mod.getMin(this.max),this.diagAngle=Math.atan(this.width/this.height)},t.Bend.prototype.apply=function(){if(0!=this.force)for(var e,i,o,s,n=this.mod.getVertices(),r=n.length,h=this.width,a=this.offset,p=this.origin,c=this.max,f=this.min,l=this.mid,u=this.m1,d=this.m2,g=p+h*a,y=h/Math.PI/this.force,x=t.Constants.doublePI*(h/(y*t.Constants.doublePI)),m=1/h,M=t.Constants.halfPI,v=Math.sin,P=Math.cos;--r>=0;)h=n[r],e=h.getValue(c),i=h.getValue(l),o=h.getValue(f),i=u.transformPoint(new t.Point(e,i)),e=i.x,i=i.y,s=(e-p)*m,this.constraint==t.ModConstant.LEFT&&a>=s||this.constraint==t.ModConstant.RIGHT&&s>=a||(s=M-x*a+x*s,e=v(s)*(y+o),s=P(s)*(y+o),o=e-y,e=g-s),i=d.transformPoint(new t.Point(e,i)),e=i.x,i=i.y,h.setValue(c,e),h.setValue(l,i),h.setValue(f,o)}}(MOD3),function(t){t.Bloat=function(){this.center=t.Vector3.ZERO(),this.radius=0,this.a=.01,this.u=t.Vector3.ZERO()},t.Bloat.prototype=new t.Modifier,t.Bloat.prototype.constructor=t.Bloat,t.Bloat.prototype.setRadius=function(t){this.radius=Math.max(0,t)},t.Bloat.prototype.setA=function(t){this.a=Math.max(0,t)},t.Bloat.prototype.apply=function(){for(var t,e,i=this.mod.getVertices(),o=i.length,s=this.center,n=this.radius,r=this.a;--o>=0;)t=i[o],this.u.x=t.getX()-s.x,this.u.y=t.getY()-s.y,this.u.z=t.getZ()-s.z,e=this.u.getMagnitude(),this.u.setMagnitude(e+n*Math.exp(-e*r)),t.setX(this.u.x+s.x),t.setY(this.u.y+s.y),t.setZ(this.u.z+s.z)}}(MOD3),function(t){t.Twist=function(e){this.vector=new t.Vector3(0,1,0),this.angle=e,this.center=t.Vector3.ZERO()},t.Twist.prototype=new t.Modifier,t.Twist.prototype.constructor=t.Twist,t.Twist.prototype.apply=function(){this.vector.normalize();for(var e,i=this.mod,o=i.getVertices(),s=o.length,n=this.vector,r=this.angle,h=this.center,i=1/new t.Vector3(.5*i.maxX,.5*i.maxY,.5*i.maxZ).getMagnitude()*r,h=-t.Vector3.dot(n,h);--s>=0;)r=o[s],e=r.getX()*n.x+r.getY()*n.y+r.getZ()*n.z+h,this.twistPoint(r,e*i)},t.Twist.prototype.twistPoint=function(e,i){var o=(new t.Matrix4).translationMatrix(e.getX(),e.getY(),e.getZ()),o=(new t.Matrix4).multiply((new t.Matrix4).rotationMatrix(this.vector.x,this.vector.y,this.vector.z,i),o);e.setX(o.n14),e.setY(o.n24),e.setZ(o.n34)}}(MOD3),function(t){t.Skew=function(e){this.force=0,this.skewAxis=null,"undefined"!=typeof e&&(this.force=e),this.offset=.5,this.constraint=t.ModConstant.NONE,this.falloff=this.power=1,this.swapAxes=this.oneSide=this.inverseFalloff=!1},t.Skew.prototype=new t.Modifier,t.Skew.prototype.constructor=t.Skew,t.Skew.prototype.setModifiable=function(e){t.Modifier.prototype.setModifiable.call(this,e),this.skewAxis=this.skewAxis||this.mod.maxAxis},t.Skew.prototype.apply=function(){for(var e,i,o,s=this.mod.getVertices(),n=s.length,r=this.constraint,h=this.skewAxis,a=this.offset,p=this.oneSide,c=this.inverseFalloff,f=this.falloff,l=1-f,u=this.power,d=this.force,g=this.getDisplaceAxis();--n>=0;)e=s[n],!(r==t.ModConstant.LEFT&&e.getRatio(h)<=a)&&!(r==t.ModConstant.RIGHT&&e.getRatio(h)>a)&&(i=e.getRatio(h)-a,p&&(i=Math.abs(i)),o=e.getRatio(g),c&&(o=1-o),o=f+o*l,i=Math.pow(Math.abs(i),u)*t.XMath.sign(i,1),i=e.getValue(g)+d*i*o,e.setValue(g,i))},t.Skew.prototype.getDisplaceAxis=function(){switch(this.skewAxis){case t.ModConstant.X:return this.swapAxes?t.ModConstant.Z:t.ModConstant.Y;case t.ModConstant.Y:return this.swapAxes?t.ModConstant.Z:t.ModConstant.X;case t.ModConstant.Z:return this.swapAxes?t.ModConstant.Y:t.ModConstant.X;default:return 0}}}(MOD3),function(t){t.Taper=function(e){this.power=this.force=null,this.start=0,this.end=1,this.vector=new t.Vector3(1,0,1),this.vector2=new t.Vector3(0,1,0),"undefined"!=typeof e&&(this.force=e),this.power=1},t.Taper.prototype=new t.Modifier,t.Taper.prototype.constructor=t.Taper,t.Taper.prototype.setFalloff=function(t,e){this.start=0,this.end=1,"undefined"!=typeof t&&(this.start=t),"undefined"!=typeof e&&(this.end=e)},t.Taper.prototype.apply=function(){for(var e,i,o,s=this.mod.getVertices(),n=s.length,r=this.vector,h=this.vector2,a=this.force,p=this.power;--n>=0;)e=s[n],i=e.getRatioVector().multiply(h),i=a*Math.pow(i.getMagnitude(),p),i=(new t.Matrix4).scaleMatrix(1+i*r.x,1+i*r.y,1+i*r.z),o=e.getVector(),(new t.Matrix4).multiplyVector(i,o),e.setVector(o)}}(MOD3),function(t){t.Wheel=function(){this.radius=this.roll=this.turn=this.speed=null,this.steerVector=new t.Vector3(0,1,0),this.rollVector=new t.Vector3(0,0,1),this.roll=this.turn=this.speed=0},t.Wheel.prototype=new t.Modifier,t.Wheel.prototype.constructor=t.Wheel,t.Wheel.prototype.setModifiable=function(e){t.Modifier.prototype.setModifiable.call(this,e),this.radius=.5*this.mod.width},t.Wheel.prototype.apply=function(){this.roll+=this.speed;var e,i=this.mod.getVertices(),o=i.length,s=this.steerVector,n=this.turn,r=this.rollVector,h=this.roll;for(0!=n?(e=(new t.Matrix4).rotationMatrix(s.x,s.y,s.z,n),s=r.clone(),(new t.Matrix4).multiplyVector(e,s),h=(new t.Matrix4).rotationMatrix(s.x,s.y,s.z,h)):h=(new t.Matrix4).rotationMatrix(r.x,r.y,r.z,h);--o>=0;)s=i[o],r=s.getVector().clone(),0!=n&&(new t.Matrix4).multiplyVector(e,r),(new t.Matrix4).multiplyVector(h,r),s.setX(r.x),s.setY(r.y),s.setZ(r.z)},t.Wheel.prototype.getStep=function(){return this.radius*this.speed*t.Constants.invPI},t.Wheel.prototype.getPerimeter=function(){return this.radius*t.Constants.doublePI}}(MOD3),function(t){t.Break=function(e,i){this.bv=new t.Vector3(0,1,0),this.angle=this.offset=0,"undefined"!=typeof e&&(this.offset=e),"undefined"!=typeof i&&(this.angle=i),this.range=new t.Range(0,1)},t.Break.prototype=new t.Modifier,t.Break.prototype.constructor=t.Break,t.Break.prototype.apply=function(){var e,i,o=this.mod,s=o.getVertices(),n=s.length,r=this.range,h=this.angle,a=this.bv,o=new t.Vector3(0,0,-(o.minZ+o.depth*this.offset));for(e=o.negate(),i=(new t.Matrix4).rotationMatrix(a.x,a.y,a.z,h);--n>=0;)h=s[n],a=h.getVector(),a=a.add(o),a.z>=0&&r.isIn(h.ratioY)&&(new t.Matrix4).multiplyVector(i,a),a=a.add(e),h.setX(a.x),h.setY(a.y),h.setZ(a.z)}}(MOD3),function(t){t.Noise=function(e){this.force=0,this.axc=t.ModConstant.NONE,this.end=this.start=0,"undefined"!=typeof e&&(this.force=e)},t.Noise.prototype=new t.Modifier,t.Noise.prototype.constructor=t.Noise,t.Noise.prototype.constraintAxes=function(t){this.axc=t},t.Noise.prototype.setFalloff=function(t,e){this.start=0,this.end=1,"undefined"!=typeof t&&(this.start=t),"undefined"!=typeof e&&(this.end=e)},t.Noise.prototype.apply=function(){for(var t,e,i,o=this.mod,s=this.axc,n=this.start,r=this.end,h=o.getVertices(),a=h.length,p=this.force,c=.5*p,f=Math.random;--a>=0;)t=h[a],e=f()*p-c,i=t.getRatio(o.maxAxis),r>n?(n>i&&(i=0),i>r&&(i=1)):n>r?(i=1-i,i>n&&(i=0),r>i&&(i=1)):i=1,1&s||t.setX(t.getX()+e*i),s>>1&1||t.setY(t.getY()+e*i),s>>2&1||t.setZ(t.getZ()+e*i)}}(MOD3),function(t){t.LibraryThree=function(){this.id="Three.js",this.meshClass=t.MeshThree,this.vertexClass=t.VertexThree},t.LibraryThree.prototype=new t.Library3d,t.LibraryThree.prototype.constructor=t.LibraryThree}(MOD3),function(t){t.VertexThree=function(t){this.mesh=t},t.VertexThree.prototype=new t.VertexProxy,t.VertexThree.prototype.setVertex=function(t){this.vertex=t,this.originalX=t.x,this.originalY=t.y,this.originalZ=t.z},t.VertexThree.prototype.getX=function(){return this.vertex.x},t.VertexThree.prototype.getY=function(){return this.vertex.y},t.VertexThree.prototype.getZ=function(){return this.vertex.z},t.VertexThree.prototype.setX=function(t){this.vertex.x=t,t=this.mesh,t.geometry.verticesNeedUpdate=!0,t.geometry.normalsNeedUpdate=!0,t.geometry.buffersNeedUpdate=!0,t.geometry.dynamic=!0},t.VertexThree.prototype.setY=function(t){this.vertex.y=t,t=this.mesh,t.geometry.verticesNeedUpdate=!0,t.geometry.normalsNeedUpdate=!0,t.geometry.buffersNeedUpdate=!0,t.geometry.dynamic=!0},t.VertexThree.prototype.setZ=function(t){this.vertex.z=t,t=this.mesh,t.geometry.verticesNeedUpdate=!0,t.geometry.normalsNeedUpdate=!0,t.geometry.buffersNeedUpdate=!0,t.geometry.dynamic=!0}}(MOD3),function(t){t.MeshThree=function(){},t.MeshThree.prototype=new t.MeshProxy,t.MeshThree.prototype.setMesh=function(e){t.MeshProxy.prototype.setMesh.call(this,e);for(var i,e=[],o=0,s=this.mesh.geometry.vertices,n=s.length,r=this.mesh.geometry.faces,h=r.length,o=0;n>o;)i=new t.VertexThree(this.mesh),i.setVertex(s[o]),this.vertices.push(i),e[s[o]]=i,o++;for(o=0;h>o;)n=new t.FaceProxy,r[o]instanceof THREE.Face3?(n.addVertex(e[s[r[o].a]]),n.addVertex(e[s[r[o].b]]),n.addVertex(e[s[r[o].c]])):r[o]instanceof THREE.Face4&&(n.addVertex(e[s[r[o].a]]),n.addVertex(e[s[r[o].b]]),n.addVertex(e[s[r[o].c]]),n.addVertex(e[s[r[o].d]])),this.faces.push(n),o++;delete lookup},t.MeshThree.prototype.updateMeshPosition=function(t){var e=this.mesh;e.position.x+=t.x,e.position.y+=t.y,e.position.z+=t.z}}(MOD3),function(t){t.LibraryPre3D=function(){this.id="pre3d.js",this.meshClass=t.MeshPre3D,this.vertexClass=t.VertexPre3D},t.LibraryThree.prototype=new t.Library3d,t.LibraryThree.prototype.constructor=t.LibraryPre3D}(MOD3),function(t){t.VertexPre3D=function(){},t.VertexPre3D.prototype=new t.VertexProxy,t.VertexPre3D.prototype.setVertex=function(t){this.vertex=t,this.originalX=t.x,this.originalY=t.y,this.originalZ=t.z},t.VertexPre3D.prototype.getX=function(){return this.vertex.x},t.VertexPre3D.prototype.getY=function(){return this.vertex.y},t.VertexPre3D.prototype.getZ=function(){return this.vertex.z},t.VertexPre3D.prototype.setX=function(t){this.vertex.x=t},t.VertexPre3D.prototype.setY=function(t){this.vertex.y=t},t.VertexPre3D.prototype.setZ=function(t){this.vertex.z=t}}(MOD3),function(t){t.MeshPre3D=function(){},t.MeshPre3D.prototype=new t.MeshProxy,t.MeshPre3D.prototype.setMesh=function(e){t.MeshProxy.prototype.setMesh.call(this,e);for(var e=[],i=this.mesh.vertices,o=this.mesh.quads,s=i.length,n=o.length,r=0;s>r;r++){var h=new t.VertexPre3D;h.setVertex(i[r]),this.vertices.push(h),e[i[r]]=h}for(r=0;n>r;r++)s=new t.FaceProxy,o[r]instanceof Pre3d.QuadFace&&(s.addVertex(e[i[o[r].i0]]),s.addVertex(e[i[o[r].i1]]),s.addVertex(e[i[o[r].i2]]),null!=o[r].i3&&s.addVertex(e[i[o[r].i3]])),this.faces.push(s);delete lookup},t.MeshPre3D.prototype.updateMeshPosition=function(){}}(MOD3),function(t){t.LibraryJ3D=function(){this.id="J3D",this.meshClass=t.MeshJ3D,this.vertexClass=t.VertexJ3D},t.LibraryJ3D.prototype=new t.Library3d,t.LibraryJ3D.prototype.constructor=t.LibraryJ3D}(MOD3),function(t){t.VertexJ3D=function(t){this.geometry=t},t.VertexJ3D.prototype=new t.VertexProxy,t.VertexJ3D.prototype.setVertex=function(t){this.vertex=t;var e=this.geometry;this.originalX=e.vertexPositionBuffer.data[t],this.originalY=e.vertexPositionBuffer.data[t+1],this.originalZ=e.vertexPositionBuffer.data[t+2]},t.VertexJ3D.prototype.getX=function(){return this.geometry.vertexPositionBuffer.data[this.vertex]},t.VertexJ3D.prototype.getY=function(){return this.geometry.vertexPositionBuffer.data[this.vertex+1]},t.VertexJ3D.prototype.getZ=function(){return this.geometry.vertexPositionBuffer.data[this.vertex+2]},t.VertexJ3D.prototype.setX=function(t){var e=this.geometry;e.vertexPositionBuffer.data[this.vertex]=t,e.replaceArray(e.vertexPositionBuffer,e.vertexPositionBuffer.data)},t.VertexJ3D.prototype.setY=function(t){var e=this.geometry;e.vertexPositionBuffer.data[this.vertex+1]=t,e.replaceArray(e.vertexPositionBuffer,e.vertexPositionBuffer.data)},t.VertexJ3D.prototype.setZ=function(t){var e=this.geometry;e.vertexPositionBuffer.data[this.vertex+2]=t,e.replaceArray(e.vertexPositionBuffer,e.vertexPositionBuffer.data)}}(MOD3),function(t){t.MeshJ3D=function(){},t.MeshJ3D.prototype=new t.MeshProxy,t.MeshJ3D.prototype.setMesh=function(e){t.MeshProxy.prototype.setMesh.call(this,e);for(var i,o=0,s=e.geometry.vertexPositionBuffer.data.length,n=e.geometry.vertexPositionBuffer.itemSize,o=0;s>o;)i=new t.VertexJ3D(e.geometry),i.setVertex(o),this.vertices.push(i),o+=n;this.faces=null},t.MeshJ3D.prototype.updateMeshPosition=function(t){var e=this.mesh;e.position.x+=t.x,e.position.y+=t.y,e.position.z+=t.z}}(MOD3),function(t){t.LibraryCopperlicht=function(){this.id="Copperlicht",this.meshClass=t.MeshCopperlicht,this.vertexClass=t.VertexCopperlicht},t.LibraryCopperlicht.prototype=new t.Library3d,t.LibraryCopperlicht.prototype.constructor=t.LibraryCopperlicht}(MOD3),function(t){t.VertexCopperlicht=function(t,e){this.node=t,this.buffer=e},t.VertexCopperlicht.prototype=new t.VertexProxy,t.VertexCopperlicht.prototype.setVertex=function(t){this.vertex=t,this.originalX=this.vertex.Pos.X,this.originalY=this.vertex.Pos.Y,this.originalZ=this.vertex.Pos.Z},t.VertexCopperlicht.prototype.getX=function(){return this.vertex.Pos.X},t.VertexCopperlicht.prototype.getY=function(){return this.vertex.Pos.Y},t.VertexCopperlicht.prototype.getZ=function(){return this.vertex.Pos.Z},t.VertexCopperlicht.prototype.setX=function(t){this.vertex.Pos.X=t,this.buffer.update(!0)},t.VertexCopperlicht.prototype.setY=function(t){this.vertex.Pos.Y=t,this.buffer.update(!0)},t.VertexCopperlicht.prototype.setZ=function(t){this.vertex.Pos.Z=t,this.buffer.update(!0)}}(MOD3),function(t){t.MeshCopperlicht=function(){},t.MeshCopperlicht.prototype=new t.MeshProxy,t.MeshCopperlicht.prototype.setMesh=function(e){t.MeshProxy.prototype.setMesh.call(this,e);for(var e=this.mesh.getMesh().GetMeshBuffers(),i=[],o=0;o<e.length;o++)for(var i=e[o].Vertices,s=i.length,n=0;s>n;n++){var r=new t.VertexCopperlicht(this.mesh,e[o]);r.setVertex(i[n]),this.vertices.push(r)}this.faces=null,delete lookup},t.MeshCopperlicht.prototype.updateMeshPosition=function(t){this.mesh.Pos.X+=t.x,this.mesh.Pos.Y+=t.y,this.mesh.Pos.Z+=t.z}}(MOD3),!function(t){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=t.performance.timing&&t.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();t.performance.now=function(){return Date.now()-e}}}(this);var TWEEN=TWEEN||function(){var t=[];return{REVISION:"14",getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)},update:function(e){if(0===t.length)return!1;var i=0;for(e=void 0!==e?e:window.performance.now();i<t.length;)t[i].update(e)?i++:t.splice(i,1);return!0}}}();TWEEN.Tween=function(t){var e=t,i={},o={},s={},n=1e3,r=0,h=!1,a=!1,p=!1,c=0,f=null,l=TWEEN.Easing.Linear.None,u=TWEEN.Interpolation.Linear,d=[],g=null,y=!1,x=null,m=null,M=null;for(var v in t)i[v]=parseFloat(t[v],10);this.to=function(t,e){return void 0!==e&&(n=e),o=t,this},this.start=function(t){TWEEN.add(this),a=!0,y=!1,f=void 0!==t?t:window.performance.now(),f+=c;for(var n in o){if(o[n]instanceof Array){if(0===o[n].length)continue;o[n]=[e[n]].concat(o[n])}i[n]=e[n],i[n]instanceof Array==!1&&(i[n]*=1),s[n]=i[n]||0}return this},this.stop=function(){return a?(TWEEN.remove(this),a=!1,null!==M&&M.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=d.length;e>t;t++)d[t].stop()},this.delay=function(t){return c=t,this},this.repeat=function(t){return r=t,this},this.yoyo=function(t){return h=t,this},this.easing=function(t){return l=t,this},this.interpolation=function(t){return u=t,this},this.chain=function(){return d=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return x=t,this},this.onComplete=function(t){return m=t,this},this.onStop=function(t){return M=t,this},this.update=function(t){var a;if(f>t)return!0;y===!1&&(null!==g&&g.call(e),y=!0);var M=(t-f)/n;M=M>1?1:M;var v=l(M);for(a in o){var P=i[a]||0,b=o[a];b instanceof Array?e[a]=u(b,v):("string"==typeof b&&(b=P+parseFloat(b,10)),"number"==typeof b&&(e[a]=P+(b-P)*v))}if(null!==x&&x.call(e,v),1==M){if(r>0){isFinite(r)&&r--;for(a in s){if("string"==typeof o[a]&&(s[a]=s[a]+parseFloat(o[a],10)),h){var L=s[a];s[a]=o[a],o[a]=L}i[a]=s[a]}return h&&(p=!p),f=t+c,!0}null!==m&&m.call(e);for(var O=0,w=d.length;w>O;O++)d[O].start(t);return!1}return!0}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){
return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/o)))},Out:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/o)+1)},InOut:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/o)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/o)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var i=t.length-1,o=i*e,s=Math.floor(o),n=TWEEN.Interpolation.Utils.Linear;return 0>e?n(t[0],t[1],o):e>1?n(t[i],t[i-1],i-o):n(t[s],t[s+1>i?i:s+1],o-s)},Bezier:function(t,e){var i,o=0,s=t.length-1,n=Math.pow,r=TWEEN.Interpolation.Utils.Bernstein;for(i=0;s>=i;i++)o+=n(1-e,s-i)*n(e,i)*t[i]*r(s,i);return o},CatmullRom:function(t,e){var i=t.length-1,o=i*e,s=Math.floor(o),n=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(0>e&&(s=Math.floor(o=i*(1+e))),n(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],o-s)):0>e?t[0]-(n(t[0],t[0],t[1],t[1],-o)-t[0]):e>1?t[i]-(n(t[i],t[i],t[i-1],t[i-1],o-i)-t[i]):n(t[s?s-1:0],t[s],t[s+1>i?i:s+1],t[s+2>i?i:s+2],o-s)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=TWEEN.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i,o=1;if(t[e])return t[e];for(i=e;i>1;i--)o*=i;return t[e]=o}}(),CatmullRom:function(t,e,i,o,s){var n=.5*(i-t),r=.5*(o-e),h=s*s,a=s*h;return(2*e-2*i+n+r)*a+(-3*e+3*i-2*n-r)*h+n*s+e}}};
;!function(t,e){"use strict";"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",["exports"],e):e("undefined"!=typeof exports?exports:t.pdfjsDistBuildPdf={})}(this,function(t){"use strict";var e="1.4.20",n="b15f335",i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,r={};(function(){!function(t,e){e(t.pdfjsSharedGlobal={})}(this,function(t){var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r="undefined"==typeof window;i.PDFJS||(i.PDFJS={}),"undefined"!=typeof e&&(i.PDFJS.version=e),"undefined"!=typeof e&&(i.PDFJS.build=n),i.PDFJS.pdfBug=!1,t.globalScope=i,t.isWorker=r,t.PDFJS=i.PDFJS}),function(t,e){e(t.pdfjsDisplayDOMUtils={},t.pdfjsSharedGlobal)}(this,function(t,e){var n=e.PDFJS,i=function(){function t(){}var e=["ms","Moz","Webkit","O"],n={};return t.getProp=function(t,i){if(1===arguments.length&&"string"==typeof n[t])return n[t];i=i||document.documentElement;var r,a,s=i.style;if("string"==typeof s[t])return n[t]=t;a=t.charAt(0).toUpperCase()+t.slice(1);for(var o=0,c=e.length;c>o;o++)if(r=e[o]+a,"string"==typeof s[r])return n[t]=r;return n[t]="undefined"},t.setProp=function(t,e,n){var i=this.getProp(t);"undefined"!==i&&(e.style[i]=n)},t}();n.CustomStyle=i,t.CustomStyle=i}),function(t,e){e(t.pdfjsSharedUtil={},t.pdfjsSharedGlobal)}(this,function(t,e){function n(t){M.verbosity>=M.VERBOSITY_LEVELS.infos&&console.log("Info: "+t)}function i(t){M.verbosity>=M.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+t)}function r(t){i("Deprecated API usage: "+t)}function a(t){throw M.verbosity>=M.VERBOSITY_LEVELS.errors&&(console.log("Error: "+t),console.log(s())),new Error(t)}function s(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function o(t,e){t||a(e)}function c(t,e){return e?new URL(e,t).href:t}function l(t,e){if(!t)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(t);if(!n)return e;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}}function h(t,e){var n=e&&e.url;t.href=t.title=n?f(n):"",n&&(d()&&(t.target=Q[M.externalLinkTarget]),t.rel=M.externalLinkRel)}function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function d(){switch(M.openExternalLinksInNewWindow&&(r('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),M.externalLinkTarget===q.NONE&&(M.externalLinkTarget=q.BLANK),M.openExternalLinksInNewWindow=!1),M.externalLinkTarget){case q.NONE:return!1;case q.SELF:case q.BLANK:case q.PARENT:case q.TOP:return!0}return i("PDFJS.externalLinkTarget is invalid: "+M.externalLinkTarget),M.externalLinkTarget=q.NONE,!1}function f(t){return"string"!=typeof t?(i("The argument for removeNullCharacters must be a string."),t):t.replace(at,"")}function p(t){o(null!==t&&"object"==typeof t&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(n>e)return String.fromCharCode.apply(null,t);for(var i=[],r=0;e>r;r+=n){var a=Math.min(r+n,e),s=t.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function g(t){o("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),i=0;e>i;++i)n[i]=255&t.charCodeAt(i);return n}function A(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function m(t){for(var e=1,n=0;t>e;)e<<=1,n++;return n}function v(t,e){return t[e]<<24>>24}function b(t,e){return t[e]<<8|t[e+1]}function y(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function S(){var t=new Uint8Array(2);t[0]=1;var e=new Uint16Array(t.buffer);return 1===e[0]}function x(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d"),n=e.createImageData(1,1);return"undefined"!=typeof n.data.buffer}function k(t){var e,n=t.length,i=[];if(""===t[0]&&""===t[1])for(e=2;n>e;e+=2)i.push(String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1)));else for(e=0;n>e;++e){var r=lt[t.charCodeAt(e)];i.push(r?String.fromCharCode(r):t.charAt(e))}return i.join("")}function C(t){return decodeURIComponent(escape(t))}function _(t){return unescape(encodeURIComponent(t))}function w(t){for(var e in t)return!1;return!0}function T(t){return"boolean"==typeof t}function P(t){return"number"==typeof t&&(0|t)===t}function L(t){return"number"==typeof t}function E(t){return"string"==typeof t}function R(t){return t instanceof Array}function I(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength}function D(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}function j(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackIndex=1,this.postMessageTransfers=!0;var i=this.callbacksCapabilities={},r=this.actionHandler={};this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===this.sourceName)if(e.isReply){var s=e.callbackId;if(e.callbackId in i){var o=i[s];delete i[s],"error"in e?o.reject(e.error):o.resolve(e.data)}else a("Cannot resolve callback "+s)}else if(e.action in r){var c=r[e.action];if(e.callbackId){var l=this.sourceName,h=e.sourceName;Promise.resolve().then(function(){return c[0].call(c[1],e.data)}).then(function(t){n.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:e.callbackId,data:t})},function(t){t instanceof Error&&(t+=""),n.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:e.callbackId,error:t})})}else c[0].call(c[1],e.data)}else a("Unknown action from worker: "+e.action)}.bind(this),n.addEventListener("message",this._onComObjOnMessage)}function F(t,e,n){var r=new Image;r.onload=function(){n.resolve(t,r)},r.onerror=function(){n.resolve(t,null),i("Error during JPEG image loading")},r.src=e}var M=e.PDFJS,O=e.globalScope,N=[.001,0,0,.001,0,0],U={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},B={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},W={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},G={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},z={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},Y={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};M.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var H=M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},J=M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};M.isValidUrl=l,M.addLinkAttributes=h,M.shadow=u;var q=M.LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},Q=["","_self","_blank","_parent","_top"];M.isExternalLinkTargetSet=d;var V=M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},K=function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}();M.PasswordException=K;var Z=function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}();M.UnknownErrorException=Z;var $=function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}();M.InvalidPDFException=$;var tt=function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}();M.MissingPDFException=tt;var et=function(){function t(t,e){this.name="UnexpectedResponseException",this.message=t,this.status=e}return t.prototype=new Error,t.constructor=t,t}();M.UnexpectedResponseException=et;var nt=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="NotImplementedException",t.constructor=t,t}(),it=function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),rt=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),at=/\x00/g;M.removeNullCharacters=f,Object.defineProperty(M,"isLittleEndian",{configurable:!0,get:function(){return u(M,"isLittleEndian",S())}}),Object.defineProperty(M,"hasCanvasTypedArrays",{configurable:!0,get:function(){return u(M,"hasCanvasTypedArrays",x())}});var st=function(){function t(t,e){this.buffer=t,this.byteLength=t.length,this.length=void 0===e?this.byteLength>>2:e,n(this.length)}function e(t){return{get:function(){var e=this.buffer,n=t<<2;return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},set:function(e){var n=this.buffer,i=t<<2;n[i]=255&e,n[i+1]=e>>8&255,n[i+2]=e>>16&255,n[i+3]=e>>>24&255}}}function n(n){for(;n>i;)Object.defineProperty(t.prototype,i,e(i)),i++}t.prototype=Object.create(null);var i=0;return t}();t.Uint32ArrayView=st;var ot=[1,0,0,1,0,0],ct=M.Util=function(){function t(){}var e=["rgb(",0,",",0,",",0,")"];t.makeCssRgb=function(t,n,i){return e[1]=t,e[3]=n,e[5]=i,e.join("")},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[n,i]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[i,r]},t.getAxialAlignedBoundingBox=function(e,n){var i=t.applyTransform(e,n),r=t.applyTransform(e.slice(2,4),n),a=t.applyTransform([e[0],e[3]],n),s=t.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],a[0],s[0]),Math.min(i[1],r[1],a[1],s[1]),Math.max(i[0],r[0],a[0],s[0]),Math.max(i[1],r[1],a[1],s[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],s=(n+a)/2,o=Math.sqrt((n+a)*(n+a)-4*(n*a-r*i))/2,c=s+o||1,l=s-o||1;return[Math.sqrt(c),Math.sqrt(l)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function i(t,e){return t-e}var r=[e[0],e[2],n[0],n[2]].sort(i),a=[e[1],e[3],n[1],n[3]].sort(i),s=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),r[0]===e[0]&&r[1]===n[0]||r[0]===n[0]&&r[1]===e[0]?(s[0]=r[1],s[2]=r[2],a[0]===e[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===e[1]?(s[1]=a[1],s[3]=a[2],s):!1):!1},t.sign=function(t){return 0>t?-1:1};var n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return t.toRoman=function(t,e){o(P(t)&&t>0,"The number should be a positive integer.");for(var i,r=[];t>=1e3;)t-=1e3,r.push("M");i=t/100|0,t%=100,r.push(n[i]),i=t/10|0,t%=10,r.push(n[10+i]),r.push(n[20+t]);var a=r.join("");return e?a.toLowerCase():a},t.appendToArray=function(t,e){Array.prototype.push.apply(t,e)},t.prependToArray=function(t,e){Array.prototype.unshift.apply(t,e)},t.extendObj=function(t,e){for(var n in e)t[n]=e[n]},t.getInheritableProperty=function(t,e){for(;t&&!t.has(e);)t=t.get("Parent");return t?t.get(e):null},t.inherit=function(t,e,n){t.prototype=Object.create(e.prototype),t.prototype.constructor=t;for(var i in n)t.prototype[i]=n[i]},t.loadScript=function(t,e){var n=document.createElement("script"),i=!1;n.setAttribute("src",t),e&&(n.onload=function(){i||e(),i=!0}),document.getElementsByTagName("head")[0].appendChild(n)},t}(),lt=(M.PageViewport=function(){function t(t,e,n,i,r,a){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=r;var s,o,c,l,h=(t[2]+t[0])/2,u=(t[3]+t[1])/2;switch(n%=360,n=0>n?n+360:n){case 180:s=-1,o=0,c=0,l=1;break;case 90:s=0,o=1,c=1,l=0;break;case 270:s=0,o=-1,c=-1,l=0;break;default:s=1,o=0,c=0,l=-1}a&&(c=-c,l=-l);var d,f,p,g;0===s?(d=Math.abs(u-t[1])*e+i,f=Math.abs(h-t[0])*e+r,p=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(d=Math.abs(h-t[0])*e+i,f=Math.abs(u-t[1])*e+r,p=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[s*e,o*e,c*e,l*e,d-s*e*h-c*e*u,f-o*e*h-l*e*u],this.width=p,this.height=g,this.fontScale=e}return t.prototype={clone:function(e){e=e||{};var n="scale"in e?e.scale:this.scale,i="rotation"in e?e.rotation:this.rotation;return new t(this.viewBox.slice(),n,i,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(t,e){return ct.applyTransform([t,e],this.transform)},convertToViewportRectangle:function(t){var e=ct.applyTransform([t[0],t[1]],this.transform),n=ct.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]},convertToPdfPoint:function(t,e){return ct.applyInverseTransform([t,e],this.transform)}},t}(),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]);M.createPromiseCapability=D,function(){function t(t){this._status=e,this._handlers=[];try{t.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(n){this._reject(n)}}if(O.Promise)return"function"!=typeof O.Promise.all&&(O.Promise.all=function(t){var e,n,i=0,r=[],a=new O.Promise(function(t,i){e=t,n=i});return t.forEach(function(t,a){i++,t.then(function(t){r[a]=t,i--,0===i&&e(r)},n)}),0===i&&e(r),a}),"function"!=typeof O.Promise.resolve&&(O.Promise.resolve=function(t){return new O.Promise(function(e){e(t)})}),"function"!=typeof O.Promise.reject&&(O.Promise.reject=function(t){return new O.Promise(function(e,n){n(t)})}),void("function"!=typeof O.Promise.prototype["catch"]&&(O.Promise.prototype["catch"]=function(t){return O.Promise.prototype.then(void 0,t)}));var e=0,n=1,r=2,a=500,s={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(t){t._status!==e&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=1,e=Date.now()+t;this.handlers.length>0;){var i=this.handlers.shift(),a=i.thisPromise._status,s=i.thisPromise._value;try{a===n?"function"==typeof i.onResolve&&(s=i.onResolve(s)):"function"==typeof i.onReject&&(s=i.onReject(s),a=n,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(o){a=r,s=o}if(i.nextPromise._updateStatus(a,s),Date.now()>=e)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=!1;for(var e=0;e<this.unhandledRejections.length;e++)this.unhandledRejections[e].promise===t&&(this.unhandledRejections.splice(e),e--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var t=Date.now(),e=0;e<this.unhandledRejections.length;e++)if(t-this.unhandledRejections[e].time>a){var n=this.unhandledRejections[e].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack),i(r),this.unhandledRejections.splice(e),e--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),a))}};t.all=function(e){function n(t){s._status!==r&&(c=[],a(t))}var i,a,s=new t(function(t,e){i=t,a=e}),o=e.length,c=[];if(0===o)return i(c),s;for(var l=0,h=e.length;h>l;++l){var u=e[l],d=function(t){return function(e){s._status!==r&&(c[t]=e,o--,0===o&&i(c))}}(l);t.isPromise(u)?u.then(d,n):d(u)}return s},t.isPromise=function(t){return t&&"function"==typeof t.then},t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,i){if(this._status!==n&&this._status!==r){if(e===n&&t.isPromise(i))return void i.then(this._updateStatus.bind(this,n),this._updateStatus.bind(this,r));this._status=e,this._value=i,e===r&&0===this._handlers.length&&(this._unhandledRejection=!0,s.addUnhandledRejection(this)),s.scheduleHandlers(this)}},_resolve:function(t){this._updateStatus(n,t)},_reject:function(t){this._updateStatus(r,t)},then:function(e,n){var i=new t(function(t,e){this.resolve=t,this.reject=e});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:i}),s.scheduleHandlers(this),i},"catch":function(t){return this.then(void 0,t)}},O.Promise=t}();var ht=function(){function t(t,e,n){for(;t.length<n;)t+=e;return t}function e(){this.started={},this.times=[],this.enabled=!0}return e.prototype={time:function(t){this.enabled&&(t in this.started&&i("Timer is already running for "+t),this.started[t]=Date.now())},timeEnd:function(t){this.enabled&&(t in this.started||i("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])},toString:function(){var e,n,i=this.times,r="",a=0;for(e=0,n=i.length;n>e;++e){var s=i[e].name;s.length>a&&(a=s.length)}for(e=0,n=i.length;n>e;++e){var o=i[e],c=o.end-o.start;r+=t(o.name," ",a)+" "+c+"ms\n"}return r}},e}();M.createBlob=function(t,e){if("undefined"!=typeof Blob)return new Blob([t],{type:e});var n=new MozBlobBuilder;return n.append(t),n.getBlob(e)},M.createObjectURL=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n){if(!M.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var i=M.createBlob(e,n);return URL.createObjectURL(i)}for(var r="data:"+n+";base64,",a=0,s=e.length;s>a;a+=3){var o=255&e[a],c=255&e[a+1],l=255&e[a+2],h=o>>2,u=(3&o)<<4|c>>4,d=s>a+1?(15&c)<<2|l>>6:64,f=s>a+2?63&l:64;r+=t[h]+t[u]+t[d]+t[f]}return r}}(),j.prototype={on:function(t,e,n){var i=this.actionHandler;i[t]&&a('There is already an actionName called "'+t+'"'),i[t]=[e,n]},send:function(t,e,n){var i={sourceName:this.sourceName,targetName:this.targetName,action:t,data:e};this.postMessage(i,n)},sendWithPromise:function(t,e,n){var i=this.callbackIndex++,r={sourceName:this.sourceName,targetName:this.targetName,action:t,data:e,callbackId:i},a=D();this.callbacksCapabilities[i]=a;try{this.postMessage(r,n)}catch(s){a.reject(s)}return a.promise},postMessage:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},function(t){function e(t){return void 0!==d[t]}function n(){o.call(this),this._isInvalid=!0}function i(t){return""==t&&n.call(this),t.toLowerCase()}function r(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function a(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function s(t,s,o){function c(t){b.push(t)}var l=s||"scheme start",h=0,u="",m=!1,v=!1,b=[];t:for(;(t[h-1]!=p||0==h)&&!this._isInvalid;){var y=t[h];switch(l){case"scheme start":if(!y||!g.test(y)){if(s){c("Invalid scheme.");break t}u="",l="no scheme";continue}u+=y.toLowerCase(),l="scheme";break;case"scheme":if(y&&A.test(y))u+=y.toLowerCase();else{if(":"!=y){if(s){if(p==y)break t;c("Code point not allowed in scheme: "+y);break t}u="",h=0,l="no scheme";continue}if(this._scheme=u,u="",s)break t;e(this._scheme)&&(this._isRelative=!0),l="file"==this._scheme?"relative":this._isRelative&&o&&o._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==y?(this._query="?",l="query"):"#"==y?(this._fragment="#",l="fragment"):p!=y&&"  "!=y&&"\n"!=y&&"\r"!=y&&(this._schemeData+=r(y));break;case"no scheme":if(o&&e(o._scheme)){l="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=y||"/"!=t[h+1]){c("Expected /, got: "+y),l="relative";continue}l="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=o._scheme),p==y){this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._username=o._username,this._password=o._password;break t}if("/"==y||"\\"==y)"\\"==y&&c("\\ is an invalid code point."),l="relative slash";else if("?"==y)this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query="?",this._username=o._username,this._password=o._password,l="query";else{if("#"!=y){var S=t[h+1],x=t[h+2];("file"!=this._scheme||!g.test(y)||":"!=S&&"|"!=S||p!=x&&"/"!=x&&"\\"!=x&&"?"!=x&&"#"!=x)&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password,this._path=o._path.slice(),this._path.pop()),l="relative path";continue}this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._fragment="#",this._username=o._username,this._password=o._password,l="fragment"}break;case"relative slash":if("/"!=y&&"\\"!=y){"file"!=this._scheme&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password),l="relative path";continue}"\\"==y&&c("\\ is an invalid code point."),l="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=y){c("Expected '/', got: "+y),l="authority ignore slashes";continue}l="authority second slash";break;case"authority second slash":if(l="authority ignore slashes","/"!=y){c("Expected '/', got: "+y);continue}break;case"authority ignore slashes":if("/"!=y&&"\\"!=y){l="authority";continue}c("Expected authority, got: "+y);break;case"authority":if("@"==y){m&&(c("@ already seen."),u+="%40"),m=!0;for(var k=0;k<u.length;k++){var C=u[k];if(" "!=C&&"\n"!=C&&"\r"!=C)if(":"!=C||null!==this._password){var _=r(C);null!==this._password?this._password+=_:this._username+=_}else this._password="";else c("Invalid whitespace in authority.")}u=""}else{if(p==y||"/"==y||"\\"==y||"?"==y||"#"==y){h-=u.length,u="",l="host";continue}u+=y}break;case"file host":if(p==y||"/"==y||"\\"==y||"?"==y||"#"==y){2!=u.length||!g.test(u[0])||":"!=u[1]&&"|"!=u[1]?0==u.length?l="relative path start":(this._host=i.call(this,u),u="",l="relative path start"):l="relative path";continue}"  "==y||"\n"==y||"\r"==y?c("Invalid whitespace in file host."):u+=y;break;case"host":case"hostname":if(":"!=y||v){if(p==y||"/"==y||"\\"==y||"?"==y||"#"==y){if(this._host=i.call(this,u),u="",l="relative path start",s)break t;continue}"  "!=y&&"\n"!=y&&"\r"!=y?("["==y?v=!0:"]"==y&&(v=!1),u+=y):c("Invalid code point in host/hostname: "+y)}else if(this._host=i.call(this,u),u="",l="port","hostname"==s)break t;break;case"port":if(/[0-9]/.test(y))u+=y;else{if(p==y||"/"==y||"\\"==y||"?"==y||"#"==y||s){if(""!=u){var w=parseInt(u,10);w!=d[this._scheme]&&(this._port=w+""),u=""}if(s)break t;l="relative path start";continue}"  "==y||"\n"==y||"\r"==y?c("Invalid code point in port: "+y):n.call(this)}break;case"relative path start":if("\\"==y&&c("'\\' not allowed in path."),l="relative path","/"!=y&&"\\"!=y)continue;break;case"relative path":if(p!=y&&"/"!=y&&"\\"!=y&&(s||"?"!=y&&"#"!=y))" "!=y&&"\n"!=y&&"\r"!=y&&(u+=r(y));else{"\\"==y&&c("\\ not allowed in relative path.");var T;(T=f[u.toLowerCase()])&&(u=T),".."==u?(this._path.pop(),"/"!=y&&"\\"!=y&&this._path.push("")):"."==u&&"/"!=y&&"\\"!=y?this._path.push(""):"."!=u&&("file"==this._scheme&&0==this._path.length&&2==u.length&&g.test(u[0])&&"|"==u[1]&&(u=u[0]+":"),this._path.push(u)),u="","?"==y?(this._query="?",l="query"):"#"==y&&(this._fragment="#",l="fragment")}break;case"query":s||"#"!=y?p!=y&&" "!=y&&"\n"!=y&&"\r"!=y&&(this._query+=a(y)):(this._fragment="#",l="fragment");break;case"fragment":p!=y&&"  "!=y&&"\n"!=y&&"\r"!=y&&(this._fragment+=y)}h++}}function o(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(t,e){void 0===e||e instanceof c||(e=new c(String(e))),this._url=t,o.call(this);var n=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,n,null,e)}var l=!1;try{if("function"==typeof URL&&"object"==typeof URL.prototype&&"origin"in URL.prototype){var h=new URL("b","http://a");h.pathname="c%20d",l="http://a/c%20d"===h.href}}catch(u){}if(!l){var d=Object.create(null);d.ftp=21,d.file=0,d.gopher=70,d.http=80,d.https=443,d.ws=80,d.wss=443;var f=Object.create(null);f["%2e"]=".",f[".%2e"]="..",f["%2e."]="..",f["%2e%2e"]="..";var p=void 0,g=/[a-zA-Z]/,A=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return(""!=this._username||null!=this._password)&&(t=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){o.call(this),s.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||s.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],s.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"==t[0]&&(t=t.slice(1)),s.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"==t[0]&&(t=t.slice(1)),s.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return t=this.host,t?this._scheme+"://"+t:""}};var m=t.URL;m&&(c.createObjectURL=function(t){return m.createObjectURL.apply(m,arguments)},c.revokeObjectURL=function(t){m.revokeObjectURL(t)}),t.URL=c}}(O),t.FONT_IDENTITY_MATRIX=N,t.IDENTITY_MATRIX=ot,t.OPS=H,t.UNSUPPORTED_FEATURES=J,t.AnnotationBorderStyleType=X,t.AnnotationFlag=G,t.AnnotationType=W,t.FontType=Y,t.ImageKind=B,t.InvalidPDFException=$,t.LinkTarget=q,t.LinkTargetStringMap=Q,t.MessageHandler=j,t.MissingDataException=it,t.MissingPDFException=tt,t.NotImplementedException=nt,t.PasswordException=K,t.PasswordResponses=V,t.StatTimer=ht,t.StreamType=z,t.TextRenderingMode=U,t.UnexpectedResponseException=et,t.UnknownErrorException=Z,t.Util=ct,t.XRefParseException=rt,t.assert=o,t.bytesToString=p,t.combineUrl=c,t.createPromiseCapability=D,t.deprecated=r,t.error=a,t.info=n,t.isArray=R,t.isArrayBuffer=I,t.isBool=T,t.isEmptyObj=w,t.isExternalLinkTargetSet=d,t.isInt=P,t.isNum=L,t.isString=E,t.isValidUrl=l,t.addLinkAttributes=h,t.loadJpegStream=F,t.log2=m,t.readInt8=v,t.readUint16=b,t.readUint32=y,t.removeNullCharacters=f,t.shadow=u,t.string32=A,t.stringToBytes=g,t.stringToPDFString=k,t.stringToUTF8String=C,t.utf8StringToString=_,t.warn=i}),function(t,e){e(t.pdfjsDisplayAnnotationLayer={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils)}(this,function(t,e,n){function i(){}var r=e.AnnotationBorderStyleType,a=e.AnnotationType,s=e.Util,o=e.addLinkAttributes,c=e.warn,l=n.CustomStyle;i.prototype={create:function(t){var e=t.data.annotationType;switch(e){case a.LINK:return new u(t);case a.TEXT:return new d(t);case a.WIDGET:return new f(t);case a.POPUP:return new p(t);case a.HIGHLIGHT:return new A(t);case a.UNDERLINE:return new m(t);case a.SQUIGGLY:return new v(t);case a.STRIKEOUT:return new b(t);default:throw new Error('Unimplemented annotation type "'+e+'"')}}};var h=function(){function t(t){this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.container=this._createContainer()}return t.prototype={_createContainer:function(){var t=this.data,e=this.page,n=this.viewport,i=document.createElement("section"),a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];i.setAttribute("data-annotation-id",t.id);var h=s.normalizeRect([t.rect[0],e.view[3]-t.rect[1]+e.view[1],t.rect[2],e.view[3]-t.rect[3]+e.view[1]]);if(l.setProp("transform",i,"matrix("+n.transform.join(",")+")"),l.setProp("transformOrigin",i,-h[0]+"px "+-h[1]+"px"),t.borderStyle.width>0){i.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==r.UNDERLINE&&(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);var u=t.borderStyle.horizontalCornerRadius,d=t.borderStyle.verticalCornerRadius;if(u>0||d>0){var f=u+"px / "+d+"px";l.setProp("borderRadius",i,f)}switch(t.borderStyle.style){case r.SOLID:i.style.borderStyle="solid";break;case r.DASHED:i.style.borderStyle="dashed";break;case r.BEVELED:c("Unimplemented border style: beveled");break;case r.INSET:c("Unimplemented border style: inset");break;case r.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=s.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=h[0]+"px",i.style.top=h[1]+"px",i.style.width=a+"px",i.style.height=o+"px",i},render:function(){throw new Error("Abstract method AnnotationElement.render called")}},t}(),u=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){this.container.className="linkAnnotation";var t=document.createElement("a");return o(t,{url:this.data.url}),this.data.url||(this.data.action?this._bindNamedAction(t,this.data.action):this._bindLink(t,"dest"in this.data?this.data.dest:null)),
this.container.appendChild(t),this.container},_bindLink:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.navigateTo(e),!1},e&&(t.className="internalLink")},_bindNamedAction:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}}),t}(),d=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){this.container.className="textAnnotation";var t=document.createElement("img");if(t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=PDFJS.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.hasPopup){var e=new g({container:this.container,trigger:t,color:this.data.color,title:this.data.title,contents:this.data.contents,hideWrapper:!0}),n=e.render();n.style.left=t.style.width,this.container.appendChild(n)}return this.container.appendChild(t),this.container}}),t}(),f=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){var t=document.createElement("div");t.textContent=this.data.fieldValue;var e=this.data.textAlignment;t.style.textAlign=["left","center","right"][e],t.style.verticalAlign="middle",t.style.display="table-cell";var n=this.data.fontRefName?this.page.commonObjs.getData(this.data.fontRefName):null;return this._setTextStyle(t,n),this.container.appendChild(t),this.container},_setTextStyle:function(t,e){var n=t.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",e){n.fontWeight=e.black?e.bold?"900":"bold":e.bold?"bold":"normal",n.fontStyle=e.italic?"italic":"normal";var i=e.loadedName?'"'+e.loadedName+'", ':"",r=e.fallbackName||"Helvetica, sans-serif";n.fontFamily=i+r}}}),t}(),p=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){this.container.className="popupAnnotation";var t='[data-annotation-id="'+this.data.parentId+'"]',e=this.layer.querySelector(t);if(!e)return this.container;var n=new g({container:this.container,trigger:e,color:this.data.color,title:this.data.title,contents:this.data.contents}),i=parseFloat(e.style.left),r=parseFloat(e.style.width);return l.setProp("transformOrigin",this.container,-(i+r)+"px -"+e.style.top),this.container.style.left=i+r+"px",this.container.appendChild(n.render()),this.container}}),t}(),g=function(){function t(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}var e=.7;return t.prototype={render:function(){var t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var i=this.color;if(i){var r=e*(255-i[0])+i[0],a=e*(255-i[1])+i[1],o=e*(255-i[2])+i[2];n.style.backgroundColor=s.makeCssRgb(0|r,0|a,0|o)}var c=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),n.addEventListener("click",this._hide.bind(this,!0)),n.appendChild(l),n.appendChild(c),t.appendChild(n),t},_formatContents:function(t){for(var e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),i=0,r=n.length;r>i;++i){var a=n[i];e.appendChild(document.createTextNode(a)),r-1>i&&e.appendChild(document.createElement("br"))}return e},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(t){t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(t){t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}},t}(),A=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){return this.container.className="highlightAnnotation",this.container}}),t}(),m=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){return this.container.className="underlineAnnotation",this.container}}),t}(),v=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){return this.container.className="squigglyAnnotation",this.container}}),t}(),b=function(){function t(t){h.call(this,t)}return s.inherit(t,h,{render:function(){return this.container.className="strikeoutAnnotation",this.container}}),t}(),y=function(){return{render:function(t){for(var e=new i,n=0,r=t.annotations.length;r>n;n++){var a=t.annotations[n];if(a&&a.hasHtml){var s={data:a,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService},o=e.create(s);t.div.appendChild(o.render())}}},update:function(t){for(var e=0,n=t.annotations.length;n>e;e++){var i=t.annotations[e],r=t.div.querySelector('[data-annotation-id="'+i.id+'"]');r&&l.setProp("transform",r,"matrix("+t.viewport.transform.join(",")+")")}t.div.removeAttribute("hidden")}}}();PDFJS.AnnotationLayer=y,t.AnnotationLayer=y}),function(t,e){e(t.pdfjsDisplayFontLoader={},t.pdfjsSharedUtil,t.pdfjsSharedGlobal)}(this,function(t,e,n){function i(t){this.docId=t,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}var r=e.assert,a=e.bytesToString,s=e.string32,o=e.shadow,c=e.warn,l=n.PDFJS,h=n.globalScope,u=n.isWorker;i.prototype={insertRule:function(t){var e=this.styleElement;e||(e=this.styleElement=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)},clear:function(){var t=this.styleElement;t&&(t.parentNode.removeChild(t),t=this.styleElement=null),this.nativeFontFaces.forEach(function(t){document.fonts["delete"](t)}),this.nativeFontFaces.length=0},get loadTestFont(){return o(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},addNativeFontFace:function(t){this.nativeFontFaces.push(t),document.fonts.add(t)},bind:function(t,e){r(!u,"bind() shall be called from main thread");for(var n=[],a=[],s=[],o=function(t){return t.loaded["catch"](function(e){c('Failed to load font "'+t.family+'": '+e)})},l=0,h=t.length;h>l;l++){var d=t[l];if(!d.attached&&d.loading!==!1)if(d.attached=!0,i.isFontLoadingAPISupported){var f=d.createNativeFontFace();f&&(this.addNativeFontFace(f),s.push(o(f)))}else{var p=d.createFontFaceRule();p&&(this.insertRule(p),n.push(p),a.push(d))}}var g=this.queueLoadingCallback(e);i.isFontLoadingAPISupported?Promise.all(s).then(function(){g.complete()}):n.length>0&&!i.isSyncFontLoadingSupported?this.prepareFontLoadEvent(n,a,g):g.complete()},queueLoadingCallback:function(t){function e(){for(r(!a.end,"completeRequest() cannot be called twice"),a.end=Date.now();n.requests.length>0&&n.requests[0].end;){var t=n.requests.shift();setTimeout(t.callback,0)}}var n=this.loadingContext,i="pdfjs-font-loading-"+n.nextRequestId++,a={id:i,complete:e,callback:t,started:Date.now()};return n.requests.push(a),a},prepareFontLoadEvent:function(t,e,n){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function r(t,e,n,i){var r=t.substr(0,e),a=t.substr(e+n);return r+i+a}function a(t,e){if(d++,d>30)return c("Load test font never loaded."),void e();u.font="30px "+t,u.fillText(".",0,20);var n=u.getImageData(0,0,1,1);return n.data[3]>0?void e():void setTimeout(a.bind(null,t,e))}var o,l,h=document.createElement("canvas");h.width=1,h.height=1;var u=h.getContext("2d"),d=0,f="lt"+Date.now()+this.loadTestFontId++,p=this.loadTestFont,g=976;p=r(p,g,f.length,f);var A=16,m=1482184792,v=i(p,A);for(o=0,l=f.length-3;l>o;o+=4)v=v-m+i(f,o)|0;o<f.length&&(v=v-m+i(f+"XXX",o)|0),p=r(p,A,4,s(v));var b="url(data:font/opentype;base64,"+btoa(p)+");",y='@font-face { font-family:"'+f+'";src:'+b+"}";this.insertRule(y);var S=[];for(o=0,l=e.length;l>o;o++)S.push(e[o].loadedName);S.push(f);var x=document.createElement("div");for(x.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),o=0,l=S.length;l>o;++o){var k=document.createElement("span");k.textContent="Hi",k.style.fontFamily=S[o],x.appendChild(k)}document.body.appendChild(x),a(f,function(){document.body.removeChild(x),n.complete()})}},i.isFontLoadingAPISupported=!u&&"undefined"!=typeof document&&!!document.fonts,Object.defineProperty(i,"isSyncFontLoadingSupported",{get:function(){var t=!1,e=window.navigator.userAgent,n=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(e);return n&&n[1]>=14&&(t=!0),"node"===e&&(t=!0),o(i,"isSyncFontLoadingSupported",t)},enumerable:!0,configurable:!0});var d=function(){function t(t){this.compiledGlyphs={};for(var e in t)this[e]=t[e]}return Object.defineProperty(t,"isEvalSupported",{get:function(){var t=!1;if(l.isEvalSupported)try{new Function(""),t=!0}catch(e){}return o(this,"isEvalSupported",t)},enumerable:!0,configurable:!0}),t.prototype={createNativeFontFace:function(){if(!this.data)return null;if(l.disableFontFace)return this.disableFontFace=!0,null;var t=new FontFace(this.loadedName,this.data,{});return l.pdfBug&&"FontInspector"in h&&h.FontInspector.enabled&&h.FontInspector.fontAdded(this),t},createFontFaceRule:function(){if(!this.data)return null;if(l.disableFontFace)return this.disableFontFace=!0,null;var t=a(new Uint8Array(this.data)),e=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(t)+");",i='@font-face { font-family:"'+e+'";src:'+n+"}";return l.pdfBug&&"FontInspector"in h&&h.FontInspector.enabled&&h.FontInspector.fontAdded(this,n),i},getPathGenerator:function(e,n){if(!(n in this.compiledGlyphs)){var i,r,a,s=e.get(this.loadedName+"_path_"+n);if(t.isEvalSupported){var o,c="";for(r=0,a=s.length;a>r;r++)i=s[r],o=void 0!==i.args?i.args.join(","):"",c+="c."+i.cmd+"("+o+");\n";this.compiledGlyphs[n]=new Function("c","size",c)}else this.compiledGlyphs[n]=function(t,e){for(r=0,a=s.length;a>r;r++)i=s[r],"scale"===i.cmd&&(i.args=[e,-e]),t[i.cmd].apply(t,i.args)}}return this.compiledGlyphs[n]}},t}();t.FontFaceObject=d,t.FontLoader=i}),function(t,e){e(t.pdfjsDisplayMetadata={},t.pdfjsSharedUtil)}(this,function(t,e){var n=e.error,i=PDFJS.Metadata=function(){function t(t){return t.replace(/>\\376\\377([^<]+)/g,function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,function(t,e,n,i){return String.fromCharCode(64*e+8*n+1*i)}),i="",r=0;r<n.length;r+=2){var a=256*n.charCodeAt(r)+n.charCodeAt(r+1);i+="&#x"+(65536+a).toString(16).substring(1)+";"}return">"+i})}function e(e){if("string"==typeof e){e=t(e);var i=new DOMParser;e=i.parseFromString(e,"application/xml")}else e instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata={},this.parse()}return e.prototype={parse:function(){var t=this.metaDocument,e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes()){var i,r,a,s,o,c,l,h=e.childNodes;for(s=0,c=h.length;c>s;s++)if(i=h[s],"rdf:description"===i.nodeName.toLowerCase())for(o=0,l=i.childNodes.length;l>o;o++)"#text"!==i.childNodes[o].nodeName.toLowerCase()&&(r=i.childNodes[o],a=r.nodeName.toLowerCase(),this.metadata[a]=r.textContent.trim())}},get:function(t){return this.metadata[t]||null},has:function(t){return"undefined"!=typeof this.metadata[t]}},e}();t.Metadata=i}),function(t,e){e(t.pdfjsDisplaySVG={},t.pdfjsSharedUtil)}(this,function(t,e){var n=e.FONT_IDENTITY_MATRIX,i=e.IDENTITY_MATRIX,r=e.ImageKind,a=e.OPS,s=e.Util,o=e.isNum,c=e.isArray,l=e.warn,h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u=function(){function t(t,e,n){for(var i=-1,r=e;n>r;r++){var a=255&(i^t[r]),s=o[a];i=i>>>8^s}return-1^i}function e(e,n,i,r){var a=r,s=n.length;i[a]=s>>24&255,i[a+1]=s>>16&255,i[a+2]=s>>8&255,i[a+3]=255&s,a+=4,i[a]=255&e.charCodeAt(0),i[a+1]=255&e.charCodeAt(1),i[a+2]=255&e.charCodeAt(2),i[a+3]=255&e.charCodeAt(3),a+=4,i.set(n,a),a+=n.length;var o=t(i,r+4,a);i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o}function n(t,e,n){for(var i=1,r=0,a=e;n>a;++a)i=(i+(255&t[a]))%65521,r=(r+i)%65521;return r<<16|i}function i(t,i){var o,c,l,h=t.width,u=t.height,d=t.data;switch(i){case r.GRAYSCALE_1BPP:c=0,o=1,l=h+7>>3;break;case r.RGB_24BPP:c=2,o=8,l=3*h;break;case r.RGBA_32BPP:c=6,o=8,l=4*h;break;default:throw new Error("invalid format")}var f,p,g=new Uint8Array((1+l)*u),A=0,m=0;for(f=0;u>f;++f)g[A++]=0,g.set(d.subarray(m,m+l),A),m+=l,A+=l;if(i===r.GRAYSCALE_1BPP)for(A=0,f=0;u>f;f++)for(A++,p=0;l>p;p++)g[A++]^=255;var v=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,u>>24&255,u>>16&255,u>>8&255,255&u,o,c,0,0,0]),b=g.length,y=65535,S=Math.ceil(b/y),x=new Uint8Array(2+b+5*S+4),k=0;x[k++]=120,x[k++]=156;for(var C=0;b>y;)x[k++]=0,x[k++]=255,x[k++]=255,x[k++]=0,x[k++]=0,x.set(g.subarray(C,C+y),k),k+=y,C+=y,b-=y;x[k++]=1,x[k++]=255&b,x[k++]=b>>8&255,x[k++]=65535&~b&255,x[k++]=(65535&~b)>>8&255,x.set(g.subarray(C),k),k+=g.length-C;var _=n(g,0,g.length);x[k++]=_>>24&255,x[k++]=_>>16&255,x[k++]=_>>8&255,x[k++]=255&_;var w=a.length+3*s+v.length+x.length,T=new Uint8Array(w),P=0;return T.set(a,P),P+=a.length,e("IHDR",v,T,P),P+=s+v.length,e("IDATA",x,T,P),P+=s+x.length,e("IEND",new Uint8Array(0),T,P),PDFJS.createObjectURL(T,"image/png")}for(var a=new Uint8Array([137,80,78,71,13,10,26,10]),s=12,o=new Int32Array(256),c=0;256>c;c++){for(var l=c,h=0;8>h;h++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;o[c]=l}return function(t){var e=void 0===t.kind?r.GRAYSCALE_1BPP:t.kind;return i(t,e)}}(),d=function(){function t(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=i,this.fontMatrix=n,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.clipId="",this.pendingClip=!1,this.maskId=""}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),f=function(){function t(t,e){var n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg:svg");return i.setAttributeNS(null,"version","1.1"),i.setAttributeNS(null,"width",t+"px"),i.setAttributeNS(null,"height",e+"px"),i.setAttributeNS(null,"viewBox","0 0 "+t+" "+e),i}function e(t){for(var e=[],n=[],i=t.length,r=0;i>r;r++)"save"!==t[r].fn?"restore"===t[r].fn?e=n.pop():e.push(t[r]):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e[e.length-1].items);return e}function r(t){if(t===(0|t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do n--;while("0"===e[n]);return e.substr(0,"."===e[n]?n:n+1)}function f(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale("+r(t[0])+" "+r(t[3])+")";if(t[0]===t[3]&&t[1]===-t[2]){var e=180*Math.acos(t[0])/Math.PI;return"rotate("+r(e)+")"}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate("+r(t[4])+" "+r(t[5])+")";return"matrix("+r(t[0])+" "+r(t[1])+" "+r(t[2])+" "+r(t[3])+" "+r(t[4])+" "+r(t[5])+")"}function p(t,e){this.current=new d,this.transformMatrix=i,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts={},this.cssStyle=null}var g="http://www.w3.org/2000/svg",A="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",v=["butt","round","square"],b=["miter","round","bevel"],y=0,S=0;return p.prototype={save:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.tgrp=document.createElementNS(g,"svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.pgrp.appendChild(this.tgrp)},group:function(t){this.save(),this.executeOpTree(t),this.restore()},loadDependencies:function(t){for(var e=t.fnArray,n=e.length,i=t.argsArray,r=this,s=0;n>s;s++)if(a.dependency===e[s])for(var o=i[s],c=0,l=o.length;l>c;c++){var h,u=o[c],d="g_"===u.substring(0,2);h=d?new Promise(function(t){r.commonObjs.get(u,t)}):new Promise(function(t){r.objs.get(u,t)}),this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)},transform:function(t,e,n,i,r,a){var s=[t,e,n,i,r,a];this.transformMatrix=PDFJS.Util.transform(this.transformMatrix,s),this.tgrp=document.createElementNS(g,"svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix))},getSVG:function(e,n){return this.svg=t(n.width,n.height),this.viewport=n,this.loadDependencies(e).then(function(){this.transformMatrix=i,this.pgrp=document.createElementNS(g,"svg:g"),this.pgrp.setAttributeNS(null,"transform",f(n.transform)),this.tgrp=document.createElementNS(g,"svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.defs=document.createElementNS(g,"svg:defs"),this.pgrp.appendChild(this.defs),this.pgrp.appendChild(this.tgrp),this.svg.appendChild(this.pgrp);var t=this.convertOpList(e);return this.executeOpTree(t),this.svg}.bind(this))},convertOpList:function(t){var n=t.argsArray,i=t.fnArray,r=i.length,s=[],o=[];for(var c in a)s[a[c]]=c;for(var l=0;r>l;l++){var h=i[l];o.push({fnId:h,fn:s[h],args:n[l]})}return e(o)},executeOpTree:function(t){for(var e=t.length,n=0;e>n;n++){var i=t[n].fn,r=t[n].fnId,s=t[n].args;switch(0|r){case a.beginText:this.beginText();break;case a.setLeading:this.setLeading(s);break;case a.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case a.setFont:this.setFont(s);break;case a.showText:this.showText(s[0]);break;case a.showSpacedText:this.showText(s[0]);break;case a.endText:this.endText();break;case a.moveText:this.moveText(s[0],s[1]);break;case a.setCharSpacing:this.setCharSpacing(s[0]);break;case a.setWordSpacing:this.setWordSpacing(s[0]);break;case a.setHScale:this.setHScale(s[0]);break;case a.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case a.setLineWidth:this.setLineWidth(s[0]);break;case a.setLineJoin:this.setLineJoin(s[0]);break;case a.setLineCap:this.setLineCap(s[0]);break;case a.setMiterLimit:this.setMiterLimit(s[0]);break;case a.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case a.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case a.setDash:this.setDash(s[0],s[1]);break;case a.setGState:this.setGState(s[0]);break;case a.fill:this.fill();break;case a.eoFill:this.eoFill();break;case a.stroke:this.stroke();break;case a.fillStroke:this.fillStroke();break;case a.eoFillStroke:this.eoFillStroke();break;case a.clip:this.clip("nonzero");break;case a.eoClip:this.clip("evenodd");break;case a.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case a.paintImageXObject:this.paintImageXObject(s[0]);break;case a.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case a.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case a.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case a.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.closePath:this.closePath();break;case a.closeStroke:this.closeStroke();break;case a.closeFillStroke:this.closeFillStroke();break;case a.nextLine:this.nextLine();break;case a.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case a.constructPath:this.constructPath(s[0],s[1]);break;case a.endPath:this.endPath();break;case 92:this.group(t[n].items);break;default:l("Unimplemented method "+i)}}},setWordSpacing:function(t){this.current.wordSpacing=t},setCharSpacing:function(t){this.current.charSpacing=t},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(t,e,n,i,a,s){var o=this.current;this.current.textMatrix=this.current.lineMatrix=[t,e,n,i,a,s],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,o.xcoords=[],o.tspan=document.createElementNS(g,"svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",r(o.fontSize)+"px"),o.tspan.setAttributeNS(null,"y",r(-o.y)),o.txtElement=document.createElementNS(g,"svg:text"),o.txtElement.appendChild(o.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=i,this.current.lineMatrix=i,this.current.tspan=document.createElementNS(g,"svg:tspan"),this.current.txtElement=document.createElementNS(g,"svg:text"),this.current.txtgrp=document.createElementNS(g,"svg:g"),this.current.xcoords=[]},moveText:function(t,e){var n=this.current;this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e,n.xcoords=[],n.tspan=document.createElementNS(g,"svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",r(n.fontSize)+"px"),n.tspan.setAttributeNS(null,"y",r(-n.y))},showText:function(t){var e=this.current,n=e.font,i=e.fontSize;if(0!==i){var a,s=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,u=e.textHScale*l,d=t.length,p=n.vertical,g=i*e.fontMatrix[0],m=0;for(a=0;d>a;++a){var v=t[a];if(null!==v)if(o(v))m+=-v*i*.001;else{e.xcoords.push(e.x+m*u);var b=v.width,y=v.fontChar,S=b*g+s*l;m+=S,e.tspan.textContent+=y}else m+=l*c}p?e.y-=m*u:e.x+=m*u,e.tspan.setAttributeNS(null,"x",e.xcoords.map(r).join(" ")),e.tspan.setAttributeNS(null,"y",r(-e.y)),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",r(e.fontSize)+"px"),e.fontStyle!==h.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==h.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight),e.fillColor!==h.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.txtElement.setAttributeNS(null,"transform",f(e.textMatrix)+" scale(1, -1)"),e.txtElement.setAttributeNS(A,"xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this.tgrp.appendChild(e.txtElement)}},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},addFontStyle:function(t){this.cssStyle||(this.cssStyle=document.createElementNS(g,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=PDFJS.createObjectURL(t.data,t.mimetype);this.cssStyle.textContent+='@font-face { font-family: "'+t.loadedName+'"; src: url('+e+"); }\n"},setFont:function(t){var e=this.current,i=this.commonObjs.get(t[0]),a=t[1];this.current.font=i,this.embedFonts&&i.data&&!this.embeddedFonts[i.loadedName]&&(this.addFontStyle(i),this.embeddedFonts[i.loadedName]=i),e.fontMatrix=i.fontMatrix?i.fontMatrix:n;var s=i.black?i.bold?"bolder":"bold":i.bold?"bold":"normal",o=i.italic?"italic":"normal";0>a?(a=-a,e.fontDirection=-1):e.fontDirection=1,e.fontSize=a,e.fontFamily=i.loadedName,e.fontWeight=s,e.fontStyle=o,e.tspan=document.createElementNS(g,"svg:tspan"),e.tspan.setAttributeNS(null,"y",r(-e.y)),e.xcoords=[]},endText:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(g,"svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix))},setLineWidth:function(t){this.current.lineWidth=t},setLineCap:function(t){this.current.lineCap=v[t]},setLineJoin:function(t){this.current.lineJoin=b[t]},setMiterLimit:function(t){this.current.miterLimit=t},setStrokeRGBColor:function(t,e,n){var i=s.makeCssRgb(t,e,n);this.current.strokeColor=i},setFillRGBColor:function(t,e,n){var i=s.makeCssRgb(t,e,n);this.current.fillColor=i,this.current.tspan=document.createElementNS(g,"svg:tspan"),this.current.xcoords=[]},setDash:function(t,e){this.current.dashArray=t,this.current.dashPhase=e},constructPath:function(t,e){var n=this.current,i=n.x,s=n.y;n.path=document.createElementNS(g,"svg:path");for(var o=[],c=t.length,l=0,h=0;c>l;l++)switch(0|t[l]){case a.rectangle:i=e[h++],s=e[h++];var u=e[h++],d=e[h++],f=i+u,p=s+d;o.push("M",r(i),r(s),"L",r(f),r(s),"L",r(f),r(p),"L",r(i),r(p),"Z");break;case a.moveTo:i=e[h++],s=e[h++],o.push("M",r(i),r(s));break;case a.lineTo:i=e[h++],s=e[h++],o.push("L",r(i),r(s));break;case a.curveTo:i=e[h+4],s=e[h+5],o.push("C",r(e[h]),r(e[h+1]),r(e[h+2]),r(e[h+3]),r(i),r(s)),h+=6;break;case a.curveTo2:i=e[h+2],s=e[h+3],o.push("C",r(i),r(s),r(e[h]),r(e[h+1]),r(e[h+2]),r(e[h+3])),h+=4;break;case a.curveTo3:i=e[h+2],s=e[h+3],o.push("C",r(e[h]),r(e[h+1]),r(i),r(s),r(i),r(s)),h+=4;break;case a.closePath:o.push("Z")}n.path.setAttributeNS(null,"d",o.join(" ")),n.path.setAttributeNS(null,"stroke-miterlimit",r(n.miterLimit)),n.path.setAttributeNS(null,"stroke-linecap",n.lineCap),n.path.setAttributeNS(null,"stroke-linejoin",n.lineJoin),n.path.setAttributeNS(null,"stroke-width",r(n.lineWidth)+"px"),n.path.setAttributeNS(null,"stroke-dasharray",n.dashArray.map(r).join(" ")),n.path.setAttributeNS(null,"stroke-dashoffset",r(n.dashPhase)+"px"),n.path.setAttributeNS(null,"fill","none"),this.tgrp.appendChild(n.path),n.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),n.element=n.path,n.setCurrentPoint(i,s)},endPath:function(){var t=this.current;t.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(g,"svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix))},clip:function(t){var e=this.current;e.clipId="clippath"+y,y++,this.clippath=document.createElementNS(g,"svg:clipPath"),this.clippath.setAttributeNS(null,"id",e.clipId);var n=e.element.cloneNode();"evenodd"===t?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.clippath.setAttributeNS(null,"transform",f(this.transformMatrix)),this.clippath.appendChild(n),this.defs.appendChild(this.clippath),e.pendingClip=!0,this.cgrp=document.createElementNS(g,"svg:g"),this.cgrp.setAttributeNS(null,"clip-path","url(#"+e.clipId+")"),this.pgrp.appendChild(this.cgrp)},closePath:function(){var t=this.current,e=t.path.getAttributeNS(null,"d");e+="Z",t.path.setAttributeNS(null,"d",e)},setLeading:function(t){this.current.leading=-t},setTextRise:function(t){this.current.textRise=t},setHScale:function(t){this.current.textHScale=t/100},setGState:function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e],r=i[0],a=i[1];switch(r){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":break;case"FL":break;case"Font":this.setFont(a);break;case"CA":break;case"ca":break;case"BM":break;case"SMask":}}},fill:function(){var t=this.current;t.element.setAttributeNS(null,"fill",t.fillColor)},stroke:function(){var t=this.current;t.element.setAttributeNS(null,"stroke",t.strokeColor),t.element.setAttributeNS(null,"fill","none")},eoFill:function(){var t=this.current;t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-rule","evenodd")},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var t=this.current,e=document.createElementNS(g,"svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",t.fillColor),this.tgrp.appendChild(e)},paintJpegXObject:function(t,e,n){var i=this.current,a=this.objs.get(t),s=document.createElementNS(g,"svg:image");s.setAttributeNS(m,"xlink:href",a.src),s.setAttributeNS(null,"width",a.width+"px"),s.setAttributeNS(null,"height",a.height+"px"),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",r(-n)),s.setAttributeNS(null,"transform","scale("+r(1/e)+" "+r(-1/n)+")"),this.tgrp.appendChild(s),i.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageXObject:function(t){var e=this.objs.get(t);return e?void this.paintInlineImageXObject(e):void l("Dependent image isn't ready yet")},paintInlineImageXObject:function(t,e){var n=this.current,i=t.width,a=t.height,s=u(t),o=document.createElementNS(g,"svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",r(i)),o.setAttributeNS(null,"height",r(a)),n.element=o,this.clip("nonzero");var c=document.createElementNS(g,"svg:image");c.setAttributeNS(m,"xlink:href",s),c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y",r(-a)),c.setAttributeNS(null,"width",r(i)+"px"),c.setAttributeNS(null,"height",r(a)+"px"),c.setAttributeNS(null,"transform","scale("+r(1/i)+" "+r(-1/a)+")"),e?e.appendChild(c):this.tgrp.appendChild(c),n.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageMaskXObject:function(t){var e=this.current,n=t.width,i=t.height,a=e.fillColor;e.maskId="mask"+S++;var s=document.createElementNS(g,"svg:mask");s.setAttributeNS(null,"id",e.maskId);var o=document.createElementNS(g,"svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",r(n)),o.setAttributeNS(null,"height",r(i)),o.setAttributeNS(null,"fill",a),o.setAttributeNS(null,"mask","url(#"+e.maskId+")"),this.defs.appendChild(s),this.tgrp.appendChild(o),this.paintInlineImageXObject(t,s)},paintFormXObjectBegin:function(t,e){if(this.save(),c(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),c(e)&&4===e.length){var n=e[2]-e[0],i=e[3]-e[1],a=document.createElementNS(g,"svg:rect");a.setAttributeNS(null,"x",e[0]),a.setAttributeNS(null,"y",e[1]),a.setAttributeNS(null,"width",r(n)),a.setAttributeNS(null,"height",r(i)),this.current.element=a,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){this.restore();
}},p}();PDFJS.SVGGraphics=f,t.SVGGraphics=f}),function(t,e){e(t.pdfjsDisplayTextLayer={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils,t.pdfjsSharedGlobal)}(this,function(t,e,n,i){var r=e.Util,a=e.createPromiseCapability,s=n.CustomStyle,o=i.PDFJS,c=function(){function t(t){return!h.test(t)}function e(e,n,i,a){var s=a[i.fontName],c=document.createElement("div");if(e.push(c),t(i.str))return void(c.dataset.isWhitespace=!0);var l=r.transform(n.transform,i.transform),h=Math.atan2(l[1],l[0]);s.vertical&&(h+=Math.PI/2);var u=Math.sqrt(l[2]*l[2]+l[3]*l[3]),d=u;s.ascent?d=s.ascent*d:s.descent&&(d=(1+s.descent)*d);var f,p;0===h?(f=l[4],p=l[5]-d):(f=l[4]+d*Math.sin(h),p=l[5]-d*Math.cos(h)),c.style.left=f+"px",c.style.top=p+"px",c.style.fontSize=u+"px",c.style.fontFamily=s.fontFamily,c.textContent=i.str,o.pdfBug&&(c.dataset.fontName=i.fontName),0!==h&&(c.dataset.angle=h*(180/Math.PI)),i.str.length>1&&(s.vertical?c.dataset.canvasWidth=i.height*n.scale:c.dataset.canvasWidth=i.width*n.scale)}function n(t){if(!t._canceled){var e=t._container,n=t._textDivs,i=t._capability,r=n.length;if(r>l)return void i.resolve();var a=document.createElement("canvas");a.mozOpaque=!0;for(var o,c,h=a.getContext("2d",{alpha:!1}),u=0;r>u;u++){var d=n[u];if(void 0===d.dataset.isWhitespace){var f=d.style.fontSize,p=d.style.fontFamily;(f!==o||p!==c)&&(h.font=f+" "+p,o=f,c=p);var g=h.measureText(d.textContent).width;if(g>0){e.appendChild(d);var A;if(void 0!==d.dataset.canvasWidth){var m=d.dataset.canvasWidth/g;A="scaleX("+m+")"}else A="";var v=d.dataset.angle;v&&(A="rotate("+v+"deg) "+A),A&&s.setProp("transform",d,A)}}}i.resolve()}}function i(t,e,n,i){this._textContent=t,this._container=e,this._viewport=n,i=i||[],this._textDivs=i,this._canceled=!1,this._capability=a(),this._renderTimer=null}function c(t){var e=new i(t.textContent,t.container,t.viewport,t.textDivs);return e._render(t.timeout),e}var l=1e5,h=/\S/;return i.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_render:function(t){for(var i=this._textContent.items,r=this._textContent.styles,a=this._textDivs,s=this._viewport,o=0,c=i.length;c>o;o++)e(a,s,i[o],r);if(t){var l=this;this._renderTimer=setTimeout(function(){n(l),l._renderTimer=null},t)}else n(this)}},c}();o.renderTextLayer=c,t.renderTextLayer=c}),function(t,e){e(t.pdfjsDisplayWebGL={},t.pdfjsSharedUtil)}(this,function(t,e){var n=e.shadow,i=function(){function t(t,e,n){var i=t.createShader(n);t.shaderSource(i,e),t.compileShader(i);var r=t.getShaderParameter(i,t.COMPILE_STATUS);if(!r){var a=t.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+a)}return i}function e(e,n){return t(e,n,e.VERTEX_SHADER)}function i(e,n){return t(e,n,e.FRAGMENT_SHADER)}function r(t,e){for(var n=t.createProgram(),i=0,r=e.length;r>i;++i)t.attachShader(n,e[i]);t.linkProgram(n);var a=t.getProgramParameter(n,t.LINK_STATUS);if(!a){var s=t.getProgramInfoLog(n);throw new Error("Error during program linking: "+s)}return n}function a(t,e,n){t.activeTexture(n);var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}function s(){d||(f=document.createElement("canvas"),d=f.getContext("webgl",{premultipliedalpha:!1}))}function o(){var t,n;s(),t=f,f=null,n=d,d=null;var a=e(n,p),o=i(n,g),c=r(n,[a,o]);n.useProgram(c);var l={};l.gl=n,l.canvas=t,l.resolutionLocation=n.getUniformLocation(c,"u_resolution"),l.positionLocation=n.getAttribLocation(c,"a_position"),l.backdropLocation=n.getUniformLocation(c,"u_backdrop"),l.subtypeLocation=n.getUniformLocation(c,"u_subtype");var h=n.getAttribLocation(c,"a_texCoord"),u=n.getUniformLocation(c,"u_image"),m=n.getUniformLocation(c,"u_mask"),v=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,v),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(h),n.vertexAttribPointer(h,2,n.FLOAT,!1,0,0),n.uniform1i(u,0),n.uniform1i(m,1),A=l}function c(t,e,n){var i=t.width,r=t.height;A||o();var s=A,c=s.canvas,l=s.gl;c.width=i,c.height=r,l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform2f(s.resolutionLocation,i,r),n.backdrop?l.uniform4f(s.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):l.uniform4f(s.resolutionLocation,0,0,0,0),l.uniform1i(s.subtypeLocation,"Luminosity"===n.subtype?1:0);var h=a(l,t,l.TEXTURE0),u=a(l,e,l.TEXTURE1),d=l.createBuffer();return l.bindBuffer(l.ARRAY_BUFFER,d),l.bufferData(l.ARRAY_BUFFER,new Float32Array([0,0,i,0,0,r,0,r,i,0,i,r]),l.STATIC_DRAW),l.enableVertexAttribArray(s.positionLocation),l.vertexAttribPointer(s.positionLocation,2,l.FLOAT,!1,0,0),l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.clear(l.COLOR_BUFFER_BIT),l.drawArrays(l.TRIANGLES,0,6),l.flush(),l.deleteTexture(h),l.deleteTexture(u),l.deleteBuffer(d),c}function l(){var t,n;s(),t=f,f=null,n=d,d=null;var a=e(n,m),o=i(n,v),c=r(n,[a,o]);n.useProgram(c);var l={};l.gl=n,l.canvas=t,l.resolutionLocation=n.getUniformLocation(c,"u_resolution"),l.scaleLocation=n.getUniformLocation(c,"u_scale"),l.offsetLocation=n.getUniformLocation(c,"u_offset"),l.positionLocation=n.getAttribLocation(c,"a_position"),l.colorLocation=n.getAttribLocation(c,"a_color"),b=l}function h(t,e,n,i,r){b||l();var a=b,s=a.canvas,o=a.gl;s.width=t,s.height=e,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(a.resolutionLocation,t,e);var c,h,u,d=0;for(c=0,h=i.length;h>c;c++)switch(i[c].type){case"lattice":u=i[c].coords.length/i[c].verticesPerRow|0,d+=(u-1)*(i[c].verticesPerRow-1)*6;break;case"triangles":d+=i[c].coords.length}var f=new Float32Array(2*d),p=new Uint8Array(3*d),g=r.coords,A=r.colors,m=0,v=0;for(c=0,h=i.length;h>c;c++){var y=i[c],S=y.coords,x=y.colors;switch(y.type){case"lattice":var k=y.verticesPerRow;u=S.length/k|0;for(var C=1;u>C;C++)for(var _=C*k+1,w=1;k>w;w++,_++)f[m]=g[S[_-k-1]],f[m+1]=g[S[_-k-1]+1],f[m+2]=g[S[_-k]],f[m+3]=g[S[_-k]+1],f[m+4]=g[S[_-1]],f[m+5]=g[S[_-1]+1],p[v]=A[x[_-k-1]],p[v+1]=A[x[_-k-1]+1],p[v+2]=A[x[_-k-1]+2],p[v+3]=A[x[_-k]],p[v+4]=A[x[_-k]+1],p[v+5]=A[x[_-k]+2],p[v+6]=A[x[_-1]],p[v+7]=A[x[_-1]+1],p[v+8]=A[x[_-1]+2],f[m+6]=f[m+2],f[m+7]=f[m+3],f[m+8]=f[m+4],f[m+9]=f[m+5],f[m+10]=g[S[_]],f[m+11]=g[S[_]+1],p[v+9]=p[v+3],p[v+10]=p[v+4],p[v+11]=p[v+5],p[v+12]=p[v+6],p[v+13]=p[v+7],p[v+14]=p[v+8],p[v+15]=A[x[_]],p[v+16]=A[x[_]+1],p[v+17]=A[x[_]+2],m+=12,v+=18;break;case"triangles":for(var T=0,P=S.length;P>T;T++)f[m]=g[S[T]],f[m+1]=g[S[T]+1],p[v]=A[x[T]],p[v+1]=A[x[T]+1],p[v+2]=A[x[T]+2],m+=2,v+=3}}n?o.clearColor(n[0]/255,n[1]/255,n[2]/255,1):o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT);var L=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,L),o.bufferData(o.ARRAY_BUFFER,f,o.STATIC_DRAW),o.enableVertexAttribArray(a.positionLocation),o.vertexAttribPointer(a.positionLocation,2,o.FLOAT,!1,0,0);var E=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,E),o.bufferData(o.ARRAY_BUFFER,p,o.STATIC_DRAW),o.enableVertexAttribArray(a.colorLocation),o.vertexAttribPointer(a.colorLocation,3,o.UNSIGNED_BYTE,!1,0,0),o.uniform2f(a.scaleLocation,r.scaleX,r.scaleY),o.uniform2f(a.offsetLocation,r.offsetX,r.offsetY),o.drawArrays(o.TRIANGLES,0,d),o.flush(),o.deleteBuffer(L),o.deleteBuffer(E),s}function u(){A&&A.canvas&&(A.canvas.width=0,A.canvas.height=0),b&&b.canvas&&(b.canvas.width=0,b.canvas.height=0),A=null,b=null}var d,f,p="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",g="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",A=null,m="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",v="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",b=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;var t=!1;try{s(),t=!!d}catch(e){}return n(this,"isEnabled",t)},composeSMask:c,drawFigures:h,clear:u}}();t.WebGLUtils=i}),function(t,e){e(t.pdfjsDisplayPatternHelper={},t.pdfjsSharedUtil,t.pdfjsDisplayWebGL)}(this,function(t,e,n){function i(t){var e=l[t[0]];return e||o("Unknown IR type: "+t[0]),e.fromIR(t)}var r=e.Util,a=e.info,s=e.isArray,o=e.error,c=n.WebGLUtils,l={};l.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],i=t[3],r=t[4],a=t[5],s=t[6];return{type:"Pattern",getPattern:function(t){var o;"axial"===e?o=t.createLinearGradient(i[0],i[1],r[0],r[1]):"radial"===e&&(o=t.createRadialGradient(i[0],i[1],a,r[0],r[1],s));for(var c=0,l=n.length;l>c;++c){var h=n[c];o.addColorStop(h[0],h[1])}return o}}}};var h=function(){function t(t,e,n,i,r,a,s,o){var c,l=e.coords,h=e.colors,u=t.data,d=4*t.width;l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=s,s=c),l[i+1]>l[r+1]&&(c=i,i=r,r=c,c=s,s=o,o=c),l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=s,s=c);var f=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY;if(!(p>=v))for(var b,y,S,x,k,C,_,w,T,P=h[a],L=h[a+1],E=h[a+2],R=h[s],I=h[s+1],D=h[s+2],j=h[o],F=h[o+1],M=h[o+2],O=Math.round(p),N=Math.round(v),U=O;N>=U;U++){A>U?(T=p>U?0:p===A?1:(p-U)/(p-A),b=f-(f-g)*T,y=P-(P-R)*T,S=L-(L-I)*T,x=E-(E-D)*T):(T=U>v?1:A===v?0:(A-U)/(A-v),b=g-(g-m)*T,y=R-(R-j)*T,S=I-(I-F)*T,x=D-(D-M)*T),T=p>U?0:U>v?1:(p-U)/(p-v),k=f-(f-m)*T,C=P-(P-j)*T,_=L-(L-F)*T,w=E-(E-M)*T;for(var B=Math.round(Math.min(b,k)),W=Math.round(Math.max(b,k)),G=d*U+4*B,X=B;W>=X;X++)T=(b-X)/(b-k),T=0>T?0:T>1?1:T,u[G++]=y-(y-C)*T|0,u[G++]=S-(S-_)*T|0,u[G++]=x-(x-w)*T|0,u[G++]=255}}function e(e,n,i){var r,a,s=n.coords,c=n.colors;switch(n.type){case"lattice":var l=n.verticesPerRow,h=Math.floor(s.length/l)-1,u=l-1;for(r=0;h>r;r++)for(var d=r*l,f=0;u>f;f++,d++)t(e,i,s[d],s[d+1],s[d+l],c[d],c[d+1],c[d+l]),t(e,i,s[d+l+1],s[d+1],s[d+l],c[d+l+1],c[d+1],c[d+l]);break;case"triangles":for(r=0,a=s.length;a>r;r+=3)t(e,i,s[r],s[r+1],s[r+2],c[r],c[r+1],c[r+2]);break;default:o("illigal figure")}}function n(t,n,i,r,a,s,o){var l,h,u,d,f=1.1,p=3e3,g=Math.floor(t[0]),A=Math.floor(t[1]),m=Math.ceil(t[2])-g,v=Math.ceil(t[3])-A,b=Math.min(Math.ceil(Math.abs(m*n[0]*f)),p),y=Math.min(Math.ceil(Math.abs(v*n[1]*f)),p),S=m/b,x=v/y,k={coords:i,colors:r,offsetX:-g,offsetY:-A,scaleX:1/S,scaleY:1/x};if(c.isEnabled)l=c.drawFigures(b,y,s,a,k),h=o.getCanvas("mesh",b,y,!1),h.context.drawImage(l,0,0),l=h.canvas;else{h=o.getCanvas("mesh",b,y,!1);var C=h.context,_=C.createImageData(b,y);if(s){var w=_.data;for(u=0,d=w.length;d>u;u+=4)w[u]=s[0],w[u+1]=s[1],w[u+2]=s[2],w[u+3]=255}for(u=0;u<a.length;u++)e(_,a[u],k);C.putImageData(_,0,0),l=h.canvas}return{canvas:l,offsetX:g,offsetY:A,scaleX:S,scaleY:x}}return n}();l.Mesh={fromIR:function(t){var e=t[2],n=t[3],i=t[4],a=t[5],s=t[6],o=t[8];return{type:"Pattern",getPattern:function(t,c,l){var u;if(l)u=r.singularValueDecompose2dScale(t.mozCurrentTransform);else if(u=r.singularValueDecompose2dScale(c.baseTransform),s){var d=r.singularValueDecompose2dScale(s);u=[u[0]*d[0],u[1]*d[1]]}var f=h(a,u,e,n,i,l?null:o,c.cachedCanvases);return l||(t.setTransform.apply(t,c.baseTransform),s&&t.transform.apply(t,s)),t.translate(f.offsetX,f.offsetY),t.scale(f.scaleX,f.scaleY),t.createPattern(f.canvas,"no-repeat")}}}},l.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var u=function(){function t(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.canvasGraphicsFactory=i,this.baseTransform=r,this.type="Pattern",this.ctx=n}var e={COLORED:1,UNCOLORED:2},n=3e3;return t.prototype={createPatternCanvas:function(t){var e=this.operatorList,i=this.bbox,s=this.xstep,o=this.ystep,c=this.paintType,l=this.tilingType,h=this.color,u=this.canvasGraphicsFactory;a("TilingType: "+l);var d=i[0],f=i[1],p=i[2],g=i[3],A=[d,f],m=[d+s,f+o],v=m[0]-A[0],b=m[1]-A[1],y=r.singularValueDecompose2dScale(this.matrix),S=r.singularValueDecompose2dScale(this.baseTransform),x=[y[0]*S[0],y[1]*S[1]];v=Math.min(Math.ceil(Math.abs(v*x[0])),n),b=Math.min(Math.ceil(Math.abs(b*x[1])),n);var k=t.cachedCanvases.getCanvas("pattern",v,b,!0),C=k.context,_=u.createCanvasGraphics(C);_.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(C,c,h),this.setScale(v,b,s,o),this.transformToScale(_);var w=[1,0,0,1,-A[0],-A[1]];return _.transform.apply(_,w),this.clipBbox(_,i,d,f,p,g),_.executeOperatorList(e),k.canvas},setScale:function(t,e,n,i){this.scale=[t/n,e/i]},transformToScale:function(t){var e=this.scale,n=[e[0],0,0,e[1],0,0];t.transform.apply(t,n)},scaleToContext:function(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function(t,e,n,i,r,a){if(e&&s(e)&&4===e.length){var o=r-n,c=a-i;t.ctx.rect(n,i,o,c),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function(t,n,i){switch(n){case e.COLORED:var a=this.ctx;t.fillStyle=a.fillStyle,t.strokeStyle=a.strokeStyle;break;case e.UNCOLORED:var s=r.makeCssRgb(i[0],i[1],i[2]);t.fillStyle=s,t.strokeStyle=s;break;default:o("Unsupported paint type: "+n)}},getPattern:function(t,e){var n=this.createPatternCanvas(e);return t=this.ctx,t.setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix),this.scaleToContext(),t.createPattern(n,"repeat")}},t}();t.getShadingPatternFromIR=i,t.TilingPattern=u}),function(t,e){e(t.pdfjsDisplayCanvas={},t.pdfjsSharedUtil,t.pdfjsDisplayPatternHelper,t.pdfjsDisplayWebGL)}(this,function(t,e,n,i){function r(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function a(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],o=e*r-n*i,c=n*i-e*r;return[r/o,n/c,i/c,e/o,(r*a-i*s)/c,(n*a-e*s)/o]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,i,r,a,s){var o=this._transformMatrix;this._transformMatrix=[o[0]*e+o[2]*n,o[1]*e+o[3]*n,o[0]*i+o[2]*r,o[1]*i+o[3]*r,o[0]*a+o[2]*s+o[4],o[1]*a+o[3]*s+o[5]],t._originalTransform(e,n,i,r,a,s)},t.setTransform=function(e,n,i,r,a,s){this._transformMatrix=[e,n,i,r,a,s],t._originalSetTransform(e,n,i,r,a,s)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*e+i[2]*n,i[1]*e+i[3]*n,i[0]*-n+i[2]*e,i[1]*-n+i[3]*e,i[4],i[5]],this._originalRotate(t)})}function s(t){var e,n,i,r,a=1e3,s=t.width,o=t.height,c=s+1,l=new Uint8Array(c*(o+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+7&-8,d=t.data,f=new Uint8Array(u*o),p=0;for(e=0,r=d.length;r>e;e++)for(var g=128,A=d[e];g>0;)f[p++]=A&g?0:255,g>>=1;var m=0;for(p=0,0!==f[p]&&(l[0]=1,++m),n=1;s>n;n++)f[p]!==f[p+1]&&(l[n]=f[p]?2:1,++m),p++;for(0!==f[p]&&(l[n]=2,++m),e=1;o>e;e++){p=e*u,i=e*c,f[p-u]!==f[p]&&(l[i]=f[p]?1:8,++m);var v=(f[p]?4:0)+(f[p-u]?8:0);for(n=1;s>n;n++)v=(v>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),h[v]&&(l[i+n]=h[v],++m),p++;if(f[p-u]!==f[p]&&(l[i+n]=f[p]?2:4,++m),m>a)return null}for(p=u*(o-1),i=e*c,0!==f[p]&&(l[i]=8,++m),n=1;s>n;n++)f[p]!==f[p+1]&&(l[i+n]=f[p]?4:8,++m),p++;if(0!==f[p]&&(l[i+n]=4,++m),m>a)return null;var b=new Int32Array([0,c,-1,0,-c,0,0,0,1]),y=[];for(e=0;m&&o>=e;e++){for(var S=e*c,x=S+s;x>S&&!l[S];)S++;if(S!==x){var k,C=[S%c,e],_=l[S],w=S;do{var T=b[_];do S+=T;while(!l[S]);k=l[S],5!==k&&10!==k?(_=k,l[S]=0):(_=k&51*_>>4,l[S]&=_>>2|_<<2),C.push(S%c),C.push(S/c|0),--m}while(w!==S);y.push(C),--e}}var P=function(t){t.save(),t.scale(1/s,-1/o),t.translate(0,-o),t.beginPath();for(var e=0,n=y.length;n>e;e++){var i=y[e];t.moveTo(i[0],i[1]);for(var r=2,a=i.length;a>r;r+=2)t.lineTo(i[r],i[r+1])}t.fill(),t.beginPath(),t.restore()};return P}var o=e.FONT_IDENTITY_MATRIX,c=e.IDENTITY_MATRIX,l=e.ImageKind,h=e.OPS,u=e.TextRenderingMode,d=e.Uint32ArrayView,f=e.Util,p=e.assert,g=e.info,A=e.isNum,m=e.isArray,v=e.error,b=e.shadow,y=e.warn,S=n.TilingPattern,x=n.getShadingPatternFromIR,k=i.WebGLUtils,C=16,_=100,w=4096,T=.65,P=!0,L=1e3,E=16,R=function(){function t(){this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,n,i){var s;if(void 0!==this.cache[t])s=this.cache[t],s.canvas.width=e,s.canvas.height=n,s.context.setTransform(1,0,0,1,0,0);else{var o=r(e,n),c=o.getContext("2d");i&&a(c),this.cache[t]=s={canvas:o,context:c}}return s},clear:function(){for(var t in this.cache){var e=this.cache[t];e.canvas.width=0,e.canvas.height=0,delete this.cache[t]}}},t}(),I=function(){function t(t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c,this.textMatrixScale=1,this.fontMatrix=o,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=u.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=t}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),D=function(){function t(t,e,n,i){this.ctx=t,this.current=new I,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new R,t&&a(t),this.cachedGetSinglePixelWidth=null}function e(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);var n,i,r,a,s,o=e.height,c=e.width,h=o%E,u=(o-h)/E,f=0===h?u:u+1,p=t.createImageData(c,E),g=0,A=e.data,m=p.data;if(e.kind===l.GRAYSCALE_1BPP){var b=A.byteLength,y=PDFJS.hasCanvasTypedArrays?new Uint32Array(m.buffer):new d(m),S=y.length,x=c+7>>3,k=4294967295,C=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(i=0;f>i;i++){for(a=u>i?E:h,n=0,r=0;a>r;r++){for(var _=b-g,w=0,T=_>x?c:8*_-7,P=-8&T,L=0,R=0;P>w;w+=8)R=A[g++],y[n++]=128&R?k:C,y[n++]=64&R?k:C,y[n++]=32&R?k:C,y[n++]=16&R?k:C,y[n++]=8&R?k:C,y[n++]=4&R?k:C,y[n++]=2&R?k:C,y[n++]=1&R?k:C;for(;T>w;w++)0===L&&(R=A[g++],L=128),y[n++]=R&L?k:C,L>>=1}for(;S>n;)y[n++]=0;t.putImageData(p,0,i*E)}}else if(e.kind===l.RGBA_32BPP){for(r=0,s=c*E*4,i=0;u>i;i++)m.set(A.subarray(g,g+s)),g+=s,t.putImageData(p,0,r),r+=E;f>i&&(s=c*h*4,m.set(A.subarray(g,g+s)),t.putImageData(p,0,r))}else if(e.kind===l.RGB_24BPP)for(a=E,s=c*a,i=0;f>i;i++){for(i>=u&&(a=h,s=c*a),n=0,r=s;r--;)m[n++]=A[g++],m[n++]=A[g++],m[n++]=A[g++],m[n++]=255;t.putImageData(p,0,i*E)}else v("bad image kind: "+e.kind)}function n(t,e){for(var n=e.height,i=e.width,r=n%E,a=(n-r)/E,s=0===r?a:a+1,o=t.createImageData(i,E),c=0,l=e.data,h=o.data,u=0;s>u;u++){for(var d=a>u?E:r,f=3,p=0;d>p;p++)for(var g=0,A=0;i>A;A++){if(!g){var m=l[c++];g=128}h[f]=m&g?0:255,f+=4,g>>=1}t.putImageData(o,0,u*E)}}function i(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;r>i;i++){var a=n[i];void 0!==t[a]&&(e[a]=t[a])}void 0!==t.setLineDash?(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset):void 0!==t.mozDashOffset&&(e.mozDash=t.mozDash,e.mozDashOffset=t.mozDashOffset)}function r(t,e,n,i){for(var r=t.length,a=3;r>a;a+=4){var s=t[a];if(0===s)t[a-3]=e,t[a-2]=n,t[a-1]=i;else if(255>s){var o=255-s;t[a-3]=t[a-3]*s+e*o>>8,t[a-2]=t[a-2]*s+n*o>>8,t[a-1]=t[a-1]*s+i*o>>8}}}function D(t,e,n){for(var i=t.length,r=1/255,a=3;i>a;a+=4){var s=n?n[t[a]]:t[a];e[a]=e[a]*s*r|0}}function j(t,e,n){for(var i=t.length,r=3;i>r;r+=4){var a=77*t[r-3]+152*t[r-2]+28*t[r-1];e[r]=n?e[r]*n[a>>8]>>8:e[r]*a>>16}}function F(t,e,n,i,a,s,o){var c,l=!!s,h=l?s[0]:0,u=l?s[1]:0,d=l?s[2]:0;c="Luminosity"===a?j:D;for(var f=1048576,p=Math.min(i,Math.ceil(f/n)),g=0;i>g;g+=p){var A=Math.min(p,i-g),m=t.getImageData(0,g,n,A),v=e.getImageData(0,g,n,A);l&&r(m.data,h,u,d),c(m.data,v.data,o),t.putImageData(v,0,g)}}function M(t,e,n){var i=e.canvas,r=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var a=e.backdrop||null;if(!e.transferMap&&k.isEnabled){var s=k.composeSMask(n.canvas,i,{subtype:e.subtype,backdrop:a});return t.setTransform(1,0,0,1,0,0),void t.drawImage(s,e.offsetX,e.offsetY)}F(r,n,i.width,i.height,e.subtype,a,e.transferMap),t.drawImage(i,0,0)}var O=15,N=10,U=["butt","round","square"],B=["miter","round","bevel"],W={},G={};t.prototype={beginDrawing:function(t,e,n){var i=this.ctx.canvas.width,r=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,r),this.ctx.restore(),n){var a=this.cachedCanvases.getCanvas("transparent",i,r,!0);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,e.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,i){var r=t.argsArray,a=t.fnArray,s=e||0,o=r.length;if(o===s)return s;for(var c,l=o-s>N&&"function"==typeof n,u=l?Date.now()+O:0,d=0,f=this.commonObjs,p=this.objs;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,n),s;if(c=a[s],c!==h.dependency)this[c].apply(this,r[s]);else for(var g=r[s],A=0,m=g.length;m>A;A++){var v=g[A],b="g"===v[0]&&"_"===v[1],y=b?f:p;if(!y.isResolved(v))return y.get(v,n),s}if(s++,s===o)return s;if(l&&++d>N){if(Date.now()>u)return n(),s;d=0}}},endDrawing:function(){this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.drawImage(this.transparentCanvas,0,0),this.transparentCanvas=null),this.cachedCanvases.clear(),k.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=U[t]},setLineJoin:function(t){this.ctx.lineJoin=B[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;void 0!==n.setLineDash?(n.setLineDash(t),n.lineDashOffset=e):(n.mozDash=t,n.mozDashOffset=e)},setRenderingIntent:function(t){},setFlatness:function(t){},setGState:function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e],r=i[0],a=i[1];switch(r){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":if(a&&a.name&&"Normal"!==a.name){var s=a.name.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=s,this.ctx.globalCompositeOperation!==s&&y('globalCompositeOperation "'+s+'" is not supported')}else this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=t.canvas.width,n=t.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,e,n,!0),s=this.ctx,o=s.mozCurrentTransform;this.ctx.save();var c=a.context;c.scale(1/t.scaleX,1/t.scaleY),c.translate(-t.offsetX,-t.offsetY),c.transform.apply(c,o),i(s,c),this.ctx=c,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),M(this.ctx,this.current.activeSMask,t),this.ctx.restore(),i(t,this.ctx)},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.activeSMask=null},restore:function(){0!==this.stateStack.length&&(null!==this.current.activeSMask&&this.endSMaskGroup(),this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(t,e,n,i,r,a){this.ctx.transform(t,e,n,i,r,a),this.cachedGetSinglePixelWidth=null},constructPath:function(t,e){for(var n=this.ctx,i=this.current,r=i.x,a=i.y,s=0,o=0,c=t.length;c>s;s++)switch(0|t[s]){case h.rectangle:r=e[o++],a=e[o++];var l=e[o++],u=e[o++];0===l&&(l=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var d=r+l,f=a+u;this.ctx.moveTo(r,a),this.ctx.lineTo(d,a),this.ctx.lineTo(d,f),this.ctx.lineTo(r,f),this.ctx.lineTo(r,a),this.ctx.closePath();break;case h.moveTo:r=e[o++],a=e[o++],n.moveTo(r,a);break;case h.lineTo:r=e[o++],a=e[o++],n.lineTo(r,a);break;case h.curveTo:r=e[o+4],a=e[o+5],n.bezierCurveTo(e[o],e[o+1],e[o+2],e[o+3],r,a),o+=6;break;case h.curveTo2:n.bezierCurveTo(r,a,e[o],e[o+1],e[o+2],e[o+3]),r=e[o+2],a=e[o+3],o+=4;break;case h.curveTo3:r=e[o+2],a=e[o+3],n.bezierCurveTo(e[o],e[o+1],r,a,r,a),o+=4;break;case h.closePath:n.closePath()}i.setCurrentPoint(r,a)},closePath:function(){this.ctx.closePath()},stroke:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.strokeColor;e.lineWidth=Math.max(this.getSinglePixelWidth()*T,this.current.lineWidth),e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(e.save(),e.strokeStyle=n.getPattern(e,this),e.stroke(),e.restore()):e.stroke(),t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.fillColor,i=this.current.patternFill,r=!1;i&&(e.save(),this.baseTransform&&e.setTransform.apply(e,this.baseTransform),e.fillStyle=n.getPattern(e,this),r=!0),this.pendingEOFill?(void 0!==e.mozFillRule?(e.mozFillRule="evenodd",e.fill(),e.mozFillRule="nonzero"):e.fill("evenodd"),this.pendingEOFill=!1):e.fill(),r&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=W},eoClip:function(){this.pendingClip=G},beginText:function(){this.current.textMatrix=c,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0===t)return void e.beginPath();e.save(),e.beginPath();for(var n=0;n<t.length;n++){var i=t[n];e.setTransform.apply(e,i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,e){var n=this.commonObjs.get(t),i=this.current;if(n||v("Can't find font for "+t),i.fontMatrix=n.fontMatrix?n.fontMatrix:o,(0===i.fontMatrix[0]||0===i.fontMatrix[3])&&y("Invalid font matrix for font "+t),
0>e?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var r=n.loadedName||"sans-serif",a=n.black?n.bold?"900":"bold":n.bold?"bold":"normal",s=n.italic?"italic":"normal",c='"'+r+'", '+n.fallbackName,l=C>e?C:e>_?_:e;this.current.fontSizeScale=e/l;var h=s+" "+a+" "+l+"px "+c;this.ctx.font=h}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,i,r,a){this.current.textMatrix=[t,e,n,i,r,a],this.current.textMatrixScale=Math.sqrt(t*t+e*e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(t,e,n){var i,r=this.ctx,a=this.current,s=a.font,o=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,l=o&u.FILL_STROKE_MASK,h=!!(o&u.ADD_TO_PATH_FLAG);if((s.disableFontFace||h)&&(i=s.getPathGenerator(this.commonObjs,t)),s.disableFontFace?(r.save(),r.translate(e,n),r.beginPath(),i(r,c),(l===u.FILL||l===u.FILL_STROKE)&&r.fill(),(l===u.STROKE||l===u.FILL_STROKE)&&r.stroke(),r.restore()):((l===u.FILL||l===u.FILL_STROKE)&&r.fillText(t,e,n),(l===u.STROKE||l===u.FILL_STROKE)&&r.strokeText(t,e,n)),h){var d=this.pendingTextPaths||(this.pendingTextPaths=[]);d.push({transform:r.mozCurrentTransform,x:e,y:n,fontSize:c,addToPath:i})}},get isFontSubpixelAAEnabled(){var t=document.createElement("canvas").getContext("2d");t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return b(this,"isFontSubpixelAAEnabled",n)},showText:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var i=e.fontSize;if(0!==i){var r=this.ctx,a=e.fontSizeScale,s=e.charSpacing,o=e.wordSpacing,c=e.fontDirection,l=e.textHScale*c,h=t.length,d=n.vertical,f=d?1:-1,p=n.defaultVMetrics,g=i*e.fontMatrix[0],m=e.textRenderingMode===u.FILL&&!n.disableFontFace;r.save(),r.transform.apply(r,e.textMatrix),r.translate(e.x,e.y+e.textRise),e.patternFill&&(r.fillStyle=e.fillColor.getPattern(r,this)),c>0?r.scale(l,-1):r.scale(l,1);var v=e.lineWidth,b=e.textMatrixScale;if(0===b||0===v){var y=e.textRenderingMode&u.FILL_STROKE_MASK;(y===u.STROKE||y===u.FILL_STROKE)&&(this.cachedGetSinglePixelWidth=null,v=this.getSinglePixelWidth()*T)}else v/=b;1!==a&&(r.scale(a,a),v/=a),r.lineWidth=v;var S,x=0;for(S=0;h>S;++S){var k=t[S];if(A(k))x+=f*k*i/1e3;else{var C,_,w,P,L=!1,E=(k.isSpace?o:0)+s,R=k.fontChar,I=k.accent,D=k.width;if(d){var j,F,M;j=k.vmetric||p,F=k.vmetric?j[1]:.5*D,F=-F*g,M=j[2]*g,D=j?-j[0]:D,C=F/a,_=(x+M)/a}else C=x/a,_=0;if(n.remeasure&&D>0){var O=1e3*r.measureText(R).width/i*a;if(O>D&&this.isFontSubpixelAAEnabled){var N=D/O;L=!0,r.save(),r.scale(N,1),C/=N}else D!==O&&(C+=(D-O)/2e3*i/a)}m&&!I?r.fillText(R,C,_):(this.paintChar(R,C,_),I&&(w=C+I.offset.x/a,P=_-I.offset.y/a,this.paintChar(I.fontChar,w,P)));var U=D*g+E*c;x+=U,L&&r.restore()}}d?e.y-=x*l:e.x+=x*l,r.restore()}},showType3Text:function(t){var e,n,i,r,a=this.ctx,s=this.current,c=s.font,l=s.fontSize,h=s.fontDirection,d=c.vertical?1:-1,p=s.charSpacing,g=s.wordSpacing,m=s.textHScale*h,v=s.fontMatrix||o,b=t.length,S=s.textRenderingMode===u.INVISIBLE;if(!S&&0!==l){for(this.cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,s.textMatrix),a.translate(s.x,s.y),a.scale(m,h),e=0;b>e;++e)if(n=t[e],A(n))r=d*n*l/1e3,this.ctx.translate(r,0),s.x+=r*m;else{var x=(n.isSpace?g:0)+p,k=c.charProcOperatorList[n.operatorListId];if(k){this.processingType3=n,this.save(),a.scale(l,l),a.transform.apply(a,v),this.executeOperatorList(k),this.restore();var C=f.applyTransform([n.width,0],v);i=C[0]*l+x,a.translate(i,0),s.x+=i*m}else y('Type3 character "'+n.operatorListId+'" is not available')}a.restore(),this.processingType3=null}},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.clip(),this.endPath()},getColorN_Pattern:function(e){var n;if("TilingPattern"===e[0]){var i=e[1],r=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a=this,s={createCanvasGraphics:function(e){return new t(e,a.commonObjs,a.objs)}};n=new S(e,i,this.ctx,s,r)}else n=x(e);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(t,e,n){var i=f.makeCssRgb(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(t,e,n){var i=f.makeCssRgb(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(t){var e=this.ctx;this.save();var n=x(t);e.fillStyle=n.getPattern(e,this,!0);var i=e.mozCurrentTransformInverse;if(i){var r=e.canvas,a=r.width,s=r.height,o=f.applyTransform([0,0],i),c=f.applyTransform([0,s],i),l=f.applyTransform([a,0],i),h=f.applyTransform([a,s],i),u=Math.min(o[0],c[0],l[0],h[0]),d=Math.min(o[1],c[1],l[1],h[1]),p=Math.max(o[0],c[0],l[0],h[0]),g=Math.max(o[1],c[1],l[1],h[1]);this.ctx.fillRect(u,d,p-u,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){v("Should not call beginInlineImage")},beginImageData:function(){v("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){if(this.save(),this.baseTransformStack.push(this.baseTransform),m(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,m(e)&&4===e.length){var n=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(t){this.save();var e=this.ctx;t.isolated||g("TODO: Support non-isolated groups."),t.knockout&&y("Knockout groups not supported.");var n=e.mozCurrentTransform;t.matrix&&e.transform.apply(e,t.matrix),p(t.bbox,"Bounding box is required.");var r=f.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform),a=[0,0,e.canvas.width,e.canvas.height];r=f.intersect(r,a)||[0,0,0,0];var s=Math.floor(r[0]),o=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-s,1),l=Math.max(Math.ceil(r[3])-o,1),h=1,u=1;c>w&&(h=c/w,c=w),l>w&&(u=l/w,l=w);var d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);var A=this.cachedCanvases.getCanvas(d,c,l,!0),m=A.context;m.scale(1/h,1/u),m.translate(-s,-o),m.transform.apply(m,n),t.smask?this.smaskStack.push({canvas:A.canvas,context:m,offsetX:s,offsetY:o,scaleX:h,scaleY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,o),e.scale(h,u)),i(e,m),this.ctx=m,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new I,this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){if(this.save(),m(t)&&4===t.length){var i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.clip(),this.endPath()}this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,n){var i=this.objs.get(t);if(!i)return void y("Dependent image isn't ready yet");this.save();var r=this.ctx;if(r.scale(1/e,-1/n),r.drawImage(i,0,0,i.width,i.height,0,-n,e,n),this.imageLayer){var a=r.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:s[0],top:s[1],width:e/a[0],height:n/a[3]})}this.restore()},paintImageMaskXObject:function(t){var e=this.ctx,i=t.width,r=t.height,a=this.current.fillColor,o=this.current.patternFill,c=this.processingType3;if(P&&c&&void 0===c.compiled&&(L>=i&&L>=r?c.compiled=s({data:t.data,width:i,height:r}):c.compiled=null),c&&c.compiled)return void c.compiled(e);var l=this.cachedCanvases.getCanvas("maskCanvas",i,r),h=l.context;h.save(),n(h,t),h.globalCompositeOperation="source-in",h.fillStyle=o?a.getPattern(h,this):a,h.fillRect(0,0,i,r),h.restore(),this.paintInlineImageXObject(l.canvas)},paintImageMaskXObjectRepeat:function(t,e,i,r){var a=t.width,s=t.height,o=this.current.fillColor,c=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),h=l.context;h.save(),n(h,t),h.globalCompositeOperation="source-in",h.fillStyle=c?o.getPattern(h,this):o,h.fillRect(0,0,a,s),h.restore();for(var u=this.ctx,d=0,f=r.length;f>d;d+=2)u.save(),u.transform(e,0,0,i,r[d],r[d+1]),u.scale(1,-1),u.drawImage(l.canvas,0,0,a,s,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,i=this.current.fillColor,r=this.current.patternFill,a=0,s=t.length;s>a;a++){var o=t[a],c=o.width,l=o.height,h=this.cachedCanvases.getCanvas("maskCanvas",c,l),u=h.context;u.save(),n(u,o),u.globalCompositeOperation="source-in",u.fillStyle=r?i.getPattern(u,this):i,u.fillRect(0,0,c,l),u.restore(),e.save(),e.transform.apply(e,o.transform),e.scale(1,-1),e.drawImage(h.canvas,0,0,c,l,0,-1,1,1),e.restore()}},paintImageXObject:function(t){var e=this.objs.get(t);return e?void this.paintInlineImageXObject(e):void y("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(t,e,n,i){var r=this.objs.get(t);if(!r)return void y("Dependent image isn't ready yet");for(var a=r.width,s=r.height,o=[],c=0,l=i.length;l>c;c+=2)o.push({transform:[e,0,0,n,i[c],i[c+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(r,o)},paintInlineImageXObject:function(t){var n=t.width,i=t.height,r=this.ctx;this.save(),r.scale(1/n,-1/i);var a,s,o=r.mozCurrentTransformInverse,c=o[0],l=o[1],h=Math.max(Math.sqrt(c*c+l*l),1),u=o[2],d=o[3],f=Math.max(Math.sqrt(u*u+d*d),1);if(t instanceof HTMLElement||!t.data)a=t;else{s=this.cachedCanvases.getCanvas("inlineImage",n,i);var p=s.context;e(p,t),a=s.canvas}for(var g=n,A=i,m="prescale1";h>2&&g>1||f>2&&A>1;){var v=g,b=A;h>2&&g>1&&(v=Math.ceil(g/2),h/=g/v),f>2&&A>1&&(b=Math.ceil(A/2),f/=A/b),s=this.cachedCanvases.getCanvas(m,v,b),p=s.context,p.clearRect(0,0,v,b),p.drawImage(a,0,0,g,A,0,0,v,b),a=s.canvas,g=v,A=b,m="prescale1"===m?"prescale2":"prescale1"}if(r.drawImage(a,0,0,g,A,0,-i,n,i),this.imageLayer){var y=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:n/o[0],height:i/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,n){var i=this.ctx,r=t.width,a=t.height,s=this.cachedCanvases.getCanvas("inlineImage",r,a),o=s.context;e(o,t);for(var c=0,l=n.length;l>c;c++){var h=n[c];if(i.save(),i.transform.apply(i,h.transform),i.scale(1,-1),i.drawImage(s.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:r,height:a})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){y("Unsupported 'paintXObject' command.")},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,e){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===G?void 0!==t.mozFillRule?(t.mozFillRule="evenodd",t.clip(),t.mozFillRule="nonzero"):t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth:function(t){if(null===this.cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransformInverse;this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}};for(var X in h)t.prototype[h[X]]=t.prototype[X];return t}();t.CanvasGraphics=D,t.createScratchCanvas=r}),function(t,e){e(t.pdfjsDisplayAPI={},t.pdfjsSharedUtil,t.pdfjsDisplayFontLoader,t.pdfjsDisplayCanvas,t.pdfjsDisplayMetadata,t.pdfjsSharedGlobal)}(this,function(t,e,n,r,a,s,o){function c(t,e,n,i){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(e.disableAutoFetch=I.disableAutoFetch,e.disableStream=I.disableStream,e.chunkedViewerLoading=!!n,n&&(e.length=n.length,e.initialData=n.initialData),t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,source:e,disableRange:I.disableRange,maxImageSize:I.maxImageSize,cMapUrl:I.cMapUrl,cMapPacked:I.cMapPacked,disableFontFace:I.disableFontFace,disableCreateObjectURL:I.disableCreateObjectURL,verbosity:I.verbosity}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e}))}var l=e.InvalidPDFException,h=e.MessageHandler,u=e.MissingPDFException,d=e.PasswordResponses,f=e.PasswordException,p=e.StatTimer,g=e.UnexpectedResponseException,A=e.UnknownErrorException,m=e.Util,v=e.createPromiseCapability,b=e.combineUrl,y=e.error,S=e.deprecated,x=e.info,k=e.isArrayBuffer,C=e.loadJpegStream,_=e.stringToBytes,w=e.warn,T=n.FontFaceObject,P=n.FontLoader,L=r.CanvasGraphics,E=r.createScratchCanvas,R=a.Metadata,I=s.PDFJS,D=s.globalScope,j=65536,F=!1;"undefined"!=typeof module&&module.require&&(I.disableWorker=!0,"undefined"==typeof require.ensure&&(require.ensure=require("node-ensure")),F=!0),"undefined"!=typeof __webpack_require__&&(I.workerSrc=require("entry?name=[hash]-worker.js!./pdf.worker.js"),F=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(I.workerSrc=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var M=F?function(t){require.ensure([],function(){require("./pdf.worker.js"),t()})}:"undefined"!=typeof requirejs?function(t){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){t()})}:null;I.maxImageSize=void 0===I.maxImageSize?-1:I.maxImageSize,I.cMapUrl=void 0===I.cMapUrl?null:I.cMapUrl,I.cMapPacked=void 0===I.cMapPacked?!1:I.cMapPacked,I.disableFontFace=void 0===I.disableFontFace?!1:I.disableFontFace,I.imageResourcesPath=void 0===I.imageResourcesPath?"":I.imageResourcesPath,I.disableWorker=void 0===I.disableWorker?!1:I.disableWorker,I.workerSrc=void 0===I.workerSrc?null:I.workerSrc,I.disableRange=void 0===I.disableRange?!1:I.disableRange,I.disableStream=void 0===I.disableStream?!1:I.disableStream,I.disableAutoFetch=void 0===I.disableAutoFetch?!1:I.disableAutoFetch,I.pdfBug=void 0===I.pdfBug?!1:I.pdfBug,I.postMessageTransfers=void 0===I.postMessageTransfers?!0:I.postMessageTransfers,I.disableCreateObjectURL=void 0===I.disableCreateObjectURL?!1:I.disableCreateObjectURL,I.disableWebGL=void 0===I.disableWebGL?!0:I.disableWebGL,I.disableFullscreen=void 0===I.disableFullscreen?!1:I.disableFullscreen,I.useOnlyCssZoom=void 0===I.useOnlyCssZoom?!1:I.useOnlyCssZoom,I.verbosity=void 0===I.verbosity?I.VERBOSITY_LEVELS.warnings:I.verbosity,I.maxCanvasPixels=void 0===I.maxCanvasPixels?16777216:I.maxCanvasPixels,I.openExternalLinksInNewWindow=void 0===I.openExternalLinksInNewWindow?!1:I.openExternalLinksInNewWindow,I.externalLinkTarget=void 0===I.externalLinkTarget?I.LinkTarget.NONE:I.externalLinkTarget,I.externalLinkRel=void 0===I.externalLinkRel?"noreferrer":I.externalLinkRel,I.isEvalSupported=void 0===I.isEvalSupported?!0:I.isEvalSupported,I.getDocument=function(t,e,n,i){var r=new O;arguments.length>1&&S("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),e&&(e instanceof N||(e=Object.create(e),e.length=t.length,e.initialData=t.initialData,e.abort||(e.abort=function(){})),t=Object.create(t),t.range=e),r.onPassword=n||null,r.onProgress=i||null;var a;"string"==typeof t?a={url:t}:k(t)?a={data:t}:t instanceof N?a={range:t}:("object"!=typeof t&&y("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),t.url||t.data||t.range||y("Invalid parameter object: need either .data, .range or .url"),a=t);var s={},o=null,l=null;for(var u in a)if("url"!==u||"undefined"==typeof window)if("range"!==u)if("worker"!==u)if("data"!==u||a[u]instanceof Uint8Array)s[u]=a[u];else{var d=a[u];"string"==typeof d?s[u]=_(d):"object"!=typeof d||null===d||isNaN(d.length)?k(d)?s[u]=new Uint8Array(d):y("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."):s[u]=new Uint8Array(d)}else l=a[u];else o=a[u];else s[u]=b(window.location.href,a[u]);s.rangeChunkSize=s.rangeChunkSize||j,l||(l=new W,r._worker=l);var f=r.docId;return l.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");return c(l,s,o,f).then(function(t){if(r.destroyed)throw new Error("Loading aborted");var e=new h(f,t,l.port);e.send("Ready",null);var n=new G(e,r,o);r._transport=n})})["catch"](r._capability.reject),r};var O=function(){function t(){this._capability=v(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var e=0;return t.prototype={get promise(){return this._capability.promise},destroy:function(){this.destroyed=!0;var t=this._transport?this._transport.destroy():Promise.resolve();return t.then(function(){this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}.bind(this))},then:function(t,e){return this.promise.then.apply(this.promise,arguments)}},t}(),N=function(){function t(t,e){this.length=t,this.initialData=e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=v()}return t.prototype={addRangeListener:function(t){this._rangeListeners.push(t)},addProgressListener:function(t){this._progressListeners.push(t)},addProgressiveReadListener:function(t){this._progressiveReadListeners.push(t)},onDataRange:function(t,e){for(var n=this._rangeListeners,i=0,r=n.length;r>i;++i)n[i](t,e)},onDataProgress:function(t){this._readyCapability.promise.then(function(){for(var e=this._progressListeners,n=0,i=e.length;i>n;++n)e[n](t)}.bind(this))},onDataProgressiveRead:function(t){this._readyCapability.promise.then(function(){for(var e=this._progressiveReadListeners,n=0,i=e.length;i>n;++n)e[n](t)}.bind(this))},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(t,e){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},t}();I.PDFDataRangeTransport=N;var U=function(){function t(t,e,n){this.pdfInfo=t,this.transport=e,this.loadingTask=n}return t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(t){return this.transport.getPage(t)},getPageIndex:function(t){return this.transport.getPageIndex(t)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(t){return this.transport.getDestination(t)},getPageLabels:function(){return this.transport.getPageLabels()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},t}(),B=function(){function t(t,e,n){this.pageIndex=t,this.pageInfo=e,this.transport=n,this.stats=new p,this.stats.enabled=!!D.PDFJS.enableStats,this.commonObjs=n.commonObjs,this.objs=new X,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates={},this.destroyed=!1}return t.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,e){return arguments.length<2&&(e=this.rotate),new I.PageViewport(this.view,t,e,0,0)},getAnnotations:function(t){var e=t&&t.intent||null;return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,e),this.annotationsIntent=e),this.annotationsPromise},render:function(t){function e(t){var e=r.renderTasks.indexOf(a);e>=0&&r.renderTasks.splice(e,1),o.cleanupAfterRender&&(o.pendingCleanup=!0),o._tryCleanup(),t?a.capability.reject(t):a.capability.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var n=this.stats;n.time("Overall"),this.pendingCleanup=!1;var i="print"===t.intent?"print":"display";this.intentStates[i]||(this.intentStates[i]={});var r=this.intentStates[i];r.displayReadyCapability||(r.receivingOperatorList=!0,r.displayReadyCapability=v(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:i}));var a=new Y(e,t,this.objs,this.commonObjs,r.operatorList,this.pageNumber);a.useRequestAnimationFrame="print"!==i,r.renderTasks||(r.renderTasks=[]),r.renderTasks.push(a);var s=a.task;t.continueCallback&&(S("render is used with continueCallback parameter"),s.onContinue=t.continueCallback);var o=this;return r.displayReadyCapability.promise.then(function(t){return o.pendingCleanup?void e():(n.time("Rendering"),a.initalizeGraphics(t),void a.operatorListChanged())},function(t){e(t)}),s},getOperatorList:function(){function t(){n.operatorList.lastChunk&&n.opListReadCapability.resolve(n.operatorList)}var e="oplist";this.intentStates[e]||(this.intentStates[e]={});var n=this.intentStates[e];if(!n.opListReadCapability){var i={};i.operatorListChanged=t,n.receivingOperatorList=!0,n.opListReadCapability=v(),n.renderTasks=[],n.renderTasks.push(i),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:e})}return n.opListReadCapability.promise},getTextContent:function(t){var e=t&&t.normalizeWhitespace||!1;return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:e})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach(function(e){var n=this.intentStates[e];n.renderTasks.forEach(function(e){var n=e.capability.promise["catch"](function(){});t.push(n),e.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)},destroy:function(){S("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(t){var e=this.intentStates[t];return 0!==e.renderTasks.length||e.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(t){delete this.intentStates[t]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(t,e){var n=this.intentStates[e];n.displayReadyCapability&&n.displayReadyCapability.resolve(t)},_renderPageChunk:function(t,e){var n,i,r=this.intentStates[e];for(n=0,i=t.length;i>n;n++)r.operatorList.fnArray.push(t.fnArray[n]),r.operatorList.argsArray.push(t.argsArray[n]);for(r.operatorList.lastChunk=t.lastChunk,n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t.lastChunk&&(r.receivingOperatorList=!1,this._tryCleanup())}},t}(),W=function(){function t(){return I.workerSrc?I.workerSrc:i?i.replace(/\.js$/i,".worker.js"):void y("No PDFJS.workerSrc specified")}function e(){if(!I.fakeWorkerFilesLoadedCapability){I.fakeWorkerFilesLoadedCapability=v();var e=M||function(e){m.loadScript(t(),e)};e(function(){I.fakeWorkerFilesLoadedCapability.resolve()})}return I.fakeWorkerFilesLoadedCapability.promise}function n(t){this.name=t,this.destroyed=!1,this._readyCapability=v(),this._port=null,this._webWorker=null,this._messageHandler=null,this._initialize()}var r=0;return n.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initialize:function(){if(!D.PDFJS.disableWorker&&"undefined"!=typeof Worker){var e=t();try{var n=new Worker(e),i=new h("main","worker",n);i.on("test",function(t){if(this.destroyed)return this._readyCapability.reject(new Error("Worker was destroyed")),i.destroy(),void n.terminate();var e=t&&t.supportTypedArray;e?(this._messageHandler=i,this._port=n,this._webWorker=n,t.supportTransfers||(I.postMessageTransfers=!1),this._readyCapability.resolve()):(this._setupFakeWorker(),i.destroy(),n.terminate())}.bind(this)),i.on("console_log",function(t){console.log.apply(console,t)}),i.on("console_error",function(t){console.error.apply(console,t)}),i.on("ready",function(t){if(this.destroyed)return this._readyCapability.reject(new Error("Worker was destroyed")),i.destroy(),void n.terminate();try{r()}catch(e){this._setupFakeWorker()}}.bind(this));var r=function(){var t=new Uint8Array([I.postMessageTransfers?255:0]);try{i.send("test",t,[t.buffer])}catch(e){x("Cannot use postMessage transfers"),t[0]=0,i.send("test",t)}};return void r()}catch(a){x("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){D.PDFJS.disableWorker||(w("Setting up fake worker."),D.PDFJS.disableWorker=!0),e().then(function(){if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));var t={_listeners:[],postMessage:function(t){var e={data:t};this._listeners.forEach(function(t){t.call(this,e)},this)},addEventListener:function(t,e){this._listeners.push(e)},removeEventListener:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)},terminate:function(){}};this._port=t;var e="fake"+r++,n=new h(e+"_worker",e,t);I.WorkerMessageHandler.setup(n,t);var i=new h(e,e+"_worker",t);this._messageHandler=i,this._readyCapability.resolve()}.bind(this))},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},n}();I.PDFWorker=W;var G=function(){function t(t,e,n){this.messageHandler=t,this.loadingTask=e,this.pdfDataRangeTransport=n,this.commonObjs=new X,this.fontLoader=new P(e.docId),this.destroyed=!1,this.destroyCapability=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=v(),this.setupMessageHandler()}return t.prototype={destroy:function(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=v();var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var e=this,n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(function(){e.fontLoader.clear(),e.pdfDataRangeTransport&&(e.pdfDataRangeTransport.abort(),e.pdfDataRangeTransport=null),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){function t(t){e.send("UpdatePassword",t)}var e=this.messageHandler,n=this.pdfDataRangeTransport;n&&(n.addRangeListener(function(t,n){e.send("OnDataRange",{begin:t,chunk:n})}),n.addProgressListener(function(t){e.send("OnDataProgress",{loaded:t})}),n.addProgressiveReadListener(function(t){e.send("OnDataRange",{chunk:t})}),e.on("RequestDataRange",function(t){n.requestDataRange(t.begin,t.end)},this)),e.on("GetDoc",function(t){var e=t.pdfInfo;this.numPages=t.pdfInfo.numPages;var n=this.loadingTask,i=new U(e,this,n);this.pdfDocument=i,n._capability.resolve(i)},this),e.on("NeedPassword",function(e){var n=this.loadingTask;return n.onPassword?n.onPassword(t,d.NEED_PASSWORD):void n._capability.reject(new f(e.message,e.code))},this),e.on("IncorrectPassword",function(e){var n=this.loadingTask;return n.onPassword?n.onPassword(t,d.INCORRECT_PASSWORD):void n._capability.reject(new f(e.message,e.code))},this),e.on("InvalidPDF",function(t){this.loadingTask._capability.reject(new l(t.message))},this),e.on("MissingPDF",function(t){this.loadingTask._capability.reject(new u(t.message))},this),e.on("UnexpectedResponse",function(t){this.loadingTask._capability.reject(new g(t.message,t.status))},this),e.on("UnknownError",function(t){this.loadingTask._capability.reject(new A(t.message,t.details))},this),e.on("DataLoaded",function(t){this.downloadInfoCapability.resolve(t)},this),e.on("PDFManagerReady",function(t){this.pdfDataRangeTransport&&this.pdfDataRangeTransport.transportReady()},this),e.on("StartRenderPage",function(t){if(!this.destroyed){var e=this.pageCache[t.pageIndex];e.stats.timeEnd("Page Request"),e._startRenderPage(t.transparency,t.intent)}},this),e.on("RenderPageChunk",function(t){if(!this.destroyed){var e=this.pageCache[t.pageIndex];e._renderPageChunk(t.operatorList,t.intent)}},this),e.on("commonobj",function(t){if(!this.destroyed){var e=t[0],n=t[1];if(!this.commonObjs.hasData(e))switch(n){case"Font":var i,r=t[2];if("error"in r){var a=r.error;w("Error during font loading: "+a),this.commonObjs.resolve(e,a);break}i=new T(r),this.fontLoader.bind([i],function(t){this.commonObjs.resolve(e,i)}.bind(this));break;case"FontPath":this.commonObjs.resolve(e,t[2]);break;default:a("Got unknown common object type "+n)}}},this),e.on("obj",function(t){if(!this.destroyed){var e,n=t[0],i=t[1],r=t[2],a=this.pageCache[i];if(!a.objs.hasData(n))switch(r){case"JpegStream":e=t[3],C(n,e,a.objs);break;case"Image":e=t[3],a.objs.resolve(n,e);var s=8e6;e&&"data"in e&&e.data.length>s&&(a.cleanupAfterRender=!0);break;default:y("Got unknown object type "+r)}}},this),e.on("DocProgress",function(t){if(!this.destroyed){var e=this.loadingTask;e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}},this),e.on("PageError",function(t){if(!this.destroyed){var e=this.pageCache[t.pageNum-1],n=e.intentStates[t.intent];n.displayReadyCapability?n.displayReadyCapability.reject(t.error):y(t.error)}},this),e.on("UnsupportedFeature",function(t){if(!this.destroyed){var e=t.featureId,n=this.loadingTask;n.onUnsupportedFeature&&n.onUnsupportedFeature(e),I.UnsupportedManager.notify(e)}},this),e.on("JpegDecode",function(t){if(this.destroyed)return Promise.reject("Worker was terminated");var e=t[0],n=t[1];return 3!==n&&1!==n?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(t,i){var r=new Image;r.onload=function(){var e=r.width,i=r.height,a=e*i,s=4*a,o=new Uint8Array(a*n),c=E(e,i),l=c.getContext("2d");l.drawImage(r,0,0);var h,u,d=l.getImageData(0,0,e,i).data;if(3===n)for(h=0,u=0;s>h;h+=4,u+=3)o[u]=d[h],o[u+1]=d[h+1],o[u+2]=d[h+2];else if(1===n)for(h=0,u=0;s>h;h+=4,u++)o[u]=d[h];t({data:o,width:e,height:i})},r.onerror=function(){i(new Error("JpegDecode failed to load image"))},r.src=e})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(t,e){if(0>=t||t>this.numPages||(0|t)!==t)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(t){if(this.destroyed)throw new Error("Transport destroyed");var e=new B(n,t,this);return this.pageCache[n]=e,e}.bind(this));return this.pagePromises[n]=i,i},getPageIndex:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})},getAnnotations:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(t){return this.messageHandler.sendWithPromise("GetDestination",{
id:t})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){return{info:t[0],metadata:t[1]?new R(t[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,e=this.pageCache.length;e>t;t++){var n=this.pageCache[t];n&&n.cleanup()}this.commonObjs.clear(),this.fontLoader.clear()}.bind(this))}},t}(),X=function(){function t(){this.objs={}}return t.prototype={ensureObj:function(t){if(this.objs[t])return this.objs[t];var e={capability:v(),data:null,resolved:!1};return this.objs[t]=e,e},get:function(t,e){if(e)return this.ensureObj(t).capability.promise.then(e),null;var n=this.objs[t];return n&&n.resolved||y("Requesting object that isn't resolved yet "+t),n.data},resolve:function(t,e){var n=this.ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)},isResolved:function(t){var e=this.objs;return e[t]?e[t].resolved:!1},hasData:function(t){return this.isResolved(t)},getData:function(t){var e=this.objs;return e[t]&&e[t].resolved?e[t].data:null},clear:function(){this.objs={}}},t}(),z=function(){function t(t){this._internalRenderTask=t,this.onContinue=null}return t.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(t,e){return this.promise.then.apply(this.promise,arguments)}},t}(),Y=function(){function t(t,e,n,i,r,a){this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=r,this.pageNumber=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=v(),this.task=new z(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this)}return t.prototype={initalizeGraphics:function(t){if(!this.cancelled){I.pdfBug&&"StepperManager"in D&&D.StepperManager.enabled&&(this.stepper=D.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var e=this.params;this.gfx=new L(e.canvasContext,this.commonObjs,this.objs,e.imageLayer),this.gfx.beginDrawing(e.transform,e.viewport,t),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue.call(this.task,this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},t}();I.UnsupportedManager=function(){var t=[];return{listen:function(e){S("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),t.push(e)},notify:function(e){for(var n=0,i=t.length;i>n;n++)t[n](e)}}}(),t.getDocument=I.getDocument,t.PDFDataRangeTransport=N,t.PDFDocumentProxy=U,t.PDFPageProxy=B})}).call(r),t.PDFJS=r.pdfjsSharedGlobal.PDFJS,t.getDocument=r.pdfjsDisplayAPI.getDocument,t.PDFDataRangeTransport=r.pdfjsDisplayAPI.PDFDataRangeTransport,t.renderTextLayer=r.pdfjsDisplayTextLayer.renderTextLayer,t.AnnotationLayer=r.pdfjsDisplayAnnotationLayer.AnnotationLayer,t.CustomStyle=r.pdfjsDisplayDOMUtils.CustomStyle,t.PasswordResponses=r.pdfjsSharedUtil.PasswordResponses,t.InvalidPDFException=r.pdfjsSharedUtil.InvalidPDFException,t.MissingPDFException=r.pdfjsSharedUtil.MissingPDFException,t.UnexpectedResponseException=r.pdfjsSharedUtil.UnexpectedResponseException});

"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){function e(e,t){return new n(this.slice(e,t))}function t(e,t){arguments.length<2&&(t=0)
for(var n=0,r=e.length;r>n;++n,++t)this[t]=255&e[n]}function n(n){var r,i,o
if("number"==typeof n)for(r=[],i=0;n>i;++i)r[i]=0
else if("slice"in n)r=n.slice(0)
else for(r=[],i=0,o=n.length;o>i;++i)r[i]=n[i]
return r.subarray=e,r.buffer=r,r.byteLength=r.length,r.set=t,"object"==typeof n&&n.buffer&&(r.buffer=n.buffer),r}return"undefined"!=typeof Uint8Array?(void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),void("undefined"==typeof Float64Array&&(window.Float64Array=Float32Array))):(window.Uint8Array=n,window.Int8Array=n,window.Uint32Array=n,window.Int32Array=n,window.Uint16Array=n,window.Float32Array=n,void(window.Float64Array=n))}(),function(){window.URL||(window.URL=window.webkitURL)}(),function(){if(void 0!==Object.defineProperty){var e=!0
try{Object.defineProperty(new Image,"id",{value:"test"})
var t=function(){}
t.prototype={get id(){}},Object.defineProperty(new t,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(n){e=!1}if(e)return}Object.defineProperty=function(e,t,n){delete e[t],"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),"value"in n&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=n.value)}}(),function(){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest
return"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(e){}}),"responseType"in t?void 0:(PDFJS.disableWorker=!0,Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){("text"===e||"arraybuffer"===e)&&(this._responseType=e,"arraybuffer"===e&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?void Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}):void Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText
var e,t=this.responseText,n=t.length,r=new Uint8Array(n)
for(e=0;n>e;++e)r[e]=255&t.charCodeAt(e)
return r.buffer}}))}(),function(){if(!("btoa"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
window.btoa=function(t){var n,r,i=""
for(n=0,r=t.length;r>n;n+=3){var o=255&t.charCodeAt(n),a=255&t.charCodeAt(n+1),s=255&t.charCodeAt(n+2),u=o>>2,c=(3&o)<<4|a>>4,f=r>n+1?(15&a)<<2|s>>6:64,d=r>n+2?63&s:64
i+=e.charAt(u)+e.charAt(c)+e.charAt(f)+e.charAt(d)}return i}}}(),function(){if(!("atob"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
window.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4===1)throw Error("bad atob input")
for(var n,r,i=0,o=0,a="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r=e.indexOf(r)
return a}}}(),function(){void 0===Function.prototype.bind&&(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r=function(){var r=n.concat(Array.prototype.slice.call(arguments))
return t.apply(e,r)}
return r})}(),function(){var e=document.createElement("div")
"dataset"in e||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset
for(var e={},t=0,n=this.attributes.length;n>t;t++){var r=this.attributes[t]
if("data-"===r.name.substring(0,5)){var i=r.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})
e[i]=r.value}}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}(),function(){function e(e,t,n,r){var i=e.className||"",o=i.split(/\s+/g)
""===o[0]&&o.shift()
var a=o.indexOf(t)
return 0>a&&n&&o.push(t),a>=0&&r&&o.splice(a,1),e.className=o.join(" "),a>=0}var t=document.createElement("div")
if(!("classList"in t)){var n={add:function(t){e(this.element,t,!0,!1)},contains:function(t){return e(this.element,t,!1,!1)},remove:function(t){e(this.element,t,!1,!0)},toggle:function(t){e(this.element,t,!0,!0)}}
Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList
var e=Object.create(n,{element:{value:this,writable:!1,enumerable:!0}})
return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){"console"in window?"bind"in console.log||(console.log=function(e){return function(t){return e(t)}}(console.log),console.error=function(e){return function(t){return e(t)}}(console.error),console.warn=function(e){return function(t){return e(t)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}}}(),function(){function e(e){t(e.target)&&e.stopPropagation()}function t(e){return e.disabled||e.parentNode&&t(e.parentNode)}-1!==navigator.userAgent.indexOf("Opera")&&document.addEventListener("click",e,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")}(),function(){var e=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t=/Android\s[0-2][^\d]/,n=t.test(navigator.userAgent),r=/Chrome\/(39|40)\./.test(navigator.userAgent);(e||n||r)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){(!history.pushState||navigator.userAgent.indexOf("Android 2.")>=0)&&(PDFJS.disableHistory=!0)}(),function(){if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,n=this.length;n>t;t++)this[t]=e[t]})
else{var e,t=!1
if(navigator.userAgent.indexOf("Chrom")>=0?(e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=e&&parseInt(e[2])<21):navigator.userAgent.indexOf("Android")>=0?t=/Android\s[0-4][^\d]/g.test(navigator.userAgent):navigator.userAgent.indexOf("Safari")>=0&&(e=navigator.userAgent.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),t=e&&parseInt(e[1])<6),t){var n=window.CanvasRenderingContext2D.prototype,r=n.createImageData
n.createImageData=function(e,t){var n=r.call(this,e,t)
return n.data.set=function(e){for(var t=0,n=this.length;n>t;t++)this[t]=e[t]},n},n=null}}}(),function(){function e(e){window.setTimeout(e,20)}var t=/(iPad|iPhone|iPod)/g.test(navigator.userAgent)
return t?void(window.requestAnimationFrame=e):void("requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e))}(),function(){var e=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),t=/Android/g.test(navigator.userAgent);(e||t)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){var e=navigator.userAgent.indexOf("Trident")>=0&&window.parent!==window
e&&(PDFJS.disableFullscreen=!0)}(),function(){"currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script")
return e[e.length-1]},enumerable:!0,configurable:!0})}()
;(function($){$(document).ready(function(){(function run(){var books=$(".real3dflipbook");if(books.length==0){setTimeout(function(){run();},1000);}else{$.each(books,function(){var id=$(this).attr('id')
var options=window['real3dflipbook_'+id]
var json_str=options.replace(/&quot;/g,'"');json_str=json_str.replace(//g,'"');json_str=json_str.replace(//g,'"');json_str=json_str.replace(//g,'"');json_str=json_str.replace(//g,'"');json_str=json_str.replace(/&nbsp;/g,'"');json_str=json_str.replace(/&nbsp;/g,'"');options=jQuery.parseJSON(json_str);options.assets={preloader:options.rootFolder+"images/preloader.jpg",left:options.rootFolder+"images/left.png",overlay:options.rootFolder+"images/overlay.jpg",flipMp3:options.rootFolder+"mp3/turnPage.mp3",shadowPng:options.rootFolder+"images/shadow.png"};options.pdfjsworkerSrc=options.rootFolder+'js/pdf.worker.min.js'
function convertStrings(obj){$.each(obj,function(key,value){if(typeof(value)=='object'||typeof(value)=='array'){convertStrings(value)}else if(!isNaN(value)){if(obj[key]==="")
delete obj[key]
else
obj[key]=Number(value)}else if(value=="true"){obj[key]=true}else if(value=="false"){obj[key]=false}});}
convertStrings(options)
for(var i=0;i<options.pages.length;i++){if(typeof(options.pages[i].htmlContent)!='undefined'&&options.pages[i].htmlContent!=""&&options.pages[i].htmlContent!="undefined")
options.pages[i].htmlContent=unescape(options.pages[i].htmlContent)
else
delete options.pages[i].htmlContent}
options.social=[];if(options.facebook=="")delete options.facebook
if(options.twitter=="")delete options.twitter
if(options.google_plus=="")delete options.google_plus
if(options.pinterest=="")delete options.pinterest
if(options.email=="")delete options.email
if(options.pageWidth=="")delete options.pageWidth
if(options.pageHeight=="")delete options.pageHeight
if(typeof(options.btnShare)=='undefined'||!options.btnShare)options.btnShare={enabled:false}
if(typeof(options.btnNext)=='undefined'||!options.btnNext)options.btnNext={enabled:false}
if(typeof(options.btnPrev)=='undefined'||!options.btnPrev)options.btnPrev={enabled:false}
if(typeof(options.btnZoomIn)=='undefined'||!options.btnZoomIn)options.btnZoomIn={enabled:false}
if(typeof(options.btnZoomOut)=='undefined'||!options.btnZoomOut)options.btnZoomOut={enabled:false}
if(typeof(options.btnToc)=='undefined'||!options.btnToc)options.btnToc={enabled:false}
if(typeof(options.btnThumbs)=='undefined'||!options.btnThumbs)options.btnThumbs={enabled:false}
if(typeof(options.btnDownloadPages)=='undefined'||!options.btnDownloadPages)options.btnDownloadPages={enabled:false}
if(typeof(options.btnDownloadPdf)=='undefined'||!options.btnDownloadPdf)options.btnDownloadPdf={enabled:false}
if(typeof(options.btnExpand)=='undefined'||!options.btnExpand)options.btnExpand={enabled:false}
if(typeof(options.btnExpandLightbox)=='undefined'||!options.btnExpandLightbox)options.btnExpandLightbox={enabled:false}
if(typeof(options.btnSound)=='undefined'||!options.btnSound)options.btnSound={enabled:false}
if(typeof(options.btnShare.icon)=='undefined'||options.btnShare.icon=='')options.btnShare.icon="fa-share";if(typeof(options.btnShare.title)=='undefined'||options.btnShare.title=='')options.btnShare.title="Share";if(typeof(options.btnNext.icon)=='undefined'||options.btnNext.icon=='')options.btnNext.icon="fa-chevron-right";if(typeof(options.btnNext.title)=='undefined'||options.btnNext.title=='')options.btnNext.title="Next page";if(typeof(options.btnPrev.icon)=='undefined'||options.btnPrev.icon=='')options.btnPrev.icon="fa-chevron-left";if(typeof(options.btnPrev.title)=='undefined'||options.btnPrev.title=='')options.btnPrev.title="Previous page";if(typeof(options.btnZoomIn.icon)=='undefined'||options.btnZoomIn.icon=='')options.btnZoomIn.icon="fa-plus";if(typeof(options.btnZoomIn.title)=='undefined'||options.btnZoomIn.title=='')options.btnZoomIn.title="Zoom in";if(typeof(options.btnZoomOut.icon)=='undefined'||options.btnZoomOut.icon=='')options.btnZoomOut.icon="fa-minus";if(typeof(options.btnZoomOut.title)=='undefined'||options.btnZoomOut.title=='')options.btnZoomOut.title="Zoom out";if(typeof(options.btnToc.icon)=='undefined'||options.btnToc.icon=='')options.btnToc.icon="fa-list-ol";if(typeof(options.btnToc.title)=='undefined'||options.btnToc.title=='')options.btnToc.title="Table of content";if(typeof(options.btnThumbs.icon)=='undefined'||options.btnThumbs.icon=='')options.btnThumbs.icon="fa-th-large";if(typeof(options.btnThumbs.title)=='undefined'||options.btnThumbs.title=='')options.btnThumbs.title="Pages";if(typeof(options.btnDownloadPages.icon)=='undefined'||options.btnDownloadPages.icon=='')options.btnDownloadPages.icon="fa-download";if(typeof(options.btnDownloadPages.title)=='undefined'||options.btnDownloadPages.title=='')options.btnDownloadPages.title="Download pages";if(typeof(options.btnDownloadPdf.icon)=='undefined'||options.btnDownloadPdf.icon=='')options.btnDownloadPdf.icon="fa-file";if(typeof(options.btnDownloadPdf.title)=='undefined'||options.btnDownloadPdf.title=='')options.btnDownloadPdf.title="Download PDF";if(typeof(options.btnExpand.icon)=='undefined'||options.btnExpand.icon=='')options.btnExpand.icon="fa-expand";if(typeof(options.btnExpand.iconAlt)=='undefined'||options.btnExpand.iconAlt=='')options.btnExpand.iconAlt="fa-compress";if(typeof(options.btnExpand.title)=='undefined'||options.btnExpand.title=='')options.btnExpand.title="Toggle fullscreen";if(typeof(options.btnExpandLightbox.icon)=='undefined'||options.btnExpandLightbox.icon=='')options.btnExpandLightbox.icon="fa-expand";if(typeof(options.btnExpandLightbox.iconAlt)=='undefined'||options.btnExpandLightbox.iconAlt=='')options.btnExpandLightbox.iconAlt="fa-compress";if(typeof(options.btnExpandLightbox.title)=='undefined'||options.btnExpandLightbox.title=='')options.btnExpandLightbox.title="Toggle fullscreen";if(typeof(options.btnSound.icon)=='undefined'||options.btnSound.icon=='')options.btnSound.icon="fa-volume-up";if(typeof(options.btnSound.title)=='undefined'||options.btnSound.title=='')options.btnSound.title="Sound";if(typeof(options.viewMode)=='undefined')
options.viewMode="webgl"
if(options.btnDownloadPages.url){options.btnDownloadPages.url=options.btnDownloadPages.url.replace(/\\/g,'/')
options.btnDownloadPages.enabled=true}else
options.btnDownloadPages.enabled=false
if(options.btnDownloadPdf.url){options.btnDownloadPdf.url=options.btnDownloadPdf.url.replace(/\\/g,'/')
options.btnDownloadPdf.enabled=true}else
options.btnDownloadPdf.enabled=false
var bookContainer=$(this);if(bookContainer.attr('data-pdf')&&bookContainer.attr('data-pdf')!=""){options.type='pdf'
options.pdfUrl=bookContainer.attr('data-pdf')}
if(options.type=='pdf')
options.pages=[]
switch(options.mode){case"normal":var containerClass=bookContainer.attr("class")
var containerId=bookContainer.attr("id")
bookContainer.removeClass(containerClass).addClass(containerClass+"-"+containerId)
options.lightBox=false;bookContainer.css("position","relative").css("display","block").css("height",String(options.height)+"px")
bookContainer.flipBook(options);if(typeof(options.responsiveHeight)!='undefined'&&options.responsiveHeight){window.onresize=function(event){resizeHeight()};function resizeHeight(){if(bookContainer.width()>0)
bookContainer.css("height",String(bookContainer.width()/options.aspectRatio)+"px")}
resizeHeight();}else if(options.fitToWindow){window.onresize=function(event){fitToWindow()};function fitToWindow(){bookContainer.css("width",String($(window).width())+"px");bookContainer.css("height",String($(window).height())+"px");}
fitToWindow();}else if(options.fitToParent){window.onresize=function(event){fitToParent()};function fitToParent(){var parent=findParent(bookContainer);bookContainer.css("width",String(parent.width())+"px")
bookContainer.css("height",String(parent.height())+"px")
function findParent(elem){if(elem.parent().width()>0&&elem.parent().height()>0)
return elem.parent()
else
return findParent(elem.parent())}}
fitToParent();}else if(options.fitToHeight){window.onresize=function(event){fitToHeight()};function fitToHeight(){if($(window).height()<options.height+bookContainer.offset().top)
bookContainer.css("height",String($(window).height()-bookContainer.offset().top)+"px")
else
bookContainer.css("height",String(options.height)+"px")}
fitToHeight();}
break;case"lightbox":bookContainer.css("display","inline")
options.lightBox=true;var containerClass="real3dflipbook-"+bookContainer.attr("id")
if(options.lightboxCssClass!=""){if($("."+options.lightboxCssClass).length>0)
$("."+options.lightboxCssClass).addClass(containerClass)}
if(options.lightboxThumbnailUrl||options.lightboxText){var holder=$("<div class='"+containerClass+"'>")
holder.attr('style',options.lightboxContainerCSS)
bookContainer.before(holder)
bookContainer.remove();if(options.lightboxThumbnailUrl!=""){var thumb=$('<img></img>').attr('src',options.lightboxThumbnailUrl).appendTo(holder)
thumb.attr('style',options.lightboxThumbnailUrlCSS)}
if(options.lightboxText!=""){var link=$('<a/>').text(options.lightboxText)
if(options.lightboxTextPosition=='top')
link.prependTo(holder)
else
link.appendTo(holder)
link.attr('style',options.lightboxTextCSS)}}
$("."+containerClass).flipBook(options);break;case"fullscreen":options.lightBox=false;var elem='body'
bookContainer.appendTo(elem).css("position","fixed").css("bottom","0").css("left","0").css("right","0").css('top',options.offsetTop+'px').css('z-index',options.zIndex||'2147483647');bookContainer.flipBook(options);$('body').css('overflow','hidden');if(options.menuSelector){var $menu=$(options.menuSelector)
bookContainer.css('top',$menu.height()+'px')
window.onresize=function(event){bookContainer.css('top',$menu.height()+'px')};}
break;}})}})();});}(jQuery));